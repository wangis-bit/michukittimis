(self.webpackChunkmichukittimis=self.webpackChunkmichukittimis||[]).push([[179],{4283:(Xn,Vt,A)=>{"use strict";A.d(Vt,{ww:()=>Ee,Qv:()=>Pe});var d=A(5e3),_=A(7579),e=A(9646),ee=A(8306),W=A(8996),xe=A(6451),pe=A(6063);class ze extends _.x{constructor(Xe=1/0,st=1/0,sn=pe.l){super(),this._bufferSize=Xe,this._windowTime=st,this._timestampProvider=sn,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=st===1/0,this._bufferSize=Math.max(1,Xe),this._windowTime=Math.max(1,st)}next(Xe){const{isStopped:st,_buffer:sn,_infiniteTimeWindow:fn,_timestampProvider:wn,_windowTime:mn}=this;st||(sn.push(Xe),!fn&&sn.push(wn.now()+mn)),this._trimBuffer(),super.next(Xe)}_subscribe(Xe){this._throwIfClosed(),this._trimBuffer();const st=this._innerSubscribe(Xe),{_infiniteTimeWindow:sn,_buffer:fn}=this,wn=fn.slice();for(let mn=0;mn<wn.length&&!Xe.closed;mn+=sn?1:2)Xe.next(wn[mn]);return this._checkFinalizedStatuses(Xe),st}_trimBuffer(){const{_bufferSize:Xe,_timestampProvider:st,_buffer:sn,_infiniteTimeWindow:fn}=this,wn=(fn?1:2)*Xe;if(Xe<1/0&&wn<sn.length&&sn.splice(0,sn.length-wn),!fn){const mn=st.now();let bn=0;for(let zt=1;zt<sn.length&&sn[zt]<=mn;zt+=2)bn=zt;bn&&sn.splice(0,bn+1)}}}var Ve=A(3099);function Q(Ye,Xe,st){let sn,fn=!1;return Ye&&"object"==typeof Ye?({bufferSize:sn=1/0,windowTime:Xe=1/0,refCount:fn=!1,scheduler:st}=Ye):sn=null!=Ye?Ye:1/0,(0,Ve.B)({connector:()=>new ze(sn,Xe,st),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:fn})}var qe=A(3900),je=A(576);function at(Ye,Xe){return(0,je.m)(Xe)?(0,qe.w)(()=>Ye,Xe):(0,qe.w)(()=>Ye)}var ke=A(5363),Ke=A(4004),dt=A(590),it=A(9468),Dt=A(9300),Tt=A(2816),hn=A(9808);const Pe=new d.OlP("angularfire2.auth.use-emulator"),te=new d.OlP("angularfire2.auth.settings"),Qe=new d.OlP("angularfire2.auth.tenant-id"),Mt=new d.OlP("angularfire2.auth.langugage-code"),bt=new d.OlP("angularfire2.auth.use-device-language"),tt=new d.OlP("angularfire.auth.persistence");let Ze=(()=>{class Ye{constructor(st,sn,fn,wn,mn,bn,zt,qt,Kt,Ht){const _n=new Tt.HU(wn),an=(0,Tt.ss)(_n),Vn=new _.x,di=(0,e.of)(void 0).pipe((0,ke.Q)(_n.outsideAngular),(0,qe.w)(()=>wn.runOutsideAngular(()=>A.e(304).then(A.bind(A,8304)))),(0,Ke.U)(()=>(0,Tt.on)(st,wn,sn)),(0,Ke.U)(Pn=>wn.runOutsideAngular(()=>{const jn=mn,wt=bn;return(0,Tt.sI)(`${Pn.name}.auth`,"AngularFireAuth",Pn,()=>{const cn=wn.runOutsideAngular(()=>Pn.auth());if(jn&&cn.useEmulator(`http://${jn.join(":")}`),zt&&(cn.tenantId=zt),cn.languageCode=qt,Kt&&cn.useDeviceLanguage(),wt)for(const[Gn,$n]of Object.entries(wt))cn.settings[Gn]=$n;return Ht&&cn.setPersistence(Ht),cn},[jn,zt,qt,Kt,wt,Ht])})),Q({bufferSize:1,refCount:!1}));if((0,hn.PM)(fn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,e.of)(null);else{di.pipe((0,dt.P)()).subscribe();const jn=di.pipe((0,qe.w)($n=>$n.getRedirectResult().then(Vi=>Vi,()=>null)),an,Q({bufferSize:1,refCount:!1})),wt=$n=>new ee.y(Vi=>({unsubscribe:wn.runOutsideAngular(()=>$n(Vi))})),cn=di.pipe((0,qe.w)($n=>wt($n.onAuthStateChanged.bind($n)))),Gn=di.pipe((0,qe.w)($n=>wt($n.onIdTokenChanged.bind($n))));this.authState=jn.pipe(at(cn),(0,it.R)(_n.outsideAngular),(0,ke.Q)(_n.insideAngular)),this.user=jn.pipe(at(Gn),(0,it.R)(_n.outsideAngular),(0,ke.Q)(_n.insideAngular)),this.idToken=this.user.pipe((0,qe.w)($n=>$n?(0,W.D)($n.getIdToken()):(0,e.of)(null))),this.idTokenResult=this.user.pipe((0,qe.w)($n=>$n?(0,W.D)($n.getIdTokenResult()):(0,e.of)(null))),this.credential=(0,xe.T)(jn,Vn,this.authState.pipe((0,Dt.h)($n=>!$n))).pipe((0,Ke.U)($n=>(null==$n?void 0:$n.user)?$n:null),(0,it.R)(_n.outsideAngular),(0,ke.Q)(_n.insideAngular))}return(0,Tt.pX)(this,di,wn,{spy:{apply:(Pn,jn,wt)=>{(Pn.startsWith("signIn")||Pn.startsWith("createUser"))&&wt.then(cn=>Vn.next(cn))}}})}}return Ye.\u0275fac=function(st){return new(st||Ye)(d.LFG(Tt.Dh),d.LFG(Tt.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Pe,8),d.LFG(te,8),d.LFG(Qe,8),d.LFG(Mt,8),d.LFG(bt,8),d.LFG(tt,8))},Ye.\u0275prov=d.Yz7({factory:function(){return new Ye(d.LFG(Tt.Dh),d.LFG(Tt.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Pe,8),d.LFG(te,8),d.LFG(Qe,8),d.LFG(Mt,8),d.LFG(bt,8),d.LFG(tt,8))},token:Ye,providedIn:"any"}),Ye})(),Ee=(()=>{class Ye{}return Ye.\u0275fac=function(st){return new(st||Ye)},Ye.\u0275mod=d.oAB({type:Ye}),Ye.\u0275inj=d.cJS({providers:[Ze]}),Ye})()},345:(Xn,Vt,A)=>{"use strict";A.d(Vt,{ST:()=>zt,yb:()=>qt});var d=A(5e3),_=A(4986),e=A(8306),ee=A(8996),W=A(9646),xe=A(4482),pe=A(5403);function ze(){return(0,xe.e)((Kt,Ht)=>{let _n,an=!1;Kt.subscribe((0,pe.x)(Ht,Vn=>{const di=_n;_n=Vn,an&&Ht.next([di,Vn]),an=!0}))})}var Ve=A(8675),Q=A(4004),qe=A(5026),je=A(1884),at=A(9300),ke=A(5363),Ke=A(2816),dt=A(9808),it=A(5867),Tt=(A(9719),A(4283));function gt(Kt,Ht){return function hn(Kt,Ht=_.z){return new e.y(_n=>{let an;return null!=Ht?Ht.schedule(()=>{an=Kt.onSnapshot({includeMetadataChanges:!0},_n)}):an=Kt.onSnapshot({includeMetadataChanges:!0},_n),()=>{null!=an&&an()}})}(Kt,Ht)}function te(Kt,Ht){return gt(Kt,Ht).pipe((0,Q.U)(_n=>({payload:_n,type:"query"})))}function Qe(Kt,Ht){return te(Kt,Ht).pipe((0,Ve.O)(void 0),ze(),(0,Q.U)(([_n,an])=>{const Vn=an.payload.docChanges(),di=Vn.map(Pn=>({type:Pn.type,payload:Pn}));return _n&&JSON.stringify(_n.payload.metadata)!==JSON.stringify(an.payload.metadata)&&an.payload.docs.forEach((Pn,jn)=>{const wt=Vn.find(Gn=>Gn.doc.ref.isEqual(Pn.ref)),cn=null==_n?void 0:_n.payload.docs.find(Gn=>Gn.ref.isEqual(Pn.ref));wt&&JSON.stringify(wt.doc.metadata)===JSON.stringify(Pn.metadata)||!wt&&cn&&JSON.stringify(cn.metadata)===JSON.stringify(Pn.metadata)||di.push({type:"modified",payload:{oldIndex:jn,newIndex:jn,type:"modified",doc:Pn}})}),di}))}function Mt(Kt,Ht,_n){return Qe(Kt,_n).pipe((0,qe.R)((an,Vn)=>function bt(Kt,Ht,_n){return Ht.forEach(an=>{_n.indexOf(an.type)>-1&&(Kt=function Ze(Kt,Ht){switch(Ht.type){case"added":if(!Kt[Ht.newIndex]||!Kt[Ht.newIndex].doc.ref.isEqual(Ht.doc.ref))return tt(Kt,Ht.newIndex,0,Ht);break;case"modified":if(null==Kt[Ht.oldIndex]||Kt[Ht.oldIndex].doc.ref.isEqual(Ht.doc.ref)){if(Ht.oldIndex!==Ht.newIndex){const _n=Kt.slice();return _n.splice(Ht.oldIndex,1),_n.splice(Ht.newIndex,0,Ht),_n}return tt(Kt,Ht.newIndex,1,Ht)}break;case"removed":if(Kt[Ht.oldIndex]&&Kt[Ht.oldIndex].doc.ref.isEqual(Ht.doc.ref))return tt(Kt,Ht.oldIndex,1)}return Kt}(Kt,an))}),Kt}(an,Vn.map(di=>di.payload),Ht),[]),(0,je.x)(),(0,Q.U)(an=>an.map(Vn=>({type:Vn.type,payload:Vn}))))}function tt(Kt,Ht,_n,...an){const Vn=Kt.slice();return Vn.splice(Ht,_n,...an),Vn}function Ee(Kt){return(!Kt||0===Kt.length)&&(Kt=["added","removed","modified"]),Kt}class Ye{constructor(Ht,_n,an){this.ref=Ht,this.query=_n,this.afs=an}stateChanges(Ht){let _n=Qe(this.query,this.afs.schedulers.outsideAngular);return Ht&&Ht.length>0&&(_n=_n.pipe((0,Q.U)(an=>an.filter(Vn=>Ht.indexOf(Vn.type)>-1)))),_n.pipe((0,Ve.O)(void 0),ze(),(0,at.h)(([an,Vn])=>Vn.length>0||!an),(0,Q.U)(([an,Vn])=>Vn),this.afs.keepUnstableUntilFirst)}auditTrail(Ht){return this.stateChanges(Ht).pipe((0,qe.R)((_n,an)=>[..._n,...an],[]))}snapshotChanges(Ht){const _n=Ee(Ht);return Mt(this.query,_n,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(Ht={}){return te(this.query,this.afs.schedulers.outsideAngular).pipe((0,Q.U)(_n=>_n.payload.docs.map(an=>Ht.idField?Object.assign(Object.assign({},an.data()),{[Ht.idField]:an.id}):an.data())),this.afs.keepUnstableUntilFirst)}get(Ht){return(0,ee.D)(this.query.get(Ht)).pipe((0,ke.Q)(this.afs.schedulers.insideAngular))}add(Ht){return this.ref.add(Ht)}doc(Ht){return new Xe(this.ref.doc(Ht),this.afs)}}class Xe{constructor(Ht,_n){this.ref=Ht,this.afs=_n}set(Ht,_n){return this.ref.set(Ht,_n)}update(Ht){return this.ref.update(Ht)}delete(){return this.ref.delete()}collection(Ht,_n){const an=this.ref.collection(Ht),{ref:Vn,query:di}=bn(an,_n);return new Ye(Vn,di,this.afs)}snapshotChanges(){return function Pe(Kt,Ht){return gt(Kt,Ht).pipe((0,Ve.O)(void 0),ze(),(0,Q.U)(([_n,an])=>an.exists?(null==_n?void 0:_n.exists)?{payload:an,type:"modified"}:{payload:an,type:"added"}:{payload:an,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(Ht={}){return this.snapshotChanges().pipe((0,Q.U)(({payload:_n})=>Ht.idField?Object.assign(Object.assign({},_n.data()),{[Ht.idField]:_n.id}):_n.data()))}get(Ht){return(0,ee.D)(this.ref.get(Ht)).pipe((0,ke.Q)(this.afs.schedulers.insideAngular))}}class st{constructor(Ht,_n){this.query=Ht,this.afs=_n}stateChanges(Ht){return Ht&&0!==Ht.length?Qe(this.query,this.afs.schedulers.outsideAngular).pipe((0,Q.U)(_n=>_n.filter(an=>Ht.indexOf(an.type)>-1)),(0,at.h)(_n=>_n.length>0),this.afs.keepUnstableUntilFirst):Qe(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(Ht){return this.stateChanges(Ht).pipe((0,qe.R)((_n,an)=>[..._n,...an],[]))}snapshotChanges(Ht){const _n=Ee(Ht);return Mt(this.query,_n,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(Ht={}){return te(this.query,this.afs.schedulers.outsideAngular).pipe((0,Q.U)(an=>an.payload.docs.map(Vn=>Ht.idField?Object.assign({[Ht.idField]:Vn.id},Vn.data()):Vn.data())),this.afs.keepUnstableUntilFirst)}get(Ht){return(0,ee.D)(this.query.get(Ht)).pipe((0,ke.Q)(this.afs.schedulers.insideAngular))}}const sn=new d.OlP("angularfire2.enableFirestorePersistence"),fn=new d.OlP("angularfire2.firestore.persistenceSettings"),wn=new d.OlP("angularfire2.firestore.settings"),mn=new d.OlP("angularfire2.firestore.use-emulator");function bn(Kt,Ht=(_n=>_n)){return{query:Ht(Kt),ref:Kt}}let zt=(()=>{class Kt{constructor(_n,an,Vn,di,Pn,jn,wt,cn,Gn){this.schedulers=new Ke.HU(jn),this.keepUnstableUntilFirst=(0,Ke.ss)(this.schedulers);const $n=(0,Ke.on)(_n,jn,an);!it.Z.auth&&Gn&&(0,Ke.yq)();const Vi=cn;[this.firestore,this.persistenceEnabled$]=(0,Ke.sI)(`${$n.name}.firestore`,"AngularFirestore",$n,()=>{const Qn=jn.runOutsideAngular(()=>$n.firestore());if(di&&Qn.settings(di),Vi&&Qn.useEmulator(...Vi),Vn&&!(0,dt.PM)(Pn)){const li=()=>{try{return(0,ee.D)(Qn.enablePersistence(wt||void 0).then(()=>!0,()=>!1))}catch(ni){return"undefined"!=typeof console&&console.warn(ni),(0,W.of)(!1)}};return[Qn,jn.runOutsideAngular(li)]}return[Qn,(0,W.of)(!1)]},[di,Vi,Vn])}collection(_n,an){let Vn;Vn="string"==typeof _n?this.firestore.collection(_n):_n;const{ref:di,query:Pn}=bn(Vn,an),jn=this.schedulers.ngZone.run(()=>di);return new Ye(jn,Pn,this)}collectionGroup(_n,an){const Vn=an||(Pn=>Pn),di=this.firestore.collectionGroup(_n);return new st(Vn(di),this)}doc(_n){let an;an="string"==typeof _n?this.firestore.doc(_n):_n;const Vn=this.schedulers.ngZone.run(()=>an);return new Xe(Vn,this)}createId(){return this.firestore.collection("_").doc().id}}return Kt.\u0275fac=function(_n){return new(_n||Kt)(d.LFG(Ke.Dh),d.LFG(Ke.xv,8),d.LFG(sn,8),d.LFG(wn,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(fn,8),d.LFG(mn,8),d.LFG(Tt.Qv,8))},Kt.\u0275prov=d.Yz7({factory:function(){return new Kt(d.LFG(Ke.Dh),d.LFG(Ke.xv,8),d.LFG(sn,8),d.LFG(wn,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(fn,8),d.LFG(mn,8),d.LFG(Tt.Qv,8))},token:Kt,providedIn:"any"}),Kt})(),qt=(()=>{class Kt{static enablePersistence(_n){return{ngModule:Kt,providers:[{provide:sn,useValue:!0},{provide:fn,useValue:_n}]}}}return Kt.\u0275fac=function(_n){return new(_n||Kt)},Kt.\u0275mod=d.oAB({type:Kt}),Kt.\u0275inj=d.cJS({providers:[zt]}),Kt})()},2816:(Xn,Vt,A)=>{"use strict";A.d(Vt,{hO:()=>Xe,xv:()=>Pe,Dh:()=>gt,HU:()=>dt,GT:()=>hn,sI:()=>Ee,on:()=>Mt,ss:()=>it,pX:()=>Tt,yq:()=>bt});var d=A(4408),e=A(7565);const W=new class ee extends e.v{}(class _ extends d.o{constructor(sn,fn){super(sn,fn),this.scheduler=sn,this.work=fn}schedule(sn,fn=0){return fn>0?super.schedule(sn,fn):(this.delay=fn,this.state=sn,this.scheduler.flush(this),this)}execute(sn,fn){return fn>0||this.closed?super.execute(sn,fn):this._execute(sn,fn)}requestAsyncId(sn,fn,wn=0){return null!=wn&&wn>0||null==wn&&this.delay>0?super.requestAsyncId(sn,fn,wn):sn.flush(this)}});var pe=A(4986),ze=A(8505),Ve=A(9468),Q=A(5363),qe=A(5e3),je=A(5867);function at(){}Xn=A.hmd(Xn);class ke{constructor(sn,fn=W){this.zone=sn,this.delegate=fn}now(){return this.delegate.now()}schedule(sn,fn,wn){const mn=this.zone;return this.delegate.schedule(function(zt){mn.runGuarded(()=>{sn.apply(this,[zt])})},fn,wn)}}class Ke{constructor(sn){this.zone=sn,this.task=null}call(sn,fn){const wn=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",at,{},at,at)),fn.pipe((0,ze.b)({next:wn,complete:wn,error:wn})).subscribe(sn).add(wn)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class dt{constructor(sn){this.ngZone=sn,this.outsideAngular=sn.runOutsideAngular(()=>new ke(Zone.current)),this.insideAngular=sn.run(()=>new ke(Zone.current,pe.z))}}function it(st){return function(fn){return(fn=fn.lift(new Ke(st.ngZone))).pipe((0,Ve.R)(st.outsideAngular),(0,Q.Q)(st.insideAngular))}}const Dt=["ngOnDestroy"],Tt=(st,sn,fn,wn={})=>new Proxy(st,{get:(mn,bn)=>fn.runOutsideAngular(()=>{var zt;if(st[bn])return(null===(zt=null==wn?void 0:wn.spy)||void 0===zt?void 0:zt.get)&&wn.spy.get(bn,st[bn]),st[bn];if(Dt.indexOf(bn)>-1)return()=>{};const qt=sn.toPromise().then(Kt=>{const Ht=Kt&&Kt[bn];return"function"==typeof Ht?Ht.bind(Kt):Ht&&Ht.then?Ht.then(_n=>fn.run(()=>_n)):fn.run(()=>Ht)});return new Proxy(()=>{},{get:(Kt,Ht)=>qt[Ht],apply:(Kt,Ht,_n)=>qt.then(an=>{var Vn;const di=an&&an(..._n);return(null===(Vn=null==wn?void 0:wn.spy)||void 0===Vn?void 0:Vn.apply)&&wn.spy.apply(bn,_n,di),di})})})}),hn=(st,sn)=>{sn.forEach(fn=>{Object.getOwnPropertyNames(fn.prototype||fn).forEach(wn=>{Object.defineProperty(st.prototype,wn,Object.getOwnPropertyDescriptor(fn.prototype||fn,wn))})})},gt=new qe.OlP("angularfire2.app.options"),Pe=new qe.OlP("angularfire2.app.nameOrConfig"),Qe=new qe.GfV("6.1.5");function Mt(st,sn,fn){const mn="object"==typeof fn&&fn||{};mn.name=mn.name||"string"==typeof fn&&fn||"[DEFAULT]";const zt=je.Z.apps.filter(qt=>qt&&qt.name===mn.name)[0]||sn.runOutsideAngular(()=>je.Z.initializeApp(st,mn));try{JSON.stringify(st)!==JSON.stringify(zt.options)&&tt("error",`${zt.name} Firebase App already initialized with different options${Xn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(qt){}return zt}const bt=()=>{tt("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},tt=(st,...sn)=>{(0,qe.X6Q)()&&"undefined"!=typeof console&&console[st](...sn)};function Ee(st,sn,fn,wn,mn){const[bn,...zt]=globalThis.\u0275AngularfireInstanceCache.get(st)||[];if(bn){try{mn.some((qt,Kt)=>{const Ht=zt[Kt];return qt&&"object"==typeof qt?JSON.stringify(qt)!==JSON.stringify(Ht):qt!==Ht})&&tt("error",`${sn} was already initialized on the ${fn.name} Firebase App instance with different settings.${Xn.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(qt){}return bn}{const qt=wn();return globalThis.\u0275AngularfireInstanceCache.set(st,[qt,...mn]),qt}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const Ye={provide:class te{},useFactory:Mt,deps:[gt,qe.R0b,[new qe.FiY,Pe]]};let Xe=(()=>{class st{constructor(fn){je.Z.registerVersion("angularfire",Qe.full,fn.toString()),je.Z.registerVersion("angular",qe.q4F.full)}static initializeApp(fn,wn){return{ngModule:st,providers:[{provide:gt,useValue:fn},{provide:Pe,useValue:wn}]}}}return st.\u0275fac=function(fn){return new(fn||st)(qe.LFG(qe.Lbi))},st.\u0275mod=qe.oAB({type:st}),st.\u0275inj=qe.cJS({providers:[Ye]}),st})()},2106:(Xn,Vt,A)=>{"use strict";var d=A(8367),_=A(2461),e=A(655),ee=A(492),W=A(4003);function xe(X){return X&&"object"==typeof X&&"default"in X?X:{default:X}}var ze,pe=xe(d),Ve=((ze={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",ze["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",ze["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",ze["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",ze["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",ze["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",ze["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",ze["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",ze["recaptcha-error"]="ReCAPTCHA error.",ze),Q=new ee.ErrorFactory("appCheck","AppCheck",Ve),qe=new Map,je={activated:!1,tokenObservers:[]},at={enabled:!1};function ke(X){return qe.get(X)||je}function Ke(X,ie){qe.set(X,ie)}function dt(){return at}var it="https://content-firebaseappcheck.googleapis.com/v1beta",gt=function(){function X(ie,Z,Se,Me,ut){if(this.operation=ie,this.retryPolicy=Z,this.getWaitDuration=Se,this.lowerBound=Me,this.upperBound=ut,this.pending=null,this.nextErrorWaitInterval=Me,Me>ut)throw new Error("Proactive refresh lower bound greater than upper bound!")}return X.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},X.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},X.prototype.isRunning=function(){return!!this.pending},X.prototype.process=function(ie){return e.__awaiter(this,void 0,void 0,function(){var Z;return e.__generator(this,function(Se){switch(Se.label){case 0:this.stop(),Se.label=1;case 1:return Se.trys.push([1,6,,7]),this.pending=new ee.Deferred,[4,Pe(this.getNextRun(ie))];case 2:return Se.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return Se.sent(),this.pending=new ee.Deferred,[4,this.operation()];case 4:return Se.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return Se.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return Z=Se.sent(),this.retryPolicy(Z)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},X.prototype.getNextRun=function(ie){if(ie)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var Z=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Z},X}();function Pe(X){return new Promise(function(ie){setTimeout(ie,X)})}function te(){return self.grecaptcha}function Qe(X){if(!ke(X).activated)throw Q.create("use-before-activation",{appName:X.name})}function bt(X){return ee.base64.encodeString(JSON.stringify(X),!1)}function tt(X,ie){var Z=X.url,Se=X.body;return e.__awaiter(this,void 0,void 0,function(){var Me,ut,Be,Ct,on,Sn,bi,rn,Pt,yt;return e.__generator(this,function(Zt){switch(Zt.label){case 0:Me={"Content-Type":"application/json"},(ut=ie.getImmediate({optional:!0}))&&(Me["X-Firebase-Client"]=ut.getPlatformInfoString()),Be={method:"POST",body:JSON.stringify(Se),headers:Me},Zt.label=1;case 1:return Zt.trys.push([1,3,,4]),[4,fetch(Z,Be)];case 2:return Ct=Zt.sent(),[3,4];case 3:throw on=Zt.sent(),Q.create("fetch-network-error",{originalErrorMessage:on.message});case 4:if(200!==Ct.status)throw Q.create("fetch-status-error",{httpStatus:Ct.status});Zt.label=5;case 5:return Zt.trys.push([5,7,,8]),[4,Ct.json()];case 6:return Sn=Zt.sent(),[3,8];case 7:throw bi=Zt.sent(),Q.create("fetch-parse-error",{originalErrorMessage:bi.message});case 8:if(!(rn=Sn.ttl.match(/^([\d.]+)(s)$/))||!rn[2]||isNaN(Number(rn[1])))throw Q.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+Sn.ttl});return Pt=1e3*Number(rn[1]),yt=Date.now(),[2,{token:Sn.attestationToken,expireTimeMillis:yt+Pt,issuedAtTimeMillis:yt}]}})})}function Ze(X,ie){var Z=X.options;return{url:it+"/projects/"+Z.projectId+"/apps/"+Z.appId+":exchangeRecaptchaToken?key="+Z.apiKey,body:{recaptcha_token:ie}}}function Ee(X,ie){var Z=X.options;return{url:it+"/projects/"+Z.projectId+"/apps/"+Z.appId+":exchangeDebugToken?key="+Z.apiKey,body:{debug_token:ie}}}var st="firebase-app-check-store",sn="debug-token",fn=null;function wn(){return fn||(fn=new Promise(function(X,ie){try{var Z=indexedDB.open("firebase-app-check-database",1);Z.onsuccess=function(Se){X(Se.target.result)},Z.onerror=function(Se){var Me;ie(Q.create("storage-open",{originalErrorMessage:null===(Me=Se.target.error)||void 0===Me?void 0:Me.message}))},Z.onupgradeneeded=function(Se){0===Se.oldVersion&&Se.target.result.createObjectStore(st,{keyPath:"compositeKey"})}}catch(Se){ie(Q.create("storage-open",{originalErrorMessage:Se.message}))}}))}function mn(X){return Ht(_n(X))}function Kt(X,ie){return e.__awaiter(this,void 0,void 0,function(){var Z,Se,Me,ut;return e.__generator(this,function(Be){switch(Be.label){case 0:return[4,wn()];case 1:return Z=Be.sent(),Se=Z.transaction(st,"readwrite"),Me=Se.objectStore(st),ut=Me.put({compositeKey:X,value:ie}),[2,new Promise(function(Ct,on){ut.onsuccess=function(Sn){Ct()},Se.onerror=function(Sn){var bi;on(Q.create("storage-set",{originalErrorMessage:null===(bi=Sn.target.error)||void 0===bi?void 0:bi.message}))}})]}})})}function Ht(X){return e.__awaiter(this,void 0,void 0,function(){var ie,Z,Se,Me;return e.__generator(this,function(ut){switch(ut.label){case 0:return[4,wn()];case 1:return ie=ut.sent(),Z=ie.transaction(st,"readonly"),Se=Z.objectStore(st),Me=Se.get(X),[2,new Promise(function(Be,Ct){Me.onsuccess=function(on){var Sn=on.target.result;Be(Sn?Sn.value:void 0)},Z.onerror=function(on){var Sn;Ct(Q.create("storage-get",{originalErrorMessage:null===(Sn=on.target.error)||void 0===Sn?void 0:Sn.message}))}})]}})})}function _n(X){return X.options.appId+"-"+X.name}var an=new W.Logger("@firebase/app-check");function di(X,ie){return ee.isIndexedDBAvailable()?function bn(X,ie){return Kt(_n(X),ie)}(X,ie).catch(function(Z){an.warn("Failed to write token to indexeddb. Error: "+Z)}):Promise.resolve()}function wt(){return e.__awaiter(this,void 0,void 0,function(){var X;return e.__generator(this,function(ie){if((X=dt()).enabled&&X.token)return[2,X.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}var Gn={error:"UNKNOWN_ERROR"};function $n(X,ie,Z){return void 0===Z&&(Z=!1),e.__awaiter(this,void 0,void 0,function(){var Se,Me,ut,Be,Ct,on,Sn,bi,rn,Pt;return e.__generator(this,function(yt){switch(yt.label){case 0:return Qe(X),Se=ke(X),ut=void 0,(Me=Se.token)?[3,2]:[4,Se.cachedTokenPromise];case 1:(Be=yt.sent())&&Yt(Be)&&(Me=Be,Ke(X,e.__assign(e.__assign({},Se),{token:Me})),ni(X,{token:Me.token})),yt.label=2;case 2:return!Z&&Me&&Yt(Me)?[2,{token:Me.token}]:function jn(){return dt().enabled}()?(on=tt,Sn=Ee,bi=[X],[4,wt()]):[3,6];case 3:return[4,on.apply(void 0,[Sn.apply(void 0,bi.concat([yt.sent()])),ie])];case 4:return Ct=yt.sent(),[4,di(X,Ct)];case 5:return yt.sent(),Ke(X,e.__assign(e.__assign({},Se),{token:Ct})),[2,{token:Ct.token}];case 6:return yt.trys.push([6,8,,9]),[4,Se.provider.getToken()];case 7:return Me=yt.sent(),[3,9];case 8:return rn=yt.sent(),an.error(rn),ut=rn,[3,9];case 9:return Me?[3,10]:(Pt=function q(X){return{token:bt(Gn),error:X}}(ut),[3,12]);case 10:return Pt={token:Me.token},Ke(X,e.__assign(e.__assign({},Se),{token:Me})),[4,di(X,Me)];case 11:yt.sent(),yt.label=12;case 12:return ni(X,Pt),[2,Pt]}})})}function Vi(X,ie,Z,Se,Me){var ut=ke(X),Be={next:Se,error:Me,type:Z},Ct=e.__assign(e.__assign({},ut),{tokenObservers:e.__spreadArray(e.__spreadArray([],ut.tokenObservers),[Be])});if(!Ct.tokenRefresher){var on=function li(X,ie){var Z=this;return new gt(function(){return e.__awaiter(Z,void 0,void 0,function(){var Me;return e.__generator(this,function(ut){switch(ut.label){case 0:return ke(X).token?[3,2]:[4,$n(X,ie)];case 1:return Me=ut.sent(),[3,4];case 2:return[4,$n(X,ie,!0)];case 3:Me=ut.sent(),ut.label=4;case 4:if(Me.error)throw Me.error;return[2]}})})},function(){return!0},function(){var Se=ke(X);if(Se.token){var Me=Se.token.issuedAtTimeMillis+.5*(Se.token.expireTimeMillis-Se.token.issuedAtTimeMillis)+3e5;return Me=Math.min(Me,Se.token.expireTimeMillis-3e5),Math.max(0,Me-Date.now())}return 0},3e4,96e4)}(X,ie);Ct.tokenRefresher=on}if(!Ct.tokenRefresher.isRunning()&&ut.isTokenAutoRefreshEnabled&&Ct.tokenRefresher.start(),ut.token&&Yt(ut.token)){var Sn=ut.token;Promise.resolve().then(function(){return Se({token:Sn.token})}).catch(function(){})}else null==ut.token&&ut.cachedTokenPromise.then(function(bi){bi&&Yt(bi)&&Se({token:bi.token})}).catch(function(){});Ke(X,Ct)}function Qn(X,ie){var Z=ke(X),Se=Z.tokenObservers.filter(function(Me){return Me.next!==ie});0===Se.length&&Z.tokenRefresher&&Z.tokenRefresher.isRunning()&&Z.tokenRefresher.stop(),Ke(X,e.__assign(e.__assign({},Z),{tokenObservers:Se}))}function ni(X,ie){for(var Se=0,Me=ke(X).tokenObservers;Se<Me.length;Se++){var ut=Me[Se];try{"EXTERNAL"===ut.type&&null!=ie.error?ut.error(ie.error):ut.next(ie)}catch(Be){}}}function Yt(X){return X.expireTimeMillis-Date.now()>0}function Ce(X){return e.__awaiter(this,void 0,void 0,function(){var Z;return e.__generator(this,function(Se){switch(Se.label){case 0:return Qe(X),[4,ke(X).reCAPTCHAState.initialized.promise];case 1:return Z=Se.sent(),[2,new Promise(function(Me,ut){var Be=ke(X).reCAPTCHAState;Z.ready(function(){Me(Z.execute(Be.widgetId,{action:"fire_app_check"}))})})]}})})}function pt(X,ie,Z,Se){var Me=Z.render(Se,{sitekey:ie,size:"invisible"}),ut=ke(X);Ke(X,e.__assign(e.__assign({},ut),{reCAPTCHAState:e.__assign(e.__assign({},ut.reCAPTCHAState),{widgetId:Me})}))}var nn=function(){function X(ie){this._siteKey=ie}return X.prototype.getToken=function(){return e.__awaiter(this,void 0,void 0,function(){var ie;return e.__generator(this,function(Z){switch(Z.label){case 0:if(!this._app||!this._platformLoggerProvider)throw Q.create("use-before-activation",{appName:""});Z.label=1;case 1:return Z.trys.push([1,3,,4]),[4,Ce(this._app)];case 2:return ie=Z.sent(),[3,4];case 3:throw Z.sent(),Q.create("recaptcha-error");case 4:return[2,tt(Ze(this._app,ie),this._platformLoggerProvider)]}})})},X.prototype.initialize=function(ie,Z){this._app=ie,this._platformLoggerProvider=Z,function ye(X,ie){var Z=ke(X),Se=new ee.Deferred;Ke(X,e.__assign(e.__assign({},Z),{reCAPTCHAState:{initialized:Se}}));var Me="fire_app_check_"+X.name,ut=document.createElement("div");ut.id=Me,ut.style.display="none",document.body.appendChild(ut);var Be=te();return Be?Be.ready(function(){pt(X,ie,Be,Me),Se.resolve(Be)}):function Rt(X){var ie=document.createElement("script");ie.src="https://www.google.com/recaptcha/api.js",ie.onload=X,document.head.appendChild(ie)}(function(){var Ct=te();if(!Ct)throw new Error("no recaptcha");Ct.ready(function(){pt(X,ie,Ct,Me),Se.resolve(Ct)})}),Se.promise}(ie,this._siteKey).catch(function(){})},X}(),On=function(){function X(ie){this._customProviderOptions=ie}return X.prototype.getToken=function(){return e.__awaiter(this,void 0,void 0,function(){var ie,Z,Se;return e.__generator(this,function(Me){switch(Me.label){case 0:if(!this._app)throw Q.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return ie=Me.sent(),Z=ee.issuedAtTime(ie.token),Se=null!==Z&&Z<Date.now()&&Z>0?1e3*Z:Date.now(),[2,e.__assign(e.__assign({},ie),{issuedAtTimeMillis:Se})]}})})},X.prototype.initialize=function(ie){this._app=ie},X}();function Bi(X,ie){return{app:X,activate:function(Z,Se){return function Wn(X,ie,Z,Se){var Me=ke(X);if(Me.activated)throw Q.create("already-activated",{appName:X.name});var ut=e.__assign(e.__assign({},Me),{activated:!0});ut.cachedTokenPromise=function Vn(X){return e.__awaiter(this,void 0,void 0,function(){var ie,Z;return e.__generator(this,function(Se){switch(Se.label){case 0:if(!ee.isIndexedDBAvailable())return[3,5];ie=void 0,Se.label=1;case 1:return Se.trys.push([1,3,,4]),[4,mn(X)];case 2:return ie=Se.sent(),[3,4];case 3:return Z=Se.sent(),an.warn("Failed to read token from indexeddb. Error: "+Z),[3,4];case 4:return[2,ie];case 5:return[2,void 0]}})})}(X).then(function(Be){return Be&&Yt(Be)&&Ke(X,e.__assign(e.__assign({},ke(X)),{token:Be})),Be}),ut.provider="string"==typeof ie?new nn(ie):ie instanceof nn||ie instanceof On?ie:new On({getToken:ie.getToken}),ut.isTokenAutoRefreshEnabled=void 0===Se?X.automaticDataCollectionEnabled:Se,Ke(X,ut),ut.provider.initialize(X,Z)}(X,Z,ie,Se)},setTokenAutoRefreshEnabled:function(Z){return function Yn(X,ie){var Z=ke(X);Z.tokenRefresher&&(!0===ie?Z.tokenRefresher.start():Z.tokenRefresher.stop()),Ke(X,e.__assign(e.__assign({},Z),{isTokenAutoRefreshEnabled:ie}))}(X,Z)},getToken:function(Z){return function ei(X,ie,Z){return e.__awaiter(this,void 0,void 0,function(){var Se;return e.__generator(this,function(Me){switch(Me.label){case 0:return[4,$n(X,ie,Z)];case 1:if((Se=Me.sent()).error)throw Se.error;return[2,{token:Se.token}]}})})}(X,ie,Z)},onTokenChanged:function(Z,Se,Me){return function hi(X,ie,Z,Se,Me){var ut,Be=function(){};return ut=null!=Z.next?Z.next.bind(Z):Z,null!=Z.error?Be=Z.error.bind(Z):Se&&(Be=Se),Vi(X,ie,"EXTERNAL",ut,Be),function(){return Qn(X,ut)}}(X,ie,Z,Se)},INTERNAL:{delete:function(){for(var Se=0,Me=ke(X).tokenObservers;Se<Me.length;Se++)Qn(X,Me[Se].next);return Promise.resolve()}}}}var Ft="app-check-internal";(function vn(X){X.INTERNAL.registerComponent(new _.Component("appCheck",function(ie){return Bi(ie.getProvider("app").getImmediate(),ie.getProvider("platform-logger"))},"PUBLIC").setServiceProps({ReCaptchaV3Provider:nn,CustomProvider:On}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(ie,Z,Se){ie.getProvider(Ft).initialize()})),X.INTERNAL.registerComponent(new _.Component(Ft,function(ie){return function vi(X,ie){return{getToken:function(Z){return $n(X,ie,Z)},addTokenListener:function(Z){return Vi(X,ie,"INTERNAL",Z)},removeTokenListener:function(Z){return Qn(X,Z)}}}(ie.getProvider("app").getImmediate(),ie.getProvider("platform-logger"))},"PUBLIC").setInstantiationMode("EXPLICIT")),X.registerVersion("@firebase/app-check","0.3.1")})(pe.default),function cn(){var X=ee.getGlobal();if("string"==typeof X.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===X.FIREBASE_APPCHECK_DEBUG_TOKEN){var ie=dt();ie.enabled=!0;var Z=new ee.Deferred;ie.token=Z,Z.resolve("string"==typeof X.FIREBASE_APPCHECK_DEBUG_TOKEN?X.FIREBASE_APPCHECK_DEBUG_TOKEN:function Pn(){return e.__awaiter(this,void 0,void 0,function(){var X,ie;return e.__generator(this,function(Z){switch(Z.label){case 0:X=void 0,Z.label=1;case 1:return Z.trys.push([1,3,,4]),[4,Ht(sn)];case 2:return X=Z.sent(),[3,4];case 3:return Z.sent(),[3,4];case 4:return X?[2,X]:(ie=function Mt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(X){var ie=16*Math.random()|0;return("x"===X?ie:3&ie|8).toString(16)})}(),function zt(X){return Kt(sn,X)}(ie).catch(function(Se){return an.warn("Failed to persist debug token to indexeddb. Error: "+Se)}),console.log("AppCheck debug token: "+ie+". You will need to whitelist it in the Firebase console for it to work"),[2,ie])}})})}())}}()},8367:(Xn,Vt,A)=>{"use strict";A.r(Vt),A.d(Vt,{default:()=>bn,firebase:()=>mn});var W,Pe,d=A(655),_=A(492),e=A(2461),ee=A(4003),xe=((W={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",W["bad-app-name"]="Illegal App name: '{$appName}",W["duplicate-app"]="Firebase App named '{$appName}' already exists",W["app-deleted"]="Firebase App named '{$appName}' already deleted",W["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",W["invalid-log-argument"]="First argument to `onLog` must be null or a function.",W),pe=new _.ErrorFactory("app","Firebase",xe),ze="@firebase/app",te="[DEFAULT]",Qe=((Pe={})[ze]="fire-core",Pe["@firebase/analytics"]="fire-analytics",Pe["@firebase/app-check"]="fire-app-check",Pe["@firebase/auth"]="fire-auth",Pe["@firebase/database"]="fire-rtdb",Pe["@firebase/functions"]="fire-fn",Pe["@firebase/installations"]="fire-iid",Pe["@firebase/messaging"]="fire-fcm",Pe["@firebase/performance"]="fire-perf",Pe["@firebase/remote-config"]="fire-rc",Pe["@firebase/storage"]="fire-gcs",Pe["@firebase/firestore"]="fire-fst",Pe["fire-js"]="fire-js",Pe["firebase-wrapper"]="fire-js-all",Pe),Mt=new ee.Logger("@firebase/app"),bt=function(){function zt(qt,Kt,Ht){var _n=this;this.firebase_=Ht,this.isDeleted_=!1,this.name_=Kt.name,this.automaticDataCollectionEnabled_=Kt.automaticDataCollectionEnabled||!1,this.options_=(0,_.deepCopy)(qt),this.container=new e.ComponentContainer(Kt.name),this._addComponent(new e.Component("app",function(){return _n},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(an){return _n._addComponent(an)})}return Object.defineProperty(zt.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(qt){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=qt},enumerable:!1,configurable:!0}),Object.defineProperty(zt.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(zt.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),zt.prototype.delete=function(){var qt=this;return new Promise(function(Kt){qt.checkDestroyed_(),Kt()}).then(function(){return qt.firebase_.INTERNAL.removeApp(qt.name_),Promise.all(qt.container.getProviders().map(function(Kt){return Kt.delete()}))}).then(function(){qt.isDeleted_=!0})},zt.prototype._getService=function(qt,Kt){var Ht;void 0===Kt&&(Kt=te),this.checkDestroyed_();var _n=this.container.getProvider(qt);return!_n.isInitialized()&&"EXPLICIT"===(null===(Ht=_n.getComponent())||void 0===Ht?void 0:Ht.instantiationMode)&&_n.initialize(),_n.getImmediate({identifier:Kt})},zt.prototype._removeServiceInstance=function(qt,Kt){void 0===Kt&&(Kt=te),this.container.getProvider(qt).clearInstance(Kt)},zt.prototype._addComponent=function(qt){try{this.container.addComponent(qt)}catch(Kt){Mt.debug("Component "+qt.name+" failed to register with FirebaseApp "+this.name,Kt)}},zt.prototype._addOrOverwriteComponent=function(qt){this.container.addOrOverwriteComponent(qt)},zt.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},zt.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw pe.create("app-deleted",{appName:this.name_})},zt}();bt.prototype.name&&bt.prototype.options||bt.prototype.delete||console.log("dc");var Ye=function Ee(){var zt=function Ze(zt){var qt={},Kt=new Map,Ht={__esModule:!0,initializeApp:function Vn(Gn,$n){void 0===$n&&($n={}),("object"!=typeof $n||null===$n)&&($n={name:$n});var Qn=$n;void 0===Qn.name&&(Qn.name=te);var li=Qn.name;if("string"!=typeof li||!li)throw pe.create("bad-app-name",{appName:String(li)});if((0,_.contains)(qt,li))throw pe.create("duplicate-app",{appName:li});var ni=new zt(Gn,Qn,Ht);return qt[li]=ni,ni},app:an,registerVersion:function jn(Gn,$n,Vi){var Qn,li=null!==(Qn=Qe[Gn])&&void 0!==Qn?Qn:Gn;Vi&&(li+="-"+Vi);var ni=li.match(/\s|\//),Yt=$n.match(/\s|\//);if(ni||Yt){var q=['Unable to register library "'+li+'" with version "'+$n+'":'];return ni&&q.push('library name "'+li+'" contains illegal characters (whitespace or "/")'),ni&&Yt&&q.push("and"),Yt&&q.push('version name "'+$n+'" contains illegal characters (whitespace or "/")'),void Mt.warn(q.join(" "))}Pn(new e.Component(li+"-version",function(){return{library:li,version:$n}},"VERSION"))},setLogLevel:ee.setLogLevel,onLog:function wt(Gn,$n){if(null!==Gn&&"function"!=typeof Gn)throw pe.create("invalid-log-argument");(0,ee.setUserLogHandler)(Gn,$n)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:Pn,removeApp:function _n(Gn){delete qt[Gn]},components:Kt,useAsService:function cn(Gn,$n){return"serverAuth"===$n?null:$n}}};function an(Gn){if(!(0,_.contains)(qt,Gn=Gn||te))throw pe.create("no-app",{appName:Gn});return qt[Gn]}function Pn(Gn){var $n=Gn.name;if(Kt.has($n))return Mt.debug("There were multiple attempts to register component "+$n+"."),"PUBLIC"===Gn.type?Ht[$n]:null;if(Kt.set($n,Gn),"PUBLIC"===Gn.type){var Vi=function(Yt){if(void 0===Yt&&(Yt=an()),"function"!=typeof Yt[$n])throw pe.create("invalid-app-argument",{appName:$n});return Yt[$n]()};void 0!==Gn.serviceProps&&(0,_.deepExtend)(Vi,Gn.serviceProps),Ht[$n]=Vi,zt.prototype[$n]=function(){for(var Yt=[],q=0;q<arguments.length;q++)Yt[q]=arguments[q];return this._getService.bind(this,$n).apply(this,Gn.multipleInstances?Yt:[])}}for(var Qn=0,li=Object.keys(qt);Qn<li.length;Qn++)qt[li[Qn]]._addComponent(Gn);return"PUBLIC"===Gn.type?Ht[$n]:null}return Ht.default=Ht,Object.defineProperty(Ht,"apps",{get:function di(){return Object.keys(qt).map(function(Gn){return qt[Gn]})}}),an.App=zt,Ht}(bt);return zt.INTERNAL=(0,d.__assign)((0,d.__assign)({},zt.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function qt(Kt){(0,_.deepExtend)(zt,Kt)},createSubscribe:_.createSubscribe,ErrorFactory:_.ErrorFactory,deepExtend:_.deepExtend}),zt}(),Xe=function(){function zt(qt){this.container=qt}return zt.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(Kt){if(function st(zt){var qt=zt.getComponent();return"VERSION"===(null==qt?void 0:qt.type)}(Kt)){var Ht=Kt.getImmediate();return Ht.library+"/"+Ht.version}return null}).filter(function(Kt){return Kt}).join(" ")},zt}();if((0,_.isBrowser)()&&void 0!==self.firebase){Mt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var fn=self.firebase.SDK_VERSION;fn&&fn.indexOf("LITE")>=0&&Mt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var wn=Ye.initializeApp;Ye.initializeApp=function(){for(var zt=[],qt=0;qt<arguments.length;qt++)zt[qt]=arguments[qt];return(0,_.isNode)()&&Mt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),wn.apply(void 0,zt)};var mn=Ye;!function sn(zt,qt){zt.INTERNAL.registerComponent(new e.Component("platform-logger",function(Kt){return new Xe(Kt)},"PRIVATE")),zt.registerVersion(ze,"0.6.29",qt),zt.registerVersion("fire-js","")}(mn);const bn=mn},5880:(Xn,Vt,A)=>{"use strict";var d=A(8367);(function(){var _,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,f,w){t!=Array.prototype&&t!=Object.prototype&&(t[f]=w.value)},W=function ee(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var f=0;f<t.length;++f){var w=t[f];if(w&&w.Math==Math)return w}return globalThis}(this);function pe(t){var f=0;return function(){return f<t.length?{done:!1,value:t[f++]}:{done:!0}}}function ze(t){var f="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return f?f.call(t):{next:pe(t)}}!function xe(t,f){if(f){var w=W;t=t.split(".");for(var R=0;R<t.length-1;R++){var J=t[R];J in w||(w[J]={}),w=w[J]}(f=f(R=w[t=t[t.length-1]]))!=R&&null!=f&&e(w,t,{configurable:!0,writable:!0,value:f})}}("Promise",function(t){function f(nt){this.b=0,this.c=void 0,this.a=[];var Wt=this.f();try{nt(Wt.resolve,Wt.reject)}catch(ti){Wt.reject(ti)}}function w(){this.a=null}function R(nt){return nt instanceof f?nt:new f(function(Wt){Wt(nt)})}if(t)return t;w.prototype.b=function(nt){if(null==this.a){this.a=[];var Wt=this;this.c(function(){Wt.g()})}this.a.push(nt)};var J=W.setTimeout;w.prototype.c=function(nt){J(nt,0)},w.prototype.g=function(){for(;this.a&&this.a.length;){var nt=this.a;this.a=[];for(var Wt=0;Wt<nt.length;++Wt){var ti=nt[Wt];nt[Wt]=null;try{ti()}catch(yi){this.f(yi)}}}this.a=null},w.prototype.f=function(nt){this.c(function(){throw nt})},f.prototype.f=function(){function nt(yi){return function(bo){ti||(ti=!0,yi.call(Wt,bo))}}var Wt=this,ti=!1;return{resolve:nt(this.m),reject:nt(this.g)}},f.prototype.m=function(nt){if(nt===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(nt instanceof f)this.s(nt);else{e:switch(typeof nt){case"object":var Wt=null!=nt;break e;case"function":Wt=!0;break e;default:Wt=!1}Wt?this.v(nt):this.h(nt)}},f.prototype.v=function(nt){var Wt=void 0;try{Wt=nt.then}catch(ti){return void this.g(ti)}"function"==typeof Wt?this.u(Wt,nt):this.h(nt)},f.prototype.g=function(nt){this.i(2,nt)},f.prototype.h=function(nt){this.i(1,nt)},f.prototype.i=function(nt,Wt){if(0!=this.b)throw Error("Cannot settle("+nt+", "+Wt+"): Promise already settled in state"+this.b);this.b=nt,this.c=Wt,this.l()},f.prototype.l=function(){if(null!=this.a){for(var nt=0;nt<this.a.length;++nt)Ne.b(this.a[nt]);this.a=null}};var Ne=new w;return f.prototype.s=function(nt){var Wt=this.f();nt.Ra(Wt.resolve,Wt.reject)},f.prototype.u=function(nt,Wt){var ti=this.f();try{nt.call(Wt,ti.resolve,ti.reject)}catch(yi){ti.reject(yi)}},f.prototype.then=function(nt,Wt){function ti(Cs,Wl){return"function"==typeof Cs?function(Td){try{yi(Cs(Td))}catch(Xh){bo(Xh)}}:Wl}var yi,bo,Vs=new f(function(Cs,Wl){yi=Cs,bo=Wl});return this.Ra(ti(nt,yi),ti(Wt,bo)),Vs},f.prototype.catch=function(nt){return this.then(void 0,nt)},f.prototype.Ra=function(nt,Wt){function ti(){switch(yi.b){case 1:nt(yi.c);break;case 2:Wt(yi.c);break;default:throw Error("Unexpected state: "+yi.b)}}var yi=this;null==this.a?Ne.b(ti):this.a.push(ti)},f.resolve=R,f.reject=function(nt){return new f(function(Wt,ti){ti(nt)})},f.race=function(nt){return new f(function(Wt,ti){for(var yi=ze(nt),bo=yi.next();!bo.done;bo=yi.next())R(bo.value).Ra(Wt,ti)})},f.all=function(nt){var Wt=ze(nt),ti=Wt.next();return ti.done?R([]):new f(function(yi,bo){function Vs(Td){return function(Xh){Cs[Td]=Xh,0==--Wl&&yi(Cs)}}var Cs=[],Wl=0;do{Cs.push(void 0),Wl++,R(ti.value).Ra(Vs(Cs.length-1),bo),ti=Wt.next()}while(!ti.done)})},f});var Ve=Ve||{},Q=this||self,qe=/^[\w+/_-]+[=]{0,2}$/,je=null;function at(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&qe.test(t)?t:""}function ke(){}function Ke(t){var f=typeof t;return"object"!=f?f:t?Array.isArray(t)?"array":f:"null"}function dt(t){var f=Ke(t);return"array"==f||"object"==f&&"number"==typeof t.length}function it(t){return"function"==Ke(t)}function Dt(t){var f=typeof t;return"object"==f&&null!=t||"function"==f}function Tt(t){return Object.prototype.hasOwnProperty.call(t,hn)&&t[hn]||(t[hn]=++gt)}var hn="closure_uid_"+(1e9*Math.random()>>>0),gt=0;function Pe(t,f,w){return t.call.apply(t.bind,arguments)}function te(t,f,w){if(!t)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,R),t.apply(f,J)}}return function(){return t.apply(f,arguments)}}function Qe(t,f,w){return(Qe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pe:te).apply(null,arguments)}function Mt(t,f){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),t.apply(this,R)}}var bt=Date.now;function tt(t,f){function w(){}w.prototype=f.prototype,t.bb=f.prototype,t.prototype=new w,t.prototype.constructor=t}function Ze(t){return t}function Ee(t,f,w){this.code=Xe+t,this.message=f||st[t]||"",this.a=w||null}function Ye(t){var f=t&&t.code;return f?new Ee(f.substring(Xe.length),t.message,t.serverResponse):null}tt(Ee,Error),Ee.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},Ee.prototype.toJSON=function(){return this.w()};var wn,Xe="auth/",st={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},sn={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function fn(t){for(var f in sn)if(sn[f].id===t)return{firebaseEndpoint:(t=sn[f]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function mn(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(f){return!1}}function bn(t){if(Error.captureStackTrace)Error.captureStackTrace(this,bn);else{var f=Error().stack;f&&(this.stack=f)}t&&(this.message=String(t))}function zt(t,f){for(var w="",R=(t=t.split("%s")).length-1,J=0;J<R;J++)w+=t[J]+(J<f.length?f[J]:"%s");bn.call(this,w+t[R])}function qt(t,f){throw new zt("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function Kt(t,f){this.c=t,this.f=f,this.b=0,this.a=null}function Ht(t,f){t.f(f),100>t.b&&(t.b++,f.next=t.a,t.a=f)}function _n(){this.b=this.a=null}wn=fn("__EID__")?"__EID__":void 0,tt(bn,Error),bn.prototype.name="CustomError",tt(zt,bn),zt.prototype.name="AssertionError",Kt.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var an=new Kt(function(){return new di},function(t){t.reset()});function Vn(){var t=vs,f=null;return t.a&&(f=t.a,t.a=t.a.next,t.a||(t.b=null),f.next=null),f}function di(){this.next=this.b=this.a=null}_n.prototype.add=function(t,f){var w=an.get();w.set(t,f),this.b?this.b.next=w:this.a=w,this.b=w},di.prototype.set=function(t,f){this.a=t,this.b=f,this.next=null},di.prototype.reset=function(){this.next=this.b=this.a=null};var Pn=Array.prototype.indexOf?function(t,f){return Array.prototype.indexOf.call(t,f,void 0)}:function(t,f){if("string"==typeof t)return"string"!=typeof f||1!=f.length?-1:t.indexOf(f,0);for(var w=0;w<t.length;w++)if(w in t&&t[w]===f)return w;return-1},jn=Array.prototype.forEach?function(t,f,w){Array.prototype.forEach.call(t,f,w)}:function(t,f,w){for(var R=t.length,J="string"==typeof t?t.split(""):t,Ne=0;Ne<R;Ne++)Ne in J&&f.call(w,J[Ne],Ne,t)},cn=Array.prototype.filter?function(t,f){return Array.prototype.filter.call(t,f,void 0)}:function(t,f){for(var w=t.length,R=[],J=0,Ne="string"==typeof t?t.split(""):t,nt=0;nt<w;nt++)if(nt in Ne){var Wt=Ne[nt];f.call(void 0,Wt,nt,t)&&(R[J++]=Wt)}return R},Gn=Array.prototype.map?function(t,f){return Array.prototype.map.call(t,f,void 0)}:function(t,f){for(var w=t.length,R=Array(w),J="string"==typeof t?t.split(""):t,Ne=0;Ne<w;Ne++)Ne in J&&(R[Ne]=f.call(void 0,J[Ne],Ne,t));return R},$n=Array.prototype.some?function(t,f){return Array.prototype.some.call(t,f,void 0)}:function(t,f){for(var w=t.length,R="string"==typeof t?t.split(""):t,J=0;J<w;J++)if(J in R&&f.call(void 0,R[J],J,t))return!0;return!1};function Qn(t,f){return 0<=Pn(t,f)}function li(t,f){var w;return(w=0<=(f=Pn(t,f)))&&Array.prototype.splice.call(t,f,1),w}function ni(t,f){!function wt(t,f){for(var w="string"==typeof t?t.split(""):t,R=t.length-1;0<=R;--R)R in w&&f.call(void 0,w[R],R,t)}(t,function(R,J){f.call(void 0,R,J,t)&&Array.prototype.splice.call(t,J,1)})}function Yt(t){return Array.prototype.concat.apply([],arguments)}function q(t){var f=t.length;if(0<f){for(var w=Array(f),R=0;R<f;R++)w[R]=t[R];return w}return[]}var hi,de=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},ye=/&/g,Ce=/</g,pt=/>/g,Rt=/"/g,nn=/'/g,On=/\x00/g,Wn=/[\x00&<>"']/;function Yn(t,f){return-1!=t.indexOf(f)}function ei(t,f){return t<f?-1:t>f?1:0}e:{var Bi=Q.navigator;if(Bi){var vi=Bi.userAgent;if(vi){hi=vi;break e}}hi=""}function Ei(t){return Yn(hi,t)}function vt(t,f){for(var w in t)f.call(void 0,t[w],w,t)}function Nt(t){for(var f in t)return!1;return!0}function Ft(t){var w,f={};for(w in t)f[w]=t[w];return f}var vn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(t,f){for(var w,R,J=1;J<arguments.length;J++){for(w in R=arguments[J])t[w]=R[w];for(var Ne=0;Ne<vn.length;Ne++)w=vn[Ne],Object.prototype.hasOwnProperty.call(R,w)&&(t[w]=R[w])}}function ie(t,f){e:{try{var w=t&&t.ownerDocument,R=w&&(w.defaultView||w.parentWindow);if((R=R||Q).Element&&R.Location){var J=R;break e}}catch(nt){}J=null}if(J&&void 0!==J[f]&&(!t||!(t instanceof J[f])&&(t instanceof J.Location||t instanceof J.Element))){if(Dt(t))try{var Ne=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(nt){Ne="<object could not be stringified>"}else Ne=void 0===t?"undefined":null===t?"null":typeof t;qt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",f,Ne)}}function Z(t,f){this.a=t===ut&&f||"",this.b=Me}function Se(t){return t instanceof Z&&t.constructor===Z&&t.b===Me?t.a:(qt("expected object of type Const, got '"+t+"'"),"type_error:Const")}Z.prototype.ta=!0,Z.prototype.sa=function(){return this.a},Z.prototype.toString=function(){return"Const{"+this.a+"}"};var Be,Me={},ut={};function Ct(){if(void 0===Be){var t=null,f=Q.trustedTypes;if(f&&f.createPolicy){try{t=f.createPolicy("goog#html",{createHTML:Ze,createScript:Ze,createScriptURL:Ze})}catch(w){Q.console&&Q.console.error(w.message)}Be=t}else Be=t}return Be}function on(t,f){this.a=f===yt?t:""}function Sn(t){return t instanceof on&&t.constructor===on?t.a:(qt("expected object of type TrustedResourceUrl, got '"+t+"' of type "+Ke(t)),"type_error:TrustedResourceUrl")}function bi(t,f){var w=Se(t);if(!Pt.test(w))throw Error("Invalid TrustedResourceUrl format: "+w);return function Zt(t){var f=Ct();return new on(t=f?f.createScriptURL(t):t,yt)}(t=w.replace(rn,function(R,J){if(!Object.prototype.hasOwnProperty.call(f,J))throw Error('Found marker, "'+J+'", in format string, "'+w+'", but no valid label mapping found in args: '+JSON.stringify(f));return(R=f[J])instanceof Z?Se(R):encodeURIComponent(String(R))}))}on.prototype.ta=!0,on.prototype.sa=function(){return this.a.toString()},on.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var rn=/%{(\w+)}/g,Pt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,yt={};function Ln(t,f){this.a=f===si?t:""}function pn(t){return t instanceof Ln&&t.constructor===Ln?t.a:(qt("expected object of type SafeUrl, got '"+t+"' of type "+Ke(t)),"type_error:SafeUrl")}Ln.prototype.ta=!0,Ln.prototype.sa=function(){return this.a.toString()},Ln.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Et=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,ct=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,jt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function In(t){if(t instanceof Ln)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),jt.test(t))t=new Ln(t,si);else{var f=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(ct);t=f&&Et.test(f[1])?new Ln(t,si):null}return t}function kn(t){return t instanceof Ln?t:(t="object"==typeof t&&t.ta?t.sa():String(t),jt.test(t)||(t="about:invalid#zClosurez"),new Ln(t,si))}var si={},Mi=new Ln("about:invalid#zClosurez",si);function ht(t,f,w){this.a=w===Ie?t:""}ht.prototype.ta=!0,ht.prototype.sa=function(){return this.a.toString()},ht.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ie={};function ae(t,f,w,R){return t=t instanceof Ln?t:kn(t),f=f||Q,w=w instanceof Z?Se(w):w||"",f.open(pn(t),w,R,void 0)}function Ge(t,f){for(var w=t.split("%s"),R="",J=Array.prototype.slice.call(arguments,1);J.length&&1<w.length;)R+=w.shift()+J.shift();return R+w.join("%s")}function Oe(t){return Wn.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(ye,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Ce,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(pt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(Rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nn,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(On,"&#0;"))),t}function mt(t){return mt[" "](t),t}mt[" "]=ke;var mi,t,Mn=Ei("Opera"),Bn=Ei("Trident")||Ei("MSIE"),Ci=Ei("Edge"),ui=Ci||Bn,Or=Ei("Gecko")&&!(Yn(hi.toLowerCase(),"webkit")&&!Ei("Edge"))&&!(Ei("Trident")||Ei("MSIE"))&&!Ei("Edge"),hr=Yn(hi.toLowerCase(),"webkit")&&!Ei("Edge");function ur(){var t=Q.document;return t?t.documentMode:void 0}e:{var _i="",ji=(t=hi,Or?/rv:([^\);]+)(\)|;)/.exec(t):Ci?/Edge\/([\d\.]+)/.exec(t):Bn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):hr?/WebKit\/(\S+)/.exec(t):Mn?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(ji&&(_i=ji?ji[1]:""),Bn){var Hi=ur();if(null!=Hi&&Hi>parseFloat(_i)){mi=String(Hi);break e}}mi=_i}var qi={};function fr(t){return function Qt(t,f){var w=qi;return Object.prototype.hasOwnProperty.call(w,t)?w[t]:w[t]=f(t)}(t,function(){for(var f=0,w=de(String(mi)).split("."),R=de(String(t)).split("."),J=Math.max(w.length,R.length),Ne=0;0==f&&Ne<J;Ne++){var nt=w[Ne]||"",Wt=R[Ne]||"";do{if(nt=/(\d*)(\D*)(.*)/.exec(nt)||["","","",""],Wt=/(\d*)(\D*)(.*)/.exec(Wt)||["","","",""],0==nt[0].length&&0==Wt[0].length)break;f=ei(0==nt[1].length?0:parseInt(nt[1],10),0==Wt[1].length?0:parseInt(Wt[1],10))||ei(0==nt[2].length,0==Wt[2].length)||ei(nt[2],Wt[2]),nt=nt[3],Wt=Wt[3]}while(0==f)}return 0<=f})}var sr=Q.document&&Bn&&(ur()||parseInt(mi,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var vr=!Bn||9<=Number(sr);function Ki(t){var f=document;return"string"==typeof t?f.getElementById(t):t}function zr(t,f){vt(f,function(w,R){w&&"object"==typeof w&&w.ta&&(w=w.sa()),"style"==R?t.style.cssText=w:"class"==R?t.className=w:"for"==R?t.htmlFor=w:Fr.hasOwnProperty(R)?t.setAttribute(Fr[R],w):0==R.lastIndexOf("aria-",0)||0==R.lastIndexOf("data-",0)?t.setAttribute(R,w):t[R]=w})}var Jr,Ds,Fr={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function wo(t,f,w){function R(Wt){Wt&&f.appendChild("string"==typeof Wt?t.createTextNode(Wt):Wt)}for(var J=2;J<w.length;J++){var Ne=w[J];if(!dt(Ne)||Dt(Ne)&&0<Ne.nodeType)R(Ne);else{e:{if(Ne&&"number"==typeof Ne.length){if(Dt(Ne)){var nt="function"==typeof Ne.item||"string"==typeof Ne.item;break e}if(it(Ne)){nt="function"==typeof Ne.item;break e}}nt=!1}jn(nt?q(Ne):Ne,R)}}}function ms(t,f){return f=String(f),"application/xhtml+xml"===t.contentType&&(f=f.toLowerCase()),t.createElement(f)}function _s(t){Q.setTimeout(function(){throw t},0)}function Vr(t,f){Ds||function Wo(){if(Q.Promise&&Q.Promise.resolve){var t=Q.Promise.resolve(void 0);Ds=function(){t.then($s)}}else Ds=function(){var f=$s;!it(Q.setImmediate)||Q.Window&&Q.Window.prototype&&!Ei("Edge")&&Q.Window.prototype.setImmediate==Q.setImmediate?(Jr||(Jr=function js(){var t=Q.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Ei("Presto")&&(t=function(){var J=ms(document,"IFRAME");J.style.display="none",document.documentElement.appendChild(J);var Ne=J.contentWindow;(J=Ne.document).open(),J.close();var nt="callImmediate"+Math.random(),Wt="file:"==Ne.location.protocol?"*":Ne.location.protocol+"//"+Ne.location.host;J=Qe(function(ti){("*"==Wt||ti.origin==Wt)&&ti.data==nt&&this.port1.onmessage()},this),Ne.addEventListener("message",J,!1),this.port1={},this.port2={postMessage:function(){Ne.postMessage(nt,Wt)}}}),void 0!==t&&!Ei("Trident")&&!Ei("MSIE")){var f=new t,w={},R=w;return f.port1.onmessage=function(){if(void 0!==w.next){var J=(w=w.next).Hb;w.Hb=null,J()}},function(J){R.next={Hb:J},R=R.next,f.port2.postMessage(0)}}return function(J){Q.setTimeout(J,0)}}()),Jr(f)):Q.setImmediate(f)}}(),fo||(Ds(),fo=!0),vs.add(t,f)}var fo=!1,vs=new _n;function $s(){for(var t;t=Vn();){try{t.a.call(t.b)}catch(f){_s(f)}Ht(an,t)}fo=!1}function er(t,f){if(this.a=To,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=ke)try{var w=this;t.call(f,function(R){En(w,is,R)},function(R){if(!(R instanceof rr))try{throw R instanceof Error?R:Error("Promise rejected.")}catch(J){}En(w,Io,R)})}catch(R){En(this,Io,R)}}var To=0,is=2,Io=3;function Uo(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Uo.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var dr=new Kt(function(){return new Uo},function(t){t.reset()});function Dr(t,f,w){var R=dr.get();return R.g=t,R.b=f,R.f=w,R}function ki(t){if(t instanceof er)return t;var f=new er(ke);return En(f,is,t),f}function ar(t){return new er(function(f,w){w(t)})}function os(t,f,w){ii(t,f,w,null)||Vr(Mt(f,t))}function se(t){return new er(function(f){var w=t.length,R=[];if(w)for(var J=function(Wt,ti,yi){w--,R[Wt]=ti?{Qb:!0,value:yi}:{Qb:!1,reason:yi},0==w&&f(R)},Ne=0;Ne<t.length;Ne++)os(t[Ne],Mt(J,Ne,!0),Mt(J,Ne,!1));else f(R)})}function ft(t,f){if(t.a==To)if(t.c){var w=t.c;if(w.b){for(var R=0,J=null,Ne=null,nt=w.b;nt&&(nt.c||(R++,nt.a==t&&(J=nt),!(J&&1<R)));nt=nt.next)J||(Ne=nt);J&&(w.a==To&&1==R?ft(w,f):(Ne?((R=Ne).next==w.f&&(w.f=R),R.next=R.next.next):Pi(w),or(w,J,Io,f)))}t.c=null}else En(t,Io,f)}function Ut(t,f){t.b||t.a!=is&&t.a!=Io||fi(t),t.f?t.f.next=f:t.b=f,t.f=f}function un(t,f,w,R){var J=Dr(null,null,null);return J.a=new er(function(Ne,nt){J.g=f?function(Wt){try{var ti=f.call(R,Wt);Ne(ti)}catch(yi){nt(yi)}}:Ne,J.b=w?function(Wt){try{var ti=w.call(R,Wt);void 0===ti&&Wt instanceof rr?nt(Wt):Ne(ti)}catch(yi){nt(yi)}}:nt}),J.a.c=t,Ut(t,J),J.a}function En(t,f,w){t.a==To&&(t===w&&(f=Io,w=new TypeError("Promise cannot resolve to itself")),t.a=1,ii(w,t.$c,t.ad,t)||(t.i=w,t.a=f,t.c=null,fi(t),f!=Io||w instanceof rr||function po(t,f){t.g=!0,Vr(function(){t.g&&Lr.call(null,f)})}(t,w)))}function ii(t,f,w,R){if(t instanceof er)return Ut(t,Dr(f||ke,w||null,R)),!0;if(mn(t))return t.then(f,w,R),!0;if(Dt(t))try{var J=t.then;if(it(J))return function pi(t,f,w,R,J){function Ne(ti){Wt||(Wt=!0,R.call(J,ti))}var Wt=!1;try{f.call(t,function nt(ti){Wt||(Wt=!0,w.call(J,ti))},Ne)}catch(ti){Ne(ti)}}(t,J,f,w,R),!0}catch(Ne){return w.call(R,Ne),!0}return!1}function fi(t){t.h||(t.h=!0,Vr(t.gc,t))}function Pi(t){var f=null;return t.b&&(t.b=(f=t.b).next,f.next=null),t.b||(t.f=null),f}function or(t,f,w,R){if(w==Io&&f.b&&!f.c)for(;t&&t.g;t=t.c)t.g=!1;if(f.a)f.a.c=null,yr(f,w,R);else try{f.c?f.g.call(f.f):yr(f,w,R)}catch(J){Lr.call(null,J)}Ht(dr,f)}function yr(t,f,w){f==is?t.g.call(t.f,w):t.b&&t.b.call(t.f,w)}er.prototype.then=function(t,f,w){return un(this,it(t)?t:null,it(f)?f:null,w)},er.prototype.$goog_Thenable=!0,(_=er.prototype).oa=function(t,f){return(t=Dr(t,t,f)).c=!0,Ut(this,t),this},_.o=function(t,f){return un(this,null,t,f)},_.cancel=function(t){if(this.a==To){var f=new rr(t);Vr(function(){ft(this,f)},this)}},_.$c=function(t){this.a=To,En(this,is,t)},_.ad=function(t){this.a=To,En(this,Io,t)},_.gc=function(){for(var t;t=Pi(this);)or(this,t,this.a,this.i);this.h=!1};var Lr=_s;function rr(t){bn.call(this,t)}function _o(){0!=Er&&(Tr[Tt(this)]=this),this.ya=this.ya,this.pa=this.pa}tt(rr,bn),rr.prototype.name="cancel";var Er=0,Tr={};function no(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=Er)){var f=Tt(t);if(0!=Er&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Tr[f]}}_o.prototype.ya=!1,_o.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var vo=Object.freeze||function(t){return t},ao=!Bn||9<=Number(sr),Jo=Bn&&!fr("9"),ls=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,f=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Q.addEventListener("test",ke,f),Q.removeEventListener("test",ke,f)}catch(w){}return t}();function pr(t,f){this.type=t,this.b=this.target=f,this.defaultPrevented=!1}function le(t,f){if(pr.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var w=this.type=t.type,R=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=f,f=t.relatedTarget){if(Or){e:{try{mt(f.nodeName);var J=!0;break e}catch(Ne){}J=!1}J||(f=null)}}else"mouseover"==w?f=t.fromElement:"mouseout"==w&&(f=t.toElement);this.relatedTarget=f,R?(this.clientX=void 0!==R.clientX?R.clientX:R.pageX,this.clientY=void 0!==R.clientY?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Fe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}pr.prototype.preventDefault=function(){this.defaultPrevented=!0},tt(le,pr);var Fe=vo({2:"touch",3:"pen",4:"mouse"});le.prototype.preventDefault=function(){le.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Jo)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(f){}},le.prototype.g=function(){return this.a};var fe="closure_listenable_"+(1e6*Math.random()|0),ot=0;function Jt(t,f,w,R,J){this.listener=t,this.proxy=null,this.src=f,this.type=w,this.capture=!!R,this.Wa=J,this.key=++ot,this.wa=this.Qa=!1}function Tn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function Zn(t){this.src=t,this.a={},this.b=0}function Si(t,f){var w=f.type;w in t.a&&li(t.a[w],f)&&(Tn(f),0==t.a[w].length&&(delete t.a[w],t.b--))}function Zr(t,f,w,R){for(var J=0;J<t.length;++J){var Ne=t[J];if(!Ne.wa&&Ne.listener==f&&Ne.capture==!!w&&Ne.Wa==R)return J}return-1}Zn.prototype.add=function(t,f,w,R,J){var Ne=t.toString();(t=this.a[Ne])||(t=this.a[Ne]=[],this.b++);var nt=Zr(t,f,R,J);return-1<nt?(f=t[nt],w||(f.Qa=!1)):((f=new Jt(f,this.src,Ne,!!R,J)).Qa=w,t.push(f)),f};var Ir="closure_lm_"+(1e6*Math.random()|0),br={};function kr(t,f,w,R,J){if(R&&R.once)ve(t,f,w,R,J);else if(Array.isArray(f))for(var Ne=0;Ne<f.length;Ne++)kr(t,f[Ne],w,R,J);else w=Ur(w),t&&t[fe]?Kr(t,f,w,Dt(R)?!!R.capture:!!R,J):lo(t,f,w,!1,R,J)}function lo(t,f,w,R,J,Ne){if(!f)throw Error("Invalid event type");var nt=Dt(J)?!!J.capture:!!J,Wt=go(t);if(Wt||(t[Ir]=Wt=new Zn(t)),!(w=Wt.add(f,w,R,nt,Ne)).proxy)if(R=function No(){var t=Yr,f=ao?function(w){return t.call(f.src,f.listener,w)}:function(w){if(!(w=t.call(f.src,f.listener,w)))return w};return f}(),w.proxy=R,R.src=t,R.listener=w,t.addEventListener)ls||(J=nt),void 0===J&&(J=!1),t.addEventListener(f.toString(),R,J);else if(t.attachEvent)t.attachEvent(We(f.toString()),R);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(R)}}function ve(t,f,w,R,J){if(Array.isArray(f))for(var Ne=0;Ne<f.length;Ne++)ve(t,f[Ne],w,R,J);else w=Ur(w),t&&t[fe]?Ha(t,f,w,Dt(R)?!!R.capture:!!R,J):lo(t,f,w,!0,R,J)}function re(t,f,w,R,J){if(Array.isArray(f))for(var Ne=0;Ne<f.length;Ne++)re(t,f[Ne],w,R,J);else R=Dt(R)?!!R.capture:!!R,w=Ur(w),t&&t[fe]?(t=t.v,(f=String(f).toString())in t.a&&-1<(w=Zr(Ne=t.a[f],w,R,J))&&(Tn(Ne[w]),Array.prototype.splice.call(Ne,w,1),0==Ne.length&&(delete t.a[f],t.b--))):t&&(t=go(t))&&(f=t.a[f.toString()],t=-1,f&&(t=Zr(f,w,R,J)),(w=-1<t?f[t]:null)&&Y(w))}function Y(t){if("number"!=typeof t&&t&&!t.wa){var f=t.src;if(f&&f[fe])Si(f.v,t);else{var w=t.type,R=t.proxy;f.removeEventListener?f.removeEventListener(w,R,t.capture):f.detachEvent?f.detachEvent(We(w),R):f.addListener&&f.removeListener&&f.removeListener(R),(w=go(f))?(Si(w,t),0==w.b&&(w.src=null,f[Ir]=null)):Tn(t)}}}function We(t){return t in br?br[t]:br[t]="on"+t}function Un(t,f,w,R){var J=!0;if((t=go(t))&&(f=t.a[f.toString()]))for(f=f.concat(),t=0;t<f.length;t++){var Ne=f[t];Ne&&Ne.capture==w&&!Ne.wa&&(Ne=Ti(Ne,R),J=J&&!1!==Ne)}return J}function Ti(t,f){var w=t.listener,R=t.Wa||t.src;return t.Qa&&Y(t),w.call(R,f)}function Yr(t,f){if(t.wa)return!0;if(!ao){if(!f)e:{f=["window","event"];for(var w=Q,R=0;R<f.length;R++)if(null==(w=w[f[R]])){f=null;break e}f=w}if(f=new le(R=f,this),w=!0,!(0>R.keyCode||null!=R.returnValue)){e:{var J=!1;if(0==R.keyCode)try{R.keyCode=-1;break e}catch(nt){J=!0}(J||null==R.returnValue)&&(R.returnValue=!0)}for(R=[],J=f.b;J;J=J.parentNode)R.push(J);for(t=t.type,J=R.length-1;0<=J;J--){f.b=R[J];var Ne=Un(R[J],t,!0,f);w=w&&Ne}for(J=0;J<R.length;J++)f.b=R[J],Ne=Un(R[J],t,!1,f),w=w&&Ne}return w}return Ti(t,new le(f,this))}function go(t){return(t=t[Ir])instanceof Zn?t:null}var qr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ur(t){return it(t)?t:(t[qr]||(t[qr]=function(f){return t.handleEvent(f)}),t[qr])}function zn(){_o.call(this),this.v=new Zn(this),this.bc=this,this.hb=null}function Kr(t,f,w,R,J){t.v.add(String(f),w,!1,R,J)}function Ha(t,f,w,R,J){t.v.add(String(f),w,!0,R,J)}function Qi(t,f,w,R){if(!(f=t.v.a[String(f)]))return!0;f=f.concat();for(var J=!0,Ne=0;Ne<f.length;++Ne){var nt=f[Ne];if(nt&&!nt.wa&&nt.capture==w){var Wt=nt.listener,ti=nt.Wa||nt.src;nt.Qa&&Si(t.v,nt),J=!1!==Wt.call(ti,R)&&J}}return J&&!R.defaultPrevented}function Ts(t,f,w){if(it(t))w&&(t=Qe(t,w));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Qe(t.handleEvent,t)}return 2147483647<Number(f)?-1:Q.setTimeout(t,f||0)}function Nr(t){var f=null;return new er(function(w,R){-1==(f=Ts(function(){w(void 0)},t))&&R(Error("Failed to schedule timer."))}).o(function(w){throw Q.clearTimeout(f),w})}function $r(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(dt(t)){for(var f=[],w=t.length,R=0;R<w;R++)f.push(t[R]);return f}for(R in f=[],w=0,t)f[w++]=t[R];return f}function Bo(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(dt(t)||"string"==typeof t){var f=[];t=t.length;for(var w=0;w<t;w++)f.push(w);return f}for(var R in f=[],w=0,t)f[w++]=R;return f}}function Hr(t,f){this.b={},this.a=[],this.c=0;var w=arguments.length;if(1<w){if(w%2)throw Error("Uneven number of arguments");for(var R=0;R<w;R+=2)this.set(arguments[R],arguments[R+1])}else if(t)if(t instanceof Hr)for(w=t.Y(),R=0;R<w.length;R++)this.set(w[R],t.get(w[R]));else for(R in t)this.set(R,t[R])}function Ws(t){if(t.c!=t.a.length){for(var f=0,w=0;f<t.a.length;){var R=t.a[f];hs(t.b,R)&&(t.a[w++]=R),f++}t.a.length=w}if(t.c!=t.a.length){var J={};for(w=f=0;f<t.a.length;)hs(J,R=t.a[f])||(t.a[w++]=R,J[R]=1),f++;t.a.length=w}}function hs(t,f){return Object.prototype.hasOwnProperty.call(t,f)}tt(zn,_o),zn.prototype[fe]=!0,zn.prototype.addEventListener=function(t,f,w,R){kr(this,t,f,w,R)},zn.prototype.removeEventListener=function(t,f,w,R){re(this,t,f,w,R)},zn.prototype.dispatchEvent=function(t){var f,w=this.hb;if(w)for(f=[];w;w=w.hb)f.push(w);w=this.bc;var R=t.type||t;if("string"==typeof t)t=new pr(t,w);else if(t instanceof pr)t.target=t.target||w;else{var J=t;X(t=new pr(R,w),J)}if(J=!0,f)for(var Ne=f.length-1;0<=Ne;Ne--){var nt=t.b=f[Ne];J=Qi(nt,R,!0,t)&&J}if(J=Qi(nt=t.b=w,R,!0,t)&&J,J=Qi(nt,R,!1,t)&&J,f)for(Ne=0;Ne<f.length;Ne++)J=Qi(nt=t.b=f[Ne],R,!1,t)&&J;return J},zn.prototype.Da=function(){if(zn.bb.Da.call(this),this.v){var w,t=this.v;for(w in t.a){for(var R=t.a[w],J=0;J<R.length;J++)Tn(R[J]);delete t.a[w],t.b--}}this.hb=null},(_=Hr.prototype).X=function(){Ws(this);for(var t=[],f=0;f<this.a.length;f++)t.push(this.b[this.a[f]]);return t},_.Y=function(){return Ws(this),this.a.concat()},_.clear=function(){this.b={},this.c=this.a.length=0},_.get=function(t,f){return hs(this.b,t)?this.b[t]:f},_.set=function(t,f){hs(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=f},_.forEach=function(t,f){for(var w=this.Y(),R=0;R<w.length;R++){var J=w[R],Ne=this.get(J);t.call(f,Ne,J,this)}};var Is=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qo(t,f){var w;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof qo?(this.i=void 0!==f?f:t.i,Po(this,t.c),this.l=t.l,this.a=t.a,me(this,t.g),this.f=t.f,N(this,wr(t.b)),this.h=t.h):t&&(w=String(t).match(Is))?(this.i=!!f,Po(this,w[1]||"",!0),this.l=Gt(w[2]||""),this.a=Gt(w[3]||"",!0),me(this,w[4]),this.f=Gt(w[5]||"",!0),N(this,w[6]||"",!0),this.h=Gt(w[7]||"")):(this.i=!!f,this.b=new Yi(null,this.i))}function Po(t,f,w){t.c=w?Gt(f,!0):f,t.c&&(t.c=t.c.replace(/:$/,""))}function me(t,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);t.g=f}else t.g=null}function N(t,f,w){f instanceof Yi?(t.b=f,function Sr(t,f){f&&!t.f&&(Gi(t),t.c=null,t.a.forEach(function(w,R){var J=R.toLowerCase();R!=J&&(io(this,R),ss(this,J,w))},t)),t.f=f}(t.b,t.i)):(w||(f=Lt(f,cr)),t.b=new Yi(f,t.i))}function L(t,f,w){t.b.set(f,w)}function oe(t,f){return t.b.get(f)}function He(t){return t instanceof qo?new qo(t):new qo(t,void 0)}function _t(t,f,w,R){var J=new qo(null,void 0);return t&&Po(J,t),f&&(J.a=f),w&&me(J,w),R&&(J.f=R),J}function Gt(t,f){return t?f?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Lt(t,f,w){return"string"==typeof t?(t=encodeURI(t).replace(f,Dn),w&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Dn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}qo.prototype.toString=function(){var t=[],f=this.c;f&&t.push(Lt(f,qn,!0),":");var w=this.a;return(w||"file"==f)&&(t.push("//"),(f=this.l)&&t.push(Lt(f,qn,!0),"@"),t.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(w=this.g)&&t.push(":",String(w))),(w=this.f)&&(this.a&&"/"!=w.charAt(0)&&t.push("/"),t.push(Lt(w,"/"==w.charAt(0)?Ai:xi,!0))),(w=this.b.toString())&&t.push("?",w),(w=this.h)&&t.push("#",Lt(w,Rr)),t.join("")},qo.prototype.resolve=function(t){var f=new qo(this),w=!!t.c;w?Po(f,t.c):w=!!t.l,w?f.l=t.l:w=!!t.a,w?f.a=t.a:w=null!=t.g;var R=t.f;if(w)me(f,t.g);else if(w=!!t.f){if("/"!=R.charAt(0))if(this.a&&!this.f)R="/"+R;else{var J=f.f.lastIndexOf("/");-1!=J&&(R=f.f.substr(0,J+1)+R)}if(".."==(J=R)||"."==J)R="";else if(Yn(J,"./")||Yn(J,"/.")){R=0==J.lastIndexOf("/",0),J=J.split("/");for(var Ne=[],nt=0;nt<J.length;){var Wt=J[nt++];"."==Wt?R&&nt==J.length&&Ne.push(""):".."==Wt?((1<Ne.length||1==Ne.length&&""!=Ne[0])&&Ne.pop(),R&&nt==J.length&&Ne.push("")):(Ne.push(Wt),R=!0)}R=Ne.join("/")}else R=J}return w?f.f=R:w=""!==t.b.toString(),w?N(f,wr(t.b)):w=!!t.h,w&&(f.h=t.h),f};var qn=/[#\/\?@]/g,xi=/[#\?:]/g,Ai=/[#\?]/g,cr=/[#\?@]/g,Rr=/#/g;function Yi(t,f){this.b=this.a=null,this.c=t||null,this.f=!!f}function Gi(t){t.a||(t.a=new Hr,t.b=0,t.c&&function mr(t,f){if(t){t=t.split("&");for(var w=0;w<t.length;w++){var R=t[w].indexOf("="),J=null;if(0<=R){var Ne=t[w].substring(0,R);J=t[w].substring(R+1)}else Ne=t[w];f(Ne,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}(t.c,function(f,w){t.add(decodeURIComponent(f.replace(/\+/g," ")),w)}))}function Xr(t){var f=Bo(t);if(void 0===f)throw Error("Keys are undefined");var w=new Yi(null,void 0);t=$r(t);for(var R=0;R<f.length;R++){var J=f[R],Ne=t[R];Array.isArray(Ne)?ss(w,J,Ne):w.add(J,Ne)}return w}function io(t,f){Gi(t),f=Pr(t,f),hs(t.a.b,f)&&(t.c=null,t.b-=t.a.get(f).length,hs((t=t.a).b,f)&&(delete t.b[f],t.c--,t.a.length>2*t.c&&Ws(t)))}function Ro(t,f){return Gi(t),f=Pr(t,f),hs(t.a.b,f)}function ss(t,f,w){io(t,f),0<w.length&&(t.c=null,t.a.set(Pr(t,f),q(w)),t.b+=w.length)}function wr(t){var f=new Yi;return f.c=t.c,t.a&&(f.a=new Hr(t.a),f.b=t.b),f}function Pr(t,f){return f=String(f),t.f&&(f=f.toLowerCase()),f}function xo(t){var f=[];return Vo(new ro,t,f),f.join("")}function ro(){}function Vo(t,f,w){if(null==f)w.push("null");else{if("object"==typeof f){if(Array.isArray(f)){var R=f;f=R.length,w.push("[");for(var J="",Ne=0;Ne<f;Ne++)w.push(J),Vo(t,R[Ne],w),J=",";return void w.push("]")}if(!(f instanceof String||f instanceof Number||f instanceof Boolean)){for(R in w.push("{"),J="",f)Object.prototype.hasOwnProperty.call(f,R)&&"function"!=typeof(Ne=f[R])&&(w.push(J),Ho(R,w),w.push(":"),Vo(t,Ne,w),J=",");return void w.push("}")}f=f.valueOf()}switch(typeof f){case"string":Ho(f,w);break;case"number":w.push(isFinite(f)&&!isNaN(f)?String(f):"null");break;case"boolean":w.push(String(f));break;case"function":w.push("null");break;default:throw Error("Unknown type: "+typeof f)}}}(_=Yi.prototype).add=function(t,f){Gi(this),this.c=null,t=Pr(this,t);var w=this.a.get(t);return w||this.a.set(t,w=[]),w.push(f),this.b+=1,this},_.clear=function(){this.a=this.c=null,this.b=0},_.forEach=function(t,f){Gi(this),this.a.forEach(function(w,R){jn(w,function(J){t.call(f,J,R,this)},this)},this)},_.Y=function(){Gi(this);for(var t=this.a.X(),f=this.a.Y(),w=[],R=0;R<f.length;R++)for(var J=t[R],Ne=0;Ne<J.length;Ne++)w.push(f[R]);return w},_.X=function(t){Gi(this);var f=[];if("string"==typeof t)Ro(this,t)&&(f=Yt(f,this.a.get(Pr(this,t))));else{t=this.a.X();for(var w=0;w<t.length;w++)f=Yt(f,t[w])}return f},_.set=function(t,f){return Gi(this),this.c=null,Ro(this,t=Pr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[f]),this.b+=1,this},_.get=function(t,f){return t&&0<(t=this.X(t)).length?String(t[0]):f},_.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],f=this.a.Y(),w=0;w<f.length;w++){var R=f[w],J=encodeURIComponent(String(R));R=this.X(R);for(var Ne=0;Ne<R.length;Ne++){var nt=J;""!==R[Ne]&&(nt+="="+encodeURIComponent(String(R[Ne]))),t.push(nt)}}return this.c=t.join("&")};var cs={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Pa=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Ho(t,f){f.push('"',t.replace(Pa,function(w){var R=cs[w];return R||(R="\\u"+(65536|w.charCodeAt(0)).toString(16).substr(1),cs[w]=R),R}),'"')}function eo(){var t=jo();return Bn&&!!sr&&11==sr||/Edge\/\d+/.test(t)}function Xo(){return Q.window&&Q.window.location.href||self&&self.location&&self.location.href||""}function ea(t,f){f=f||Q.window;var w="about:blank";t&&(w=pn(In(t)||Mi)),f.location.href=w}function Fi(t,f){var R,w=[];for(R in t)R in f?typeof t[R]!=typeof f[R]?w.push(R):"object"==typeof t[R]&&null!=t[R]&&null!=f[R]?0<Fi(t[R],f[R]).length&&w.push(R):t[R]!==f[R]&&w.push(R):w.push(R);for(R in f)R in t||w.push(R);return w}function Li(t){return!!((t=(t||jo()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Ji(t){t=t||Q.window;try{t.close()}catch(f){}}function D(t,f,w){var R=Math.floor(1e9*Math.random()).toString();f=f||500,w=w||600;var J=(window.screen.availHeight-w)/2,Ne=(window.screen.availWidth-f)/2;for(nt in f={width:f,height:w,top:0<J?J:0,left:0<Ne?Ne:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},w=jo().toLowerCase(),R&&(f.target=R,Yn(w,"crios/")&&(f.target="_blank")),Rs(jo())==xs&&(t=t||"http://localhost",f.scrollbars=!0),w=t||"",(t=f)||(t={}),R=window,f=w instanceof Ln?w:In(void 0!==w.href?w.href:String(w))||Mi,w=t.target||w.target,J=[],t)switch(nt){case"width":case"height":case"top":case"left":J.push(nt+"="+t[nt]);break;case"target":case"noopener":case"noreferrer":break;default:J.push(nt+"="+(t[nt]?1:0))}var nt=J.join(",");if((Ei("iPhone")&&!Ei("iPod")&&!Ei("iPad")||Ei("iPad")||Ei("iPod"))&&R.navigator&&R.navigator.standalone&&w&&"_self"!=w?(ie(nt=ms(document,"A"),"HTMLAnchorElement"),f=f instanceof Ln?f:kn(f),nt.href=pn(f),nt.setAttribute("target",w),t.noreferrer&&nt.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,R,1),nt.dispatchEvent(t),nt={}):t.noreferrer?(nt=ae("",R,w,nt),t=pn(f),nt&&(ui&&Yn(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),nt.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Oe(t)+'">',t=new ht(t=(R=Ct())?R.createHTML(t):t,null,Ie),R=nt.document)&&(R.write(function An(t){return t instanceof ht&&t.constructor===ht?t.a:(qt("expected object of type SafeHtml, got '"+t+"' of type "+Ke(t)),"type_error:SafeHtml")}(t)),R.close())):(nt=ae(f,R,w,nt))&&t.noopener&&(nt.opener=null),nt)try{nt.focus()}catch(Wt){}return nt}var we=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,et=/^[^@]+@[^@]+$/;function kt(){var t=null;return new er(function(f){"complete"==Q.document.readyState?f():(t=function(){f()},ve(window,"load",t))}).o(function(f){throw re(window,"load",t),f})}function ai(t){return t=t||jo(),!("file:"!==B()&&"ionic:"!==B()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ri(){var t=Q.window;try{return!(!t||t==t.top)}catch(f){return!1}}function Cr(){return void 0!==Q.WorkerGlobalScope&&"function"==typeof Q.importScripts}function Br(){return d.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":d.default.INTERNAL.hasOwnProperty("node")?"Node":Cr()?"Worker":"Browser"}function co(){var t=Br();return"ReactNative"===t||"Node"===t}var xs="Firefox";function Rs(t){var f=t.toLowerCase();return Yn(f,"opera/")||Yn(f,"opr/")||Yn(f,"opios/")?"Opera":Yn(f,"iemobile")?"IEMobile":Yn(f,"msie")||Yn(f,"trident/")?"IE":Yn(f,"edge/")?"Edge":Yn(f,"firefox/")?xs:Yn(f,"silk/")?"Silk":Yn(f,"blackberry")?"Blackberry":Yn(f,"webos")?"Webos":!Yn(f,"safari/")||Yn(f,"chrome/")||Yn(f,"crios/")||Yn(f,"android")?!Yn(f,"chrome/")&&!Yn(f,"crios/")||Yn(f,"edge/")?Yn(f,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var Ca={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Da(t,f){f=f||[];var J,w=[],R={};for(J in Ca)R[Ca[J]]=!0;for(J=0;J<f.length;J++)void 0!==R[f[J]]&&(delete R[f[J]],w.push(f[J]));return w.sort(),(f=w).length||(f=["FirebaseCore-web"]),"Browser"===(w=Br())?w=Rs(R=jo()):"Worker"===w&&(w=Rs(R=jo())+"-"+w),w+"/JsCore/"+t+"/"+f.join(",")}function jo(){return Q.navigator&&Q.navigator.userAgent||""}function So(t,f){t=t.split("."),f=f||Q;for(var w=0;w<t.length&&"object"==typeof f&&null!=f;w++)f=f[t[w]];return w!=t.length&&(f=void 0),f}function Xa(){try{var t=Q.localStorage,f=en();if(t)return t.setItem(f,"1"),t.removeItem(f),!eo()||!!Q.indexedDB}catch(w){return Cr()&&!!Q.indexedDB}return!1}function K(){return(H()||"chrome-extension:"===B()||ai())&&!co()&&Xa()&&!Cr()}function H(){return"http:"===B()||"https:"===B()}function B(){return Q.location&&Q.location.protocol||null}function ue(t){return!(Li(t=t||jo())||Rs(t)==xs)}function Ae(t){return void 0===t?null:xo(t)}function Je(t){var w,f={};for(w in t)t.hasOwnProperty(w)&&null!=t[w]&&(f[w]=t[w]);return f}function It(t){if(null!==t)return JSON.parse(t)}function en(t){return t||Math.floor(1e9*Math.random()).toString()}function Kn(t){return!("Safari"==Rs(t=t||jo())||t.toLowerCase().match(/iphone|ipad|ipod/))}function Oi(){var t=Q.___jsl;if(t&&t.H)for(var f in t.H)if(t.H[f].r=t.H[f].r||[],t.H[f].L=t.H[f].L||[],t.H[f].r=t.H[f].L.concat(),t.CP)for(var w=0;w<t.CP.length;w++)t.CP[w]=null}function Mr(t,f){if(t>f)throw Error("Short delay should be less than long delay!");this.a=t,this.c=f,t=jo(),f=Br(),this.b=Li(t)||"ReactNative"===f}function $i(){var t=Q.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Qr(t){try{var f=new Date(parseInt(t,10));if(!isNaN(f.getTime())&&!/[^0-9]/.test(t))return f.toUTCString()}catch(w){}return null}function Es(){return!(!So("fireauth.oauthhelper",Q)&&!So("fireauth.iframe",Q))}Mr.prototype.get=function(){var t=Q.navigator;return!t||"boolean"!=typeof t.onLine||!H()&&"chrome-extension:"!==B()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Lo,Ea={};function Fo(t){Ea[t]||(Ea[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Ml={};Object.defineProperty(Ml,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ml,"abcd",{configurable:!0,enumerable:!0,value:2}),Lo=2==Ml.abcd}catch(t){Lo=!1}function Di(t,f,w){Lo?Object.defineProperty(t,f,{configurable:!0,enumerable:!0,value:w}):t[f]=w}function us(t,f){if(f)for(var w in f)f.hasOwnProperty(w)&&Di(t,w,f[w])}function Fa(t){var f={};return us(f,t),f}function tl(t){var f=t;if("object"==typeof t&&null!=t)for(var w in f="length"in t?[]:{},t)Di(f,w,tl(t[w]));return f}function nl(t){var f=t&&(t[Bc]?"phone":null);if(!(f&&t&&t[Ta]))throw new Ee("internal-error","Internal assert: invalid MultiFactorInfo object");Di(this,"uid",t[Ta]),Di(this,"displayName",t[Qc]||null);var w=null;t[La]&&(w=new Date(t[La]).toUTCString()),Di(this,"enrollmentTime",w),Di(this,"factorId",f)}function ta(t){try{var f=new ys(t)}catch(w){f=null}return f}nl.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Qc="displayName",La="enrolledAt",Ta="mfaEnrollmentId",Bc="phoneInfo";function ys(t){nl.call(this,t),Di(this,"phoneNumber",t[Bc])}function uo(t){var f={},w=t[yc],R=t[Lu],J=t[Bu];if(t=ta(t[td]),!J||J!=Sl&&J!=vc&&!w||J==vc&&!R||J==na&&!t)throw Error("Invalid checkActionCode response!");J==vc?(f[Uc]=w||null,f[ql]=w||null,f[Os]=R):(f[Uc]=R||null,f[ql]=R||null,f[Os]=w||null),f[Go]=t||null,Di(this,Jc,J),Di(this,ca,tl(f))}tt(ys,nl),ys.prototype.w=function(){var t=ys.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var na="REVERT_SECOND_FACTOR_ADDITION",Sl="EMAIL_SIGNIN",vc="VERIFY_AND_CHANGE_EMAIL",yc="email",td="mfaInfo",Lu="newEmail",Bu="requestType",Os="email",Uc="fromEmail",Go="multiFactorInfo",ql="previousEmail",ca="data",Jc="operation";function Xc(t){var f=oe(t=He(t),zo)||null,w=oe(t,ks)||null,R=oe(t,Al)||null;if(R=R&&Kl[R]||null,!f||!w||!R)throw new Ee("argument-error",zo+", "+ks+"and "+Al+" are required in a valid action code URL.");us(this,{apiKey:f,operation:R,code:w,continueUrl:oe(t,fl)||null,languageCode:oe(t,pl)||null,tenantId:oe(t,Vc)||null})}var zo="apiKey",ks="oobCode",fl="continueUrl",pl="languageCode",Al="mode",Vc="tenantId",Kl={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:na,signIn:Sl,verifyAndChangeEmail:vc,verifyEmail:"VERIFY_EMAIL"};function gl(t){try{return new Xc(t)}catch(f){return null}}function yu(t){var f=t[Jl];if(void 0===f)throw new Ee("missing-continue-uri");if("string"!=typeof f||"string"==typeof f&&!f.length)throw new Ee("invalid-continue-uri");this.h=f,this.b=this.a=null,this.g=!1;var w=t[Il];if(w&&"object"==typeof w){f=w[bu];var R=w[eu];if(w=w[tu],"string"==typeof f&&f.length){if(this.a=f,void 0!==R&&"boolean"!=typeof R)throw new Ee("argument-error",eu+" property must be a boolean when specified.");if(this.g=!!R,void 0!==w&&("string"!=typeof w||"string"==typeof w&&!w.length))throw new Ee("argument-error",tu+" property must be a non empty string when specified.");this.b=w||null}else{if(void 0!==f)throw new Ee("argument-error",bu+" property must be a non empty string when specified.");if(void 0!==R||void 0!==w)throw new Ee("missing-android-pkg-name")}}else if(void 0!==w)throw new Ee("argument-error",Il+" property must be a non null object when specified.");if(this.f=null,(f=t[Ql])&&"object"==typeof f){if("string"==typeof(f=f[Uu])&&f.length)this.f=f;else if(void 0!==f)throw new Ee("argument-error",Uu+" property must be a non empty string when specified.")}else if(void 0!==f)throw new Ee("argument-error",Ql+" property must be a non null object when specified.");if(void 0!==(f=t[Ns])&&"boolean"!=typeof f)throw new Ee("argument-error",Ns+" property must be a boolean when specified.");if(this.c=!!f,void 0!==(t=t[ml])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Ee("argument-error",ml+" property must be a non empty string when specified.");this.i=t||null}var Il="android",ml="dynamicLinkDomain",Ns="handleCodeInApp",Ql="iOS",Jl="url",eu="installApp",tu="minimumVersion",bu="packageName",Uu="bundleId";function Xl(t){var f={};for(var w in f.continueUrl=t.h,f.canHandleCodeInApp=t.c,(f.androidPackageName=t.a)&&(f.androidMinimumVersion=t.b,f.androidInstallApp=t.g),f.iOSBundleId=t.f,f.dynamicLinkDomain=t.i,f)null===f[w]&&delete f[w];return f}var ia=null;function bc(t){var f=es(t);if(!(f&&f.sub&&f.iss&&f.aud&&f.exp))throw Error("Invalid JWT");this.h=t,this.a=f.exp,this.i=f.sub,t=Date.now()/1e3,this.g=f.iat||(t>this.a?this.a:t),this.b=f.provider_id||f.firebase&&f.firebase.sign_in_provider||null,this.f=f.firebase&&f.firebase.tenant||null,this.c=!!f.is_anonymous||"anonymous"==this.b}function xa(t){try{return new bc(t)}catch(f){return null}}function es(t){if(!t||3!=(t=t.split(".")).length)return null;for(var f=(4-(t=t[1]).length%4)%4,w=0;w<f;w++)t+=".";try{var R=function Gs(t){var f=[];return function _l(t,f){function w(ti){for(;R<t.length;){var yi=t.charAt(R++),bo=ia[yi];if(null!=bo)return bo;if(!/^[\s\xa0]*$/.test(yi))throw Error("Unknown base64 encoding at char: "+yi)}return ti}!function ec(){if(!ia){ia={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),f=["+/=","+/","-_=","-_.","-_"],w=0;5>w;w++)for(var R=t.concat(f[w].split("")),J=0;J<R.length;J++){var Ne=R[J];void 0===ia[Ne]&&(ia[Ne]=J)}}}();for(var R=0;;){var J=w(-1),Ne=w(0),nt=w(64),Wt=w(64);if(64===Wt&&-1===J)break;f(J<<2|Ne>>4),64!=nt&&(f(Ne<<4&240|nt>>2),64!=Wt&&f(nt<<6&192|Wt))}}(t,function(w){f.push(w)}),f}(t);for(t=[],w=f=0;f<R.length;){var J=R[f++];if(128>J)t[w++]=String.fromCharCode(J);else if(191<J&&224>J){var Ne=R[f++];t[w++]=String.fromCharCode((31&J)<<6|63&Ne)}else if(239<J&&365>J){Ne=R[f++];var nt=R[f++],ti=((7&J)<<18|(63&Ne)<<12|(63&nt)<<6|63&R[f++])-65536;t[w++]=String.fromCharCode(55296+(ti>>10)),t[w++]=String.fromCharCode(56320+(1023&ti))}else Ne=R[f++],nt=R[f++],t[w++]=String.fromCharCode((15&J)<<12|(63&Ne)<<6|63&nt)}return JSON.parse(t.join(""))}catch(yi){}return null}bc.prototype.T=function(){return this.f},bc.prototype.l=function(){return this.c},bc.prototype.toString=function(){return this.h};var pa="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Rl=["client_id","response_type","scope","redirect_uri","state"],wu={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Rl},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Rl},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Rl},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:pa},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function vl(t){for(var f in wu)if(wu[f].fa==t)return wu[f];return null}function il(t){var f={};f["facebook.com"]=Ko,f["google.com"]=Cu,f["github.com"]=wc,f["twitter.com"]=Hc;var w=t&&t[kl];try{if(w)return f[w]?new f[w](t):new ua(t);if(void 0!==t[Ol])return new ja(t)}catch(R){}return null}var Ol="idToken",kl="providerId";function ja(t){var f=t[kl];if(!f&&t[Ol]){var w=xa(t[Ol]);w&&w.b&&(f=w.b)}if(!f)throw Error("Invalid additional user info!");("anonymous"==f||"custom"==f)&&(f=null),w=!1,void 0!==t.isNewUser?w=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(w=!0),Di(this,"providerId",f),Di(this,"isNewUser",w)}function ua(t){ja.call(this,t),Di(this,"profile",tl((t=It(t.rawUserInfo||"{}"))||{}))}function Ko(t){if(ua.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function wc(t){if(ua.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Di(this,"username",this.profile&&this.profile.login||null)}function Cu(t){if(ua.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Hc(t){if(ua.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Di(this,"username",t.screenName||null)}function Nl(t){var f=He(t),w=oe(f,"link"),R=oe(He(w),"link");return f=oe(f,"deep_link_id"),oe(He(f),"link")||f||R||w||t}function yl(t,f){if(!t&&!f)throw new Ee("internal-error","Internal assert: no raw session string available");if(t&&f)throw new Ee("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=f||null,this.type=this.a?Ma:ga}tt(ua,ja),tt(Ko,ua),tt(wc,ua),tt(Cu,ua),tt(Hc,ua);var Ma="enroll",ga="signin";function Sa(){}function ps(t,f){return t.then(function(w){if(w[ce]){var R=xa(w[ce]);if(!R||f!=R.i)throw new Ee("user-mismatch");return w}throw new Ee("user-mismatch")}).o(function(w){throw w&&w.code&&w.code==Xe+"user-not-found"?new Ee("user-mismatch"):w})}function Ba(t,f){if(!f)throw new Ee("internal-error","failed to construct a credential");this.a=f,Di(this,"providerId",t),Di(this,"signInMethod",t)}function bl(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function nu(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new Ba(t.providerId,t.pendingToken)}catch(f){}return null}function ma(t,f,w){if(this.a=null,f.idToken||f.accessToken)f.idToken&&Di(this,"idToken",f.idToken),f.accessToken&&Di(this,"accessToken",f.accessToken),f.nonce&&!f.pendingToken&&Di(this,"nonce",f.nonce),f.pendingToken&&(this.a=f.pendingToken);else{if(!f.oauthToken||!f.oauthTokenSecret)throw new Ee("internal-error","failed to construct a credential");Di(this,"accessToken",f.oauthToken),Di(this,"secret",f.oauthTokenSecret)}Di(this,"providerId",t),Di(this,"signInMethod",w)}function Pl(t){var f={};return t.idToken&&(f.id_token=t.idToken),t.accessToken&&(f.access_token=t.accessToken),t.secret&&(f.oauth_token_secret=t.secret),f.providerId=t.providerId,t.nonce&&!t.a&&(f.nonce=t.nonce),f={postBody:Xr(f).toString(),requestUri:"http://localhost"},t.a&&(delete f.postBody,f.pendingToken=t.a),f}function Fl(t){if(t&&t.providerId&&t.signInMethod){var f={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ma(t.providerId,f,t.signInMethod)}catch(w){}}return null}function ra(t,f){this.Qc=f||[],us(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(vl(t)||{}).Ja||null,this.pb=null}function tc(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new Ee("argument-error",'SAML provider IDs must be prefixed with "saml."');ra.call(this,t,[])}function qs(t){ra.call(this,t,Rl),this.a=[]}function Fs(){qs.call(this,"facebook.com")}function tr(t){if(!t)throw new Ee("argument-error","credential failed: expected 1 argument (the OAuth access token).");var f=t;return Dt(t)&&(f=t.accessToken),(new Fs).credential({accessToken:f})}function oo(){qs.call(this,"github.com")}function Cc(t){if(!t)throw new Ee("argument-error","credential failed: expected 1 argument (the OAuth access token).");var f=t;return Dt(t)&&(f=t.accessToken),(new oo).credential({accessToken:f})}function wl(){qs.call(this,"google.com"),this.Ca("profile")}function Du(t,f){var w=t;return Dt(t)&&(w=t.idToken,f=t.accessToken),(new wl).credential({idToken:w,accessToken:f})}function rl(){ra.call(this,"twitter.com",pa)}function Ga(t,f){var w=t;if(Dt(w)||(w={oauthToken:t,oauthTokenSecret:f}),!w.oauthToken||!w.oauthTokenSecret)throw new Ee("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ma("twitter.com",w,"twitter.com")}function Aa(t,f,w){this.a=t,this.f=f,Di(this,"providerId","password"),Di(this,"signInMethod",w===oa.EMAIL_LINK_SIGN_IN_METHOD?oa.EMAIL_LINK_SIGN_IN_METHOD:oa.EMAIL_PASSWORD_SIGN_IN_METHOD)}function nd(t){return t&&t.email&&t.password?new Aa(t.email,t.password,t.signInMethod):null}function oa(){us(this,{providerId:"password",isOAuthProvider:!1})}function Dc(t,f){if(!(f=Ll(f)))throw new Ee("argument-error","Invalid email link!");return new Aa(t,f.code,oa.EMAIL_LINK_SIGN_IN_METHOD)}function Ll(t){return(t=gl(t=Nl(t)))&&t.operation===Sl?t:null}function _a(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new Ee("internal-error");this.a=t,Di(this,"providerId","phone"),this.fa="phone",Di(this,"signInMethod","phone")}function jc(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var f={};return jn(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(w){t[w]&&(f[w]=t[w])}),new _a(f)}return null}function iu(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function ds(t){try{this.a=t||d.default.auth()}catch(f){throw new Ee("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}us(this,{providerId:"phone",isOAuthProvider:!1})}function Gc(t,f){if(!t)throw new Ee("missing-verification-id");if(!f)throw new Ee("missing-verification-code");return new _a({fb:t,eb:f})}function zc(t){if(t.temporaryProof&&t.phoneNumber)return new _a({La:t.temporaryProof,ea:t.phoneNumber});var f=t&&t.providerId;if(!f||"password"===f)return null;var w=t&&t.oauthAccessToken,R=t&&t.oauthTokenSecret,J=t&&t.nonce,Ne=t&&t.oauthIdToken,nt=t&&t.pendingToken;try{switch(f){case"google.com":return Du(Ne,w);case"facebook.com":return tr(w);case"github.com":return Cc(w);case"twitter.com":return Ga(w,R);default:return w||R||Ne||nt?nt?0==f.indexOf("saml.")?new Ba(f,nt):new ma(f,{pendingToken:nt,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},f):new qs(f).credential({idToken:Ne,accessToken:w,rawNonce:J}):null}}catch(Wt){return null}}function ru(t){if(!t.isOAuthProvider)throw new Ee("invalid-oauth-provider")}function Ks(t,f,w,R,J,Ne,nt){if(this.c=t,this.b=f||null,this.g=w||null,this.f=R||null,this.i=Ne||null,this.h=nt||null,this.a=J||null,!this.g&&!this.a)throw new Ee("invalid-auth-event");if(this.g&&this.a)throw new Ee("invalid-auth-event");if(this.g&&!this.f)throw new Ee("invalid-auth-event")}function za(t){return(t=t||{}).type?new Ks(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Ye(t.error),t.postBody,t.tenantId):null}function Qs(){this.b=null,this.a=[]}yl.prototype.Ha=function(){return ki(this.a?this.a:this.b)},yl.prototype.w=function(){return this.type==Ma?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Sa.prototype.ka=function(){},Sa.prototype.b=function(){},Sa.prototype.c=function(){},Sa.prototype.w=function(){},Ba.prototype.ka=function(t){return rd(t,bl(this))},Ba.prototype.b=function(t,f){var w=bl(this);return w.idToken=f,wa(t,w)},Ba.prototype.c=function(t,f){return ps(hc(t,bl(this)),f)},Ba.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ma.prototype.ka=function(t){return rd(t,Pl(this))},ma.prototype.b=function(t,f){var w=Pl(this);return w.idToken=f,wa(t,w)},ma.prototype.c=function(t,f){return ps(hc(t,Pl(this)),f)},ma.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},ra.prototype.Ka=function(t){return this.Jb=Ft(t),this},tt(tc,ra),tt(qs,ra),qs.prototype.Ca=function(t){return Qn(this.a,t)||this.a.push(t),this},qs.prototype.Rb=function(){return q(this.a)},qs.prototype.credential=function(t,f){var w;if(!(w=Dt(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:f||null}).idToken&&!w.accessToken)throw new Ee("argument-error","credential failed: must provide the ID token and/or the access token.");return new ma(this.providerId,w,this.providerId)},tt(Fs,qs),Di(Fs,"PROVIDER_ID","facebook.com"),Di(Fs,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),tt(oo,qs),Di(oo,"PROVIDER_ID","github.com"),Di(oo,"GITHUB_SIGN_IN_METHOD","github.com"),tt(wl,qs),Di(wl,"PROVIDER_ID","google.com"),Di(wl,"GOOGLE_SIGN_IN_METHOD","google.com"),tt(rl,ra),Di(rl,"PROVIDER_ID","twitter.com"),Di(rl,"TWITTER_SIGN_IN_METHOD","twitter.com"),Aa.prototype.ka=function(t){return this.signInMethod==oa.EMAIL_LINK_SIGN_IN_METHOD?mo(t,Su,{email:this.a,oobCode:this.f}):mo(t,gc,{email:this.a,password:this.f})},Aa.prototype.b=function(t,f){return this.signInMethod==oa.EMAIL_LINK_SIGN_IN_METHOD?mo(t,qc,{idToken:f,email:this.a,oobCode:this.f}):mo(t,pu,{idToken:f,email:this.a,password:this.f})},Aa.prototype.c=function(t,f){return ps(this.ka(t),f)},Aa.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},us(oa,{PROVIDER_ID:"password"}),us(oa,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),us(oa,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),_a.prototype.ka=function(t){return t.gb(iu(this))},_a.prototype.b=function(t,f){var w=iu(this);return w.idToken=f,mo(t,Yl,w)},_a.prototype.c=function(t,f){var w=iu(this);return w.operation="REAUTH",ps(t=mo(t,yd,w),f)},_a.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},ds.prototype.gb=function(t,f){var w=this.a.a;return ki(f.verify()).then(function(R){if("string"!=typeof R)throw new Ee("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===f.type){var nt,J=Dt(t)?t.session:null,Ne=Dt(t)?t.phoneNumber:t;return nt=J&&J.type==Ma?J.Ha().then(function(Wt){return function dc(t,f){return mo(t,vd,f).then(function(w){return w.phoneSessionInfo.sessionInfo})}(w,{idToken:Wt,phoneEnrollmentInfo:{phoneNumber:Ne,recaptchaToken:R}})}):J&&J.type==ga?J.Ha().then(function(Wt){return function Zc(t,f){return mo(t,ad,f).then(function(w){return w.phoneResponseInfo.sessionInfo})}(w,{mfaPendingCredential:Wt,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:R}})}):function lu(t,f){return mo(t,Au,f)}(w,{phoneNumber:Ne,recaptchaToken:R}),nt.then(function(Wt){return"function"==typeof f.reset&&f.reset(),Wt},function(Wt){throw"function"==typeof f.reset&&f.reset(),Wt})}throw new Ee("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},us(ds,{PROVIDER_ID:"phone"}),us(ds,{PHONE_SIGN_IN_METHOD:"phone"}),Ks.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Ks.prototype.T=function(){return this.h},Ks.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var ol,nc=null;function ic(t){var f="unauthorized-domain",w=void 0,R=He(t);t=R.a,"chrome-extension"==(R=R.c)?w=Ge("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==R||"https"==R?w=Ge("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):f="operation-not-supported-in-this-environment",Ee.call(this,f,w)}function rc(t,f,w){Ee.call(this,t,w),(t=f||{}).Kb&&Di(this,"email",t.Kb),t.ea&&Di(this,"phoneNumber",t.ea),t.credential&&Di(this,"credential",t.credential),t.$b&&Di(this,"tenantId",t.$b)}function gs(t){if(t.code){var f=t.code||"";0==f.indexOf(Xe)&&(f=f.substring(Xe.length));var w={credential:zc(t),$b:t.tenantId};if(t.email)w.Kb=t.email;else if(t.phoneNumber)w.ea=t.phoneNumber;else if(!w.credential)return new Ee(f,t.message||void 0);return new rc(f,w,t.message)}return null}function Co(){}function Bl(){}function Eu(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var f=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],w=0;w<f.length;w++){var R=f[w];try{return new ActiveXObject(R),t.f=R}catch(J){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Tc(){}function Yc(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=Qe(this.qc,this),this.a.onerror=Qe(this.Tb,this),this.a.onprogress=Qe(this.rc,this),this.a.ontimeout=Qe(this.vc,this)}function xc(t,f){t.readyState=f,t.onreadystatechange&&t.onreadystatechange()}function Ya(t,f,w){this.reset(t,f,w,void 0,void 0)}function oc(t){this.f=t,this.b=this.c=this.a=null}function sc(t,f){this.name=t,this.value=f}tt(ic,Ee),tt(rc,Ee),rc.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var f=this.credential&&this.credential.w();return f&&X(t,f),t},rc.prototype.toJSON=function(){return this.w()},Co.prototype.c=null,tt(Bl,Co),Bl.prototype.a=function(){var t=Eu(this);return t?new ActiveXObject(t):new XMLHttpRequest},Bl.prototype.b=function(){var t={};return Eu(this)&&(t[0]=!0,t[1]=!0),t},ol=new Bl,tt(Tc,Co),Tc.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Yc;throw Error("Unsupported browser")},Tc.prototype.b=function(){return{}},(_=Yc.prototype).open=function(t,f,w){if(null!=w&&!w)throw Error("Only async requests are supported.");this.a.open(t,f)},_.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},_.abort=function(){this.a.abort()},_.setRequestHeader=function(){},_.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},_.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,xc(this,4)},_.Tb=function(){this.status=500,this.response=this.responseText="",xc(this,4)},_.vc=function(){this.Tb()},_.rc=function(){this.status=200,xc(this,1)},_.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ya.prototype.a=null,Ya.prototype.reset=function(t,f,w,R,J){R||bt(),delete this.a},sc.prototype.toString=function(){return this.name};var Tu=new sc("SEVERE",1e3),Sc=new sc("WARNING",900),Cl=new sc("CONFIG",700),Ul=new sc("FINE",500);function Ls(t){return t.c?t.c:t.a?Ls(t.a):(qt("Root logger has no level set."),null)}oc.prototype.log=function(t,f,w){if(t.value>=Ls(this).value)for(it(f)&&(f=f()),t=new Ya(t,String(f),this.f),w&&(t.a=w),w=this;w;)w=w.a};var Ia={},sl=null;function Dl(t){var f;if(sl||(sl=new oc(""),Ia[""]=sl,sl.c=Cl),!(f=Ia[t])){f=new oc(t);var w=t.lastIndexOf("."),R=t.substr(w+1);(w=Dl(t.substr(0,w))).b||(w.b={}),w.b[R]=f,f.a=w,Ia[t]=f}return f}function zs(t,f){t&&t.log(Ul,f,void 0)}function va(t){this.f=t}function Ac(t){zn.call(this),this.u=t,this.h=void 0,this.readyState=ac,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Dl("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}tt(va,Co),va.prototype.a=function(){return new Ac(this.f)},va.prototype.b=function(t){return function(){return t}}({}),tt(Ac,zn);var ac=0;function $a(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function lc(t){t.readyState=4,t.g=null,t.c=null,t.m=null,al(t)}function al(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Vl(t){zn.call(this),this.headers=new Hr,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Vu,this.u=this.S=!1}(_=Ac.prototype).open=function(t,f){if(this.readyState!=ac)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=f,this.readyState=1,al(this)},_.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var f={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(f.body=t),this.u.fetch(new Request(this.f,f)).then(this.uc.bind(this),this.Va.bind(this))},_.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,lc(this)),this.readyState=ac},_.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,al(this)),this.a&&(this.readyState=3,al(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==Q.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,$a(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},_.pc=function(t){if(this.a){var f=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});f&&(this.response=this.responseText+=f),t.done?lc(this):al(this),3==this.readyState&&$a(this)}},_.tc=function(t){this.a&&(this.response=this.responseText=t,lc(this))},_.sc=function(t){this.a&&(this.response=t,lc(this))},_.Va=function(t){var f=this.i;f&&f.log(Sc,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&lc(this)},_.setRequestHeader=function(t,f){this.l.append(t,f)},_.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(Sc,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},_.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(Sc,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var f=this.b.entries(),w=f.next();!w.done;)t.push((w=w.value)[0]+": "+w[1]),w=f.next();return t.join("\r\n")},Object.defineProperty(Ac.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),tt(Vl,zn);var Vu="";Vl.prototype.b=Dl("goog.net.XhrIo");var ll=/^https?$/i,Hu=["POST","PUT"];function su(t){return"content-type"==t.toLowerCase()}function Wa(t,f){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=f,Hl(t),Ic(t)}function Hl(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function $c(t){if(t.c&&void 0!==Ve)if(t.C[1]&&4==Zo(t)&&2==jl(t))zs(t.b,ya(t,"Local request error detected and ignored"));else if(t.i&&4==Zo(t))Ts(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==Zo(t)){zs(t.b,ya(t,"Request complete")),t.c=!1;try{var R,f=jl(t);e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}if(!(R=w)){var J;if(J=0===f){var Ne=String(t.l).match(Is)[1]||null;if(!Ne&&Q.self&&Q.self.location){var nt=Q.self.location.protocol;Ne=nt.substr(0,nt.length-1)}J=!ll.test(Ne?Ne.toLowerCase():"")}R=J}if(R)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var Wt=2<Zo(t)?t.a.statusText:""}catch(ti){zs(t.b,"Can not get status: "+ti.message),Wt=""}t.h=Wt+" ["+jl(t)+"]",Hl(t)}}finally{Ic(t)}}}function Ic(t,f){if(t.a){cc(t);var w=t.a,R=t.C[0]?ke:null;t.a=null,t.C=null,f||t.dispatchEvent("ready");try{w.onreadystatechange=R}catch(J){(t=t.b)&&t.log(Tu,"Problem encountered resetting onreadystatechange: "+J.message,void 0)}}}function cc(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(Q.clearTimeout(t.s),t.s=null)}function Zo(t){return t.a?t.a.readyState:0}function jl(t){try{return 2<Zo(t)?t.a.status:-1}catch(f){return-1}}function ya(t,f){return f+" ["+t.P+" "+t.l+" "+jl(t)+"]"}function Ra(t){var f=so;this.g=[],this.u=f,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Rc(t,f,w){t.a=!0,t.c=w,t.f=!f,Za(t)}function Ys(t){if(t.a){if(!t.v)throw new Gl(t);t.v=!1}}function ba(t,f,w,R){t.g.push([f,w,R]),t.a&&Za(t)}function Oa(t){return $n(t.g,function(f){return it(f[1])})}function Za(t){if(t.h&&t.a&&Oa(t)){var f=t.h,w=Js[f];w&&(Q.clearTimeout(w.a),delete Js[f]),t.h=0}t.b&&(t.b.l--,delete t.b),f=t.c;for(var R=w=!1;t.g.length&&!t.i;){var J=t.g.shift(),Ne=J[0],nt=J[1];if(J=J[2],Ne=t.f?nt:Ne)try{var Wt=Ne.call(J||t.s,f);void 0!==Wt&&(t.f=t.f&&(Wt==f||Wt instanceof Error),t.c=f=Wt),(mn(f)||"function"==typeof Q.Promise&&f instanceof Q.Promise)&&(R=!0,t.i=!0)}catch(ti){f=ti,t.f=!0,Oa(t)||(w=!0)}}t.c=f,R&&(Wt=Qe(t.m,t,!0),R=Qe(t.m,t,!1),f instanceof Ra?(ba(f,Wt,R),f.C=!0):f.then(Wt,R)),w&&(f=new Ar(f),Js[f.a]=f,t.h=f.a)}function Gl(){bn.call(this)}function da(){bn.call(this)}function Ar(t){this.a=Q.setTimeout(Qe(this.c,this),0),this.b=t}(_=Vl.prototype).Ma=function(){void 0!==Ve&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",zs(this.b,ya(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},_.abort=function(){this.a&&this.c&&(zs(this.b,ya(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ic(this))},_.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ic(this,!0)),Vl.bb.Da.call(this)},_.Wb=function(){this.ya||(this.N||this.i||this.f?$c(this):this.Jc())},_.Jc=function(){$c(this)},_.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Vu:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Tu,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(f){return zs(this.b,"Can not get response: "+f.message),null}},Ra.prototype.cancel=function(t){if(this.a)this.c instanceof Ra&&this.c.cancel();else{if(this.b){var f=this.b;delete this.b,t?f.cancel(t):(f.l--,0>=f.l&&f.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new da(this),Ys(this),Rc(this,!1,t))}},Ra.prototype.m=function(t,f){this.i=!1,Rc(this,t,f)},Ra.prototype.then=function(t,f,w){var R,J,Ne=new er(function(nt,Wt){R=nt,J=Wt});return ba(this,R,function(nt){nt instanceof da?Ne.cancel():J(nt)}),Ne.then(t,f,w)},Ra.prototype.$goog_Thenable=!0,tt(Gl,bn),Gl.prototype.message="Deferred has already fired",Gl.prototype.name="AlreadyCalledError",tt(da,bn),da.prototype.message="Deferred was canceled",da.prototype.name="CanceledError",Ar.prototype.c=function(){throw delete Js[this.a],this.b};var Js={};function kc(t){var f={},w=f.document||document,R=Sn(t).toString(),J=ms(document,"SCRIPT"),Ne={Xb:J,Ma:void 0},nt=new Ra(Ne),Wt=null,ti=null!=f.timeout?f.timeout:5e3;return 0<ti&&(Wt=window.setTimeout(function(){bs(J,!0);var yi=new S(au,"Timeout reached for loading script "+R);Ys(nt),Rc(nt,!1,yi)},ti),Ne.Ma=Wt),J.onload=J.onreadystatechange=function(){J.readyState&&"loaded"!=J.readyState&&"complete"!=J.readyState||(bs(J,f.xd||!1,Wt),Ys(nt),Rc(nt,!0,null))},J.onerror=function(){bs(J,!0,Wt);var yi=new S(qa,"Error while loading script "+R);Ys(nt),Rc(nt,!1,yi)},X(Ne=f.attributes||{},{type:"text/javascript",charset:"UTF-8"}),zr(J,Ne),function Ot(t,f){ie(t,"HTMLScriptElement"),t.src=Sn(f),(f=t.ownerDocument&&t.ownerDocument.defaultView)&&f!=Q?f=at(f.document):(null===je&&(je=at(Q.document)),f=je),f&&t.setAttribute("nonce",f)}(J,t),function uc(t){var f;return(f=(t||document).getElementsByTagName("HEAD"))&&0!=f.length?f[0]:t.documentElement}(w).appendChild(J),nt}function so(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&bs(t,!0,this.Ma)}}function bs(t,f,w){null!=w&&Q.clearTimeout(w),t.onload=ke,t.onerror=ke,t.onreadystatechange=ke,f&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var qa=0,au=1;function S(t,f){var w="Jsloader error (code #"+t+")";f&&(w+=": "+f),bn.call(this,w),this.code=t}function k(t){this.f=t}function O(t,f,w){if(this.c=t,this.l=(t=f||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||De,this.g=Ft(t.secureTokenHeaders||At),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||$t,this.a=Ft(t.firebaseHeaders||gn),w&&(this.a["X-Client-Version"]=w,this.g["X-Client-Version"]=w),w="Node"==Br(),!(w=Q.XMLHttpRequest||w&&d.default.INTERNAL.node&&d.default.INTERNAL.node.XMLHttpRequest)&&!Cr())throw new Ee("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=Cr()?new va(self):co()?new k(w):new Tc,this.b=null}tt(S,bn),tt(k,Co),k.prototype.a=function(){return new this.f},k.prototype.b=function(){return{}};var z,ce="idToken",De=new Mr(3e4,6e4),At={"Content-Type":"application/x-www-form-urlencoded"},$t=new Mr(3e4,6e4),gn={"Content-Type":"application/json"};function Hn(t,f){f?t.a["X-Firebase-Locale"]=f:delete t.a["X-Firebase-Locale"]}function Jn(t,f){f&&(t.l=zi("https://securetoken.googleapis.com/v1/token",f),t.h=zi("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",f),t.i=zi("https://identitytoolkit.googleapis.com/v2/",f))}function zi(t,f){return t=He(t),f=He(f.url),t.f=t.a+t.f,Po(t,f.c),t.a=f.a,me(t,f.g),t.toString()}function Wi(t,f){f?(t.a["X-Client-Version"]=f,t.g["X-Client-Version"]=f):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Wr(t,f,w,R,J,Ne,nt){(function nr(){var t=jo();return!((t="Chrome"!=Rs(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Bn&&sr&&!(9<sr))})()||Cr()?t=Qe(t.u,t):(z||(z=new er(function(Wt,ti){!function Qo(t,f){((window.gapi||{}).client||{}).request?t():(Q[Do]=function(){((window.gapi||{}).client||{}).request?t():f(Error("CORS_UNSUPPORTED"))},function Oc(t,f){ba(t,null,f,void 0)}(kc(bi(xr,{onload:Do})),function(){f(Error("CORS_UNSUPPORTED"))}))}(Wt,ti)})),t=Qe(t.s,t)),t(f,w,R,J,Ne,nt)}O.prototype.T=function(){return this.b},O.prototype.u=function(t,f,w,R,J,Ne){if(Cr()&&(void 0===Q.fetch||void 0===Q.Headers||void 0===Q.Request))throw new Ee("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var nt=new Vl(this.f);if(Ne){nt.g=Math.max(0,Ne);var Wt=setTimeout(function(){nt.dispatchEvent("timeout")},Ne)}Kr(nt,"complete",function(){Wt&&clearTimeout(Wt);var ti=null;try{ti=JSON.parse(function Wc(t){try{return t.a?t.a.responseText:""}catch(f){return zs(t.b,"Can not get responseText: "+f.message),""}}(this))||null}catch(yi){ti=null}f&&f(ti)}),Ha(nt,"ready",function(){Wt&&clearTimeout(Wt),no(this)}),Ha(nt,"timeout",function(){Wt&&clearTimeout(Wt),no(this),f&&f(null)}),function ou(t,f,w,R,J){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+f);w=w?w.toUpperCase():"GET",t.l=f,t.h="",t.P=w,t.J=!1,t.c=!0,t.a=t.D?t.D.a():ol.a(),t.C=function sa(t){return t.c||(t.c=t.b())}(t.D?t.D:ol),t.a.onreadystatechange=Qe(t.Wb,t);try{zs(t.b,ya(t,"Opening Xhr")),t.N=!0,t.a.open(w,String(f),!0),t.N=!1}catch(nt){return zs(t.b,ya(t,"Error opening Xhr: "+nt.message)),void Wa(t,nt)}f=R||"";var Ne=new Hr(t.headers);J&&function As(t,f){if(t.forEach&&"function"==typeof t.forEach)t.forEach(f,void 0);else if(dt(t)||"string"==typeof t)jn(t,f,void 0);else for(var w=Bo(t),R=$r(t),J=R.length,Ne=0;Ne<J;Ne++)f.call(void 0,R[Ne],w&&w[Ne],t)}(J,function(nt,Wt){Ne.set(Wt,nt)}),J=function Vi(t){e:{for(var f=su,w=t.length,R="string"==typeof t?t.split(""):t,J=0;J<w;J++)if(J in R&&f.call(void 0,R[J],J,t)){f=J;break e}f=-1}return 0>f?null:"string"==typeof t?t.charAt(f):t[f]}(Ne.Y()),R=Q.FormData&&f instanceof Q.FormData,!Qn(Hu,w)||J||R||Ne.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),Ne.forEach(function(nt,Wt){this.a.setRequestHeader(Wt,nt)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{cc(t),0<t.g&&(t.u=function xu(t){return Bn&&fr(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),zs(t.b,ya(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=Qe(t.Ma,t)):t.s=Ts(t.Ma,t.g,t)),zs(t.b,ya(t,"Sending request")),t.i=!0,t.a.send(f),t.i=!1}catch(nt){zs(t.b,ya(t,"Send error: "+nt.message)),Wa(t,nt)}}(nt,t,w,R,J)};var xr=new Z(ut,"https://apis.google.com/js/client.js?onload=%{onload}"),Do="__fcb"+Math.floor(1e6*Math.random()).toString();function Xs(t){if("string"!=typeof(t=t.email)||!et.test(t))throw new Ee("invalid-email")}function ka(t){"email"in t&&Xs(t)}function as(t){if(!t[ce])throw t.mfaPendingCredential?new Ee("multi-factor-auth-required",null,Ft(t)):new Ee("internal-error")}function Ua(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Ee("internal-error")}else{if(!t.sessionInfo)throw new Ee("missing-verification-id");if(!t.code)throw new Ee("missing-verification-code")}}O.prototype.s=function(t,f,w,R,J){var Ne=this;z.then(function(){window.gapi.client.setApiKey(Ne.c);var nt=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:w,body:R,headers:J,authType:"none",callback:function(Wt){window.gapi.auth.setToken(nt),f&&f(Wt)}})}).o(function(nt){f&&f({error:{message:nt&&nt.message||"CORS_UNSUPPORTED"}})})},O.prototype.Ab=function(){return mo(this,zu,{})},O.prototype.Cb=function(t,f){return mo(this,_d,{idToken:t,email:f})},O.prototype.Db=function(t,f){return mo(this,pu,{idToken:t,password:f})};var El={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ju(t){if(!t.phoneVerificationInfo)throw new Ee("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new Ee("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new Ee("missing-verification-code")}function Gu(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Ee("internal-error")}function id(t,f){return f.oauthIdToken&&f.providerId&&0==f.providerId.indexOf("oidc.")&&!f.pendingToken&&(t.sessionId?f.nonce=t.sessionId:t.postBody&&Ro(t=new Yi(t.postBody),"nonce")&&(f.nonce=t.get("nonce"))),f}function aa(t){var f=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",f=gs(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",f=gs(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",f=gs(t)):t.errorMessage&&(f=Ru(t.errorMessage)),f)throw f;as(t)}function rd(t,f){return f.returnIdpCredential=!0,mo(t,ld,f)}function wa(t,f){return f.returnIdpCredential=!0,mo(t,mu,f)}function hc(t,f){return f.returnIdpCredential=!0,f.autoCreate=!1,mo(t,gu,f)}function cu(t){if(!t.oobCode)throw new Ee("invalid-action-code")}(_=O.prototype).Eb=function(t,f){var w={idToken:t},R=[];return vt(El,function(J,Ne){var nt=f[Ne];null===nt?R.push(J):Ne in f&&(w[Ne]=nt)}),R.length&&(w.deleteAttribute=R),mo(this,_d,w)},_.wb=function(t,f){return X(t={requestType:"PASSWORD_RESET",email:t},f),mo(this,fu,t)},_.xb=function(t,f){return X(t={requestType:"EMAIL_SIGNIN",email:t},f),mo(this,od,t)},_.vb=function(t,f){return X(t={requestType:"VERIFY_EMAIL",idToken:t},f),mo(this,gd,t)},_.Fb=function(t,f,w){return X(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:f},w),mo(this,sd,t)},_.gb=function(t){return mo(this,zl,t)},_.ob=function(t,f){return mo(this,Kc,{oobCode:t,newPassword:f})},_.Sa=function(t){return mo(this,uu,{oobCode:t})},_.kb=function(t){return mo(this,Mu,{oobCode:t})};var Mu={endpoint:"setAccountInfo",A:cu,Z:"email",B:!0},uu={endpoint:"resetPassword",A:cu,G:function(t){var f=t.requestType;if(!f||!t.email&&"EMAIL_SIGNIN"!=f&&"VERIFY_AND_CHANGE_EMAIL"!=f)throw new Ee("internal-error")},B:!0},dl={endpoint:"signupNewUser",A:function(t){if(Xs(t),!t.password)throw new Ee("weak-password")},G:as,V:!0,B:!0},du={endpoint:"createAuthUri",B:!0},hu={endpoint:"deleteAccount",O:["idToken"]},pd={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new Ee("internal-error")}},Su={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Xs,G:as,V:!0,B:!0},qc={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Xs,G:as,V:!0},Nc={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ju,G:as,B:!0,Na:!0},fc={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ju,G:as,B:!0,Na:!0},pc={endpoint:"getAccountInfo"},od={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Ee("internal-error");Xs(t)},Z:"email",B:!0},gd={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Ee("internal-error")},Z:"email",B:!0},sd={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new Ee("internal-error")},Z:"email",B:!0},fu={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Ee("internal-error");Xs(t)},Z:"email",B:!0},Ka={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},md={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new Ee("internal-error")}},Kc={endpoint:"resetPassword",A:cu,Z:"email",B:!0},Au={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},_d={endpoint:"setAccountInfo",O:["idToken"],A:ka,V:!0},pu={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(ka(t),!t.password)throw new Ee("weak-password")},G:as,V:!0},zu={endpoint:"signupNewUser",G:as,V:!0,B:!0},vd={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new Ee("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new Ee("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new Ee("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new Ee("internal-error")},B:!0,Na:!0},ad={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new Ee("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new Ee("internal-error")},B:!0,Na:!0},ld={endpoint:"verifyAssertion",A:Gu,Za:id,G:aa,V:!0,B:!0},gu={endpoint:"verifyAssertion",A:Gu,Za:id,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Ee("user-not-found");if(t.errorMessage)throw Ru(t.errorMessage);as(t)},V:!0,B:!0},mu={endpoint:"verifyAssertion",A:function(t){if(Gu(t),!t.idToken)throw new Ee("internal-error")},Za:id,G:aa,V:!0},cd={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new Ee("invalid-custom-token")},G:as,V:!0,B:!0},gc={endpoint:"verifyPassword",A:function(t){if(Xs(t),!t.password)throw new Ee("wrong-password")},G:as,V:!0,B:!0},zl={endpoint:"verifyPhoneNumber",A:Ua,G:as,B:!0},Yl={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new Ee("internal-error");Ua(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",gs(t);as(t)}},yd={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Ua,G:as,B:!0},Iu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[ce]^!!t.refreshToken)throw new Ee("internal-error")},B:!0,Na:!0};function mo(t,f,w){if(!function fs(t,f){if(!f||!f.length)return!0;if(!t)return!1;for(var w=0;w<f.length;w++){var R=t[f[w]];if(null==R||""===R)return!1}return!0}(w,f.O))return ar(new Ee("internal-error"));var Ne,R=!!f.Na,J=f.Vb||"POST";return ki(w).then(f.A).then(function(){return f.V&&(w.returnSecureToken=!0),f.B&&t.b&&void 0===w.tenantId&&(w.tenantId=t.b),function ws(t,f,w,R,J,Ne,nt){var Wt=He(f+w);L(Wt,"key",t.c),nt&&L(Wt,"cb",Date.now().toString());var ti="GET"==R;if(ti)for(var yi in J)J.hasOwnProperty(yi)&&L(Wt,yi,J[yi]);return new er(function(bo,Vs){Wr(t,Wt.toString(),function(Cs){Cs?Cs.error?Vs(_u(Cs,Ne||{})):bo(Cs):Vs(new Ee("network-request-failed"))},R,ti?void 0:xo(Je(J)),t.a,t.v.get())})}(t,R?t.i:t.h,f.endpoint,J,w,f.Ib,f.mb||!1)}).then(function(nt){return Ne=nt,f.Za?f.Za(w,Ne):Ne}).then(f.G).then(function(){if(!f.Z)return Ne;if(!(f.Z in Ne))throw new Ee("internal-error");return Ne[f.Z]})}function Ru(t){return _u({error:{errors:[{message:t}],code:400,message:t}})}function _u(t,f){var w=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",R={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(w=R[w]?new Ee(R[w]):null)return w;for(var J in w=t.error&&t.error.message||"",X(R={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},f||{}),f=(f=w.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<f.length?f[1]:void 0,R)if(0===w.indexOf(J))return new Ee(R[J],f);return!f&&t&&(f=Ae(t)),new Ee("internal-error",f)}function Ou(t){this.b=t,this.a=null,this.sb=function ku(t){return function V(){return M||(M=new er(function(t,f){function w(){Oi(),So("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Oi(),f(Error("Network Error"))},timeout:h.get()})}if(So("gapi.iframes.Iframe"))t();else if(So("gapi.load"))w();else{var R="__iframefcb"+Math.floor(1e6*Math.random()).toString();Q[R]=function(){So("gapi.load")?w():f(Error("Network Error"))},ki(kc(R=bi(r,{onload:R}))).o(function(){f(Error("Network Error"))})}}).o(function(t){throw M=null,t}))}().then(function(){return new er(function(f,w){So("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:So("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(R){function J(){clearTimeout(Ne),f()}t.a=R,t.a.restyle({setHideOnLeave:!1});var Ne=setTimeout(function(){w(Error("Network Error"))},y.get());R.ping(J).then(J,function(){w(Error("Network Error"))})})})})}(this)}var r=new Z(ut,"https://apis.google.com/js/api.js?onload=%{onload}"),h=new Mr(3e4,6e4),y=new Mr(5e3,15e3),M=null;function ge(t,f,w,R){this.l=t,this.h=f,this.i=w,this.g=R,this.f=null,t=this.g?_t((t=He(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):_t("https",this.l,null,"/__/auth/iframe"),this.a=t,L(this.a,"apiKey",this.h),L(this.a,"appName",this.i),this.b=null,this.c=[]}function be(t,f,w,R,J,Ne){this.u=t,this.s=f,this.c=w,this.m=R,this.v=Ne,this.i=this.g=this.l=null,this.a=J,this.h=this.f=null}function Ue(t){try{return d.default.app(t).auth().Ga()}catch(f){return[]}}function rt(t,f,w,R,J,Ne){this.s=t,this.g=f,this.b=w,this.f=Ne,this.c=R||null,this.i=J||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function tn(t){var f=Xo();return function cl(t){return mo(t,Ka,{}).then(function(f){return f.authorizedDomains||[]})}(t).then(function(w){e:{var R=He(f),J=R.c;R=R.a;for(var Ne=0;Ne<w.length;Ne++){var nt=w[Ne],Wt=R,ti=J;if(0==nt.indexOf("chrome-extension://")?Wt=He(nt).a==Wt&&"chrome-extension"==ti:"http"!=ti&&"https"!=ti?Wt=!1:we.test(nt)?Wt=Wt==nt:(nt=nt.split(".").join("\\."),Wt=new RegExp("^(.+\\."+nt+"|"+nt+")$","i").test(Wt)),Wt){w=!0;break e}}w=!1}if(!w)throw new ic(Xo())})}function dn(t){return t.m||(t.m=kt().then(function(){if(!t.u){var f=t.c,w=t.i,R=Ue(t.b),J=new ge(t.s,t.g,t.b,t.f);J.f=f,J.b=w,J.c=q(R||[]),t.u=J.toString()}t.v=new Ou(t.u),function ci(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function a(t,f){t.sb.then(function(){t.a.register("authEvent",f,So("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(f){var w={};if(f&&f.authEvent){var R=!1;for(f=za(f.authEvent),w=0;w<t.h.length;w++)R=t.h[w](f)||R;return(w={}).status=R?"ACK":"ERROR",ki(w)}return w.status="ERROR",ki(w)})}(t)})),t.m}function Rn(t){return t.l||(t.C=t.c?Da(t.c,Ue(t.b)):null,t.l=new O(t.g,fn(t.i),t.C),t.f&&Jn(t.l,t.f)),t.l}function ri(t,f,w,R,J,Ne,nt,Wt,ti,yi,bo,Vs){return(t=new be(t,f,w,R,J,Vs)).l=Ne,t.g=nt,t.i=Wt,t.b=Ft(ti||null),t.f=yi,t.zb(bo).toString()}function Ni(t){if(this.a=t||d.default.INTERNAL.reactNative&&d.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Ee("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ir(t){this.b=t,this.a={},this.f=Qe(this.c,this)}ge.prototype.toString=function(){return this.f?L(this.a,"v",this.f):io(this.a.b,"v"),this.b?L(this.a,"eid",this.b):io(this.a.b,"eid"),this.c.length?L(this.a,"fw",this.c.join(",")):io(this.a.b,"fw"),this.a.toString()},be.prototype.zb=function(t){return this.h=t,this},be.prototype.toString=function(){if(this.v){var t=He(this.v.url);t=_t(t.c,t.a,t.g,"/emulator/auth/handler")}else t=_t("https",this.u,null,"/__/auth/handler");if(L(t,"apiKey",this.s),L(t,"appName",this.c),L(t,"authType",this.m),this.a.isOAuthProvider){var f=this.a;try{var w=d.default.app(this.c).auth().la()}catch(Wt){w=null}for(var R in f.pb=w,L(t,"providerId",this.a.providerId),f=Je((w=this.a).Jb))f[R]=f[R].toString();R=w.Qc,f=Ft(f);for(var J=0;J<R.length;J++){var Ne=R[J];Ne in f&&delete f[Ne]}w.qb&&w.pb&&!f[w.qb]&&(f[w.qb]=w.pb),Nt(f)||L(t,"customParameters",Ae(f))}if("function"==typeof this.a.Rb&&(w=this.a.Rb()).length&&L(t,"scopes",w.join(",")),this.l?L(t,"redirectUrl",this.l):io(t.b,"redirectUrl"),this.g?L(t,"eventId",this.g):io(t.b,"eventId"),this.i?L(t,"v",this.i):io(t.b,"v"),this.b)for(var nt in this.b)this.b.hasOwnProperty(nt)&&!oe(t,nt)&&L(t,nt,this.b[nt]);return this.h?L(t,"tid",this.h):io(t.b,"tid"),this.f?L(t,"eid",this.f):io(t.b,"eid"),(nt=Ue(this.c)).length&&L(t,"fw",nt.join(",")),t.toString()},(_=rt.prototype).Pb=function(t,f,w){var R=new Ee("popup-closed-by-user"),J=new Ee("web-storage-unsupported"),Ne=this,nt=!1;return this.ma().then(function(){(function wi(t){var f={type:"webStorageSupport"};return dn(t).then(function(){return function i(t,f){return t.sb.then(function(){return new er(function(w){t.a.send(f.type,f,w,So("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,f)}).then(function(w){if(w&&w.length&&void 0!==w[0].webStorageSupport)return w[0].webStorageSupport;throw Error()})})(Ne).then(function(Wt){Wt||(t&&Ji(t),f(J),nt=!0)})}).o(function(){}).then(function(){if(!nt)return function $(t){return new er(function(f){return function w(){Nr(2e3).then(function(){if(t&&!t.closed)return w();f()})}()})}(t)}).then(function(){if(!nt)return Nr(w).then(function(){f(R)})})},_.Yb=function(){var t=jo();return!ue(t)&&!Kn(t)},_.Ub=function(){return!1},_.Nb=function(t,f,w,R,J,Ne,nt,Wt){if(!t)return ar(new Ee("popup-blocked"));if(nt&&!ue())return this.ma().o(function(yi){Ji(t),J(yi)}),R(),ki();this.a||(this.a=tn(Rn(this)));var ti=this;return this.a.then(function(){var yi=ti.ma().o(function(bo){throw Ji(t),J(bo),bo});return R(),yi}).then(function(){ru(w),nt||ea(ri(ti.s,ti.g,ti.b,f,w,null,Ne,ti.c,void 0,ti.i,Wt,ti.f),t)}).o(function(yi){throw"auth/network-request-failed"==yi.code&&(ti.a=null),yi})},_.Ob=function(t,f,w,R){this.a||(this.a=tn(Rn(this)));var J=this;return this.a.then(function(){ru(f),ea(ri(J.s,J.g,J.b,t,f,Xo(),w,J.c,void 0,J.i,R,J.f))}).o(function(Ne){throw"auth/network-request-failed"==Ne.code&&(J.a=null),Ne})},_.ma=function(){var t=this;return dn(this).then(function(){return t.v.sb}).o(function(){throw t.a=null,new Ee("network-request-failed")})},_.ac=function(){return!0},_.Ea=function(t){this.h.push(t)},_.Ta=function(t){ni(this.h,function(f){return f==t})},(_=Ni.prototype).get=function(t){return ki(this.a.getItem(t)).then(function(f){return f&&It(f)})},_.set=function(t,f){return ki(this.a.setItem(t,Ae(f)))},_.U=function(t){return ki(this.a.removeItem(t))},_.ca=function(){},_.ia=function(){};var v,yo=[];function jr(t,f,w){Nt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[f]&&(t.a[f]=[]),t.a[f].push(w)}function Eo(t){this.a=t}function c(t){this.c=t,this.b=!1,this.a=[]}function n(t,f,w,R){var J,nt,Wt,ti,Ne=w||{},yi=null;if(t.b)return ar(Error("connection_unavailable"));var bo=R?800:50,Vs="undefined"!=typeof MessageChannel?new MessageChannel:null;return new er(function(Cs,Wl){Vs?(J=Math.floor(Math.random()*Math.pow(10,20)).toString(),Vs.port1.start(),Wt=setTimeout(function(){Wl(Error("unsupported_event"))},bo),t.a.push(yi={messageChannel:Vs,onMessage:nt=function(Td){Td.data.eventId===J&&("ack"===Td.data.status?(clearTimeout(Wt),ti=setTimeout(function(){Wl(Error("timeout"))},3e3)):"done"===Td.data.status?(clearTimeout(ti),void 0!==Td.data.response?Cs(Td.data.response):Wl(Error("unknown_error"))):(clearTimeout(Wt),clearTimeout(ti),Wl(Error("invalid_response"))))}}),Vs.port1.addEventListener("message",nt),t.c.postMessage({eventType:f,eventId:J,data:Ne},[Vs.port2])):Wl(Error("connection_unavailable"))}).then(function(Cs){return l(t,yi),Cs}).o(function(Cs){throw l(t,yi),Cs})}function l(t,f){if(f){var w=f.messageChannel;w&&(w.port1.removeEventListener("message",f.onMessage),w.port1.close()),ni(t.a,function(J){return J==f})}}function p(){if(!Le())throw new Ee("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=Q.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;Cr()&&self?(this.v=function Ao(){var t=Cr()?self:null;if(jn(yo,function(w){w.b==t&&(f=w)}),!f){var f=new ir(t);yo.push(f)}return f}(),jr(this.v,"keyChanged",function(f,w){return xn(t).then(function(R){return 0<R.length&&jn(t.a,function(J){J(R)}),{keyProcessed:Qn(R,w.key)}})}),jr(this.v,"ping",function(){return ki(["keyChanged"])})):function xl(){var t=Q.navigator;return t&&t.serviceWorker?ki().then(function(){return t.serviceWorker.ready}).then(function(f){return f.active||null}).o(function(){return null}):ki(null)}().then(function(f){(t.h=f)&&(t.g=new c(new Eo(f)),n(t.g,"ping",null,!0).then(function(w){w[0].fulfilled&&Qn(w[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function P(t){return new er(function(f,w){var R=t.m.open("firebaseLocalStorageDb",1);R.onerror=function(J){try{J.preventDefault()}catch(Ne){}w(Error(J.target.error))},R.onupgradeneeded=function(J){J=J.target.result;try{J.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(Ne){w(Ne)}},R.onsuccess=function(J){(J=J.target.result).objectStoreNames.contains("firebaseLocalStorage")?f(J):function x(t){return new er(function(f,w){var R=t.m.deleteDatabase("firebaseLocalStorageDb");R.onsuccess=function(){f()},R.onerror=function(J){w(Error(J.target.error))}})}(t).then(function(){return P(t)}).then(function(Ne){f(Ne)}).o(function(Ne){w(Ne)})}})}function j(t){return t.i||(t.i=P(t)),t.i}function _e(t,f){var R=0;return new er(function w(J,Ne){j(t).then(f).then(J).o(function(nt){if(!(3<++R))return j(t).then(function(Wt){return Wt.close(),t.i=void 0,w(J,Ne)}).o(function(Wt){Ne(Wt)});Ne(nt)})})}function Le(){try{return!!Q.indexedDB}catch(t){return!1}}function lt(t){return t.objectStore("firebaseLocalStorage")}function Bt(t,f){return t.transaction(["firebaseLocalStorage"],f?"readwrite":"readonly")}function Xt(t){return new er(function(f,w){t.onsuccess=function(R){R&&R.target?f(R.target.result):f()},t.onerror=function(R){w(R.target.error)}})}function Fn(t,f){return t.g&&t.h&&function el(){var t=Q.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?n(t.g,"keyChanged",{key:f},t.s).then(function(){}).o(function(){}):ki()}function xn(t){return j(t).then(function(f){var w=lt(Bt(f,!1));return w.getAll?Xt(w.getAll()):new er(function(R,J){var Ne=[],nt=w.openCursor();nt.onsuccess=function(Wt){(Wt=Wt.target.result)?(Ne.push(Wt.value),Wt.continue()):R(Ne)},nt.onerror=function(Wt){J(Wt.target.error)}})}).then(function(f){var w={},R=[];if(0==t.b){for(R=0;R<f.length;R++)w[f[R].fbase_key]=f[R].value;R=Fi(t.c,w),t.c=w}return R})}function I(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function g(t){var f=this,w=null;this.a=[],this.type="indexedDB",this.c=t,this.b=ki().then(function(){if(Le()){var R=en(),J="__sak"+R;return v||(v=new p),(w=v).set(J,R).then(function(){return w.get(J)}).then(function(Ne){if(Ne!==R)throw Error("indexedDB not supported!");return w.U(J)}).then(function(){return w}).o(function(){return f.c})}return f.c}).then(function(R){return f.type=R.type,R.ca(function(J){jn(f.a,function(Ne){Ne(J)})}),R})}function E(){this.a={},this.type="inMemory"}function U(){if(!function xt(){var t="Node"==Br();if(!(t=he()||t&&d.default.INTERNAL.node&&d.default.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(f){return!1}}())throw"Node"==Br()?new Ee("internal-error","The LocalStorage compatibility library was not found."):new Ee("web-storage-unsupported");this.a=he()||d.default.INTERNAL.node.localStorage,this.type="localStorage"}function he(){try{var t=Q.localStorage,f=en();return t&&(t.setItem(f,"1"),t.removeItem(f)),t}catch(w){return null}}function yn(){this.type="nullStorage"}function Ui(){if(!function ts(){var t="Node"==Br();if(!(t=ho()||t&&d.default.INTERNAL.node&&d.default.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(f){return!1}}())throw"Node"==Br()?new Ee("internal-error","The SessionStorage compatibility library was not found."):new Ee("web-storage-unsupported");this.a=ho()||d.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function ho(){try{var t=Q.sessionStorage,f=en();return t&&(t.setItem(f,"1"),t.removeItem(f)),t}catch(w){return null}}function ns(){var t={};t.Browser=Nu,t.Node=ud,t.ReactNative=bd,t.Worker=Xd,this.a=t[Br()]}ir.prototype.c=function(t){var f=t.data.eventType,w=t.data.eventId,R=this.a[f];if(R&&0<R.length){t.ports[0].postMessage({status:"ack",eventId:w,eventType:f,response:null});var J=[];jn(R,function(Ne){J.push(ki().then(function(){return Ne(t.origin,t.data.data)}))}),se(J).then(function(Ne){var nt=[];jn(Ne,function(Wt){nt.push({fulfilled:Wt.Qb,value:Wt.value,reason:Wt.reason?Wt.reason.message:void 0})}),jn(nt,function(Wt){for(var ti in Wt)void 0===Wt[ti]&&delete Wt[ti]}),t.ports[0].postMessage({status:"done",eventId:w,eventType:f,response:nt})})}},Eo.prototype.postMessage=function(t,f){this.a.postMessage(t,f)},c.prototype.close=function(){for(;0<this.a.length;)l(this,this.a[0]);this.b=!0},(_=p.prototype).set=function(t,f){var w=this,R=!1;return _e(this,function(J){return Xt((J=lt(Bt(J,!0))).get(t))}).then(function(J){return _e(w,function(Ne){if(Ne=lt(Bt(Ne,!0)),J)return J.value=f,Xt(Ne.put(J));w.b++,R=!0;var nt={};return nt.fbase_key=t,nt.value=f,Xt(Ne.add(nt))})}).then(function(){return w.c[t]=f,Fn(w,t)}).oa(function(){R&&w.b--})},_.get=function(t){return _e(this,function(f){return Xt(lt(Bt(f,!1)).get(t))}).then(function(f){return f&&f.value})},_.U=function(t){var f=this,w=!1;return _e(this,function(R){return w=!0,f.b++,Xt(lt(Bt(R,!0)).delete(t))}).then(function(){return delete f.c[t],Fn(f,t)}).oa(function(){w&&f.b--})},_.ca=function(t){0==this.a.length&&function C(t){I(t),function f(){t.f=setTimeout(function(){t.l=xn(t).then(function(w){0<w.length&&jn(t.a,function(R){R(w)})}).then(function(){f()}).o(function(w){"STOP_EVENT"!=w.message&&f()})},800)}()}(this),this.a.push(t)},_.ia=function(t){ni(this.a,function(f){return f==t}),0==this.a.length&&I(this)},(_=g.prototype).get=function(t){return this.b.then(function(f){return f.get(t)})},_.set=function(t,f){return this.b.then(function(w){return w.set(t,f)})},_.U=function(t){return this.b.then(function(f){return f.U(t)})},_.ca=function(t){this.a.push(t)},_.ia=function(t){ni(this.a,function(f){return f==t})},(_=E.prototype).get=function(t){return ki(this.a[t])},_.set=function(t,f){return this.a[t]=f,ki()},_.U=function(t){return delete this.a[t],ki()},_.ca=function(){},_.ia=function(){},(_=U.prototype).get=function(t){var f=this;return ki().then(function(){return It(f.a.getItem(t))})},_.set=function(t,f){var w=this;return ki().then(function(){var R=Ae(f);null===R?w.U(t):w.a.setItem(t,R)})},_.U=function(t){var f=this;return ki().then(function(){f.a.removeItem(t)})},_.ca=function(t){Q.window&&kr(Q.window,"storage",t)},_.ia=function(t){Q.window&&re(Q.window,"storage",t)},(_=yn.prototype).get=function(){return ki(null)},_.set=function(){return ki()},_.U=function(){return ki()},_.ca=function(){},_.ia=function(){},(_=Ui.prototype).get=function(t){var f=this;return ki().then(function(){return It(f.a.getItem(t))})},_.set=function(t,f){var w=this;return ki().then(function(){var R=Ae(f);null===R?w.U(t):w.a.setItem(t,R)})},_.U=function(t){var f=this;return ki().then(function(){f.a.removeItem(t)})},_.ca=function(){},_.ia=function(){};var Tl,Gd,Nu={F:U,cb:Ui},ud={F:U,cb:Ui},bd={F:Ni,cb:yn},Xd={F:U,cb:yn},Us={rd:"local",NONE:"none",td:"session"};function wd(){var t=!(Kn(jo())||!Ri()),f=ue(),w=Xa();this.m=t,this.h=f,this.l=w,this.a={},Tl||(Tl=new ns),t=Tl;try{this.g=!eo()&&Es()||!Q.indexedDB?new t.a.F:new g(Cr()?new E:new t.a.F)}catch(R){this.g=new E,this.h=!0}try{this.i=new t.a.cb}catch(R){this.i=new E}this.v=new E,this.f=Qe(this.Zb,this),this.b={}}function zd(){return Gd||(Gd=new wd),Gd}function Yu(t,f){switch(f){case"session":return t.i;case"none":return t.v;default:return t.g}}function Id(t,f){return"firebase:"+t.name+(f?":"+f:"")}function dd(t,f,w){return w=Id(f,w),"local"==f.F&&(t.b[w]=null),Yu(t,f.F).U(w)}function ah(t){t.c&&(clearInterval(t.c),t.c=null)}function qm(t){this.a=t,this.b=zd()}(_=wd.prototype).get=function(t,f){return Yu(this,t.F).get(Id(t,f))},_.set=function(t,f,w){var R=Id(t,w),J=this,Ne=Yu(this,t.F);return Ne.set(R,f).then(function(){return Ne.get(R)}).then(function(nt){"local"==t.F&&(J.b[R]=nt)})},_.addListener=function(t,f,w){t=Id(t,f),this.l&&(this.b[t]=Q.localStorage.getItem(t)),Nt(this.a)&&(Yu(this,"local").ca(this.f),this.h||(eo()||!Es())&&Q.indexedDB||!this.l||function Th(t){ah(t),t.c=setInterval(function(){for(var f in t.a){var w=Q.localStorage.getItem(f),R=t.b[f];w!=R&&(t.b[f]=w,w=new le({type:"storage",key:f,target:window,oldValue:R,newValue:w,a:!0}),t.Zb(w))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(w)},_.removeListener=function(t,f,w){t=Id(t,f),this.a[t]&&(ni(this.a[t],function(R){return R==w}),0==this.a[t].length&&delete this.a[t]),Nt(this.a)&&(Yu(this,"local").ia(this.f),ah(this))},_.Zb=function(t){if(t&&t.g){var f=t.a.key;if(null==f)for(var w in this.a){var R=this.b[w];void 0===R&&(R=null);var J=Q.localStorage.getItem(w);J!==R&&(this.b[w]=J,this.nb(w))}else if(0==f.indexOf("firebase:")&&this.a[f]){if(void 0!==t.a.a?Yu(this,"local").ia(this.f):ah(this),this.m)if(w=Q.localStorage.getItem(f),(R=t.a.newValue)!==w)null!==R?Q.localStorage.setItem(f,R):Q.localStorage.removeItem(f);else if(this.b[f]===R&&void 0===t.a.a)return;var Ne=this;w=function(){(void 0!==t.a.a||Ne.b[f]!==Q.localStorage.getItem(f))&&(Ne.b[f]=Q.localStorage.getItem(f),Ne.nb(f))},Bn&&sr&&10==sr&&Q.localStorage.getItem(f)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(w,10):w()}}else jn(t,Qe(this.nb,this))},_.nb=function(t){this.a[t]&&jn(this.a[t],function(f){f()})};var df,sp={name:"authEvent",F:"local"};function Qm(){this.a=zd()}function uf(t,f){this.b=mg,this.f=Q.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=f,this.l=Q.Int32Array?new Int32Array(64):Array(64),void 0===df&&(df=Q.Int32Array?new Int32Array(Sh):Sh),this.reset()}tt(uf,function Jm(){this.b=-1});for(var mg=64,Xm=mg-1,_g=[],hd=0;hd<Xm;hd++)_g[hd]=0;var xh=Yt(128,_g);function hf(t){for(var f=t.f,w=t.l,R=0,J=0;J<f.length;)w[R++]=f[J]<<24|f[J+1]<<16|f[J+2]<<8|f[J+3],J=4*R;for(f=16;64>f;f++){var Ne=(0|w[f-16])+(((J=0|w[f-15])>>>7|J<<25)^(J>>>18|J<<14)^J>>>3)|0,nt=(0|w[f-7])+(((R=0|w[f-2])>>>17|R<<15)^(R>>>19|R<<13)^R>>>10)|0;w[f]=Ne+nt|0}R=0|t.a[0],J=0|t.a[1];var Wt=0|t.a[2],ti=0|t.a[3],yi=0|t.a[4],bo=0|t.a[5],Vs=0|t.a[6];for(Ne=0|t.a[7],f=0;64>f;f++){var Cs=((R>>>2|R<<30)^(R>>>13|R<<19)^(R>>>22|R<<10))+(R&J^R&Wt^J&Wt)|0;nt=(Ne=Ne+((yi>>>6|yi<<26)^(yi>>>11|yi<<21)^(yi>>>25|yi<<7))|0)+((nt=(nt=yi&bo^~yi&Vs)+(0|df[f])|0)+(0|w[f])|0)|0,Ne=Vs,Vs=bo,bo=yi,yi=ti+nt|0,ti=Wt,Wt=J,J=R,R=nt+Cs|0}t.a[0]=t.a[0]+R|0,t.a[1]=t.a[1]+J|0,t.a[2]=t.a[2]+Wt|0,t.a[3]=t.a[3]+ti|0,t.a[4]=t.a[4]+yi|0,t.a[5]=t.a[5]+bo|0,t.a[6]=t.a[6]+Vs|0,t.a[7]=t.a[7]+Ne|0}function Mh(t,f,w){void 0===w&&(w=f.length);var R=0,J=t.c;if("string"==typeof f)for(;R<w;)t.f[J++]=f.charCodeAt(R++),J==t.b&&(hf(t),J=0);else{if(!dt(f))throw Error("message must be string or array");for(;R<w;){var Ne=f[R++];if(!("number"==typeof Ne&&0<=Ne&&255>=Ne&&Ne==(0|Ne)))throw Error("message must be a byte array");t.f[J++]=Ne,J==t.b&&(hf(t),J=0)}}t.c=J,t.g+=w}uf.prototype.reset=function(){this.g=this.c=0,this.a=Q.Int32Array?new Int32Array(this.h):q(this.h)};var Sh=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ff(){uf.call(this,8,pf)}tt(ff,uf);var pf=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function ap(t,f,w,R,J,Ne){this.v=t,this.i=f,this.l=w,this.m=R||null,this.u=J||null,this.s=Ne,this.h=f+":"+w,this.C=new Qm,this.g=new qm(this.h),this.f=null,this.b=[],this.a=this.c=null}function $u(t){return new Ee("invalid-cordova-configuration",t)}function cp(t,f){for(var w=0;w<t.b.length;w++)try{t.b[w](f)}catch(R){}}function mf(t){return t.f||(t.f=t.ma().then(function(){return new er(function(f){t.Ea(function w(R){return f(R),t.Ta(w),!1}),function yg(t){function f(nt){R=!0,J&&J.cancel(),_f(t).then(function(Wt){var ti=w;if(Wt&&nt&&nt.url){var yi=null;-1!=(ti=Nl(nt.url)).indexOf("/__/auth/callback")&&(yi=(yi="object"==typeof(yi=It(oe(yi=He(ti),"firebaseError")||null))?Ye(yi):null)?new Ks(Wt.c,Wt.b,null,null,yi,null,Wt.T()):new Ks(Wt.c,Wt.b,ti,Wt.f,null,null,Wt.T())),ti=yi||w}cp(t,ti)})}var w=new Ks("unknown",null,null,null,new Ee("no-auth-event")),R=!1,J=Nr(500).then(function(){return _f(t).then(function(){R||cp(t,w)})}),Ne=Q.handleOpenURL;Q.handleOpenURL=function(nt){if(0==nt.toLowerCase().indexOf(So("BuildInfo.packageName",Q).toLowerCase()+"://")&&f({url:nt}),"function"==typeof Ne)try{Ne(nt)}catch(Wt){console.error(Wt)}},nc||(nc=new Qs),function Ec(t){var f=nc;f.a.push(t),f.b||(f.b=function(w){for(var R=0;R<f.a.length;R++)f.a[R](w)},"function"==typeof(t=So("universalLinks.subscribe",Q))&&t(null,f.b))}(f)}(t)})})),t.f}function _f(t){var f=null;return function Km(t){return t.b.get(sp,t.a).then(function(f){return za(f)})}(t.g).then(function(w){return f=w,dd((w=t.g).b,sp,w.a)}).then(function(){return f})}function lh(t){this.a=t,this.b=zd()}(_=ap.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=function Cn(){return ai(void 0)?kt().then(function(){return new er(function(t,f){var w=Q.document,R=setTimeout(function(){f(Error("Cordova framework is not ready."))},1e3);w.addEventListener("deviceready",function(){clearTimeout(R),t()},!1)})}):ar(Error("Cordova must run in an Android or iOS file scheme."))}().then(function(){if("function"!=typeof So("universalLinks.subscribe",Q))throw $u("cordova-universal-links-plugin-fix is not installed");if(void 0===So("BuildInfo.packageName",Q))throw $u("cordova-plugin-buildinfo is not installed");if("function"!=typeof So("cordova.plugins.browsertab.openUrl",Q))throw $u("cordova-plugin-browsertab is not installed");if("function"!=typeof So("cordova.InAppBrowser.open",Q))throw $u("cordova-plugin-inappbrowser is not installed")},function(){throw new Ee("cordova-not-ready")})},_.Pb=function(t,f){return f(new Ee("operation-not-supported-in-this-environment")),ki()},_.Nb=function(){return ar(new Ee("operation-not-supported-in-this-environment"))},_.ac=function(){return!1},_.Yb=function(){return!0},_.Ub=function(){return!0},_.Ob=function(t,f,w,R){if(this.c)return ar(new Ee("redirect-operation-pending"));var J=this,Ne=Q.document,nt=null,Wt=null,ti=null,yi=null;return this.c=ki().then(function(){return ru(f),mf(J)}).then(function(){return function gf(t,f,w,R,J){var Ne=function lp(){for(var t=20,f=[];0<t;)f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return f.join("")}(),nt=new Ks(f,R,null,Ne,new Ee("no-auth-event"),null,J),Wt=So("BuildInfo.packageName",Q);if("string"!=typeof Wt)throw new Ee("invalid-cordova-configuration");var ti=So("BuildInfo.displayName",Q),yi={};if(jo().toLowerCase().match(/iphone|ipad|ipod/))yi.ibi=Wt;else{if(!jo().toLowerCase().match(/android/))return ar(new Ee("operation-not-supported-in-this-environment"));yi.apn=Wt}ti&&(yi.appDisplayName=ti),Ne=function vg(t){var f=new ff;Mh(f,t),t=[];var w=8*f.g;Mh(f,xh,56>f.c?56-f.c:f.b-(f.c-56));for(var R=63;56<=R;R--)f.f[R]=255&w,w/=256;for(hf(f),R=w=0;R<f.i;R++)for(var J=24;0<=J;J-=8)t[w++]=f.a[R]>>J&255;return function Ps(t){return Gn(t,function(f){return 1<(f=f.toString(16)).length?f:"0"+f}).join("")}(t)}(Ne),yi.sessionId=Ne;var bo=ri(t.v,t.i,t.l,f,w,null,R,t.m,yi,t.u,J,t.s);return t.ma().then(function(){var Vs=t.h;return t.C.a.set(sp,nt.w(),Vs)}).then(function(){var Vs=So("cordova.plugins.browsertab.isAvailable",Q);if("function"!=typeof Vs)throw new Ee("invalid-cordova-configuration");var Cs=null;Vs(function(Wl){if(Wl){if("function"!=typeof(Cs=So("cordova.plugins.browsertab.openUrl",Q)))throw new Ee("invalid-cordova-configuration");Cs(bo)}else{if("function"!=typeof(Cs=So("cordova.InAppBrowser.open",Q)))throw new Ee("invalid-cordova-configuration");Wl=jo(),t.a=Cs(bo,Wl.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Wl.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(J,t,f,w,R)}).then(function(){return new er(function(bo,Vs){Wt=function(){var Cs=So("cordova.plugins.browsertab.close",Q);return bo(),"function"==typeof Cs&&Cs(),J.a&&"function"==typeof J.a.close&&(J.a.close(),J.a=null),!1},J.Ea(Wt),yi=function(){$i()&&ti()},Ne.addEventListener("resume",ti=function(){nt||(nt=Nr(2e3).then(function(){Vs(new Ee("redirect-cancelled-by-user"))}))},!1),jo().toLowerCase().match(/android/)||Ne.addEventListener("visibilitychange",yi,!1)}).o(function(bo){return _f(J).then(function(){throw bo})})}).oa(function(){ti&&Ne.removeEventListener("resume",ti,!1),yi&&Ne.removeEventListener("visibilitychange",yi,!1),nt&&nt.cancel(),Wt&&J.Ta(Wt),J.c=null})},_.Ea=function(t){this.b.push(t),mf(this).o(function(f){"auth/invalid-cordova-configuration"===f.code&&(f=new Ks("unknown",null,null,null,new Ee("no-auth-event")),t(f))})},_.Ta=function(t){ni(this.b,function(f){return f==t})};var Rd={name:"pendingRedirect",F:"session"};function Od(t){return dd(t.b,Rd,t.a)}function Cd(t,f,w,R){this.i={},this.u=0,this.D=t,this.v=f,this.m=w,this.J=R,this.h=[],this.f=!1,this.l=Qe(this.s,this),this.b=new kh,this.C=new Eg,this.g=new lh(fp(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=up(this.D,this.v,this.m,wn,this.J)}function up(t,f,w,R,J){var Ne=d.default.SDK_VERSION||null;return ai()?new ap(t,f,w,Ne,R,J):new rt(t,f,w,Ne,R,J)}function yf(t){t.f||(t.f=!0,t.a.Ea(t.l));var f=t.a;return t.a.ma().o(function(w){throw t.a==f&&t.reset(),w})}function bf(t){t.a.Yb()&&yf(t).o(function(f){var w=new Ks("unknown",null,null,null,new Ee("operation-not-supported-in-this-environment"));Ih(f)&&t.s(w)}),t.a.Ub()||pp(t.b)}function eh(t,f){Qn(t.h,f)||t.h.push(f),t.f||function ch(t){return t.b.get(Rd,t.a).then(function(f){return"pending"==f})}(t.g).then(function(w){w?Od(t.g).then(function(){yf(t).o(function(R){var J=new Ks("unknown",null,null,null,new Ee("operation-not-supported-in-this-environment"));Ih(R)&&t.s(J)})}):bf(t)}).o(function(){bf(t)})}function uh(t,f){ni(t.h,function(w){return w==f})}Cd.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=up(this.D,this.v,this.m,null,this.J),this.i={}},Cd.prototype.s=function(t){if(!t)throw new Ee("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var f=!1,w=0;w<this.h.length;w++){var R=this.h[w];if(R.Gb(t.c,t.b)){(f=this.c[t.c])&&(f.h(t,R),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),f=!0;break}}return pp(this.b),f};var dp=new Mr(2e3,1e4),Ah=new Mr(3e4,6e4);function hp(t,f,w,R,J,Ne,nt){return t.a.Nb(f,w,R,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},J,Ne,nt)}function Ih(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function bg(t,f,w,R,J){var Ne;return function vf(t){return t.b.set(Rd,"pending",t.a)}(t.g).then(function(){return t.a.Ob(f,w,R,J).o(function(nt){if(Ih(nt))throw new Ee("operation-not-supported-in-this-environment");return Ne=nt,Od(t.g).then(function(){throw Ne})}).then(function(){return t.a.ac()?new er(function(){}):Od(t.g).then(function(){return t.ra()}).then(function(){}).o(function(){})})})}function wf(t,f,w,R,J){return t.a.Pb(R,function(Ne){f.na(w,null,Ne,J)},dp.get())}Cd.prototype.ra=function(){return this.b.ra()};var Rh={};function fp(t,f,w){return t=t+":"+f,w&&(t=t+":"+w.url),t}function Oh(t,f,w,R){var J=fp(f,w,R);return Rh[J]||(Rh[J]=new Cd(t,f,w,R)),Rh[J]}function kh(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function pp(t){t.g||(t.g=!0,th(t,!1,null,null))}function _c(t){t.g&&!t.i&&th(t,!1,null,null)}function Dg(t,f){if(t.b=function(){return ki(f)},t.f.length)for(var w=0;w<t.f.length;w++)t.f[w](f)}function th(t,f,w,R){f?R?function Cg(t,f){if(t.b=function(){return ar(f)},t.c.length)for(var w=0;w<t.c.length;w++)t.c[w](f)}(t,R):Dg(t,w):Dg(t,{user:null}),t.f=[],t.c=[]}function Eg(){}function Nh(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function Ph(t,f){this.a=f,Di(this,"verificationId",t)}function Cf(t,f,w,R){return new ds(t).gb(f,w).then(function(J){return new Ph(J,R)})}function xg(t){var f=es(t);if(!(f&&f.exp&&f.auth_time&&f.iat))throw new Ee("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");us(this,{token:t,expirationTime:Qr(1e3*f.exp),authTime:Qr(1e3*f.auth_time),issuedAtTime:Qr(1e3*f.iat),signInProvider:f.firebase&&f.firebase.sign_in_provider?f.firebase.sign_in_provider:null,signInSecondFactor:f.firebase&&f.firebase.sign_in_second_factor?f.firebase.sign_in_second_factor:null,claims:f})}function Df(t,f,w){var R=f&&f[mp];if(!R)throw new Ee("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=Ft(f),this.g=w,this.c=new yl(null,R),this.b=[];var J=this;jn(f[Ef]||[],function(Ne){(Ne=ta(Ne))&&J.b.push(Ne)}),Di(this,"auth",this.a),Di(this,"session",this.c),Di(this,"hints",this.b)}kh.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},kh.prototype.h=function(t,f){if(t){this.reset(),this.g=!0;var w=t.c,R=t.b,J=t.a&&"auth/web-storage-unsupported"==t.a.code,Ne=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!J&&!Ne),"unknown"!=w||J||Ne?t.a?(th(this,!0,null,t.a),ki()):f.Fa(w,R)?function wg(t,f,w){w=w.Fa(f.c,f.b);var R=f.g,J=f.f,Ne=f.i,nt=f.T(),Wt=!!f.c.match(/Redirect$/);w(R,J,nt,Ne).then(function(ti){th(t,Wt,ti,null)}).o(function(ti){th(t,Wt,null,ti)})}(this,t,f):ar(new Ee("invalid-auth-event")):(th(this,!1,null,null),ki())}else ar(new Ee("invalid-auth-event"))},kh.prototype.ra=function(){var t=this;return new er(function(f,w){t.b?t.b().then(f,w):(t.f.push(f),t.c.push(w),function gp(t){var f=new Ee("timeout");t.a&&t.a.cancel(),t.a=Nr(Ah.get()).then(function(){t.b||(t.g=!0,th(t,!0,null,f))})}(t))})},Eg.prototype.h=function(t,f){if(t){var w=t.c,R=t.b;t.a?(f.na(t.c,null,t.a,t.b),ki()):f.Fa(w,R)?function Tg(t,f){var w=t.b,R=t.c;f.Fa(R,w)(t.g,t.f,t.T(),t.i).then(function(J){f.na(R,J,null,w)}).o(function(J){f.na(R,null,J,w)})}(t,f):ar(new Ee("invalid-auth-event"))}else ar(new Ee("invalid-auth-event"))},Ph.prototype.confirm=function(t){return t=Gc(this.verificationId,t),this.a(t)};var Ef="mfaInfo",mp="mfaPendingCredential";function Fh(t,f,w,R){Ee.call(this,"multi-factor-auth-required",R,f),this.b=new Df(t,f,w),Di(this,"resolver",this.b)}function _p(t,f,w){if(t&&Dt(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Fh(f,t.serverResponse,w,t.message)}catch(R){}return null}function vp(){}function Tf(t){Di(this,"factorId",t.fa),this.a=t}function Wu(t){if(Tf.call(this,t),this.a.fa!=ds.PROVIDER_ID)throw new Ee("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function kd(t,f){for(var w in pr.call(this,t),f)this[w]=f[w]}function xf(t,f){this.a=t,this.b=[],this.c=Qe(this.yc,this),kr(this.a,"userReloaded",this.c);var w=[];f&&f.multiFactor&&f.multiFactor.enrolledFactors&&jn(f.multiFactor.enrolledFactors,function(R){var J=null,Ne={};if(R){R.uid&&(Ne[Ta]=R.uid),R.displayName&&(Ne[Qc]=R.displayName),R.enrollmentTime&&(Ne[La]=new Date(R.enrollmentTime).toISOString()),R.phoneNumber&&(Ne[Bc]=R.phoneNumber);try{J=new ys(Ne)}catch(nt){}R=J}else R=null;R&&w.push(R)}),Mf(this,w)}function Mf(t,f){t.b=f,Di(t,"enrolledFactors",f)}function Lh(t,f,w){if(this.h=t,this.i=f,this.g=w,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Sf(t,f){t.stop(),t.b=Nr(function Sg(t,f){return f?(t.a=t.c,t.g()):(f=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),f)}(t,f)).then(function(){return function Oo(){var t=Q.document,f=null;return $i()||!t?ki():new er(function(w){f=function(){$i()&&(t.removeEventListener("visibilitychange",f,!1),w())},t.addEventListener("visibilitychange",f,!1)}).o(function(w){throw t.removeEventListener("visibilitychange",f,!1),w})}()}).then(function(){return t.h()}).then(function(){Sf(t,!0)}).o(function(w){t.i(w)&&Sf(t,!1)})}function Af(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function Bh(t,f){void 0===f&&(f=t.b?(f=t.b).a-f.g:0),t.c=Date.now()+1e3*f}function wp(t,f){t.b=xa(f[ce]||""),t.a=f.refreshToken,Bh(t,void 0!==(f=f.expiresIn)?Number(f):void 0)}function nh(t,f){this.a=t||null,this.b=f||null,us(this,{lastSignInTime:Qr(f||null),creationTime:Qr(t||null)})}function If(t,f,w,R,J,Ne){us(this,{uid:t,displayName:R||null,photoURL:J||null,email:w||null,phoneNumber:Ne||null,providerId:f})}function Pc(t,f,w){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var R=d.default.SDK_VERSION?Da(d.default.SDK_VERSION):null;this.a=new O(this.l,fn(wn),R),(this.u=t.emulatorConfig||null)&&Jn(this.a,this.u),this.h=new Af(this.a),jh(this,f[ce]),wp(this.h,f),Di(this,"refreshToken",this.h.a),Tp(this,w||{}),zn.call(this),this.P=!1,this.s&&K()&&(this.b=Oh(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function Dp(t){return new Lh(function(){return t.I(!0)},function(f){return!(!f||"auth/network-request-failed"!=f.code)},function(){var f=t.h.c-Date.now()-3e5;return 0<f?f:0})}(this),this.ba=Qe(this.ib,this);var J=this;this.za=null,this.Pa=function(Ne){J.xa(Ne.h)},this.qa=null,this.Ba=function(Ne){Vh(J,Ne.c)},this.$=null,this.aa=[],this.Oa=function(Ne){Yd(J,Ne.f)},this.ja=null,this.S=new xf(this,w),Di(this,"multiFactor",this.S)}function Vh(t,f){t.u=f,Jn(t.a,f),t.b&&(f=t.b,t.b=Oh(t.s,t.l,t.m,t.u),t.P&&(uh(f,t),eh(t.b,t)))}function Rf(t,f){t.qa&&re(t.qa,"languageCodeChanged",t.Pa),(t.qa=f)&&kr(f,"languageCodeChanged",t.Pa)}function Of(t,f){t.$&&re(t.$,"emulatorConfigChanged",t.Ba),(t.$=f)&&kr(f,"emulatorConfigChanged",t.Ba)}function Yd(t,f){t.aa=f,Wi(t.a,d.default.SDK_VERSION?Da(d.default.SDK_VERSION,t.aa):null)}function Cp(t,f){t.ja&&re(t.ja,"frameworkChanged",t.Oa),(t.ja=f)&&kr(f,"frameworkChanged",t.Oa)}function kf(t){try{return d.default.app(t.m).auth()}catch(f){throw new Ee("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Nf(t){t.J||t.D.b||(t.D.start(),re(t,"tokenChanged",t.ba),kr(t,"tokenChanged",t.ba))}function Hh(t){re(t,"tokenChanged",t.ba),t.D.stop()}function jh(t,f){t.Aa=f,Di(t,"_lat",f)}function Fc(t){for(var f=[],w=0;w<t.W.length;w++)f.push(t.W[w](t));return se(f).then(function(){return t})}function Nd(t){t.b&&!t.P&&(t.P=!0,eh(t.b,t))}function Tp(t,f){us(t,{uid:f.uid,displayName:f.displayName||null,photoURL:f.photoURL||null,email:f.email||null,emailVerified:f.emailVerified||!1,phoneNumber:f.phoneNumber||null,isAnonymous:f.isAnonymous||!1,tenantId:f.tenantId||null,metadata:new nh(f.createdAt,f.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function xp(){}function Mp(t){return ki().then(function(){if(t.J)throw new Ee("app-deleted")})}function dh(t){return Gn(t.providerData,function(f){return f.providerId})}function Gh(t,f){f&&(zh(t,f.providerId),t.providerData.push(f))}function zh(t,f){ni(t.providerData,function(w){return w.providerId==f})}function Pu(t,f,w){("uid"!=f||w)&&t.hasOwnProperty(f)&&Di(t,f,w)}function Yh(t,f){t!=f&&(us(t,{uid:f.uid,displayName:f.displayName,photoURL:f.photoURL,email:f.email,emailVerified:f.emailVerified,phoneNumber:f.phoneNumber,isAnonymous:f.isAnonymous,tenantId:f.tenantId,providerData:[]}),Di(t,"metadata",f.metadata?function Ig(t){return new nh(t.a,t.b)}(f.metadata):new nh),jn(f.providerData,function(w){Gh(t,w)}),function Ag(t,f){t.b=f.b,t.a=f.a,t.c=f.c}(t.h,f.h),Di(t,"refreshToken",t.h.a),Mf(t.S,f.S.b))}function hh(t){return t.I().then(function(f){var w=t.isAnonymous;return function Sp(t,f){return mo(t.a,pc,{idToken:f}).then(Qe(t.Kc,t))}(t,f).then(function(){return w||Pu(t,"isAnonymous",!1),f})})}function Zu(t,f){f[ce]&&t.Aa!=f[ce]&&(wp(t.h,f),t.dispatchEvent(new kd("tokenChanged")),jh(t,f[ce]),Pu(t,"refreshToken",t.h.a))}function $h(t,f){return hh(t).then(function(){if(Qn(dh(t),f))return Fc(t).then(function(){throw new Ee("provider-already-linked")})})}function $d(t,f,w){return Fa({user:t,credential:zc(f),additionalUserInfo:f=il(f),operationType:w})}function Ip(t,f){return Zu(t,f),t.reload().then(function(){return t})}function Rp(t,f,w,R,J){if(!K())return ar(new Ee("operation-not-supported-in-this-environment"));if(t.i&&!J)return ar(t.i);var Ne=vl(w.providerId),nt=en(t.uid+":::"),Wt=null;(!ue()||Ri())&&t.s&&w.isOAuthProvider&&(Wt=ri(t.s,t.l,t.m,f,w,null,nt,d.default.SDK_VERSION||null,null,null,t.tenantId,t.u));var ti=D(Wt,Ne&&Ne.va,Ne&&Ne.ua);return R=R().then(function(){if(Wd(t),!J)return t.I().then(function(){})}).then(function(){return hp(t.b,ti,f,w,nt,!!Wt,t.tenantId)}).then(function(){return new er(function(yi,bo){t.na(f,null,new Ee("cancelled-popup-request"),t.g||null),t.f=yi,t.C=bo,t.g=nt,t.c=wf(t.b,t,f,ti,nt)})}).then(function(yi){return ti&&Ji(ti),yi?Fa(yi):null}).o(function(yi){throw ti&&Ji(ti),yi}),Qa(t,R,J)}function Pf(t,f,w,R,J){if(!K())return ar(new Ee("operation-not-supported-in-this-environment"));if(t.i&&!J)return ar(t.i);var Ne=null,nt=en(t.uid+":::");return R=R().then(function(){if(Wd(t),!J)return t.I().then(function(){})}).then(function(){return t.ga=nt,Fc(t)}).then(function(Wt){return t.ha&&(Wt=(Wt=t.ha).b.set(Ff,t.w(),Wt.a)),Wt}).then(function(){return bg(t.b,f,w,nt,t.tenantId)}).o(function(Wt){if(Ne=Wt,t.ha)return kp(t.ha);throw Ne}).then(function(){if(Ne)throw Ne}),Qa(t,R,J)}function Wd(t){if(!t.b||!t.P)throw new Ee(t.b&&!t.P?"internal-error":"auth-domain-config-required")}function Qa(t,f,w){var R=function Rg(t,f,w){return t.i&&!w?(f.cancel(),ar(t.i)):f.o(function(R){throw!R||"auth/user-disabled"!=R.code&&"auth/user-token-expired"!=R.code||(t.i||t.dispatchEvent(new kd("userInvalidated")),t.i=R),R})}(t,f,w);return t.N.push(R),R.oa(function(){li(t.N,R)}),R.o(function(J){var Ne=null;throw J&&"auth/multi-factor-auth-required"===J.code&&(Ne=_p(J.w(),kf(t),Qe(t.jc,t))),Ne||J})}function Op(t){if(!t.apiKey)return null;var f={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},w={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;w[ce]=t.stsTokenManager.accessToken,w.refreshToken=t.stsTokenManager.refreshToken||null;var R=t.stsTokenManager.expirationTime;R&&(w.expiresIn=(R-Date.now())/1e3);var J=new Pc(f,w,t);return t.providerData&&jn(t.providerData,function(Ne){Ne&&Gh(J,Fa(Ne))}),t.redirectEventId&&(J.ga=t.redirectEventId),J}function kg(t){this.a=t,this.b=zd()}Df.prototype.Rc=function(t){var f=this;return t.tb(this.a.a,this.c).then(function(w){var R=Ft(f.f);return delete R[Ef],delete R[mp],X(R,w),f.g(R)})},tt(Fh,Ee),vp.prototype.tb=function(t,f,w){return f.type==Ma?function yp(t,f,w,R){return w.Ha().then(function(J){return J={idToken:J},void 0!==R&&(J.displayName=R),X(J,{phoneVerificationInfo:iu(t.a)}),mo(f,Nc,J)})}(this,t,f,w):function bp(t,f,w){return w.Ha().then(function(R){return X(R={mfaPendingCredential:R},{phoneVerificationInfo:iu(t.a)}),mo(f,fc,R)})}(this,t,f)},tt(Tf,vp),tt(Wu,Tf),tt(kd,pr),(_=xf.prototype).yc=function(t){Mf(this,function Mg(t){var f=[];return jn(t.mfaInfo||[],function(w){(w=ta(w))&&f.push(w)}),f}(t.hd))},_.Sb=function(){return this.a.I().then(function(t){return new yl(t,null)})},_.fc=function(t,f){var w=this,R=this.a.a;return this.Sb().then(function(J){return t.tb(R,J,f)}).then(function(J){return Zu(w.a,J),w.a.reload()})},_.bd=function(t){var f=this,w="string"==typeof t?t:t.uid,R=this.a.a;return this.a.I().then(function(J){return mo(R,Iu,{idToken:J,mfaEnrollmentId:w})}).then(function(J){var Ne=cn(f.b,function(nt){return nt.uid!=w});return Mf(f,Ne),Zu(f.a,J),f.a.reload().o(function(nt){if("auth/user-token-expired"!=nt.code)throw nt})})},_.w=function(){return{multiFactor:{enrolledFactors:Gn(this.b,function(t){return t.w()})}}},Lh.prototype.start=function(){this.a=this.c,Sf(this,!0)},Lh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Af.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},Af.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?ar(new Ee("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function Uh(t,f){return function Bs(t,f){return new er(function(w,R){"refresh_token"==f.grant_type&&f.refresh_token||"authorization_code"==f.grant_type&&f.code?Wr(t,t.l+"?key="+encodeURIComponent(t.c),function(J){J?J.error?R(_u(J)):J.access_token&&J.refresh_token?w(J):R(new Ee("internal-error")):R(new Ee("network-request-failed"))},"POST",Xr(f).toString(),t.g,t.m.get()):R(new Ee("internal-error"))})}(t.f,f).then(function(w){return t.b=xa(w.access_token),t.a=w.refresh_token,Bh(t,w.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(w){throw"auth/user-token-expired"==w.code&&(t.a=null),w})}(this,{grant_type:"refresh_token",refresh_token:this.a}):ki(null):ki({accessToken:this.b.toString(),refreshToken:this.a})},nh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},tt(Pc,zn),Pc.prototype.xa=function(t){this.za=t,Hn(this.a,t)},Pc.prototype.la=function(){return this.za},Pc.prototype.Ga=function(){return q(this.aa)},Pc.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Di(Pc.prototype,"providerId","firebase"),(_=Pc.prototype).reload=function(){var t=this;return Qa(this,Mp(this).then(function(){return hh(t).then(function(){return Fc(t)}).then(xp)}))},_.oc=function(t){return this.I(t).then(function(f){return new xg(f)})},_.I=function(t){var f=this;return Qa(this,Mp(this).then(function(){return f.h.getToken(t)}).then(function(w){if(!w)throw new Ee("internal-error");return w.accessToken!=f.Aa&&(jh(f,w.accessToken),f.dispatchEvent(new kd("tokenChanged"))),Pu(f,"refreshToken",w.refreshToken),w.accessToken}))},_.Kc=function(t){if(!(t=t.users)||!t.length)throw new Ee("internal-error");Tp(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var f=function Ap(t){return(t=t.providerUserInfo)&&t.length?Gn(t,function(f){return new If(f.rawId,f.providerId,f.email,f.displayName,f.photoUrl,f.phoneNumber)}):[]}(t),w=0;w<f.length;w++)Gh(this,f[w]);Pu(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new kd("userReloaded",{hd:t}))},_.Lc=function(t){return Fo("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},_.ub=function(t){var f=this,w=null;return Qa(this,t.c(this.a,this.uid).then(function(R){return Zu(f,R),w=$d(f,R,"reauthenticate"),f.i=null,f.reload()}).then(function(){return w}),!0)},_.Cc=function(t){return Fo("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},_.rb=function(t){var f=this,w=null;return Qa(this,$h(this,t.providerId).then(function(){return f.I()}).then(function(R){return t.b(f.a,R)}).then(function(R){return w=$d(f,R,"link"),Ip(f,R)}).then(function(){return w}))},_.Dc=function(t,f){var w=this;return Qa(this,$h(this,"phone").then(function(){return Cf(kf(w),t,f,Qe(w.rb,w))}))},_.Mc=function(t,f){var w=this;return Qa(this,ki().then(function(){return Cf(kf(w),t,f,Qe(w.ub,w))}),!0)},_.Cb=function(t){var f=this;return Qa(this,this.I().then(function(w){return f.a.Cb(w,t)}).then(function(w){return Zu(f,w),f.reload()}))},_.ed=function(t){var f=this;return Qa(this,this.I().then(function(w){return t.b(f.a,w)}).then(function(w){return Zu(f,w),f.reload()}))},_.Db=function(t){var f=this;return Qa(this,this.I().then(function(w){return f.a.Db(w,t)}).then(function(w){return Zu(f,w),f.reload()}))},_.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Mp(this);var f=this;return Qa(this,this.I().then(function(w){return f.a.Eb(w,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(w){return Zu(f,w),Pu(f,"displayName",w.displayName||null),Pu(f,"photoURL",w.photoUrl||null),jn(f.providerData,function(R){"password"===R.providerId&&(Di(R,"displayName",f.displayName),Di(R,"photoURL",f.photoURL))}),Fc(f)}).then(xp))},_.cd=function(t){var f=this;return Qa(this,hh(this).then(function(w){return Qn(dh(f),t)?function ul(t,f,w){return mo(t,pd,{idToken:f,deleteProvider:w})}(f.a,w,[t]).then(function(R){var J={};return jn(R.providerUserInfo||[],function(Ne){J[Ne.providerId]=!0}),jn(dh(f),function(Ne){J[Ne]||zh(f,Ne)}),J[ds.PROVIDER_ID]||Di(f,"phoneNumber",null),Fc(f)}):Fc(f).then(function(){throw new Ee("no-such-provider")})}))},_.delete=function(){var t=this;return Qa(this,this.I().then(function(f){return mo(t.a,hu,{idToken:f})}).then(function(){t.dispatchEvent(new kd("userDeleted"))})).then(function(){for(var f=0;f<t.N.length;f++)t.N[f].cancel("app-deleted");Rf(t,null),Of(t,null),Cp(t,null),t.N=[],t.J=!0,Hh(t),Di(t,"refreshToken",null),t.b&&uh(t.b,t)})},_.Gb=function(t,f){return!!("linkViaPopup"==t&&(this.g||null)==f&&this.f||"reauthViaPopup"==t&&(this.g||null)==f&&this.f||"linkViaRedirect"==t&&(this.ga||null)==f||"reauthViaRedirect"==t&&(this.ga||null)==f)},_.na=function(t,f,w,R){"linkViaPopup"!=t&&"reauthViaPopup"!=t||R!=(this.g||null)||(w&&this.C?this.C(w):f&&!w&&this.f&&this.f(f),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},_.Fa=function(t,f){return"linkViaPopup"==t&&f==(this.g||null)?Qe(this.Lb,this):"reauthViaPopup"==t&&f==(this.g||null)?Qe(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==f?Qe(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==f?Qe(this.Mb,this):null},_.Ec=function(t){var f=this;return Rp(this,"linkViaPopup",t,function(){return $h(f,t.providerId).then(function(){return Fc(f)})},!1)},_.Nc=function(t){return Rp(this,"reauthViaPopup",t,function(){return ki()},!0)},_.Fc=function(t){var f=this;return Pf(this,"linkViaRedirect",t,function(){return $h(f,t.providerId)},!1)},_.Oc=function(t){return Pf(this,"reauthViaRedirect",t,function(){return ki()},!0)},_.Lb=function(t,f,w,R){var J=this;this.c&&(this.c.cancel(),this.c=null);var Ne=null;return Qa(this,this.I().then(function(nt){return wa(J.a,{requestUri:t,postBody:R,sessionId:f,idToken:nt})}).then(function(nt){return Ne=$d(J,nt,"link"),Ip(J,nt)}).then(function(){return Ne}))},_.Mb=function(t,f,w,R){var J=this;this.c&&(this.c.cancel(),this.c=null);var Ne=null;return Qa(this,ki().then(function(){return ps(hc(J.a,{requestUri:t,sessionId:f,postBody:R,tenantId:w}),J.uid)}).then(function(Wt){return Ne=$d(J,Wt,"reauthenticate"),Zu(J,Wt),J.i=null,J.reload()}).then(function(){return Ne}),!0)},_.vb=function(t){var f=this,w=null;return Qa(this,this.I().then(function(R){return w=R,void 0===t||Nt(t)?{}:Xl(new yu(t))}).then(function(R){return f.a.vb(w,R)}).then(function(R){if(f.email!=R)return f.reload()}).then(function(){}))},_.Fb=function(t,f){var w=this,R=null;return Qa(this,this.I().then(function(J){return R=J,void 0===f||Nt(f)?{}:Xl(new yu(f))}).then(function(J){return w.a.Fb(R,t,J)}).then(function(J){if(w.email!=J)return w.reload()}).then(function(){}))},_.jc=function(t){var f=null,w=this;return Qa(this,t=ps(ki(t),w.uid).then(function(R){return f=$d(w,R,"reauthenticate"),Zu(w,R),w.i=null,w.reload()}).then(function(){return f}),!0)},_.toJSON=function(){return this.w()},_.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&X(t,this.metadata.w()),jn(this.providerData,function(f){t.providerData.push(function hl(t){var w,f={};for(w in t)t.hasOwnProperty(w)&&(f[w]=t[w]);return f}(f))}),X(t,this.S.w()),t};var Ff={name:"redirectUser",F:"session"};function kp(t){return dd(t.b,Ff,t.a)}function fh(t){this.a=t,this.b=zd(),this.c=null,this.f=function Np(t){var f=Ku("local"),w=Ku("session"),R=Ku("none");return function sh(t,f,w){var R=Id(f,w),J=Yu(t,f.F);return t.get(f,w).then(function(Ne){var nt=null;try{nt=It(Q.localStorage.getItem(R))}catch(Wt){}if(nt&&!Ne)return Q.localStorage.removeItem(R),t.set(f,nt,w);nt&&Ne&&"localStorage"!=J.type&&Q.localStorage.removeItem(R)})}(t.b,f,t.a).then(function(){return t.b.get(w,t.a)}).then(function(J){return J?w:t.b.get(R,t.a).then(function(Ne){return Ne?R:t.b.get(f,t.a).then(function(nt){return nt?f:t.b.get(Zh,t.a).then(function(Wt){return Wt?Ku(Wt):f})})})}).then(function(J){return t.c=J,Wh(t,J.F)}).o(function(){t.c||(t.c=f)})}(this),this.b.addListener(Ku("local"),this.a,Qe(this.g,this))}function Wh(t,f){var R,w=[];for(R in Us)Us[R]!==f&&w.push(dd(t.b,Ku(Us[R]),t.a));return w.push(dd(t.b,Zh,t.a)),function Te(t){return new er(function(f,w){var R=t.length,J=[];if(R)for(var Ne=function(yi,bo){R--,J[yi]=bo,0==R&&f(J)},nt=function(yi){w(yi)},Wt=0;Wt<t.length;Wt++)os(t[Wt],Mt(Ne,Wt),nt);else f(J)})}(w)}fh.prototype.g=function(){var t=this,f=Ku("local");Zd(this,function(){return ki().then(function(){return t.c&&"local"!=t.c.F?t.b.get(f,t.a):null}).then(function(w){if(w)return Wh(t,"local").then(function(){t.c=f})})})};var Zh={name:"persistence",F:"session"};function Ku(t){return{name:"authUser",F:t}}function Pp(t,f){return Zd(t,function(){return t.b.set(t.c,f.w(),t.a)})}function Fp(t){return Zd(t,function(){return dd(t.b,t.c,t.a)})}function Lp(t,f,w){return Zd(t,function(){return t.b.get(t.c,t.a).then(function(R){return R&&f&&(R.authDomain=f),R&&w&&(R.emulatorConfig=w),Op(R||{})})})}function Zd(t,f){return t.f=t.f.then(f,f),t.f}function fd(t){if(this.l=!1,Di(this,"settings",new Nh),Di(this,"app",t),!Ss(this).options||!Ss(this).options.apiKey)throw new Ee("invalid-api-key");t=d.default.SDK_VERSION?Da(d.default.SDK_VERSION):null,this.a=new O(Ss(this).options&&Ss(this).options.apiKey,fn(wn),t),this.P=[],this.s=[],this.N=[],this.Pa=d.default.INTERNAL.createSubscribe(Qe(this.zc,this)),this.W=void 0,this.ib=d.default.INTERNAL.createSubscribe(Qe(this.Ac,this)),gh(this,null),this.i=new fh(Ss(this).options.apiKey+":"+Ss(this).name),this.D=new kg(Ss(this).options.apiKey+":"+Ss(this).name),this.$=ha(this,function n_(t){var f=Ss(t).options.authDomain,w=function Qu(t){var f=function qu(t,f){return t.b.get(Ff,t.a).then(function(w){return w&&f&&(w.authDomain=f),Op(w||{})})}(t.D,Ss(t).options.authDomain).then(function(w){return(t.m=w)&&(w.ha=t.D),kp(t.D)});return ha(t,f)}(t).then(function(){return Lp(t.i,f,t.R)}).then(function(R){return R?(R.ha=t.D,t.m&&(t.m.ga||null)==(R.ga||null)?R:R.reload().then(function(){return Pp(t.i,R).then(function(){return R})}).o(function(J){return"auth/network-request-failed"==J.code?R:Fp(t.i)})):null}).then(function(R){gh(t,R||null)});return ha(t,w)}(this)),this.h=ha(this,function i_(t){return t.$.then(function(){return Bf(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var f=t.i;f.b.addListener(Ku("local"),f.a,t.ja)}})}(this)),this.ba=!1,this.ja=Qe(this.Zc,this),this.Ba=Qe(this.da,this),this.qa=Qe(this.mc,this),this.za=Qe(this.wc,this),this.Aa=Qe(this.xc,this),this.b=null,function Pg(t){var f=Ss(t).options.authDomain,w=Ss(t).options.apiKey;f&&K()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=Oh(f,w,Ss(t).name,t.R),eh(t.b,t),ko(t)&&Nd(ko(t)),t.m){Nd(t.m);var R=t.m;R.xa(t.la()),Rf(R,t),Yd(R=t.m,t.J),Cp(R,t),Vh(R=t.m,t.R),Of(R,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=Qe(this.delete,this),this.INTERNAL.logFramework=Qe(this.Gc,this),this.u=0,zn.call(this),function t_(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(f){this.xa(f)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(f){this.zb(f)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var f=He(this.R.url);f=Fa({protocol:f.c,host:f.a,port:f.g,options:Fa({disableWarnings:this.R.ec})})}else f=null;return f},enumerable:!1})}(this),this.J=[],this.R=null}function Lf(t){pr.call(this,"languageCodeChanged"),this.h=t}function Bp(t){pr.call(this,"emulatorConfigChanged"),this.c=t}function Up(t){pr.call(this,"frameworkChanged"),this.f=t}function ph(t){return t.Oa||ar(new Ee("auth-domain-config-required"))}function Bf(t){if(!K())return ar(new Ee("operation-not-supported-in-this-environment"));var f=ph(t).then(function(){return t.b.ra()}).then(function(w){return w?Fa(w):null});return ha(t,f)}function gh(t,f){ko(t)&&(function Ep(t,f){ni(t.W,function(w){return w==f})}(ko(t),t.Ba),re(ko(t),"tokenChanged",t.qa),re(ko(t),"userDeleted",t.za),re(ko(t),"userInvalidated",t.Aa),Hh(ko(t))),f&&(f.W.push(t.Ba),kr(f,"tokenChanged",t.qa),kr(f,"userDeleted",t.za),kr(f,"userInvalidated",t.Aa),0<t.u&&Nf(f)),Di(t,"currentUser",f),f&&(f.xa(t.la()),Rf(f,t),Yd(f,t.J),Cp(f,t),Vh(f,t.R),Of(f,t))}function Pd(t,f){var w=null,R=null;return ha(t,f.then(function(J){return w=zc(J),R=il(J),function Vp(t,f){var w={};return w.apiKey=Ss(t).options.apiKey,w.authDomain=Ss(t).options.authDomain,w.appName=Ss(t).name,t.R&&(w.emulatorConfig=t.R),t.$.then(function(){return function ih(t,f,w,R){var J=new Pc(t,f);return w&&(J.ha=w),R&&Yd(J,R),J.reload().then(function(){return J})}(w,f,t.D,t.Ga())}).then(function(R){return ko(t)&&R.uid==ko(t).uid?(Yh(ko(t),R),t.da(R)):(gh(t,R),Nd(R),t.da(R))}).then(function(){Kh(t)})}(t,J)},function(J){var Ne=null;throw J&&"auth/multi-factor-auth-required"===J.code&&(Ne=_p(J.w(),t,Qe(t.kc,t))),Ne||J}).then(function(){return Fa({user:ko(t),credential:w,additionalUserInfo:R,operationType:"signIn"})}))}function Ss(t){return t.app}function ko(t){return t.currentUser}function qh(t){return ko(t)&&ko(t)._lat||null}function Kh(t){if(t.ba){for(var f=0;f<t.s.length;f++)t.s[f]&&t.s[f](qh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),f=0;f<t.N.length;f++)t.N[f]&&t.N[f](qh(t))}}function ha(t,f){return t.P.push(f),f.oa(function(){li(t.P,f)}),f}function mh(){}function Fd(){this.a={},this.b=1e12}fh.prototype.yb=function(t){var f=null,w=this;return function mc(t){var f=new Ee("invalid-persistence-type"),w=new Ee("unsupported-persistence-type");e:{for(R in Us)if(Us[R]==t){var R=!0;break e}R=!1}if(!R||"string"!=typeof t)throw f;switch(Br()){case"ReactNative":if("session"===t)throw w;break;case"Node":if("none"!==t)throw w;break;case"Worker":if("session"===t||!Le()&&"none"!==t)throw w;break;default:if(!Xa()&&"none"!==t)throw w}}(t),Zd(this,function(){return t!=w.c.F?w.b.get(w.c,w.a).then(function(R){return f=R,Wh(w,t)}).then(function(){if(w.c=Ku(t),f)return w.b.set(w.c,f,w.a)}):ki()})},tt(fd,zn),tt(Lf,pr),tt(Bp,pr),tt(Up,pr),(_=fd.prototype).yb=function(t){return ha(this,t=this.i.yb(t))},_.xa=function(t){this.aa===t||this.l||(this.aa=t,Hn(this.a,this.aa),this.dispatchEvent(new Lf(this.la())))},_.la=function(){return this.aa},_.fd=function(){var t=Q.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},_.gd=function(t,f){if(!this.R){if(!/^https?:\/\//.test(t))throw new Ee("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function e_(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),Q.document&&!t&&kt().then(function(){var f=Q.document.createElement("div");f.innerText="Running in emulator mode. Do not use with production credentials.",f.style.position="fixed",f.style.width="100%",f.style.backgroundColor="#ffffff",f.style.border=".1em solid #000000",f.style.color="#b50000",f.style.bottom="0px",f.style.left="0px",f.style.margin="0px",f.style.zIndex=1e4,f.style.textAlign="center",f.classList.add("firebase-emulator-warning"),Q.document.body.appendChild(f)})})(f=!!f&&!!f.disableWarnings),this.R={url:t,ec:f},this.settings.jb=!0,Jn(this.a,this.R),this.dispatchEvent(new Bp(this.R))}},_.Gc=function(t){this.J.push(t),Wi(this.a,d.default.SDK_VERSION?Da(d.default.SDK_VERSION,this.J):null),this.dispatchEvent(new Up(this.J))},_.Ga=function(){return q(this.J)},_.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},_.T=function(){return this.S},_.toJSON=function(){return{apiKey:Ss(this).options.apiKey,authDomain:Ss(this).options.authDomain,appName:Ss(this).name,currentUser:ko(this)&&ko(this).w()}},_.Gb=function(t,f){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==f&&!!this.f;default:return!1}},_.na=function(t,f,w,R){"signInViaPopup"==t&&this.g==R&&(w&&this.C?this.C(w):f&&!w&&this.f&&this.f(f),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},_.Fa=function(t,f){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==f&&this.f?Qe(this.ic,this):null},_.ic=function(t,f,w,R){var J=this,Ne={requestUri:t,postBody:R,sessionId:f,tenantId:w};return this.c&&(this.c.cancel(),this.c=null),J.$.then(function(){return Pd(J,rd(J.a,Ne))})},_.Xc=function(t){if(!K())return ar(new Ee("operation-not-supported-in-this-environment"));var f=this,w=vl(t.providerId),R=en(),J=null;(!ue()||Ri())&&Ss(this).options.authDomain&&t.isOAuthProvider&&(J=ri(Ss(this).options.authDomain,Ss(this).options.apiKey,Ss(this).name,"signInViaPopup",t,null,R,d.default.SDK_VERSION||null,null,null,this.T(),this.R));var Ne=D(J,w&&w.va,w&&w.ua);return ha(this,w=ph(this).then(function(nt){return hp(nt,Ne,"signInViaPopup",t,R,!!J,f.T())}).then(function(){return new er(function(nt,Wt){f.na("signInViaPopup",null,new Ee("cancelled-popup-request"),f.g),f.f=nt,f.C=Wt,f.g=R,f.c=wf(f.b,f,"signInViaPopup",Ne,R)})}).then(function(nt){return Ne&&Ji(Ne),nt?Fa(nt):null}).o(function(nt){throw Ne&&Ji(Ne),nt}))},_.Yc=function(t){if(!K())return ar(new Ee("operation-not-supported-in-this-environment"));var f=this,w=ph(this).then(function(){return function Ng(t){return Zd(t,function(){return t.b.set(Zh,t.c.F,t.a)})}(f.i)}).then(function(){return bg(f.b,"signInViaRedirect",t,void 0,f.T())});return ha(this,w)},_.ra=function(){var t=this;return Bf(this).then(function(f){return t.b&&_c(t.b.b),f}).o(function(f){throw t.b&&_c(t.b.b),f})},_.dd=function(t){if(!t)return ar(new Ee("null-user"));if(this.S!=t.tenantId)return ar(new Ee("tenant-id-mismatch"));var f=this,w={};w.apiKey=Ss(this).options.apiKey,w.authDomain=Ss(this).options.authDomain,w.appName=Ss(this).name;var R=function Og(t,f,w,R){var J=t.h,Ne={};return Ne[ce]=J.b&&J.b.toString(),Ne.refreshToken=J.a,f=new Pc(f||{apiKey:t.l,authDomain:t.s,appName:t.m},Ne),w&&(f.ha=w),R&&Yd(f,R),Yh(f,t),f}(t,w,f.D,f.Ga());return ha(this,this.h.then(function(){if(Ss(f).options.apiKey!=t.l)return R.reload()}).then(function(){return ko(f)&&t.uid==ko(f).uid?(Yh(ko(f),t),f.da(t)):(gh(f,R),Nd(R),f.da(R))}).then(function(){Kh(f)}))},_.Bb=function(){var t=this;return ha(this,this.h.then(function(){return t.b&&_c(t.b.b),ko(t)?(gh(t,null),Fp(t.i).then(function(){Kh(t)})):ki()}))},_.Zc=function(){var t=this;return Lp(this.i,Ss(this).options.authDomain).then(function(f){if(!t.l){var w;if(w=ko(t)&&f){w=ko(t).uid;var R=f.uid;w=null!=w&&""!==w&&null!=R&&""!==R&&w==R}if(w)return Yh(ko(t),f),ko(t).I();(ko(t)||f)&&(gh(t,f),f&&(Nd(f),f.ha=t.D),t.b&&eh(t.b,t),Kh(t))}})},_.da=function(t){return Pp(this.i,t)},_.mc=function(){Kh(this),this.da(ko(this))},_.wc=function(){this.Bb()},_.xc=function(){this.Bb()},_.kc=function(t){var f=this;return this.h.then(function(){return Pd(f,ki(t))})},_.zc=function(t){var f=this;this.addAuthTokenListener(function(){t.next(ko(f))})},_.Ac=function(t){var f=this;!function Hp(t,f){t.N.push(f),ha(t,t.h.then(function(){!t.l&&Qn(t.N,f)&&t.W!==t.getUid()&&(t.W=t.getUid(),f(qh(t)))}))}(this,function(){t.next(ko(f))})},_.Ic=function(t,f,w){var R=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(ko(R)):"function"==typeof t.next&&t.next(ko(R))}),this.Pa(t,f,w)},_.Hc=function(t,f,w){var R=this;return this.ba&&Promise.resolve().then(function(){R.W=R.getUid(),"function"==typeof t?t(ko(R)):"function"==typeof t.next&&t.next(ko(R))}),this.ib(t,f,w)},_.nc=function(t){var f=this;return ha(this,this.h.then(function(){return ko(f)?ko(f).I(t).then(function(R){return{accessToken:R}}):null}))},_.Tc=function(t){var f=this;return this.h.then(function(){return Pd(f,mo(f.a,cd,{token:t}))}).then(function(w){var R=w.user;return Pu(R,"isAnonymous",!1),f.da(R),w})},_.Uc=function(t,f){var w=this;return this.h.then(function(){return Pd(w,mo(w.a,gc,{email:t,password:f}))})},_.dc=function(t,f){var w=this;return this.h.then(function(){return Pd(w,mo(w.a,dl,{email:t,password:f}))})},_.ab=function(t){var f=this;return this.h.then(function(){return Pd(f,t.ka(f.a))})},_.Sc=function(t){return Fo("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},_.Ab=function(){var t=this;return this.h.then(function(){var f=ko(t);if(f&&f.isAnonymous){var w=Fa({providerId:null,isNewUser:!1});return Fa({user:f,credential:null,additionalUserInfo:w,operationType:"signIn"})}return Pd(t,t.a.Ab()).then(function(R){var J=R.user;return Pu(J,"isAnonymous",!0),t.da(J),R})})},_.getUid=function(){return ko(this)&&ko(this).uid||null},_.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&ko(this)&&Nf(ko(this))},_.Pc=function(t){var f=this;jn(this.s,function(w){w==t&&f.u--}),0>this.u&&(this.u=0),0==this.u&&ko(this)&&Hh(ko(this)),this.removeAuthTokenListener(t)},_.addAuthTokenListener=function(t){var f=this;this.s.push(t),ha(this,this.h.then(function(){f.l||Qn(f.s,t)&&t(qh(f))}))},_.removeAuthTokenListener=function(t){ni(this.s,function(f){return f==t})},_.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Ku("local"),t.a,this.ja),this.b&&(uh(this.b,this),_c(this.b.b)),Promise.resolve()},_.hc=function(t){return ha(this,function Ms(t,f){return mo(t,du,{identifier:f,continueUri:H()?Xo():"http://localhost"}).then(function(w){return w.signinMethods||[]})}(this.a,t))},_.Bc=function(t){return!!Ll(t)},_.xb=function(t,f){var w=this;return ha(this,ki().then(function(){var R=new yu(f);if(!R.c)throw new Ee("argument-error",Ns+" must be true when sending sign in link to email");return Xl(R)}).then(function(R){return w.a.xb(t,R)}).then(function(){}))},_.jd=function(t){return this.Sa(t).then(function(f){return f.data.email})},_.ob=function(t,f){return ha(this,this.a.ob(t,f).then(function(){}))},_.Sa=function(t){return ha(this,this.a.Sa(t).then(function(f){return new uo(f)}))},_.kb=function(t){return ha(this,this.a.kb(t).then(function(){}))},_.wb=function(t,f){var w=this;return ha(this,ki().then(function(){return void 0===f||Nt(f)?{}:Xl(new yu(f))}).then(function(R){return w.a.wb(t,R)}).then(function(){}))},_.Wc=function(t,f){return ha(this,Cf(this,t,f,Qe(this.ab,this)))},_.Vc=function(t,f){var w=this;return ha(this,ki().then(function(){var R=f||Xo(),J=Dc(t,R);if(!(R=Ll(R)))throw new Ee("argument-error","Invalid email link!");if(R.tenantId!==w.T())throw new Ee("tenant-id-mismatch");return w.ab(J)}))},mh.prototype.render=function(){},mh.prototype.reset=function(){},mh.prototype.getResponse=function(){},mh.prototype.execute=function(){};var Uf=null;function Vf(t,f){return(f=jp(f))&&t.a[f]||null}function jp(t){return(t=void 0===t?1e12:t)?t.toString():null}function Qh(t,f){this.g=!1,this.c=f,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Ki(t);var w=this;this.i=function(){w.execute()},this.h?this.execute():kr(this.f,"click",this.i)}function Hf(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function jf(){}function rh(){}Fd.prototype.render=function(t,f){return this.a[this.b.toString()]=new Qh(t,f),this.b++},Fd.prototype.reset=function(t){var f=Vf(this,t);t=jp(t),f&&t&&(f.delete(),delete this.a[t])},Fd.prototype.getResponse=function(t){return(t=Vf(this,t))?t.getResponse():null},Fd.prototype.execute=function(t){(t=Vf(this,t))&&t.execute()},Qh.prototype.getResponse=function(){return Hf(this),this.b},Qh.prototype.execute=function(){Hf(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function Mo(){for(var t=50,f=[];0<t;)f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return f.join("")}();var f=t.c.callback,w=t.c["expired-callback"];if(f)try{f(t.b)}catch(R){}t.a=setTimeout(function(){if(t.a=null,t.b=null,w)try{w()}catch(R){}t.h&&t.execute()},6e4)},500))},Qh.prototype.delete=function(){Hf(this),this.g=!0,clearTimeout(this.a),this.a=null,re(this.f,"click",this.i)},Di(jf,"FACTOR_ID","phone"),rh.prototype.g=function(){return Uf||(Uf=new Fd),ki(Uf)},rh.prototype.c=function(){};var Ld=null;function Gf(){this.b=Q.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var _h=new Z(ut,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Fg=new Mr(3e4,6e4);Gf.prototype.g=function(t){var f=this;return new er(function(w,R){var J=setTimeout(function(){R(new Ee("network-request-failed"))},Fg.get());!Q.grecaptcha||t!==f.f&&!f.b?(Q[f.a]=function(){if(Q.grecaptcha){f.f=t;var nt=Q.grecaptcha.render;Q.grecaptcha.render=function(Wt,ti){return Wt=nt(Wt,ti),f.b++,Wt},clearTimeout(J),w(Q.grecaptcha)}else clearTimeout(J),R(new Ee("internal-error"));delete Q[f.a]},ki(kc(bi(_h,{onload:f.a,hl:t||""}))).o(function(){clearTimeout(J),R(new Ee("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(J),w(Q.grecaptcha))})},Gf.prototype.c=function(){this.b--};var zf=null;function vh(t,f,w,R,J,Ne,nt){if(Di(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=f,this.g=null,nt?(Ld||(Ld=new rh),nt=Ld):(zf||(zf=new Gf),nt=zf),this.m=nt,this.a=w||{theme:"light",type:"image"},this.h=[],this.a[$l])throw new Ee("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[qd],!Q.document)throw new Ee("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Ki(f)||!this.i&&Ki(f).hasChildNodes())throw new Ee("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new O(t,Ne||null,J||null),this.u=R||function(){return null};var Wt=this;this.l=[];var ti=this.a[Ju];this.a[Ju]=function(bo){if(yh(Wt,bo),"function"==typeof ti)ti(bo);else if("string"==typeof ti){var Vs=So(ti,Q);"function"==typeof Vs&&Vs(bo)}};var yi=this.a[oh];this.a[oh]=function(){if(yh(Wt,null),"function"==typeof yi)yi();else if("string"==typeof yi){var bo=So(yi,Q);"function"==typeof bo&&bo()}}}var Ju="callback",oh="expired-callback",$l="sitekey",qd="size";function yh(t,f){for(var w=0;w<t.l.length;w++)try{t.l[w](f)}catch(R){}}function bh(t,f){return t.h.push(f),f.oa(function(){li(t.h,f)}),f}function Dd(t){if(t.J)throw new Ee("internal-error","RecaptchaVerifier instance has been destroyed.")}function Bd(t,f,w){var R=!1;try{this.b=w||d.default.app()}catch(nt){throw new Ee("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Ee("invalid-api-key");w=this.b.options.apiKey;var J=this,Ne=null;try{Ne=this.b.auth().Ga()}catch(nt){}try{R=this.b.auth().settings.appVerificationDisabledForTesting}catch(nt){}Ne=d.default.SDK_VERSION?Da(d.default.SDK_VERSION,Ne):null,vh.call(this,w,t,f,function(){try{var nt=J.b.auth().la()}catch(Wt){nt=null}return nt},Ne,fn(wn),R)}function Kd(t,f,w,R){e:{w=Array.prototype.slice.call(w);for(var J=0,Ne=!1,nt=0;nt<f.length;nt++)if(f[nt].optional)Ne=!0;else{if(Ne)throw new Ee("internal-error","Argument validator encountered a required argument after an optional argument.");J++}if(Ne=f.length,w.length<J||Ne<w.length)R="Expected "+(J==Ne?1==J?"1 argument":J+" arguments":J+"-"+Ne+" arguments")+" but got "+w.length+".";else{for(J=0;J<w.length;J++)if(Ne=f[J].optional&&void 0===w[J],!f[J].M(w[J])&&!Ne){if(f=f[J],0>J||J>=Qd.length)throw new Ee("internal-error","Argument validator received an unsupported number of arguments.");w=Qd[J],R=(R?"":w+" argument ")+(f.name?'"'+f.name+'" ':"")+"must be "+f.K+".";break e}R=null}}if(R)throw new Ee("argument-error",t+" failed: "+R)}(_=vh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=bh(this,ki().then(function(){if(H()&&!Cr())return kt();throw new Ee("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(f){return t.g=f,mo(t.s,md,{})}).then(function(f){t.a[$l]=f.recaptchaSiteKey}).o(function(f){throw t.f=null,f}))},_.render=function(){Dd(this);var t=this;return bh(this,this.Ia().then(function(){if(null===t.c){var f=t.v;if(!t.i){var w=Ki(f);f=function Xi(t,f,w){var R=arguments,J=document,Ne=String(R[0]),nt=R[1];if(!vr&&nt&&(nt.name||nt.type)){if(Ne=["<",Ne],nt.name&&Ne.push(' name="',Oe(nt.name),'"'),nt.type){Ne.push(' type="',Oe(nt.type),'"');var Wt={};X(Wt,nt),delete Wt.type,nt=Wt}Ne.push(">"),Ne=Ne.join("")}return Ne=ms(J,Ne),nt&&("string"==typeof nt?Ne.className=nt:Array.isArray(nt)?Ne.className=nt.join(" "):zr(Ne,nt)),2<R.length&&wo(J,Ne,R),Ne}("DIV"),w.appendChild(f)}t.c=t.g.render(f,t.a)}return t.c}))},_.verify=function(){Dd(this);var t=this;return bh(this,this.render().then(function(f){return new er(function(w){var R=t.g.getResponse(f);if(R)w(R);else{var J=function(Ne){Ne&&(function Fu(t,f){ni(t.l,function(w){return w==f})}(t,J),w(Ne))};t.l.push(J),t.i&&t.g.execute(t.c)}})}))},_.reset=function(){Dd(this),null!==this.c&&this.g.reset(this.c)},_.clear=function(){Dd(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=Ki(this.v);for(var f;f=t.firstChild;)t.removeChild(f)}},tt(Bd,vh);var Qd="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function lr(t,f){return{name:t||"",K:"a valid string",optional:!!f,M:function(w){return"string"==typeof w}}}function Ud(t,f){return{name:t||"",K:"a boolean",optional:!!f,M:function(w){return"boolean"==typeof w}}}function la(t,f){return{name:t||"",K:"a valid object",optional:!!f,M:Dt}}function Xu(t,f){return{name:t||"",K:"a function",optional:!!f,M:function(w){return"function"==typeof w}}}function Lc(t,f){return{name:t||"",K:"null",optional:!!f,M:function(w){return null===w}}}function Ed(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(f){return!!f&&!(!f.ka||t&&f.providerId!==t)}}}function Jh(t,f){return Dt(t)&&"string"==typeof t.type&&t.type===f&&"function"==typeof t.Ha}function $f(t){return Dt(t)&&"string"==typeof t.uid}function Va(t,f,w,R){return{name:w||"",K:t.K+" or "+f.K,optional:!!R,M:function(J){return t.M(J)||f.M(J)}}}function fa(t,f){for(var w in f){var R=f[w].name;t[R]=Wf(R,t[w],f[w].j)}}function $p(t,f){for(var w in f){var R=f[w].name;R!==w&&Object.defineProperty(t,R,{get:Mt(function(J){return this[J]},w),set:Mt(function(J,Ne,nt,Wt){Kd(J,[nt],[Wt],!0),this[Ne]=Wt},R,w,f[w].lb),enumerable:!0})}}function Na(t,f,w,R){t[f]=Wf(f,w,R)}function Wf(t,f,w){function R(){var nt=Array.prototype.slice.call(arguments);return Kd(J,w,nt),f.apply(this,nt)}if(!w)return f;var Ne,J=function Lg(t){return(t=t.split("."))[t.length-1]}(t);for(Ne in f)R[Ne]=f[Ne];for(Ne in f.prototype)R.prototype[Ne]=f.prototype[Ne];return R}fa(fd.prototype,{kb:{name:"applyActionCode",j:[lr("code")]},Sa:{name:"checkActionCode",j:[lr("code")]},ob:{name:"confirmPasswordReset",j:[lr("code"),lr("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[lr("email"),lr("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[lr("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[lr("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Va(la(),Xu(),"nextOrObserver"),Xu("opt_error",!0),Xu("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Va(la(),Xu(),"nextOrObserver"),Xu("opt_error",!0),Xu("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[lr("email"),Va(la("opt_actionCodeSettings",!0),Lc(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[lr("email"),la("actionCodeSettings")]},yb:{name:"setPersistence",j:[lr("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ed()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Ed()]},Tc:{name:"signInWithCustomToken",j:[lr("token")]},Uc:{name:"signInWithEmailAndPassword",j:[lr("email"),lr("password")]},Vc:{name:"signInWithEmailLink",j:[lr("email"),lr("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[lr("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Va({name:"user",K:"an instance of Firebase User",optional:!1,M:function(f){return!!(f&&f instanceof Pc)}},Lc(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[lr(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[lr("url"),la("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[lr("code")]}}),$p(fd.prototype,{lc:{name:"languageCode",lb:Va(lr(),Lc(),"languageCode")},ti:{name:"tenantId",lb:Va(lr(),Lc(),"tenantId")}}),(fd.Persistence=Us).LOCAL="local",fd.Persistence.SESSION="session",fd.Persistence.NONE="none",fa(Pc.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Ud("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ud("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ed()]},rb:{name:"linkWithCredential",j:[Ed()]},Dc:{name:"linkWithPhoneNumber",j:[lr("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ed()]},ub:{name:"reauthenticateWithCredential",j:[Ed()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[lr("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Va(la("opt_actionCodeSettings",!0),Lc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[lr(null,!0)]},cd:{name:"unlink",j:[lr("provider")]},Cb:{name:"updateEmail",j:[lr("email")]},Db:{name:"updatePassword",j:[lr("password")]},ed:{name:"updatePhoneNumber",j:[Ed("phone")]},Eb:{name:"updateProfile",j:[la("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[lr("email"),Va(la("opt_actionCodeSettings",!0),Lc(null,!0),"opt_actionCodeSettings",!0)]}}),fa(Fd.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),fa(mh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),fa(er.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),$p(Nh.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Ud("appVerificationDisabledForTesting")}}),fa(Ph.prototype,{confirm:{name:"confirm",j:[lr("verificationCode")]}}),Na(Sa,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var f,w=[Fl,nd,jc,nu],R=0;R<w.length;R++)if(f=w[R](t))return f;return null},[Va(lr(),la(),"json")]),Na(oa,"credential",function(t,f){return new Aa(t,f)},[lr("email"),lr("password")]),fa(Aa.prototype,{w:{name:"toJSON",j:[lr(null,!0)]}}),fa(Fs.prototype,{Ca:{name:"addScope",j:[lr("scope")]},Ka:{name:"setCustomParameters",j:[la("customOAuthParameters")]}}),Na(Fs,"credential",tr,[Va(lr(),la(),"token")]),Na(oa,"credentialWithLink",Dc,[lr("email"),lr("emailLink")]),fa(oo.prototype,{Ca:{name:"addScope",j:[lr("scope")]},Ka:{name:"setCustomParameters",j:[la("customOAuthParameters")]}}),Na(oo,"credential",Cc,[Va(lr(),la(),"token")]),fa(wl.prototype,{Ca:{name:"addScope",j:[lr("scope")]},Ka:{name:"setCustomParameters",j:[la("customOAuthParameters")]}}),Na(wl,"credential",Du,[Va(lr(),Va(la(),Lc()),"idToken"),Va(lr(),Lc(),"accessToken",!0)]),fa(rl.prototype,{Ka:{name:"setCustomParameters",j:[la("customOAuthParameters")]}}),Na(rl,"credential",Ga,[Va(lr(),la(),"token"),lr("secret",!0)]),fa(qs.prototype,{Ca:{name:"addScope",j:[lr("scope")]},credential:{name:"credential",j:[Va(lr(),Va(la(),Lc()),"optionsOrIdToken"),Va(lr(),Lc(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[la("customOAuthParameters")]}}),fa(ma.prototype,{w:{name:"toJSON",j:[lr(null,!0)]}}),fa(Ba.prototype,{w:{name:"toJSON",j:[lr(null,!0)]}}),Na(ds,"credential",Gc,[lr("verificationId"),lr("verificationCode")]),fa(ds.prototype,{gb:{name:"verifyPhoneNumber",j:[Va(lr(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(w){return!!w&&(w.session&&w.phoneNumber?Jh(w.session,Ma)&&"string"==typeof w.phoneNumber:w.session&&w.multiFactorHint?Jh(w.session,ga)&&$f(w.multiFactorHint):w.session&&w.multiFactorUid?Jh(w.session,ga)&&"string"==typeof w.multiFactorUid:!!w.phoneNumber&&"string"==typeof w.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),fa(_a.prototype,{w:{name:"toJSON",j:[lr(null,!0)]}}),fa(Ee.prototype,{toJSON:{name:"toJSON",j:[lr(null,!0)]}}),fa(rc.prototype,{toJSON:{name:"toJSON",j:[lr(null,!0)]}}),fa(ic.prototype,{toJSON:{name:"toJSON",j:[lr(null,!0)]}}),fa(Fh.prototype,{toJSON:{name:"toJSON",j:[lr(null,!0)]}}),fa(Df.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),fa(xf.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},lr("displayName",!0)]},bd:{name:"unenroll",j:[Va({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:$f},lr(),"multiFactorInfoIdentifier")]}}),fa(Bd.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Na(Xc,"parseLink",gl,[lr("link")]),Na(jf,"assertion",function(t){return new Wu(t)},[Ed("phone")]),function(){if(void 0===d.default||!d.default.INTERNAL||!d.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Sl,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:na,VERIFY_AND_CHANGE_EMAIL:vc,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:fd,AuthCredential:Sa,Error:Ee};Na(t,"EmailAuthProvider",oa,[]),Na(t,"FacebookAuthProvider",Fs,[]),Na(t,"GithubAuthProvider",oo,[]),Na(t,"GoogleAuthProvider",wl,[]),Na(t,"TwitterAuthProvider",rl,[]),Na(t,"OAuthProvider",qs,[lr("providerId")]),Na(t,"SAMLAuthProvider",tc,[lr("providerId")]),Na(t,"PhoneAuthProvider",ds,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof fd)}}]),Na(t,"RecaptchaVerifier",Bd,[Va(lr(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),la("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof d.default.app.App)}}]),Na(t,"ActionCodeURL",Xc,[]),Na(t,"PhoneMultiFactorGenerator",jf,[]),d.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(f){return new fd(f=f.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(f){f.getProvider("auth-internal").initialize()}}),d.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(f){return{getUid:Qe((f=f.getProvider("auth").getImmediate()).getUid,f),getToken:Qe(f.nc,f),addAuthTokenListener:Qe(f.cc,f),removeAuthTokenListener:Qe(f.Pc,f)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),d.default.registerVersion("@firebase/auth","0.16.8"),d.default.INTERNAL.extendNamespace({User:Pc})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},2461:(Xn,Vt,A)=>{"use strict";A.r(Vt),A.d(Vt,{Component:()=>e,ComponentContainer:()=>ze,Provider:()=>W});var d=A(655),_=A(492),e=function(){function Ve(Q,qe,je){this.name=Q,this.instanceFactory=qe,this.type=je,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ve.prototype.setInstantiationMode=function(Q){return this.instantiationMode=Q,this},Ve.prototype.setMultipleInstances=function(Q){return this.multipleInstances=Q,this},Ve.prototype.setServiceProps=function(Q){return this.serviceProps=Q,this},Ve.prototype.setInstanceCreatedCallback=function(Q){return this.onInstanceCreated=Q,this},Ve}(),ee="[DEFAULT]",W=function(){function Ve(Q,qe){this.name=Q,this.container=qe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return Ve.prototype.get=function(Q){var qe=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(qe)){var je=new _.Deferred;if(this.instancesDeferred.set(qe,je),this.isInitialized(qe)||this.shouldAutoInitialize())try{var at=this.getOrInitializeService({instanceIdentifier:qe});at&&je.resolve(at)}catch(ke){}}return this.instancesDeferred.get(qe).promise},Ve.prototype.getImmediate=function(Q){var qe,je=this.normalizeInstanceIdentifier(null==Q?void 0:Q.identifier),at=null!==(qe=null==Q?void 0:Q.optional)&&void 0!==qe&&qe;if(!this.isInitialized(je)&&!this.shouldAutoInitialize()){if(at)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:je})}catch(ke){if(at)return null;throw ke}},Ve.prototype.getComponent=function(){return this.component},Ve.prototype.setComponent=function(Q){var qe,je;if(Q.name!==this.name)throw Error("Mismatching Component "+Q.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=Q,this.shouldAutoInitialize()){if(function pe(Ve){return"EAGER"===Ve.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:ee})}catch(hn){}try{for(var at=(0,d.__values)(this.instancesDeferred.entries()),ke=at.next();!ke.done;ke=at.next()){var Ke=(0,d.__read)(ke.value,2),it=Ke[1],Dt=this.normalizeInstanceIdentifier(Ke[0]);try{var Tt=this.getOrInitializeService({instanceIdentifier:Dt});it.resolve(Tt)}catch(hn){}}}catch(hn){qe={error:hn}}finally{try{ke&&!ke.done&&(je=at.return)&&je.call(at)}finally{if(qe)throw qe.error}}}},Ve.prototype.clearInstance=function(Q){void 0===Q&&(Q=ee),this.instancesDeferred.delete(Q),this.instances.delete(Q)},Ve.prototype.delete=function(){return(0,d.__awaiter)(this,void 0,void 0,function(){var Q;return(0,d.__generator)(this,function(qe){switch(qe.label){case 0:return Q=Array.from(this.instances.values()),[4,Promise.all((0,d.__spreadArray)((0,d.__spreadArray)([],(0,d.__read)(Q.filter(function(je){return"INTERNAL"in je}).map(function(je){return je.INTERNAL.delete()}))),(0,d.__read)(Q.filter(function(je){return"_delete"in je}).map(function(je){return je._delete()}))))];case 1:return qe.sent(),[2]}})})},Ve.prototype.isComponentSet=function(){return null!=this.component},Ve.prototype.isInitialized=function(Q){return void 0===Q&&(Q=ee),this.instances.has(Q)},Ve.prototype.initialize=function(Q){var qe,je;void 0===Q&&(Q={});var at=Q.options,ke=void 0===at?{}:at,Ke=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(Ke))throw Error(this.name+"("+Ke+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var dt=this.getOrInitializeService({instanceIdentifier:Ke,options:ke});try{for(var it=(0,d.__values)(this.instancesDeferred.entries()),Dt=it.next();!Dt.done;Dt=it.next()){var Tt=(0,d.__read)(Dt.value,2),gt=Tt[1];Ke===this.normalizeInstanceIdentifier(Tt[0])&&gt.resolve(dt)}}catch(te){qe={error:te}}finally{try{Dt&&!Dt.done&&(je=it.return)&&je.call(it)}finally{if(qe)throw qe.error}}return dt},Ve.prototype.onInit=function(Q,qe){var je,at=this.normalizeInstanceIdentifier(qe),ke=null!==(je=this.onInitCallbacks.get(at))&&void 0!==je?je:new Set;ke.add(Q),this.onInitCallbacks.set(at,ke);var Ke=this.instances.get(at);return Ke&&Q(Ke,at),function(){ke.delete(Q)}},Ve.prototype.invokeOnInitCallbacks=function(Q,qe){var je,at,ke=this.onInitCallbacks.get(qe);if(ke)try{for(var Ke=(0,d.__values)(ke),dt=Ke.next();!dt.done;dt=Ke.next()){var it=dt.value;try{it(Q,qe)}catch(Dt){}}}catch(Dt){je={error:Dt}}finally{try{dt&&!dt.done&&(at=Ke.return)&&at.call(Ke)}finally{if(je)throw je.error}}},Ve.prototype.getOrInitializeService=function(Q){var qe=Q.instanceIdentifier,je=Q.options,at=void 0===je?{}:je,ke=this.instances.get(qe);if(!ke&&this.component&&(ke=this.component.instanceFactory(this.container,{instanceIdentifier:xe(qe),options:at}),this.instances.set(qe,ke),this.invokeOnInitCallbacks(ke,qe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,qe,ke)}catch(Ke){}return ke||null},Ve.prototype.normalizeInstanceIdentifier=function(Q){return void 0===Q&&(Q=ee),this.component?this.component.multipleInstances?Q:ee:Q},Ve.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Ve}();function xe(Ve){return Ve===ee?void 0:Ve}var ze=function(){function Ve(Q){this.name=Q,this.providers=new Map}return Ve.prototype.addComponent=function(Q){var qe=this.getProvider(Q.name);if(qe.isComponentSet())throw new Error("Component "+Q.name+" has already been registered with "+this.name);qe.setComponent(Q)},Ve.prototype.addOrOverwriteComponent=function(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)},Ve.prototype.getProvider=function(Q){if(this.providers.has(Q))return this.providers.get(Q);var qe=new W(Q,this);return this.providers.set(Q,qe),qe},Ve.prototype.getProviders=function(){return Array.from(this.providers.values())},Ve}()},6089:(Xn,Vt,A)=>{"use strict";var d=A(8367),_=A(2461),e=A(492),ee=A(655),W=A(4003);Xn=A.hmd(Xn);var ze="";function Ve(i){ze=i}var i,Q=function(){function i(a){this.domStorage_=a,this.prefix_="firebase:"}return i.prototype.set=function(a,r){null==r?this.domStorage_.removeItem(this.prefixedName_(a)):this.domStorage_.setItem(this.prefixedName_(a),(0,e.stringify)(r))},i.prototype.get=function(a){var r=this.domStorage_.getItem(this.prefixedName_(a));return null==r?null:(0,e.jsonEval)(r)},i.prototype.remove=function(a){this.domStorage_.removeItem(this.prefixedName_(a))},i.prototype.prefixedName_=function(a){return this.prefix_+a},i.prototype.toString=function(){return this.domStorage_.toString()},i}(),qe=function(){function i(){this.cache_={},this.isInMemoryStorage=!0}return i.prototype.set=function(a,r){null==r?delete this.cache_[a]:this.cache_[a]=r},i.prototype.get=function(a){return(0,e.contains)(this.cache_,a)?this.cache_[a]:null},i.prototype.remove=function(a){delete this.cache_[a]},i}(),je=function(i){try{if("undefined"!=typeof window&&void 0!==window[i]){var a=window[i];return a.setItem("firebase:sentinel","cache"),a.removeItem("firebase:sentinel"),new Q(a)}}catch(r){}return new qe},at=je("localStorage"),ke=je("sessionStorage"),Ke=new W.Logger("@firebase/database"),dt=(i=1,function(){return i++}),it=function(i){var a=(0,e.stringToByteArray)(i),r=new e.Sha1;r.update(a);var h=r.digest();return e.base64.encodeByteArray(h)},Dt=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];for(var r="",h=0;h<i.length;h++){var y=i[h];Array.isArray(y)||y&&"object"==typeof y&&"number"==typeof y.length?r+=Dt.apply(null,y):r+="object"==typeof y?(0,e.stringify)(y):y,r+=" "}return r},Tt=null,hn=!0,gt=function(i,a){(0,e.assert)(!a||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?(Ke.logLevel=W.LogLevel.VERBOSE,Tt=Ke.log.bind(Ke),a&&ke.set("logging_enabled",!0)):"function"==typeof i?Tt=i:(Tt=null,ke.remove("logging_enabled"))},Pe=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(!0===hn&&(hn=!1,null===Tt&&!0===ke.get("logging_enabled")&&gt(!0)),Tt){var r=Dt.apply(null,i);Tt(r)}},te=function(i){return function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];Pe.apply(void 0,(0,ee.__spreadArray)([i],(0,ee.__read)(a)))}},Qe=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var r="FIREBASE INTERNAL ERROR: "+Dt.apply(void 0,(0,ee.__spreadArray)([],(0,ee.__read)(i)));Ke.error(r)},Mt=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var r="FIREBASE FATAL ERROR: "+Dt.apply(void 0,(0,ee.__spreadArray)([],(0,ee.__read)(i)));throw Ke.error(r),new Error(r)},bt=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var r="FIREBASE WARNING: "+Dt.apply(void 0,(0,ee.__spreadArray)([],(0,ee.__read)(i)));Ke.warn(r)},Ze=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},Ye="[MIN_NAME]",Xe="[MAX_NAME]",st=function(i,a){if(i===a)return 0;if(i===Ye||a===Xe)return-1;if(a===Ye||i===Xe)return 1;var r=di(i),h=di(a);return null!==r?null!==h?r-h==0?i.length-a.length:r-h:-1:null!==h?1:i<a?-1:1},sn=function(i,a){return i===a?0:i<a?-1:1},fn=function(i,a){if(a&&i in a)return a[i];throw new Error("Missing required key ("+i+") in object: "+(0,e.stringify)(a))},wn=function(i){if("object"!=typeof i||null===i)return(0,e.stringify)(i);var a=[];for(var r in i)a.push(r);a.sort();for(var h="{",y=0;y<a.length;y++)0!==y&&(h+=","),h+=(0,e.stringify)(a[y]),h+=":",h+=wn(i[a[y]]);return h+"}"},mn=function(i,a){var r=i.length;if(r<=a)return[i];for(var h=[],y=0;y<r;y+=a)h.push(i.substring(y,y+a>r?r:y+a));return h};function bn(i,a){for(var r in i)i.hasOwnProperty(r)&&a(r,i[r])}var zt=function(i){(0,e.assert)(!Ze(i),"Invalid JSON number");var y,M,V,ge,be,h=1023;0===i?(M=0,V=0,y=1/i==-1/0?1:0):(y=i<0,(i=Math.abs(i))>=Math.pow(2,1-h)?(M=(ge=Math.min(Math.floor(Math.log(i)/Math.LN2),h))+h,V=Math.round(i*Math.pow(2,52-ge)-Math.pow(2,52))):(M=0,V=Math.round(i/Math.pow(2,-1074))));var Ue=[];for(be=52;be;be-=1)Ue.push(V%2?1:0),V=Math.floor(V/2);for(be=11;be;be-=1)Ue.push(M%2?1:0),M=Math.floor(M/2);Ue.push(y?1:0),Ue.reverse();var rt=Ue.join(""),tn="";for(be=0;be<64;be+=8){var dn=parseInt(rt.substr(be,8),2).toString(16);1===dn.length&&(dn="0"+dn),tn+=dn}return tn.toLowerCase()},_n=new RegExp("^-?(0*)\\d{1,10}$"),an=-2147483648,Vn=2147483647,di=function(i){if(_n.test(i)){var a=Number(i);if(a>=an&&a<=Vn)return a}return null},Pn=function(i){try{i()}catch(a){setTimeout(function(){throw bt("Exception was thrown by user callback.",a.stack||""),a},Math.floor(0))}},wt=function(i,a){var r=setTimeout(i,a);return"object"==typeof r&&r.unref&&r.unref(),r},cn=function(){function i(a,r){var h=this;this.appName_=a,this.appCheckProvider=r,this.appCheck=null==r?void 0:r.getImmediate({optional:!0}),this.appCheck||null==r||r.get().then(function(y){return h.appCheck=y})}return i.prototype.getToken=function(a){var r=this;return this.appCheck?this.appCheck.getToken(a):new Promise(function(h,y){setTimeout(function(){r.appCheck?r.getToken(a).then(h,y):h(null)},0)})},i.prototype.addTokenChangeListener=function(a){var r;null===(r=this.appCheckProvider)||void 0===r||r.get().then(function(h){return h.addTokenListener(a)})},i.prototype.notifyForInvalidToken=function(){bt('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},i}(),Gn=function(){function i(a,r,h){var y=this;this.appName_=a,this.firebaseOptions_=r,this.authProvider_=h,this.auth_=null,this.auth_=h.getImmediate({optional:!0}),this.auth_||h.onInit(function(M){return y.auth_=M})}return i.prototype.getToken=function(a){var r=this;return this.auth_?this.auth_.getToken(a).catch(function(h){return h&&"auth/token-not-initialized"===h.code?(Pe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(h)}):new Promise(function(h,y){setTimeout(function(){r.auth_?r.getToken(a).then(h,y):h(null)},0)})},i.prototype.addTokenChangeListener=function(a){this.auth_?this.auth_.addAuthTokenListener(a):this.authProvider_.get().then(function(r){return r.addAuthTokenListener(a)})},i.prototype.removeTokenChangeListener=function(a){this.authProvider_.get().then(function(r){return r.removeAuthTokenListener(a)})},i.prototype.notifyForInvalidToken=function(){var a='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';bt(a+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},i}(),$n=function(){function i(a){this.accessToken=a}return i.prototype.getToken=function(a){return Promise.resolve({accessToken:this.accessToken})},i.prototype.addTokenChangeListener=function(a){a(this.accessToken)},i.prototype.removeTokenChangeListener=function(a){},i.prototype.notifyForInvalidToken=function(){},i.OWNER="owner",i}(),q=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pt="websocket",Rt="long_polling",nn=function(){function i(a,r,h,y,M,V,ge){void 0===M&&(M=!1),void 0===V&&(V=""),void 0===ge&&(ge=!1),this.secure=r,this.namespace=h,this.webSocketOnly=y,this.nodeAdmin=M,this.persistenceKey=V,this.includeNamespaceInQueryParams=ge,this._host=a.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=at.get("host:"+a)||this._host}return i.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},i.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(i.prototype,"host",{get:function(){return this._host},set:function(a){a!==this.internalHost&&(this.internalHost=a,this.isCacheableHost()&&at.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),i.prototype.toString=function(){var a=this.toURLString();return this.persistenceKey&&(a+="<"+this.persistenceKey+">"),a},i.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},i}();function Wn(i,a,r){var h;if((0,e.assert)("string"==typeof a,"typeof type must == string"),(0,e.assert)("object"==typeof r,"typeof params must == object"),a===pt)h=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(a!==Rt)throw new Error("Unknown connection type: "+a);h=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function On(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(r.ns=i.namespace);var y=[];return bn(r,function(M,V){y.push(M+"="+V)}),h+y.join("&")}var Yn=function(){function i(){this.counters_={}}return i.prototype.incrementCounter=function(a,r){void 0===r&&(r=1),(0,e.contains)(this.counters_,a)||(this.counters_[a]=0),this.counters_[a]+=r},i.prototype.get=function(){return(0,e.deepCopy)(this.counters_)},i}(),ei={},hi={};function Bi(i){var a=i.toString();return ei[a]||(ei[a]=new Yn),ei[a]}var Ei=function(){function i(a){this.onMessage_=a,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return i.prototype.closeAfter=function(a,r){this.closeAfterResponse=a,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},i.prototype.handleResponse=function(a,r){var h=this;this.pendingResponses[a]=r;for(var y=function(){var ge=M.pendingResponses[M.currentResponseNum];delete M.pendingResponses[M.currentResponseNum];for(var be=function(rt){ge[rt]&&Pn(function(){h.onMessage_(ge[rt])})},Ue=0;Ue<ge.length;++Ue)be(Ue);if(M.currentResponseNum===M.closeAfterResponse)return M.onClose&&(M.onClose(),M.onClose=null),"break";M.currentResponseNum++},M=this;this.pendingResponses[this.currentResponseNum]&&"break"!==y(););},i}(),yt=function(){function i(a,r,h,y,M,V,ge){var be=this;this.connId=a,this.repoInfo=r,this.applicationId=h,this.appCheckToken=y,this.authToken=M,this.transportSessionId=V,this.lastSessionId=ge,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=te(a),this.stats_=Bi(r),this.urlFn=function(Ue){return be.appCheckToken&&(Ue.ac=be.appCheckToken),Wn(r,Rt,Ue)}}return i.prototype.open=function(a,r){var h=this;this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new Ei(a),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){h.log_("Timed out trying to connect."),h.onClosed_(),h.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,e.isNodeSdk)()||"complete"===document.readyState)i();else{var a=!1,r=function(){document.body?a||(a=!0,i()):setTimeout(r,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&r()}),window.attachEvent("onload",r))}}(function(){if(!h.isClosed_){h.scriptTagHolder=new Zt(function(){for(var V=[],ge=0;ge<arguments.length;ge++)V[ge]=arguments[ge];var be=(0,ee.__read)(V,5),Ue=be[0],rt=be[1],tn=be[2];if(h.incrementIncomingBytes_(V),h.scriptTagHolder)if(h.connectTimeoutTimer_&&(clearTimeout(h.connectTimeoutTimer_),h.connectTimeoutTimer_=null),h.everConnected_=!0,"start"===Ue)h.id=rt,h.password=tn;else{if("close"!==Ue)throw new Error("Unrecognized command received: "+Ue);rt?(h.scriptTagHolder.sendNewPolls=!1,h.myPacketOrderer.closeAfter(rt,function(){h.onClosed_()})):h.onClosed_()}},function(){for(var V=[],ge=0;ge<arguments.length;ge++)V[ge]=arguments[ge];var be=(0,ee.__read)(V,2),Ue=be[0],rt=be[1];h.incrementIncomingBytes_(V),h.myPacketOrderer.handleResponse(Ue,rt)},function(){h.onClosed_()},h.urlFn);var y={start:"t"};y.ser=Math.floor(1e8*Math.random()),h.scriptTagHolder.uniqueCallbackIdentifier&&(y.cb=h.scriptTagHolder.uniqueCallbackIdentifier),y.v="5",h.transportSessionId&&(y.s=h.transportSessionId),h.lastSessionId&&(y.ls=h.lastSessionId),h.applicationId&&(y.p=h.applicationId),h.appCheckToken&&(y.ac=h.appCheckToken),"undefined"!=typeof location&&location.hostname&&q.test(location.hostname)&&(y.r="f");var M=h.urlFn(y);h.log_("Connecting via long-poll to "+M),h.scriptTagHolder.addTag(M,function(){})}})},i.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},i.forceAllow=function(){i.forceAllow_=!0},i.forceDisallow=function(){i.forceDisallow_=!0},i.isAvailable=function(){return!((0,e.isNodeSdk)()||!i.forceAllow_&&(i.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},i.prototype.markConnectionHealthy=function(){},i.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},i.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},i.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},i.prototype.send=function(a){var r=(0,e.stringify)(a);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);for(var h=(0,e.base64Encode)(r),y=mn(h,1840),M=0;M<y.length;M++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,y.length,y[M]),this.curSegmentNum++},i.prototype.addDisconnectPingFrame=function(a,r){if(!(0,e.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var h={dframe:"t"};h.id=a,h.pw=r,this.myDisconnFrame.src=this.urlFn(h),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},i.prototype.incrementIncomingBytes_=function(a){var r=(0,e.stringify)(a).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)},i}(),Zt=function(){function i(a,r,h,y){if(this.onDisconnect=h,this.urlFn=y,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,e.isNodeSdk)())this.commandCB=a,this.onMessageCB=r;else{this.uniqueCallbackIdentifier=dt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=a,window["pRTLPCB"+this.uniqueCallbackIdentifier]=r,this.myIFrame=i.createIFrame_();var M="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(M='<script>document.domain="'+document.domain+'";<\/script>');var ge="<html><body>"+M+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(ge),this.myIFrame.doc.close()}catch(be){Pe("frame writing exception"),be.stack&&Pe(be.stack),Pe(be)}}}return i.createIFrame_=function(){var a=document.createElement("iframe");if(a.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(a);try{a.contentWindow.document||Pe("No IE domain setting required")}catch(y){var h=document.domain;a.src="javascript:void((function(){document.open();document.domain='"+h+"';document.close();})())"}return a.contentDocument?a.doc=a.contentDocument:a.contentWindow?a.doc=a.contentWindow.document:a.document&&(a.doc=a.document),a},i.prototype.close=function(){var a=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==a.myIFrame&&(document.body.removeChild(a.myIFrame),a.myIFrame=null)},Math.floor(0)));var r=this.onDisconnect;r&&(this.onDisconnect=null,r())},i.prototype.startLongPoll=function(a,r){for(this.myID=a,this.myPW=r,this.alive=!0;this.newRequest_(););},i.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var a={};a.id=this.myID,a.pw=this.myPW,a.ser=this.currentSerial;for(var r=this.urlFn(a),h="",y=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+h.length<=1870;){var V=this.pendingSegs.shift();h=h+"&seg"+y+"="+V.seg+"&ts"+y+"="+V.ts+"&d"+y+"="+V.d,y++}return this.addLongPollTag_(r+=h,this.currentSerial),!0}return!1},i.prototype.enqueueSegment=function(a,r,h){this.pendingSegs.push({seg:a,ts:r,d:h}),this.alive&&this.newRequest_()},i.prototype.addLongPollTag_=function(a,r){var h=this;this.outstandingRequests.add(r);var y=function(){h.outstandingRequests.delete(r),h.newRequest_()},M=setTimeout(y,Math.floor(25e3));this.addTag(a,function(){clearTimeout(M),y()})},i.prototype.addTag=function(a,r){var h=this;(0,e.isNodeSdk)()?this.doNodeLongPoll(a,r):setTimeout(function(){try{if(!h.sendNewPolls)return;var y=h.myIFrame.doc.createElement("script");y.type="text/javascript",y.async=!0,y.src=a,y.onload=y.onreadystatechange=function(){var M=y.readyState;(!M||"loaded"===M||"complete"===M)&&(y.onload=y.onreadystatechange=null,y.parentNode&&y.parentNode.removeChild(y),r())},y.onerror=function(){Pe("Long-poll script failed to load: "+a),h.sendNewPolls=!1,h.close()},h.myIFrame.doc.body.appendChild(y)}catch(M){}},Math.floor(1))},i}(),Et=null;"undefined"!=typeof MozWebSocket?Et=MozWebSocket:"undefined"!=typeof WebSocket&&(Et=WebSocket);var ct=function(){function i(a,r,h,y,M,V,ge){this.connId=a,this.applicationId=h,this.appCheckToken=y,this.authToken=M,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=te(this.connId),this.stats_=Bi(r),this.connURL=i.connectionURL_(r,V,ge,y),this.nodeAdmin=r.nodeAdmin}return i.connectionURL_=function(a,r,h,y){var M={v:"5"};return!(0,e.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&q.test(location.hostname)&&(M.r="f"),r&&(M.s=r),h&&(M.ls=h),y&&(M.ac=y),Wn(a,pt,M)},i.prototype.open=function(a,r){var h=this;this.onDisconnect=r,this.onMessage=a,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,at.set("previous_websocket_failure",!0);try{if((0,e.isNodeSdk)()){var M={headers:{"User-Agent":"Firebase/5/"+ze+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(M.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(M.headers["X-Firebase-AppCheck"]=this.appCheckToken);var V=process.env,ge=0===this.connURL.indexOf("wss://")?V.HTTPS_PROXY||V.https_proxy:V.HTTP_PROXY||V.http_proxy;ge&&(M.proxy={origin:ge}),this.mySock=new Et(this.connURL,[],M)}else this.mySock=new Et(this.connURL,[],M={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(Ue){this.log_("Error instantiating WebSocket.");var be=Ue.message||Ue.data;return be&&this.log_(be),void this.onClosed_()}this.mySock.onopen=function(){h.log_("Websocket connected."),h.everConnected_=!0},this.mySock.onclose=function(){h.log_("Websocket connection was disconnected."),h.mySock=null,h.onClosed_()},this.mySock.onmessage=function(Ue){h.handleIncomingFrame(Ue)},this.mySock.onerror=function(Ue){h.log_("WebSocket error.  Closing connection.");var rt=Ue.message||Ue.data;rt&&h.log_(rt),h.onClosed_()}},i.prototype.start=function(){},i.forceDisallow=function(){i.forceDisallow_=!0},i.isAvailable=function(){var a=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var h=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);h&&h.length>1&&parseFloat(h[1])<4.4&&(a=!0)}return!a&&null!==Et&&!i.forceDisallow_},i.previouslyFailed=function(){return at.isInMemoryStorage||!0===at.get("previous_websocket_failure")},i.prototype.markConnectionHealthy=function(){at.remove("previous_websocket_failure")},i.prototype.appendFrame_=function(a){if(this.frames.push(a),this.frames.length===this.totalFrames){var r=this.frames.join("");this.frames=null;var h=(0,e.jsonEval)(r);this.onMessage(h)}},i.prototype.handleNewFrameCount_=function(a){this.totalFrames=a,this.frames=[]},i.prototype.extractFrameCount_=function(a){if((0,e.assert)(null===this.frames,"We already have a frame buffer"),a.length<=6){var r=Number(a);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),a},i.prototype.handleIncomingFrame=function(a){if(null!==this.mySock){var r=a.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{var h=this.extractFrameCount_(r);null!==h&&this.appendFrame_(h)}}},i.prototype.send=function(a){this.resetKeepAlive();var r=(0,e.stringify)(a);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);var h=mn(r,16384);h.length>1&&this.sendString_(String(h.length));for(var y=0;y<h.length;y++)this.sendString_(h[y])},i.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},i.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},i.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},i.prototype.resetKeepAlive=function(){var a=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){a.mySock&&a.sendString_("0"),a.resetKeepAlive()},Math.floor(45e3))},i.prototype.sendString_=function(a){try{this.mySock.send(a)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i}(),jt=function(){function i(a){this.initTransports_(a)}return Object.defineProperty(i,"ALL_TRANSPORTS",{get:function(){return[yt,ct]},enumerable:!1,configurable:!0}),i.prototype.initTransports_=function(a){var r,h,y=ct&&ct.isAvailable(),M=y&&!ct.previouslyFailed();if(a.webSocketOnly&&(y||bt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),M=!0),M)this.transports_=[ct];else{var V=this.transports_=[];try{for(var ge=(0,ee.__values)(i.ALL_TRANSPORTS),be=ge.next();!be.done;be=ge.next()){var Ue=be.value;Ue&&Ue.isAvailable()&&V.push(Ue)}}catch(rt){r={error:rt}}finally{try{be&&!be.done&&(h=ge.return)&&h.call(ge)}finally{if(r)throw r.error}}}},i.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},i.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},i}(),Bn=function(){function i(a,r,h,y,M,V,ge,be,Ue,rt){this.id=a,this.repoInfo_=r,this.applicationId_=h,this.appCheckToken_=y,this.authToken_=M,this.onMessage_=V,this.onReady_=ge,this.onDisconnect_=be,this.onKill_=Ue,this.lastSessionId=rt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=te("c:"+this.id+":"),this.transportManager_=new jt(r),this.log_("Connection created"),this.start_()}return i.prototype.start_=function(){var a=this,r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;var h=this.connReceiver_(this.conn_),y=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){a.conn_&&a.conn_.open(h,y)},Math.floor(0));var M=r.healthyTimeout||0;M>0&&(this.healthyTimeout_=wt(function(){a.healthyTimeout_=null,a.isHealthy_||(a.conn_&&a.conn_.bytesReceived>102400?(a.log_("Connection exceeded healthy timeout but has received "+a.conn_.bytesReceived+" bytes.  Marking connection healthy."),a.isHealthy_=!0,a.conn_.markConnectionHealthy()):a.conn_&&a.conn_.bytesSent>10240?a.log_("Connection exceeded healthy timeout but has sent "+a.conn_.bytesSent+" bytes.  Leaving connection alive."):(a.log_("Closing unhealthy connection after timeout."),a.close()))},Math.floor(M)))},i.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},i.prototype.disconnReceiver_=function(a){var r=this;return function(h){a===r.conn_?r.onConnectionLost_(h):a===r.secondaryConn_?(r.log_("Secondary connection lost."),r.onSecondaryConnectionLost_()):r.log_("closing an old connection")}},i.prototype.connReceiver_=function(a){var r=this;return function(h){2!==r.state_&&(a===r.rx_?r.onPrimaryMessageReceived_(h):a===r.secondaryConn_?r.onSecondaryMessageReceived_(h):r.log_("message on old connection"))}},i.prototype.sendRequest=function(a){this.sendData_({t:"d",d:a})},i.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},i.prototype.onSecondaryControl_=function(a){if("t"in a){var r=a.t;"a"===r?this.upgradeIfSecondaryHealthy_():"r"===r?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===r&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},i.prototype.onSecondaryMessageReceived_=function(a){var r=fn("t",a),h=fn("d",a);if("c"===r)this.onSecondaryControl_(h);else{if("d"!==r)throw new Error("Unknown protocol layer: "+r);this.pendingDataMessages.push(h)}},i.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},i.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},i.prototype.onPrimaryMessageReceived_=function(a){var r=fn("t",a),h=fn("d",a);"c"===r?this.onControl_(h):"d"===r&&this.onDataMessage_(h)},i.prototype.onDataMessage_=function(a){this.onPrimaryResponse_(),this.onMessage_(a)},i.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},i.prototype.onControl_=function(a){var r=fn("t",a);if("d"in a){var h=a.d;if("h"===r)this.onHandshake_(h);else if("n"===r){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var y=0;y<this.pendingDataMessages.length;++y)this.onDataMessage_(this.pendingDataMessages[y]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===r?this.onConnectionShutdown_(h):"r"===r?this.onReset_(h):"e"===r?Qe("Server Error: "+h):"o"===r?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qe("Unknown control packet command: "+r)}},i.prototype.onHandshake_=function(a){var r=a.ts,h=a.v,y=a.h;this.sessionId=a.s,this.repoInfo_.host=y,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),"5"!==h&&bt("Protocol version mismatch detected"),this.tryStartUpgrade_())},i.prototype.tryStartUpgrade_=function(){var a=this.transportManager_.upgradeTransport();a&&this.startUpgrade_(a)},i.prototype.startUpgrade_=function(a){var r=this;this.secondaryConn_=new a(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;var h=this.connReceiver_(this.secondaryConn_),y=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(h,y),wt(function(){r.secondaryConn_&&(r.log_("Timed out trying to upgrade."),r.secondaryConn_.close())},Math.floor(6e4))},i.prototype.onReset_=function(a){this.log_("Reset packet received.  New host: "+a),this.repoInfo_.host=a,1===this.state_?this.close():(this.closeConnections_(),this.start_())},i.prototype.onConnectionEstablished_=function(a,r){var h=this;this.log_("Realtime connection established."),this.conn_=a,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wt(function(){h.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},i.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},i.prototype.onSecondaryConnectionLost_=function(){var a=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===a||this.rx_===a)&&this.close()},i.prototype.onConnectionLost_=function(a){this.conn_=null,a||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(at.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},i.prototype.onConnectionShutdown_=function(a){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(a),this.onKill_=null),this.onDisconnect_=null,this.close()},i.prototype.sendData_=function(a){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(a)},i.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},i.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},i}(),Ci=function(){function i(){}return i.prototype.put=function(a,r,h,y){},i.prototype.merge=function(a,r,h,y){},i.prototype.refreshAuthToken=function(a){},i.prototype.refreshAppCheckToken=function(a){},i.prototype.onDisconnectPut=function(a,r,h){},i.prototype.onDisconnectMerge=function(a,r,h){},i.prototype.onDisconnectCancel=function(a,r){},i.prototype.reportStats=function(a){},i}(),ui=function(){function i(a){this.allowedEvents_=a,this.listeners_={},(0,e.assert)(Array.isArray(a)&&a.length>0,"Requires a non-empty array")}return i.prototype.trigger=function(a){for(var r=[],h=1;h<arguments.length;h++)r[h-1]=arguments[h];if(Array.isArray(this.listeners_[a]))for(var y=(0,ee.__spreadArray)([],(0,ee.__read)(this.listeners_[a])),M=0;M<y.length;M++)y[M].callback.apply(y[M].context,r)},i.prototype.on=function(a,r,h){this.validateEventType_(a),this.listeners_[a]=this.listeners_[a]||[],this.listeners_[a].push({callback:r,context:h});var y=this.getInitialEvent(a);y&&r.apply(h,y)},i.prototype.off=function(a,r,h){this.validateEventType_(a);for(var y=this.listeners_[a]||[],M=0;M<y.length;M++)if(y[M].callback===r&&(!h||h===y[M].context))return void y.splice(M,1)},i.prototype.validateEventType_=function(a){(0,e.assert)(this.allowedEvents_.find(function(r){return r===a}),"Unknown event: "+a)},i}(),Or=function(i){function a(){var r=i.call(this,["online"])||this;return r.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,e.isMobileCordova)()&&(window.addEventListener("online",function(){r.online_||(r.online_=!0,r.trigger("online",!0))},!1),window.addEventListener("offline",function(){r.online_&&(r.online_=!1,r.trigger("online",!1))},!1)),r}return(0,ee.__extends)(a,i),a.getInstance=function(){return new a},a.prototype.getInitialEvent=function(r){return(0,e.assert)("online"===r,"Unknown event type: "+r),[this.online_]},a.prototype.currentlyOnline=function(){return this.online_},a}(ui),mi=function(){function i(a,r){if(void 0===r){this.pieces_=a.split("/");for(var h=0,y=0;y<this.pieces_.length;y++)this.pieces_[y].length>0&&(this.pieces_[h]=this.pieces_[y],h++);this.pieces_.length=h,this.pieceNum_=0}else this.pieces_=a,this.pieceNum_=r}return i.prototype.toString=function(){for(var a="",r=this.pieceNum_;r<this.pieces_.length;r++)""!==this.pieces_[r]&&(a+="/"+this.pieces_[r]);return a||"/"},i}();function _i(){return new mi("")}function ji(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Hi(i){return i.pieces_.length-i.pieceNum_}function qi(i){var a=i.pieceNum_;return a<i.pieces_.length&&a++,new mi(i.pieces_,a)}function fr(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function $o(i,a){return void 0===a&&(a=0),i.pieces_.slice(i.pieceNum_+a)}function sr(i){if(i.pieceNum_>=i.pieces_.length)return null;for(var a=[],r=i.pieceNum_;r<i.pieces_.length-1;r++)a.push(i.pieces_[r]);return new mi(a,0)}function vr(i,a){for(var r=[],h=i.pieceNum_;h<i.pieces_.length;h++)r.push(i.pieces_[h]);if(a instanceof mi)for(h=a.pieceNum_;h<a.pieces_.length;h++)r.push(a.pieces_[h]);else{var y=a.split("/");for(h=0;h<y.length;h++)y[h].length>0&&r.push(y[h])}return new mi(r,0)}function Ki(i){return i.pieceNum_>=i.pieces_.length}function zr(i,a){var r=ji(i),h=ji(a);if(null===r)return a;if(r===h)return zr(qi(i),qi(a));throw new Error("INTERNAL ERROR: innerPath ("+a+") is not within outerPath ("+i+")")}function Fr(i,a){for(var r=$o(i,0),h=$o(a,0),y=0;y<r.length&&y<h.length;y++){var M=st(r[y],h[y]);if(0!==M)return M}return r.length===h.length?0:r.length<h.length?-1:1}function Xi(i,a){if(Hi(i)!==Hi(a))return!1;for(var r=i.pieceNum_,h=a.pieceNum_;r<=i.pieces_.length;r++,h++)if(i.pieces_[r]!==a.pieces_[h])return!1;return!0}function wo(i,a){var r=i.pieceNum_,h=a.pieceNum_;if(Hi(i)>Hi(a))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==a.pieces_[h])return!1;++r,++h}return!0}var ms=function i(a,r){this.errorPrefix_=r,this.parts_=$o(a,0),this.byteLength_=Math.max(1,this.parts_.length);for(var h=0;h<this.parts_.length;h++)this.byteLength_+=(0,e.stringLength)(this.parts_[h]);js(this)};function js(i){if(i.byteLength_>768)throw new Error(i.errorPrefix_+"has a key path longer than 768 bytes ("+i.byteLength_+").");if(i.parts_.length>32)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Vr(i))}function Vr(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}var ki,ii,Ds=function(i){function a(){var h,y,r=i.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(y="visibilitychange",h="hidden"):void 0!==document.mozHidden?(y="mozvisibilitychange",h="mozHidden"):void 0!==document.msHidden?(y="msvisibilitychange",h="msHidden"):void 0!==document.webkitHidden&&(y="webkitvisibilitychange",h="webkitHidden")),r.visible_=!0,y&&document.addEventListener(y,function(){var M=!document[h];M!==r.visible_&&(r.visible_=M,r.trigger("visible",M))},!1),r}return(0,ee.__extends)(a,i),a.getInstance=function(){return new a},a.prototype.getInitialEvent=function(r){return(0,e.assert)("visible"===r,"Unknown event type: "+r),[this.visible_]},a}(ui),Wo=1e3,Uo=function(i){function a(r,h,y,M,V,ge,be,Ue){var rt=i.call(this)||this;if(rt.repoInfo_=r,rt.applicationId_=h,rt.onDataUpdate_=y,rt.onConnectStatus_=M,rt.onServerInfoUpdate_=V,rt.authTokenProvider_=ge,rt.appCheckTokenProvider_=be,rt.authOverride_=Ue,rt.id=a.nextPersistentConnectionId_++,rt.log_=te("p:"+rt.id+":"),rt.interruptReasons_={},rt.listens=new Map,rt.outstandingPuts_=[],rt.outstandingGets_=[],rt.outstandingPutCount_=0,rt.outstandingGetCount_=0,rt.onDisconnectRequestQueue_=[],rt.connected_=!1,rt.reconnectDelay_=Wo,rt.maxReconnectDelay_=3e5,rt.securityDebugCallback_=null,rt.lastSessionId=null,rt.establishConnectionTimer_=null,rt.visible_=!1,rt.requestCBHash_={},rt.requestNumber_=0,rt.realtime_=null,rt.authToken_=null,rt.appCheckToken_=null,rt.forceTokenRefresh_=!1,rt.invalidAuthTokenCount_=0,rt.invalidAppCheckTokenCount_=0,rt.firstConnection_=!0,rt.lastConnectionAttemptTime_=null,rt.lastConnectionEstablishedTime_=null,Ue&&!(0,e.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Ds.getInstance().on("visible",rt.onVisible_,rt),-1===r.host.indexOf("fblocal")&&Or.getInstance().on("online",rt.onOnline_,rt),rt}return(0,ee.__extends)(a,i),a.prototype.sendRequest=function(r,h,y){var M=++this.requestNumber_,V={r:M,a:r,b:h};this.log_((0,e.stringify)(V)),(0,e.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(V),y&&(this.requestCBHash_[M]=y)},a.prototype.get=function(r){var h=this;this.initConnection_();var y=new e.Deferred,M={p:r._path.toString(),q:r._queryObject},V={action:"g",request:M,onComplete:function(be){var Ue=be.d;"ok"===be.s?(h.onDataUpdate_(M.p,Ue,!1,null),y.resolve(Ue)):y.reject(Ue)}};this.outstandingGets_.push(V),this.outstandingGetCount_++;var ge=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var be=h.outstandingGets_[ge];void 0===be||V!==be||(delete h.outstandingGets_[ge],h.outstandingGetCount_--,0===h.outstandingGetCount_&&(h.outstandingGets_=[]),h.log_("get "+ge+" timed out on connection"),y.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(ge),y.promise},a.prototype.listen=function(r,h,y,M){this.initConnection_();var V=r._queryIdentifier,ge=r._path.toString();this.log_("Listen called for "+ge+" "+V),this.listens.has(ge)||this.listens.set(ge,new Map),(0,e.assert)(r._queryParams.isDefault()||!r._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,e.assert)(!this.listens.get(ge).has(V),"listen() called twice for same path/queryId.");var be={onComplete:M,hashFn:h,query:r,tag:y};this.listens.get(ge).set(V,be),this.connected_&&this.sendListen_(be)},a.prototype.sendGet_=function(r){var h=this,y=this.outstandingGets_[r];this.sendRequest("g",y.request,function(M){delete h.outstandingGets_[r],h.outstandingGetCount_--,0===h.outstandingGetCount_&&(h.outstandingGets_=[]),y.onComplete&&y.onComplete(M)})},a.prototype.sendListen_=function(r){var h=this,y=r.query,M=y._path.toString(),V=y._queryIdentifier;this.log_("Listen on "+M+" for "+V);var ge={p:M};r.tag&&(ge.q=y._queryObject,ge.t=r.tag),ge.h=r.hashFn(),this.sendRequest("q",ge,function(Ue){var rt=Ue.d,tn=Ue.s;a.warnOnListenWarnings_(rt,y),(h.listens.get(M)&&h.listens.get(M).get(V))===r&&(h.log_("listen response",Ue),"ok"!==tn&&h.removeListen_(M,V),r.onComplete&&r.onComplete(tn,rt))})},a.warnOnListenWarnings_=function(r,h){if(r&&"object"==typeof r&&(0,e.contains)(r,"w")){var y=(0,e.safeGet)(r,"w");if(Array.isArray(y)&&~y.indexOf("no_index")){var M='".indexOn": "'+h._queryParams.getIndex().toString()+'"',V=h._path.toString();bt("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+M+" at "+V+" to your security rules for better performance.")}}},a.prototype.refreshAuthToken=function(r){this.authToken_=r,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(r)},a.prototype.reduceReconnectDelayIfAdminCredential_=function(r){(r&&40===r.length||(0,e.isAdmin)(r))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},a.prototype.refreshAppCheckToken=function(r){this.appCheckToken_=r,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},a.prototype.tryAuth=function(){var r=this;if(this.connected_&&this.authToken_){var h=this.authToken_,y=(0,e.isValidFormat)(h)?"auth":"gauth",M={cred:h};null===this.authOverride_?M.noauth=!0:"object"==typeof this.authOverride_&&(M.authvar=this.authOverride_),this.sendRequest(y,M,function(V){var ge=V.s,be=V.d||"error";r.authToken_===h&&("ok"===ge?r.invalidAuthTokenCount_=0:r.onAuthRevoked_(ge,be))})}},a.prototype.tryAppCheck=function(){var r=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(h){var y=h.s,M=h.d||"error";"ok"===y?r.invalidAppCheckTokenCount_=0:r.onAppCheckRevoked_(y,M)})},a.prototype.unlisten=function(r,h){var y=r._path.toString(),M=r._queryIdentifier;this.log_("Unlisten called for "+y+" "+M),(0,e.assert)(r._queryParams.isDefault()||!r._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(y,M)&&this.connected_&&this.sendUnlisten_(y,M,r._queryObject,h)},a.prototype.sendUnlisten_=function(r,h,y,M){this.log_("Unlisten on "+r+" for "+h);var V={p:r};M&&(V.q=y,V.t=M),this.sendRequest("n",V)},a.prototype.onDisconnectPut=function(r,h,y){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",r,h,y):this.onDisconnectRequestQueue_.push({pathString:r,action:"o",data:h,onComplete:y})},a.prototype.onDisconnectMerge=function(r,h,y){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",r,h,y):this.onDisconnectRequestQueue_.push({pathString:r,action:"om",data:h,onComplete:y})},a.prototype.onDisconnectCancel=function(r,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",r,null,h):this.onDisconnectRequestQueue_.push({pathString:r,action:"oc",data:null,onComplete:h})},a.prototype.sendOnDisconnect_=function(r,h,y,M){var V={p:h,d:y};this.log_("onDisconnect "+r,V),this.sendRequest(r,V,function(ge){M&&setTimeout(function(){M(ge.s,ge.d)},Math.floor(0))})},a.prototype.put=function(r,h,y,M){this.putInternal("p",r,h,y,M)},a.prototype.merge=function(r,h,y,M){this.putInternal("m",r,h,y,M)},a.prototype.putInternal=function(r,h,y,M,V){this.initConnection_();var ge={p:h,d:y};void 0!==V&&(ge.h=V),this.outstandingPuts_.push({action:r,request:ge,onComplete:M}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+h)},a.prototype.sendPut_=function(r){var h=this,y=this.outstandingPuts_[r].action,M=this.outstandingPuts_[r].request,V=this.outstandingPuts_[r].onComplete;this.outstandingPuts_[r].queued=this.connected_,this.sendRequest(y,M,function(ge){h.log_(y+" response",ge),delete h.outstandingPuts_[r],h.outstandingPutCount_--,0===h.outstandingPutCount_&&(h.outstandingPuts_=[]),V&&V(ge.s,ge.d)})},a.prototype.reportStats=function(r){var h=this;if(this.connected_){var y={c:r};this.log_("reportStats",y),this.sendRequest("s",y,function(M){"ok"!==M.s&&h.log_("reportStats","Error sending stats: "+M.d)})}},a.prototype.onDataMessage_=function(r){if("r"in r){this.log_("from server: "+(0,e.stringify)(r));var h=r.r,y=this.requestCBHash_[h];y&&(delete this.requestCBHash_[h],y(r.b))}else{if("error"in r)throw"A server-side error has occurred: "+r.error;"a"in r&&this.onDataPush_(r.a,r.b)}},a.prototype.onDataPush_=function(r,h){this.log_("handleServerMessage",r,h),"d"===r?this.onDataUpdate_(h.p,h.d,!1,h.t):"m"===r?this.onDataUpdate_(h.p,h.d,!0,h.t):"c"===r?this.onListenRevoked_(h.p,h.q):"ac"===r?this.onAuthRevoked_(h.s,h.d):"apc"===r?this.onAppCheckRevoked_(h.s,h.d):"sd"===r?this.onSecurityDebugPacket_(h):Qe("Unrecognized action received from server: "+(0,e.stringify)(r)+"\nAre you using the latest client?")},a.prototype.onReady_=function(r,h){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(r),this.lastSessionId=h,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},a.prototype.scheduleConnect_=function(r){var h=this;(0,e.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){h.establishConnectionTimer_=null,h.establishConnection_()},Math.floor(r))},a.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},a.prototype.onVisible_=function(r){r&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wo,this.realtime_||this.scheduleConnect_(0)),this.visible_=r},a.prototype.onOnline_=function(r){r?(this.log_("Browser went online."),this.reconnectDelay_=Wo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},a.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Wo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var h=(new Date).getTime()-this.lastConnectionAttemptTime_,y=Math.max(0,this.reconnectDelay_-h);y=Math.random()*y,this.log_("Trying to reconnect in "+y+"ms"),this.scheduleConnect_(y),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},a.prototype.establishConnection_=function(){return(0,ee.__awaiter)(this,void 0,void 0,function(){var r,h,y,M,V,ge,be,Ue,tn,dn,Rn,ri,ci,wi=this;return(0,ee.__generator)(this,function(Ni){switch(Ni.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,r=this.onDataMessage_.bind(this),h=this.onReady_.bind(this),y=this.onRealtimeDisconnect_.bind(this),M=this.id+":"+a.nextConnectionId_++,V=this.lastSessionId,ge=!1,be=null,this.realtime_={close:Ue=function(){be?be.close():(ge=!0,y())},sendRequest:function(ir){(0,e.assert)(be,"sendRequest call when we're not connected not allowed."),be.sendRequest(ir)}},tn=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,Ni.label=1;case 1:return Ni.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(tn),this.appCheckTokenProvider_.getToken(tn)])];case 2:return dn=ee.__read.apply(void 0,[Ni.sent(),2]),Rn=dn[0],ri=dn[1],ge?Pe("getToken() completed but was canceled"):(Pe("getToken() completed. Creating connection."),this.authToken_=Rn&&Rn.accessToken,this.appCheckToken_=ri&&ri.token,be=new Bn(M,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,r,h,y,function(ir){bt(ir+" ("+wi.repoInfo_.toString()+")"),wi.interrupt("server_kill")},V)),[3,4];case 3:return ci=Ni.sent(),this.log_("Failed to get token: "+ci),ge||(this.repoInfo_.nodeAdmin&&bt(ci),Ue()),[3,4];case 4:return[2]}})})},a.prototype.interrupt=function(r){Pe("Interrupting connection for reason: "+r),this.interruptReasons_[r]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},a.prototype.resume=function(r){Pe("Resuming connection for reason: "+r),delete this.interruptReasons_[r],(0,e.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=Wo,this.realtime_||this.scheduleConnect_(0))},a.prototype.handleTimestamp_=function(r){var h=r-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:h})},a.prototype.cancelSentTransactions_=function(){for(var r=0;r<this.outstandingPuts_.length;r++){var h=this.outstandingPuts_[r];h&&"h"in h.request&&h.queued&&(h.onComplete&&h.onComplete("disconnect"),delete this.outstandingPuts_[r],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},a.prototype.onListenRevoked_=function(r,h){var y;y=h?h.map(function(V){return wn(V)}).join("$"):"default";var M=this.removeListen_(r,y);M&&M.onComplete&&M.onComplete("permission_denied")},a.prototype.removeListen_=function(r,h){var M,y=new mi(r).toString();if(this.listens.has(y)){var V=this.listens.get(y);M=V.get(h),V.delete(h),0===V.size&&this.listens.delete(y)}else M=void 0;return M},a.prototype.onAuthRevoked_=function(r,h){Pe("Auth token revoked: "+r+"/"+h),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===r||"permission_denied"===r)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},a.prototype.onAppCheckRevoked_=function(r,h){Pe("App check token revoked: "+r+"/"+h),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===r||"permission_denied"===r)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},a.prototype.onSecurityDebugPacket_=function(r){this.securityDebugCallback_?this.securityDebugCallback_(r):"msg"in r&&console.log("FIREBASE: "+r.msg.replace("\n","\nFIREBASE: "))},a.prototype.restoreState_=function(){var r,h,y,M;this.tryAuth(),this.tryAppCheck();try{for(var V=(0,ee.__values)(this.listens.values()),ge=V.next();!ge.done;ge=V.next()){var be=ge.value;try{for(var Ue=(y=void 0,(0,ee.__values)(be.values())),rt=Ue.next();!rt.done;rt=Ue.next())this.sendListen_(rt.value)}catch(ri){y={error:ri}}finally{try{rt&&!rt.done&&(M=Ue.return)&&M.call(Ue)}finally{if(y)throw y.error}}}}catch(ri){r={error:ri}}finally{try{ge&&!ge.done&&(h=V.return)&&h.call(V)}finally{if(r)throw r.error}}for(var dn=0;dn<this.outstandingPuts_.length;dn++)this.outstandingPuts_[dn]&&this.sendPut_(dn);for(;this.onDisconnectRequestQueue_.length;){var Rn=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(Rn.action,Rn.pathString,Rn.data,Rn.onComplete)}for(dn=0;dn<this.outstandingGets_.length;dn++)this.outstandingGets_[dn]&&this.sendGet_(dn)},a.prototype.sendConnectStats_=function(){var r={},h="js";(0,e.isNodeSdk)()&&(h=this.repoInfo_.nodeAdmin?"admin_node":"node"),r["sdk."+h+"."+ze.replace(/\./g,"-")]=1,(0,e.isMobileCordova)()?r["framework.cordova"]=1:(0,e.isReactNative)()&&(r["framework.reactnative"]=1),this.reportStats(r)},a.prototype.shouldReconnect_=function(){var r=Or.getInstance().currentlyOnline();return(0,e.isEmpty)(this.interruptReasons_)&&r},a.nextPersistentConnectionId_=0,a.nextConnectionId_=0,a}(Ci),dr=function(){function i(a,r){this.name=a,this.node=r}return i.Wrap=function(a,r){return new i(a,r)},i}(),Dr=function(){function i(){}return i.prototype.getCompare=function(){return this.compare.bind(this)},i.prototype.indexedValueChanged=function(a,r){var h=new dr(Ye,a),y=new dr(Ye,r);return 0!==this.compare(h,y)},i.prototype.minPost=function(){return dr.MIN},i}(),ar=function(i){function a(){return null!==i&&i.apply(this,arguments)||this}return(0,ee.__extends)(a,i),Object.defineProperty(a,"__EMPTY_NODE",{get:function(){return ki},set:function(r){ki=r},enumerable:!1,configurable:!0}),a.prototype.compare=function(r,h){return st(r.name,h.name)},a.prototype.isDefinedOn=function(r){throw(0,e.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},a.prototype.indexedValueChanged=function(r,h){return!1},a.prototype.minPost=function(){return dr.MIN},a.prototype.maxPost=function(){return new dr(Xe,ki)},a.prototype.makePost=function(r,h){return(0,e.assert)("string"==typeof r,"KeyIndex indexValue must always be a string."),new dr(r,ki)},a.prototype.toString=function(){return".key"},a}(Dr),os=new ar,Te=function(){function i(a,r,h,y,M){void 0===M&&(M=null),this.isReverse_=y,this.resultGenerator_=M,this.nodeStack_=[];for(var V=1;!a.isEmpty();)if(a=a,V=r?h(a.key,r):1,y&&(V*=-1),V<0)a=this.isReverse_?a.left:a.right;else{if(0===V){this.nodeStack_.push(a);break}this.nodeStack_.push(a),a=this.isReverse_?a.right:a.left}}return i.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var r,a=this.nodeStack_.pop();if(r=this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value},this.isReverse_)for(a=a.left;!a.isEmpty();)this.nodeStack_.push(a),a=a.right;else for(a=a.right;!a.isEmpty();)this.nodeStack_.push(a),a=a.left;return r},i.prototype.hasNext=function(){return this.nodeStack_.length>0},i.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var a=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value}},i}(),se=function(){function i(a,r,h,y,M){this.key=a,this.value=r,this.color=null!=h?h:i.RED,this.left=null!=y?y:Ut.EMPTY_NODE,this.right=null!=M?M:Ut.EMPTY_NODE}return i.prototype.copy=function(a,r,h,y,M){return new i(null!=a?a:this.key,null!=r?r:this.value,null!=h?h:this.color,null!=y?y:this.left,null!=M?M:this.right)},i.prototype.count=function(){return this.left.count()+1+this.right.count()},i.prototype.isEmpty=function(){return!1},i.prototype.inorderTraversal=function(a){return this.left.inorderTraversal(a)||!!a(this.key,this.value)||this.right.inorderTraversal(a)},i.prototype.reverseTraversal=function(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)},i.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},i.prototype.minKey=function(){return this.min_().key},i.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},i.prototype.insert=function(a,r,h){var y=this,M=h(a,y.key);return(y=M<0?y.copy(null,null,null,y.left.insert(a,r,h),null):0===M?y.copy(null,r,null,null,null):y.copy(null,null,null,null,y.right.insert(a,r,h))).fixUp_()},i.prototype.removeMin_=function(){if(this.left.isEmpty())return Ut.EMPTY_NODE;var a=this;return!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),(a=a.copy(null,null,null,a.left.removeMin_(),null)).fixUp_()},i.prototype.remove=function(a,r){var h,y;if(r(a,(h=this).key)<0)!h.left.isEmpty()&&!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),h=h.copy(null,null,null,h.left.remove(a,r),null);else{if(h.left.isRed_()&&(h=h.rotateRight_()),!h.right.isEmpty()&&!h.right.isRed_()&&!h.right.left.isRed_()&&(h=h.moveRedRight_()),0===r(a,h.key)){if(h.right.isEmpty())return Ut.EMPTY_NODE;y=h.right.min_(),h=h.copy(y.key,y.value,null,null,h.right.removeMin_())}h=h.copy(null,null,null,null,h.right.remove(a,r))}return h.fixUp_()},i.prototype.isRed_=function(){return this.color},i.prototype.fixUp_=function(){var a=this;return a.right.isRed_()&&!a.left.isRed_()&&(a=a.rotateLeft_()),a.left.isRed_()&&a.left.left.isRed_()&&(a=a.rotateRight_()),a.left.isRed_()&&a.right.isRed_()&&(a=a.colorFlip_()),a},i.prototype.moveRedLeft_=function(){var a=this.colorFlip_();return a.right.left.isRed_()&&(a=(a=(a=a.copy(null,null,null,null,a.right.rotateRight_())).rotateLeft_()).colorFlip_()),a},i.prototype.moveRedRight_=function(){var a=this.colorFlip_();return a.left.left.isRed_()&&(a=(a=a.rotateRight_()).colorFlip_()),a},i.prototype.rotateLeft_=function(){var a=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)},i.prototype.rotateRight_=function(){var a=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)},i.prototype.colorFlip_=function(){var a=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,r)},i.prototype.checkMaxDepth_=function(){var a=this.check_();return Math.pow(2,a)<=this.count()+1},i.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var a=this.left.check_();if(a!==this.right.check_())throw new Error("Black depths differ");return a+(this.isRed_()?0:1)},i.RED=!0,i.BLACK=!1,i}(),ft=function(){function i(){}return i.prototype.copy=function(a,r,h,y,M){return this},i.prototype.insert=function(a,r,h){return new se(a,r,null)},i.prototype.remove=function(a,r){return this},i.prototype.count=function(){return 0},i.prototype.isEmpty=function(){return!0},i.prototype.inorderTraversal=function(a){return!1},i.prototype.reverseTraversal=function(a){return!1},i.prototype.minKey=function(){return null},i.prototype.maxKey=function(){return null},i.prototype.check_=function(){return 0},i.prototype.isRed_=function(){return!1},i}(),Ut=function(){function i(a,r){void 0===r&&(r=i.EMPTY_NODE),this.comparator_=a,this.root_=r}return i.prototype.insert=function(a,r){return new i(this.comparator_,this.root_.insert(a,r,this.comparator_).copy(null,null,se.BLACK,null,null))},i.prototype.remove=function(a){return new i(this.comparator_,this.root_.remove(a,this.comparator_).copy(null,null,se.BLACK,null,null))},i.prototype.get=function(a){for(var r,h=this.root_;!h.isEmpty();){if(0===(r=this.comparator_(a,h.key)))return h.value;r<0?h=h.left:r>0&&(h=h.right)}return null},i.prototype.getPredecessorKey=function(a){for(var r,h=this.root_,y=null;!h.isEmpty();){if(0===(r=this.comparator_(a,h.key))){if(h.left.isEmpty())return y?y.key:null;for(h=h.left;!h.right.isEmpty();)h=h.right;return h.key}r<0?h=h.left:r>0&&(y=h,h=h.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},i.prototype.isEmpty=function(){return this.root_.isEmpty()},i.prototype.count=function(){return this.root_.count()},i.prototype.minKey=function(){return this.root_.minKey()},i.prototype.maxKey=function(){return this.root_.maxKey()},i.prototype.inorderTraversal=function(a){return this.root_.inorderTraversal(a)},i.prototype.reverseTraversal=function(a){return this.root_.reverseTraversal(a)},i.prototype.getIterator=function(a){return new Te(this.root_,null,this.comparator_,!1,a)},i.prototype.getIteratorFrom=function(a,r){return new Te(this.root_,a,this.comparator_,!1,r)},i.prototype.getReverseIteratorFrom=function(a,r){return new Te(this.root_,a,this.comparator_,!0,r)},i.prototype.getReverseIterator=function(a){return new Te(this.root_,null,this.comparator_,!0,a)},i.EMPTY_NODE=new ft,i}();function un(i,a){return st(i.name,a.name)}function En(i,a){return st(i,a)}var or,po,Lr,Jo,le,fi=function(i){return"number"==typeof i?"number:"+zt(i):"string:"+i},Pi=function(i){if(i.isLeafNode()){var a=i.val();(0,e.assert)("string"==typeof a||"number"==typeof a||"object"==typeof a&&(0,e.contains)(a,".sv"),"Priority must be a string or number.")}else(0,e.assert)(i===ii||i.isEmpty(),"priority of unexpected type.");(0,e.assert)(i===ii||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},yr=function(){function i(a,r){void 0===r&&(r=i.__childrenNodeConstructor.EMPTY_NODE),this.value_=a,this.priorityNode_=r,this.lazyHash_=null,(0,e.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Pi(this.priorityNode_)}return Object.defineProperty(i,"__childrenNodeConstructor",{get:function(){return or},set:function(a){or=a},enumerable:!1,configurable:!0}),i.prototype.isLeafNode=function(){return!0},i.prototype.getPriority=function(){return this.priorityNode_},i.prototype.updatePriority=function(a){return new i(this.value_,a)},i.prototype.getImmediateChild=function(a){return".priority"===a?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE},i.prototype.getChild=function(a){return Ki(a)?this:".priority"===ji(a)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE},i.prototype.hasChild=function(){return!1},i.prototype.getPredecessorChildName=function(a,r){return null},i.prototype.updateImmediateChild=function(a,r){return".priority"===a?this.updatePriority(r):r.isEmpty()&&".priority"!==a?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(a,r).updatePriority(this.priorityNode_)},i.prototype.updateChild=function(a,r){var h=ji(a);return null===h?r:r.isEmpty()&&".priority"!==h?this:((0,e.assert)(".priority"!==h||1===Hi(a),".priority must be the last token in a path"),this.updateImmediateChild(h,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(qi(a),r)))},i.prototype.isEmpty=function(){return!1},i.prototype.numChildren=function(){return 0},i.prototype.forEachChild=function(a,r){return!1},i.prototype.val=function(a){return a&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},i.prototype.hash=function(){if(null===this.lazyHash_){var a="";this.priorityNode_.isEmpty()||(a+="priority:"+fi(this.priorityNode_.val())+":");var r=typeof this.value_;a+=r+":",a+="number"===r?zt(this.value_):this.value_,this.lazyHash_=it(a)}return this.lazyHash_},i.prototype.getValue=function(){return this.value_},i.prototype.compareTo=function(a){return a===i.__childrenNodeConstructor.EMPTY_NODE?1:a instanceof i.__childrenNodeConstructor?-1:((0,e.assert)(a.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(a))},i.prototype.compareToLeafNode_=function(a){var r=typeof a.value_,h=typeof this.value_,y=i.VALUE_TYPE_ORDER.indexOf(r),M=i.VALUE_TYPE_ORDER.indexOf(h);return(0,e.assert)(y>=0,"Unknown leaf type: "+r),(0,e.assert)(M>=0,"Unknown leaf type: "+h),y===M?"object"===h?0:this.value_<a.value_?-1:this.value_===a.value_?0:1:M-y},i.prototype.withIndex=function(){return this},i.prototype.isIndexed=function(){return!0},i.prototype.equals=function(a){return a===this||!!a.isLeafNode()&&(this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_))},i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i}(),Er=function(i){function a(){return null!==i&&i.apply(this,arguments)||this}return(0,ee.__extends)(a,i),a.prototype.compare=function(r,h){var y=r.node.getPriority(),M=h.node.getPriority(),V=y.compareTo(M);return 0===V?st(r.name,h.name):V},a.prototype.isDefinedOn=function(r){return!r.getPriority().isEmpty()},a.prototype.indexedValueChanged=function(r,h){return!r.getPriority().equals(h.getPriority())},a.prototype.minPost=function(){return dr.MIN},a.prototype.maxPost=function(){return new dr(Xe,new yr("[PRIORITY-POST]",Lr))},a.prototype.makePost=function(r,h){var y=po(r);return new dr(h,new yr("[PRIORITY-POST]",y))},a.prototype.toString=function(){return".priority"},a}(Dr),Tr=new Er,no=Math.log(2),vo=function(){function i(a){this.count=parseInt(Math.log(a+1)/no,10),this.current_=this.count-1;var y=parseInt(Array(this.count+1).join("1"),2);this.bits_=a+1&y}return i.prototype.nextBitIsOne=function(){var a=!(this.bits_&1<<this.current_);return this.current_--,a},i}(),ao=function(i,a,r,h){i.sort(a);var y=function(be,Ue){var tn,dn,rt=Ue-be;if(0===rt)return null;if(1===rt)return tn=i[be],dn=r?r(tn):tn,new se(dn,tn.node,se.BLACK,null,null);var Rn=parseInt(rt/2,10)+be,ri=y(be,Rn),ci=y(Rn+1,Ue);return tn=i[Rn],dn=r?r(tn):tn,new se(dn,tn.node,se.BLACK,ri,ci)},ge=function(be){for(var Ue=null,rt=null,tn=i.length,dn=function(Ni,ir){var yo=tn-Ni,Ao=tn;tn-=Ni;var jr=y(yo+1,Ao),Eo=i[yo],c=r?r(Eo):Eo;Rn(new se(c,Eo.node,ir,null,jr))},Rn=function(Ni){Ue?(Ue.left=Ni,Ue=Ni):(rt=Ni,Ue=Ni)},ri=0;ri<be.count;++ri){var ci=be.nextBitIsOne(),wi=Math.pow(2,be.count-(ri+1));ci?dn(wi,se.BLACK):(dn(wi,se.BLACK),dn(wi,se.RED))}return rt}(new vo(i.length));return new Ut(h||a,ge)},ls={},pr=function(){function i(a,r){this.indexes_=a,this.indexSet_=r}return Object.defineProperty(i,"Default",{get:function(){return(0,e.assert)(ls&&Tr,"ChildrenNode.ts has not been loaded"),Jo=Jo||new i({".priority":ls},{".priority":Tr})},enumerable:!1,configurable:!0}),i.prototype.get=function(a){var r=(0,e.safeGet)(this.indexes_,a);if(!r)throw new Error("No index defined for "+a);return r instanceof Ut?r:null},i.prototype.hasIndex=function(a){return(0,e.contains)(this.indexSet_,a.toString())},i.prototype.addIndex=function(a,r){(0,e.assert)(a!==os,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var h=[],y=!1,M=r.getIterator(dr.Wrap),V=M.getNext();V;)y=y||a.isDefinedOn(V.node),h.push(V),V=M.getNext();var ge;ge=y?ao(h,a.getCompare()):ls;var be=a.toString(),Ue=(0,ee.__assign)({},this.indexSet_);Ue[be]=a;var rt=(0,ee.__assign)({},this.indexes_);return rt[be]=ge,new i(rt,Ue)},i.prototype.addToIndexes=function(a,r){var h=this;return new i((0,e.map)(this.indexes_,function(M,V){var ge=(0,e.safeGet)(h.indexSet_,V);if((0,e.assert)(ge,"Missing index implementation for "+V),M===ls){if(ge.isDefinedOn(a.node)){for(var be=[],Ue=r.getIterator(dr.Wrap),rt=Ue.getNext();rt;)rt.name!==a.name&&be.push(rt),rt=Ue.getNext();return be.push(a),ao(be,ge.getCompare())}return ls}var tn=r.get(a.name),dn=M;return tn&&(dn=dn.remove(new dr(a.name,tn))),dn.insert(a,a.node)}),this.indexSet_)},i.prototype.removeFromIndexes=function(a,r){return new i((0,e.map)(this.indexes_,function(y){if(y===ls)return y;var M=r.get(a.name);return M?y.remove(new dr(a.name,M)):y}),this.indexSet_)},i}(),Fe=function(){function i(a,r,h){this.children_=a,this.priorityNode_=r,this.indexMap_=h,this.lazyHash_=null,this.priorityNode_&&Pi(this.priorityNode_),this.children_.isEmpty()&&(0,e.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(i,"EMPTY_NODE",{get:function(){return le||(le=new i(new Ut(En),null,pr.Default))},enumerable:!1,configurable:!0}),i.prototype.isLeafNode=function(){return!1},i.prototype.getPriority=function(){return this.priorityNode_||le},i.prototype.updatePriority=function(a){return this.children_.isEmpty()?this:new i(this.children_,a,this.indexMap_)},i.prototype.getImmediateChild=function(a){if(".priority"===a)return this.getPriority();var r=this.children_.get(a);return null===r?le:r},i.prototype.getChild=function(a){var r=ji(a);return null===r?this:this.getImmediateChild(r).getChild(qi(a))},i.prototype.hasChild=function(a){return null!==this.children_.get(a)},i.prototype.updateImmediateChild=function(a,r){if((0,e.assert)(r,"We should always be passing snapshot nodes"),".priority"===a)return this.updatePriority(r);var h=new dr(a,r),y=void 0,M=void 0;r.isEmpty()?(y=this.children_.remove(a),M=this.indexMap_.removeFromIndexes(h,this.children_)):(y=this.children_.insert(a,r),M=this.indexMap_.addToIndexes(h,this.children_));var V=y.isEmpty()?le:this.priorityNode_;return new i(y,V,M)},i.prototype.updateChild=function(a,r){var h=ji(a);if(null===h)return r;(0,e.assert)(".priority"!==ji(a)||1===Hi(a),".priority must be the last token in a path");var y=this.getImmediateChild(h).updateChild(qi(a),r);return this.updateImmediateChild(h,y)},i.prototype.isEmpty=function(){return this.children_.isEmpty()},i.prototype.numChildren=function(){return this.children_.count()},i.prototype.val=function(a){if(this.isEmpty())return null;var r={},h=0,y=0,M=!0;if(this.forEachChild(Tr,function(be,Ue){r[be]=Ue.val(a),h++,M&&i.INTEGER_REGEXP_.test(be)?y=Math.max(y,Number(be)):M=!1}),!a&&M&&y<2*h){var V=[];for(var ge in r)V[ge]=r[ge];return V}return a&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r},i.prototype.hash=function(){if(null===this.lazyHash_){var a="";this.getPriority().isEmpty()||(a+="priority:"+fi(this.getPriority().val())+":"),this.forEachChild(Tr,function(r,h){var y=h.hash();""!==y&&(a+=":"+r+":"+y)}),this.lazyHash_=""===a?"":it(a)}return this.lazyHash_},i.prototype.getPredecessorChildName=function(a,r,h){var y=this.resolveIndex_(h);if(y){var M=y.getPredecessorKey(new dr(a,r));return M?M.name:null}return this.children_.getPredecessorKey(a)},i.prototype.getFirstChildName=function(a){var r=this.resolveIndex_(a);if(r){var h=r.minKey();return h&&h.name}return this.children_.minKey()},i.prototype.getFirstChild=function(a){var r=this.getFirstChildName(a);return r?new dr(r,this.children_.get(r)):null},i.prototype.getLastChildName=function(a){var r=this.resolveIndex_(a);if(r){var h=r.maxKey();return h&&h.name}return this.children_.maxKey()},i.prototype.getLastChild=function(a){var r=this.getLastChildName(a);return r?new dr(r,this.children_.get(r)):null},i.prototype.forEachChild=function(a,r){var h=this.resolveIndex_(a);return h?h.inorderTraversal(function(y){return r(y.name,y.node)}):this.children_.inorderTraversal(r)},i.prototype.getIterator=function(a){return this.getIteratorFrom(a.minPost(),a)},i.prototype.getIteratorFrom=function(a,r){var h=this.resolveIndex_(r);if(h)return h.getIteratorFrom(a,function(V){return V});for(var y=this.children_.getIteratorFrom(a.name,dr.Wrap),M=y.peek();null!=M&&r.compare(M,a)<0;)y.getNext(),M=y.peek();return y},i.prototype.getReverseIterator=function(a){return this.getReverseIteratorFrom(a.maxPost(),a)},i.prototype.getReverseIteratorFrom=function(a,r){var h=this.resolveIndex_(r);if(h)return h.getReverseIteratorFrom(a,function(V){return V});for(var y=this.children_.getReverseIteratorFrom(a.name,dr.Wrap),M=y.peek();null!=M&&r.compare(M,a)>0;)y.getNext(),M=y.peek();return y},i.prototype.compareTo=function(a){return this.isEmpty()?a.isEmpty()?0:-1:a.isLeafNode()||a.isEmpty()?1:a===ot?-1:0},i.prototype.withIndex=function(a){if(a===os||this.indexMap_.hasIndex(a))return this;var r=this.indexMap_.addIndex(a,this.children_);return new i(this.children_,this.priorityNode_,r)},i.prototype.isIndexed=function(a){return a===os||this.indexMap_.hasIndex(a)},i.prototype.equals=function(a){if(a===this)return!0;if(a.isLeafNode())return!1;var r=a;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){for(var h=this.getIterator(Tr),y=r.getIterator(Tr),M=h.getNext(),V=y.getNext();M&&V;){if(M.name!==V.name||!M.node.equals(V.node))return!1;M=h.getNext(),V=y.getNext()}return null===M&&null===V}return!1}return!1},i.prototype.resolveIndex_=function(a){return a===os?null:this.indexMap_.get(a.toString())},i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i}(),fe=function(i){function a(){return i.call(this,new Ut(En),Fe.EMPTY_NODE,pr.Default)||this}return(0,ee.__extends)(a,i),a.prototype.compareTo=function(r){return r===this?0:1},a.prototype.equals=function(r){return r===this},a.prototype.getPriority=function(){return this},a.prototype.getImmediateChild=function(r){return Fe.EMPTY_NODE},a.prototype.isEmpty=function(){return!1},a}(Fe),ot=new fe;function Tn(i,a){if(void 0===a&&(a=null),null===i)return Fe.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(a=i[".priority"]),(0,e.assert)(null===a||"string"==typeof a||"number"==typeof a||"object"==typeof a&&".sv"in a,"Invalid priority type found: "+typeof a),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new yr(i,Tn(a));if(i instanceof Array){var be=Fe.EMPTY_NODE;return bn(i,function(Ue,rt){if((0,e.contains)(i,Ue)&&"."!==Ue.substring(0,1)){var tn=Tn(rt);(tn.isLeafNode()||!tn.isEmpty())&&(be=be.updateImmediateChild(Ue,tn))}}),be.updatePriority(Tn(a))}var h=[],y=!1;if(bn(i,function(Ue,rt){if("."!==Ue.substring(0,1)){var tn=Tn(rt);tn.isEmpty()||(y=y||!tn.getPriority().isEmpty(),h.push(new dr(Ue,tn)))}}),0===h.length)return Fe.EMPTY_NODE;var V=ao(h,un,function(Ue){return Ue.name},En);if(y){var ge=ao(h,Tr.getCompare());return new Fe(V,Tn(a),new pr({".priority":ge},{".priority":Tr}))}return new Fe(V,Tn(a),pr.Default)}Object.defineProperties(dr,{MIN:{value:new dr(Ye,Fe.EMPTY_NODE)},MAX:{value:new dr(Xe,ot)}}),ar.__EMPTY_NODE=Fe.EMPTY_NODE,yr.__childrenNodeConstructor=Fe,function pi(i){ii=i}(ot),function _o(i){Lr=i}(ot),function rr(i){po=i}(Tn);var Zn=function(i){function a(r){var h=i.call(this)||this;return h.indexPath_=r,(0,e.assert)(!Ki(r)&&".priority"!==ji(r),"Can't create PathIndex with empty path or .priority key"),h}return(0,ee.__extends)(a,i),a.prototype.extractChild=function(r){return r.getChild(this.indexPath_)},a.prototype.isDefinedOn=function(r){return!r.getChild(this.indexPath_).isEmpty()},a.prototype.compare=function(r,h){var y=this.extractChild(r.node),M=this.extractChild(h.node),V=y.compareTo(M);return 0===V?st(r.name,h.name):V},a.prototype.makePost=function(r,h){var y=Tn(r),M=Fe.EMPTY_NODE.updateChild(this.indexPath_,y);return new dr(h,M)},a.prototype.maxPost=function(){var r=Fe.EMPTY_NODE.updateChild(this.indexPath_,ot);return new dr(Xe,r)},a.prototype.toString=function(){return $o(this.indexPath_,0).join("/")},a}(Dr),Si=function(i){function a(){return null!==i&&i.apply(this,arguments)||this}return(0,ee.__extends)(a,i),a.prototype.compare=function(r,h){var y=r.node.compareTo(h.node);return 0===y?st(r.name,h.name):y},a.prototype.isDefinedOn=function(r){return!0},a.prototype.indexedValueChanged=function(r,h){return!r.equals(h)},a.prototype.minPost=function(){return dr.MIN},a.prototype.maxPost=function(){return dr.MAX},a.prototype.makePost=function(r,h){var y=Tn(r);return new dr(h,y)},a.prototype.toString=function(){return".value"},a}(Dr),Zr=new Si,Ir="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",lo=function(){var i=0,a=[];return function(r){var h=r===i;i=r;var y,M=new Array(8);for(y=7;y>=0;y--)M[y]=Ir.charAt(r%64),r=Math.floor(r/64);(0,e.assert)(0===r,"Cannot push at time == 0");var V=M.join("");if(h){for(y=11;y>=0&&63===a[y];y--)a[y]=0;a[y]++}else for(y=0;y<12;y++)a[y]=Math.floor(64*Math.random());for(y=0;y<12;y++)V+=Ir.charAt(a[y]);return(0,e.assert)(20===V.length,"nextPushId: Length should be 20."),V}}(),No=function(i){if(i===""+Vn)return"-";var a=di(i);if(null!=a)return""+(a+1);for(var r=new Array(i.length),h=0;h<r.length;h++)r[h]=i.charAt(h);if(r.length<786)return r.push("-"),r.join("");for(var y=r.length-1;y>=0&&"z"===r[y];)y--;if(-1===y)return Xe;var V=Ir.charAt(Ir.indexOf(r[y])+1);return r[y]=V,r.slice(0,y+1).join("")},ve=function(i){if(i===""+an)return Ye;var a=di(i);if(null!=a)return""+(a-1);for(var r=new Array(i.length),h=0;h<r.length;h++)r[h]=i.charAt(h);return"-"===r[r.length-1]?1===r.length?""+Vn:(delete r[r.length-1],r.join("")):(r[r.length-1]=Ir.charAt(Ir.indexOf(r[r.length-1])-1),r.join("")+"z".repeat(786-r.length))};function re(i){return{type:"value",snapshotNode:i}}function Y(i,a){return{type:"child_added",snapshotNode:a,childName:i}}function We(i,a){return{type:"child_removed",snapshotNode:a,childName:i}}function Un(i,a,r){return{type:"child_changed",snapshotNode:a,childName:i,oldSnap:r}}var Yr=function(){function i(a){this.index_=a}return i.prototype.updateChild=function(a,r,h,y,M,V){(0,e.assert)(a.isIndexed(this.index_),"A node must be indexed if only a child is updated");var ge=a.getImmediateChild(r);return ge.getChild(y).equals(h.getChild(y))&&ge.isEmpty()===h.isEmpty()||(null!=V&&(h.isEmpty()?a.hasChild(r)?V.trackChildChange(We(r,ge)):(0,e.assert)(a.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):ge.isEmpty()?V.trackChildChange(Y(r,h)):V.trackChildChange(Un(r,h,ge))),a.isLeafNode()&&h.isEmpty())?a:a.updateImmediateChild(r,h).withIndex(this.index_)},i.prototype.updateFullNode=function(a,r,h){return null!=h&&(a.isLeafNode()||a.forEachChild(Tr,function(y,M){r.hasChild(y)||h.trackChildChange(We(y,M))}),r.isLeafNode()||r.forEachChild(Tr,function(y,M){if(a.hasChild(y)){var V=a.getImmediateChild(y);V.equals(M)||h.trackChildChange(Un(y,M,V))}else h.trackChildChange(Y(y,M))})),r.withIndex(this.index_)},i.prototype.updatePriority=function(a,r){return a.isEmpty()?Fe.EMPTY_NODE:a.updatePriority(r)},i.prototype.filtersNodes=function(){return!1},i.prototype.getIndexedFilter=function(){return this},i.prototype.getIndex=function(){return this.index_},i}(),go=function(){function i(a){this.indexedFilter_=new Yr(a.getIndex()),this.index_=a.getIndex(),this.startPost_=i.getStartPost_(a),this.endPost_=i.getEndPost_(a)}return i.prototype.getStartPost=function(){return this.startPost_},i.prototype.getEndPost=function(){return this.endPost_},i.prototype.matches=function(a){return this.index_.compare(this.getStartPost(),a)<=0&&this.index_.compare(a,this.getEndPost())<=0},i.prototype.updateChild=function(a,r,h,y,M,V){return this.matches(new dr(r,h))||(h=Fe.EMPTY_NODE),this.indexedFilter_.updateChild(a,r,h,y,M,V)},i.prototype.updateFullNode=function(a,r,h){r.isLeafNode()&&(r=Fe.EMPTY_NODE);var y=r.withIndex(this.index_);y=y.updatePriority(Fe.EMPTY_NODE);var M=this;return r.forEachChild(Tr,function(V,ge){M.matches(new dr(V,ge))||(y=y.updateImmediateChild(V,Fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(a,y,h)},i.prototype.updatePriority=function(a,r){return a},i.prototype.filtersNodes=function(){return!0},i.prototype.getIndexedFilter=function(){return this.indexedFilter_},i.prototype.getIndex=function(){return this.index_},i.getStartPost_=function(a){if(a.hasStart()){var r=a.getIndexStartName();return a.getIndex().makePost(a.getIndexStartValue(),r)}return a.getIndex().minPost()},i.getEndPost_=function(a){if(a.hasEnd()){var r=a.getIndexEndName();return a.getIndex().makePost(a.getIndexEndValue(),r)}return a.getIndex().maxPost()},i}(),qr=function(){function i(a){this.rangedFilter_=new go(a),this.index_=a.getIndex(),this.limit_=a.getLimit(),this.reverse_=!a.isViewFromLeft()}return i.prototype.updateChild=function(a,r,h,y,M,V){return this.rangedFilter_.matches(new dr(r,h))||(h=Fe.EMPTY_NODE),a.getImmediateChild(r).equals(h)?a:a.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(a,r,h,y,M,V):this.fullLimitUpdateChild_(a,r,h,M,V)},i.prototype.updateFullNode=function(a,r,h){var y;if(r.isLeafNode()||r.isEmpty())y=Fe.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<r.numChildren()&&r.isIndexed(this.index_)){y=Fe.EMPTY_NODE.withIndex(this.index_);var M=void 0;M=this.reverse_?r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var V=0;M.hasNext()&&V<this.limit_;){var ge=M.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),ge)<=0:this.index_.compare(ge,this.rangedFilter_.getEndPost())<=0))break;y=y.updateImmediateChild(ge.name,ge.node),V++}}else{y=(y=r.withIndex(this.index_)).updatePriority(Fe.EMPTY_NODE);var Ue=void 0,rt=void 0,tn=void 0;if(M=void 0,this.reverse_){M=y.getReverseIterator(this.index_),Ue=this.rangedFilter_.getEndPost(),rt=this.rangedFilter_.getStartPost();var dn=this.index_.getCompare();tn=function(wi,Ni){return dn(Ni,wi)}}else M=y.getIterator(this.index_),Ue=this.rangedFilter_.getStartPost(),rt=this.rangedFilter_.getEndPost(),tn=this.index_.getCompare();V=0;for(var Rn=!1;M.hasNext();)ge=M.getNext(),!Rn&&tn(Ue,ge)<=0&&(Rn=!0),Rn&&V<this.limit_&&tn(ge,rt)<=0?V++:y=y.updateImmediateChild(ge.name,Fe.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(a,y,h)},i.prototype.updatePriority=function(a,r){return a},i.prototype.filtersNodes=function(){return!0},i.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},i.prototype.getIndex=function(){return this.index_},i.prototype.fullLimitUpdateChild_=function(a,r,h,y,M){var V;if(this.reverse_){var ge=this.index_.getCompare();V=function(ir,yo){return ge(yo,ir)}}else V=this.index_.getCompare();var be=a;(0,e.assert)(be.numChildren()===this.limit_,"");var Ue=new dr(r,h),rt=this.reverse_?be.getFirstChild(this.index_):be.getLastChild(this.index_),tn=this.rangedFilter_.matches(Ue);if(be.hasChild(r)){for(var dn=be.getImmediateChild(r),Rn=y.getChildAfterChild(this.index_,rt,this.reverse_);null!=Rn&&(Rn.name===r||be.hasChild(Rn.name));)Rn=y.getChildAfterChild(this.index_,Rn,this.reverse_);var ri=null==Rn?1:V(Rn,Ue);if(tn&&!h.isEmpty()&&ri>=0)return null!=M&&M.trackChildChange(Un(r,h,dn)),be.updateImmediateChild(r,h);null!=M&&M.trackChildChange(We(r,dn));var wi=be.updateImmediateChild(r,Fe.EMPTY_NODE);return null!=Rn&&this.rangedFilter_.matches(Rn)?(null!=M&&M.trackChildChange(Y(Rn.name,Rn.node)),wi.updateImmediateChild(Rn.name,Rn.node)):wi}return h.isEmpty()?a:tn&&V(rt,Ue)>=0?(null!=M&&(M.trackChildChange(We(rt.name,rt.node)),M.trackChildChange(Y(r,h))),be.updateImmediateChild(r,h).updateImmediateChild(rt.name,Fe.EMPTY_NODE)):a},i}(),Ur=function(){function i(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Tr}return i.prototype.hasStart=function(){return this.startSet_},i.prototype.hasStartAfter=function(){return this.startAfterSet_},i.prototype.hasEndBefore=function(){return this.endBeforeSet_},i.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},i.prototype.getIndexStartValue=function(){return(0,e.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},i.prototype.getIndexStartName=function(){return(0,e.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ye},i.prototype.hasEnd=function(){return this.endSet_},i.prototype.getIndexEndValue=function(){return(0,e.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},i.prototype.getIndexEndName=function(){return(0,e.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xe},i.prototype.hasLimit=function(){return this.limitSet_},i.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},i.prototype.getLimit=function(){return(0,e.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},i.prototype.getIndex=function(){return this.index_},i.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},i.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Tr},i.prototype.copy=function(){var a=new i;return a.limitSet_=this.limitSet_,a.limit_=this.limit_,a.startSet_=this.startSet_,a.indexStartValue_=this.indexStartValue_,a.startNameSet_=this.startNameSet_,a.indexStartName_=this.indexStartName_,a.endSet_=this.endSet_,a.indexEndValue_=this.indexEndValue_,a.endNameSet_=this.endNameSet_,a.indexEndName_=this.indexEndName_,a.index_=this.index_,a.viewFrom_=this.viewFrom_,a},i}();function Qi(i,a,r){var h=i.copy();return h.startSet_=!0,void 0===a&&(a=null),h.indexStartValue_=a,null!=r?(h.startNameSet_=!0,h.indexStartName_=r):(h.startNameSet_=!1,h.indexStartName_=""),h}function Nr(i,a,r){var h=i.copy();return h.endSet_=!0,void 0===a&&(a=null),h.indexEndValue_=a,void 0!==r?(h.endNameSet_=!0,h.indexEndName_=r):(h.endNameSet_=!1,h.indexEndName_=""),h}function Bo(i,a){var r=i.copy();return r.index_=a,r}function As(i){var r,a={};return i.isDefault()||(i.index_===Tr?r="$priority":i.index_===Zr?r="$value":i.index_===os?r="$key":((0,e.assert)(i.index_ instanceof Zn,"Unrecognized index type!"),r=i.index_.toString()),a.orderBy=(0,e.stringify)(r),i.startSet_&&(a.startAt=(0,e.stringify)(i.indexStartValue_),i.startNameSet_&&(a.startAt+=","+(0,e.stringify)(i.indexStartName_))),i.endSet_&&(a.endAt=(0,e.stringify)(i.indexEndValue_),i.endNameSet_&&(a.endAt+=","+(0,e.stringify)(i.indexEndName_))),i.limitSet_&&(i.isViewFromLeft()?a.limitToFirst=i.limit_:a.limitToLast=i.limit_)),a}function Hr(i){var a={};if(i.startSet_&&(a.sp=i.indexStartValue_,i.startNameSet_&&(a.sn=i.indexStartName_)),i.endSet_&&(a.ep=i.indexEndValue_,i.endNameSet_&&(a.en=i.indexEndName_)),i.limitSet_){a.l=i.limit_;var r=i.viewFrom_;""===r&&(r=i.isViewFromLeft()?"l":"r"),a.vf=r}return i.index_!==Tr&&(a.i=i.index_.toString()),a}var Ws=function(i){function a(r,h,y,M){var V=i.call(this)||this;return V.repoInfo_=r,V.onDataUpdate_=h,V.authTokenProvider_=y,V.appCheckTokenProvider_=M,V.log_=te("p:rest:"),V.listens_={},V}return(0,ee.__extends)(a,i),a.prototype.reportStats=function(r){throw new Error("Method not implemented.")},a.getListenId_=function(r,h){return void 0!==h?"tag$"+h:((0,e.assert)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())},a.prototype.listen=function(r,h,y,M){var V=this,ge=r._path.toString();this.log_("Listen called for "+ge+" "+r._queryIdentifier);var be=a.getListenId_(r,y),Ue={};this.listens_[be]=Ue;var rt=As(r._queryParams);this.restRequest_(ge+".json",rt,function(tn,dn){var Rn=dn;404===tn&&(Rn=null,tn=null),null===tn&&V.onDataUpdate_(ge,Rn,!1,y),(0,e.safeGet)(V.listens_,be)===Ue&&M(tn?401===tn?"permission_denied":"rest_error:"+tn:"ok",null)})},a.prototype.unlisten=function(r,h){var y=a.getListenId_(r,h);delete this.listens_[y]},a.prototype.get=function(r){var h=this,y=As(r._queryParams),M=r._path.toString(),V=new e.Deferred;return this.restRequest_(M+".json",y,function(ge,be){var Ue=be;404===ge&&(Ue=null,ge=null),null===ge?(h.onDataUpdate_(M,Ue,!1,null),V.resolve(Ue)):V.reject(new Error(Ue))}),V.promise},a.prototype.refreshAuthToken=function(r){},a.prototype.restRequest_=function(r,h,y){var M=this;return void 0===h&&(h={}),h.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(V){var ge=(0,ee.__read)(V,2),be=ge[0],Ue=ge[1];be&&be.accessToken&&(h.auth=be.accessToken),Ue&&Ue.token&&(h.ac=Ue.token);var rt=(M.repoInfo_.secure?"https://":"http://")+M.repoInfo_.host+r+"?ns="+M.repoInfo_.namespace+(0,e.querystring)(h);M.log_("Sending REST request for "+rt);var tn=new XMLHttpRequest;tn.onreadystatechange=function(){if(y&&4===tn.readyState){M.log_("REST Response for "+rt+" received. status:",tn.status,"response:",tn.responseText);var dn=null;if(tn.status>=200&&tn.status<300){try{dn=(0,e.jsonEval)(tn.responseText)}catch(Rn){bt("Failed to parse JSON response for "+rt+": "+tn.responseText)}y(null,dn)}else 401!==tn.status&&404!==tn.status&&bt("Got unsuccessful REST response for "+rt+" Status: "+tn.status),y(tn.status);y=null}},tn.open("GET",rt,!0),tn.send()})},a}(Ci),hs=function(){function i(){this.rootNode_=Fe.EMPTY_NODE}return i.prototype.getNode=function(a){return this.rootNode_.getChild(a)},i.prototype.updateSnapshot=function(a,r){this.rootNode_=this.rootNode_.updateChild(a,r)},i}();function Is(){return{value:null,children:new Map}}function mr(i,a,r){if(Ki(a))i.value=r,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(a,r);else{var h=ji(a);i.children.has(h)||i.children.set(h,Is()),mr(i.children.get(h),a=qi(a),r)}}function qo(i,a){if(Ki(a))return i.value=null,i.children.clear(),!0;if(null!==i.value){if(i.value.isLeafNode())return!1;var r=i.value;return i.value=null,r.forEachChild(Tr,function(M,V){mr(i,new mi(M),V)}),qo(i,a)}if(i.children.size>0){var h=ji(a);return a=qi(a),i.children.has(h)&&qo(i.children.get(h),a)&&i.children.delete(h),0===i.children.size}return!0}function Po(i,a,r){null!==i.value?r(a,i.value):function me(i,a){i.children.forEach(function(r,h){a(h,r)})}(i,function(h,y){Po(y,new mi(a.toString()+"/"+h),r)})}var N=function(){function i(a){this.collection_=a,this.last_=null}return i.prototype.get=function(){var a=this.collection_.get(),r=(0,ee.__assign)({},a);return this.last_&&bn(this.last_,function(h,y){r[h]=r[h]-y}),this.last_=a,r},i}(),_t=function(){function i(a,r){this.server_=r,this.statsToReport_={},this.statsListener_=new N(a);var h=1e4+2e4*Math.random();wt(this.reportStats_.bind(this),Math.floor(h))}return i.prototype.reportStats_=function(){var a=this,r=this.statsListener_.get(),h={},y=!1;bn(r,function(M,V){V>0&&(0,e.contains)(a.statsToReport_,M)&&(h[M]=V,y=!0)}),y&&this.server_.reportStats(h),wt(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},i}(),Lt=(()=>(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Lt||(Lt={})),Lt))();function xi(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}var Ai=function(){function i(a,r,h){this.path=a,this.affectedTree=r,this.revert=h,this.type=Lt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return i.prototype.operationForChild=function(a){if(Ki(this.path)){if(null!=this.affectedTree.value)return(0,e.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var r=this.affectedTree.subtree(new mi(a));return new i(_i(),r,this.revert)}return(0,e.assert)(ji(this.path)===a,"operationForChild called for unrelated child."),new i(qi(this.path),this.affectedTree,this.revert)},i}(),cr=function(){function i(a,r){this.source=a,this.path=r,this.type=Lt.LISTEN_COMPLETE}return i.prototype.operationForChild=function(a){return Ki(this.path)?new i(this.source,_i()):new i(this.source,qi(this.path))},i}(),Rr=function(){function i(a,r,h){this.source=a,this.path=r,this.snap=h,this.type=Lt.OVERWRITE}return i.prototype.operationForChild=function(a){return Ki(this.path)?new i(this.source,_i(),this.snap.getImmediateChild(a)):new i(this.source,qi(this.path),this.snap)},i}(),Yi=function(){function i(a,r,h){this.source=a,this.path=r,this.children=h,this.type=Lt.MERGE}return i.prototype.operationForChild=function(a){if(Ki(this.path)){var r=this.children.subtree(new mi(a));return r.isEmpty()?null:r.value?new Rr(this.source,_i(),r.value):new i(this.source,_i(),r)}return(0,e.assert)(ji(this.path)===a,"Can't get a merge for a child not on the path of the operation"),new i(this.source,qi(this.path),this.children)},i.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},i}(),Gi=function(){function i(a,r,h){this.node_=a,this.fullyInitialized_=r,this.filtered_=h}return i.prototype.isFullyInitialized=function(){return this.fullyInitialized_},i.prototype.isFiltered=function(){return this.filtered_},i.prototype.isCompleteForPath=function(a){if(Ki(a))return this.isFullyInitialized()&&!this.filtered_;var r=ji(a);return this.isCompleteForChild(r)},i.prototype.isCompleteForChild=function(a){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(a)},i.prototype.getNode=function(){return this.node_},i}(),Xr=function i(a){this.query_=a,this.index_=this.query_._queryParams.getIndex()};function Ro(i,a,r,h,y,M){var V=h.filter(function(ge){return ge.type===r});V.sort(function(ge,be){return function wr(i,a,r){if(null==a.childName||null==r.childName)throw(0,e.assertionError)("Should only compare child_ events.");var h=new dr(a.childName,a.snapshotNode),y=new dr(r.childName,r.snapshotNode);return i.index_.compare(h,y)}(i,ge,be)}),V.forEach(function(ge){var be=function ss(i,a,r){return"value"===a.type||"child_removed"===a.type||(a.prevName=r.getPredecessorChildName(a.childName,a.snapshotNode,i.index_)),a}(i,ge,M);y.forEach(function(Ue){Ue.respondsTo(ge.type)&&a.push(Ue.createEvent(be,i.query_))})})}function Pr(i,a){return{eventCache:i,serverCache:a}}function Sr(i,a,r,h){return Pr(new Gi(a,r,h),i.serverCache)}function xo(i,a,r,h){return Pr(i.eventCache,new Gi(a,r,h))}function ro(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Vo(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}var cs,Ho=function(){function i(a,r){void 0===r&&(cs||(cs=new Ut(sn)),r=cs),this.value=a,this.children=r}return i.fromObject=function(a){var r=new i(null);return bn(a,function(h,y){r=r.set(new mi(h),y)}),r},i.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},i.prototype.findRootMostMatchingPathAndValue=function(a,r){if(null!=this.value&&r(this.value))return{path:_i(),value:this.value};if(Ki(a))return null;var h=ji(a),y=this.children.get(h);if(null!==y){var M=y.findRootMostMatchingPathAndValue(qi(a),r);return null!=M?{path:vr(new mi(h),M.path),value:M.value}:null}return null},i.prototype.findRootMostValueAndPath=function(a){return this.findRootMostMatchingPathAndValue(a,function(){return!0})},i.prototype.subtree=function(a){if(Ki(a))return this;var r=ji(a),h=this.children.get(r);return null!==h?h.subtree(qi(a)):new i(null)},i.prototype.set=function(a,r){if(Ki(a))return new i(r,this.children);var h=ji(a),M=(this.children.get(h)||new i(null)).set(qi(a),r),V=this.children.insert(h,M);return new i(this.value,V)},i.prototype.remove=function(a){if(Ki(a))return this.children.isEmpty()?new i(null):new i(null,this.children);var r=ji(a),h=this.children.get(r);if(h){var y=h.remove(qi(a)),M=void 0;return M=y.isEmpty()?this.children.remove(r):this.children.insert(r,y),null===this.value&&M.isEmpty()?new i(null):new i(this.value,M)}return this},i.prototype.get=function(a){if(Ki(a))return this.value;var r=ji(a),h=this.children.get(r);return h?h.get(qi(a)):null},i.prototype.setTree=function(a,r){if(Ki(a))return r;var V,h=ji(a),M=(this.children.get(h)||new i(null)).setTree(qi(a),r);return V=M.isEmpty()?this.children.remove(h):this.children.insert(h,M),new i(this.value,V)},i.prototype.fold=function(a){return this.fold_(_i(),a)},i.prototype.fold_=function(a,r){var h={};return this.children.inorderTraversal(function(y,M){h[y]=M.fold_(vr(a,y),r)}),r(a,this.value,h)},i.prototype.findOnPath=function(a,r){return this.findOnPath_(a,_i(),r)},i.prototype.findOnPath_=function(a,r,h){var y=!!this.value&&h(r,this.value);if(y)return y;if(Ki(a))return null;var M=ji(a),V=this.children.get(M);return V?V.findOnPath_(qi(a),vr(r,M),h):null},i.prototype.foreachOnPath=function(a,r){return this.foreachOnPath_(a,_i(),r)},i.prototype.foreachOnPath_=function(a,r,h){if(Ki(a))return this;this.value&&h(r,this.value);var y=ji(a),M=this.children.get(y);return M?M.foreachOnPath_(qi(a),vr(r,y),h):new i(null)},i.prototype.foreach=function(a){this.foreach_(_i(),a)},i.prototype.foreach_=function(a,r){this.children.inorderTraversal(function(h,y){y.foreach_(vr(a,h),r)}),this.value&&r(a,this.value)},i.prototype.foreachChild=function(a){this.children.inorderTraversal(function(r,h){h.value&&a(r,h.value)})},i}(),eo=function(){function i(a){this.writeTree_=a}return i.empty=function(){return new i(new Ho(null))},i}();function Xo(i,a,r){if(Ki(a))return new eo(new Ho(r));var h=i.writeTree_.findRootMostValueAndPath(a);if(null!=h){var y=h.path,M=h.value,V=zr(y,a);return M=M.updateChild(V,r),new eo(i.writeTree_.set(y,M))}var ge=new Ho(r),be=i.writeTree_.setTree(a,ge);return new eo(be)}function ea(i,a,r){var h=i;return bn(r,function(y,M){h=Xo(h,vr(a,y),M)}),h}function Fi(i,a){if(Ki(a))return eo.empty();var r=i.writeTree_.setTree(a,new Ho(null));return new eo(r)}function nr(i,a){return null!=Li(i,a)}function Li(i,a){var r=i.writeTree_.findRootMostValueAndPath(a);return null!=r?i.writeTree_.get(r.path).getChild(zr(r.path,a)):null}function Ji(i){var a=[],r=i.writeTree_.value;return null!=r?r.isLeafNode()||r.forEachChild(Tr,function(h,y){a.push(new dr(h,y))}):i.writeTree_.children.inorderTraversal(function(h,y){null!=y.value&&a.push(new dr(h,y.value))}),a}function D(i,a){if(Ki(a))return i;var r=Li(i,a);return new eo(null!=r?new Ho(r):i.writeTree_.subtree(a))}function $(i){return i.writeTree_.isEmpty()}function we(i,a){return et(_i(),i.writeTree_,a)}function et(i,a,r){if(null!=a.value)return r.updateChild(i,a.value);var h=null;return a.children.inorderTraversal(function(y,M){".priority"===y?((0,e.assert)(null!==M.value,"Priority writes must always be leaf nodes"),h=M.value):r=et(vr(i,y),M,r)}),!r.getChild(i).isEmpty()&&null!==h&&(r=r.updateChild(vr(i,".priority"),h)),r}function kt(i,a){return en(a,i)}function Br(i,a){if(i.snap)return wo(i.path,a);for(var r in i.children)if(i.children.hasOwnProperty(r)&&wo(vr(i.path,r),a))return!0;return!1}function Mo(i){return i.visible}function xs(i,a,r){for(var h=eo.empty(),y=0;y<i.length;++y){var M=i[y];if(a(M)){var V=M.path,ge=void 0;if(M.snap)wo(r,V)?h=Xo(h,ge=zr(r,V),M.snap):wo(V,r)&&(ge=zr(V,r),h=Xo(h,_i(),M.snap.getChild(ge)));else{if(!M.children)throw(0,e.assertionError)("WriteRecord should have .snap or .children");if(wo(r,V))h=ea(h,ge=zr(r,V),M.children);else if(wo(V,r))if(Ki(ge=zr(V,r)))h=ea(h,_i(),M.children);else{var be=(0,e.safeGet)(M.children,ji(ge));if(be){var Ue=be.getChild(qi(ge));h=Xo(h,_i(),Ue)}}}}}return h}function Zs(i,a,r,h,y){if(h||y){var be=D(i.visibleWrites,a);return!y&&$(be)?r:y||null!=r||nr(be,_i())?we(xs(i.allWrites,function(dn){return(dn.visible||y)&&(!h||!~h.indexOf(dn.writeId))&&(wo(dn.path,a)||wo(a,dn.path))},a),r||Fe.EMPTY_NODE):null}var M=Li(i.visibleWrites,a);if(null!=M)return M;var V=D(i.visibleWrites,a);return $(V)?r:null!=r||nr(V,_i())?we(V,r||Fe.EMPTY_NODE):null}function K(i,a,r,h){return Zs(i.writeTree,i.treePath,a,r,h)}function H(i,a){return function Rs(i,a,r){var h=Fe.EMPTY_NODE,y=Li(i.visibleWrites,a);if(y)return y.isLeafNode()||y.forEachChild(Tr,function(ge,be){h=h.updateImmediateChild(ge,be)}),h;if(r){var M=D(i.visibleWrites,a);return r.forEachChild(Tr,function(ge,be){var Ue=we(D(M,new mi(ge)),be);h=h.updateImmediateChild(ge,Ue)}),Ji(M).forEach(function(ge){h=h.updateImmediateChild(ge.name,ge.node)}),h}return Ji(D(i.visibleWrites,a)).forEach(function(ge){h=h.updateImmediateChild(ge.name,ge.node)}),h}(i.writeTree,i.treePath,a)}function B(i,a,r,h){return function Ca(i,a,r,h,y){(0,e.assert)(h||y,"Either existingEventSnap or existingServerSnap must exist");var M=vr(a,r);if(nr(i.visibleWrites,M))return null;var V=D(i.visibleWrites,M);return $(V)?y.getChild(r):we(V,y.getChild(r))}(i.writeTree,i.treePath,a,r,h)}function ue(i,a){return function jo(i,a){return Li(i.visibleWrites,a)}(i.writeTree,vr(i.treePath,a))}function Je(i,a,r){return function Da(i,a,r,h){var y=vr(a,r),M=Li(i.visibleWrites,y);return null!=M?M:h.isCompleteForChild(r)?we(D(i.visibleWrites,y),h.getNode().getImmediateChild(r)):null}(i.writeTree,i.treePath,a,r)}function It(i,a){return en(vr(i.treePath,a),i.writeTree)}function en(i,a){return{treePath:i,writeTree:a}}var Kn=function(){function i(){this.changeMap=new Map}return i.prototype.trackChildChange=function(a){var r=a.type,h=a.childName;(0,e.assert)("child_added"===r||"child_changed"===r||"child_removed"===r,"Only child changes supported for tracking"),(0,e.assert)(".priority"!==h,"Only non-priority child changes can be tracked.");var y=this.changeMap.get(h);if(y){var M=y.type;if("child_added"===r&&"child_removed"===M)this.changeMap.set(h,Un(h,a.snapshotNode,y.snapshotNode));else if("child_removed"===r&&"child_added"===M)this.changeMap.delete(h);else if("child_removed"===r&&"child_changed"===M)this.changeMap.set(h,We(h,y.oldSnap));else if("child_changed"===r&&"child_added"===M)this.changeMap.set(h,Y(h,a.snapshotNode));else{if("child_changed"!==r||"child_changed"!==M)throw(0,e.assertionError)("Illegal combination of changes: "+a+" occurred after "+y);this.changeMap.set(h,Un(h,a.snapshotNode,y.oldSnap))}}else this.changeMap.set(h,a)},i.prototype.getChanges=function(){return Array.from(this.changeMap.values())},i}(),Oi=function(){function i(){}return i.prototype.getCompleteChild=function(a){return null},i.prototype.getChildAfterChild=function(a,r,h){return null},i}(),Mr=new Oi,$i=function(){function i(a,r,h){void 0===h&&(h=null),this.writes_=a,this.viewCache_=r,this.optCompleteServerCache_=h}return i.prototype.getCompleteChild=function(a){var r=this.viewCache_.eventCache;if(r.isCompleteForChild(a))return r.getNode().getImmediateChild(a);var h=null!=this.optCompleteServerCache_?new Gi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Je(this.writes_,a,h)},i.prototype.getChildAfterChild=function(a,r,h){var y=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Vo(this.viewCache_),M=function Ae(i,a,r,h,y,M){return function So(i,a,r,h,y,M,V){var ge,be=D(i.visibleWrites,a),Ue=Li(be,_i());if(null!=Ue)ge=Ue;else{if(null==r)return[];ge=we(be,r)}if((ge=ge.withIndex(V)).isEmpty()||ge.isLeafNode())return[];for(var rt=[],tn=V.getCompare(),dn=M?ge.getReverseIteratorFrom(h,V):ge.getIteratorFrom(h,V),Rn=dn.getNext();Rn&&rt.length<y;)0!==tn(Rn,h)&&rt.push(Rn),Rn=dn.getNext();return rt}(i.writeTree,i.treePath,a,r,h,y,M)}(this.writes_,y,r,1,h,a);return 0===M.length?null:M[0]},i}();function xl(i,a,r,h,y,M){var V=a.eventCache;if(null!=ue(h,r))return a;var ge=void 0,be=void 0;if(Ki(r))if((0,e.assert)(a.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),a.serverCache.isFiltered()){var Ue=Vo(a),tn=H(h,Ue instanceof Fe?Ue:Fe.EMPTY_NODE);ge=i.filter.updateFullNode(a.eventCache.getNode(),tn,M)}else{var dn=K(h,Vo(a));ge=i.filter.updateFullNode(a.eventCache.getNode(),dn,M)}else{var Rn=ji(r);if(".priority"===Rn){(0,e.assert)(1===Hi(r),"Can't have a priority with additional path components");var ri=V.getNode(),ci=B(h,r,ri,be=a.serverCache.getNode());ge=null!=ci?i.filter.updatePriority(ri,ci):V.getNode()}else{var wi=qi(r),Ni=void 0;if(V.isCompleteForChild(Rn)){be=a.serverCache.getNode();var ir=B(h,r,V.getNode(),be);Ni=null!=ir?V.getNode().getImmediateChild(Rn).updateChild(wi,ir):V.getNode().getImmediateChild(Rn)}else Ni=Je(h,Rn,a.serverCache);ge=null!=Ni?i.filter.updateChild(V.getNode(),Rn,Ni,wi,y,M):V.getNode()}}return Sr(a,ge,V.isFullyInitialized()||Ki(r),i.filter.filtersNodes())}function Ea(i,a,r,h,y,M,V,ge){var Ue,be=a.serverCache,rt=V?i.filter:i.filter.getIndexedFilter();if(Ki(r))Ue=rt.updateFullNode(be.getNode(),h,null);else if(rt.filtersNodes()&&!be.isFiltered()){var tn=be.getNode().updateChild(r,h);Ue=rt.updateFullNode(be.getNode(),tn,null)}else{var dn=ji(r);if(!be.isCompleteForPath(r)&&Hi(r)>1)return a;var Rn=qi(r),ci=be.getNode().getImmediateChild(dn).updateChild(Rn,h);Ue=".priority"===dn?rt.updatePriority(be.getNode(),ci):rt.updateChild(be.getNode(),dn,ci,Rn,Mr,null)}var wi=xo(a,Ue,be.isFullyInitialized()||Ki(r),rt.filtersNodes());return xl(i,wi,r,y,new $i(y,wi,M),ge)}function Fo(i,a,r,h,y,M,V){var be,Ue,ge=a.eventCache,rt=new $i(y,a,M);if(Ki(r))Ue=i.filter.updateFullNode(a.eventCache.getNode(),h,V),be=Sr(a,Ue,!0,i.filter.filtersNodes());else{var tn=ji(r);if(".priority"===tn)Ue=i.filter.updatePriority(a.eventCache.getNode(),h),be=Sr(a,Ue,ge.isFullyInitialized(),ge.isFiltered());else{var dn=qi(r),Rn=ge.getNode().getImmediateChild(tn),ri=void 0;if(Ki(dn))ri=h;else{var ci=rt.getCompleteChild(tn);ri=null!=ci?".priority"===fr(dn)&&ci.getChild(sr(dn)).isEmpty()?ci:ci.updateChild(dn,h):Fe.EMPTY_NODE}be=Rn.equals(ri)?a:Sr(a,i.filter.updateChild(ge.getNode(),tn,ri,dn,rt,V),ge.isFullyInitialized(),i.filter.filtersNodes())}}return be}function Lo(i,a){return i.eventCache.isCompleteForChild(a)}function Di(i,a,r){return r.foreach(function(h,y){a=a.updateChild(h,y)}),a}function us(i,a,r,h,y,M,V,ge){if(a.serverCache.getNode().isEmpty()&&!a.serverCache.isFullyInitialized())return a;var Ue,be=a;Ue=Ki(r)?h:new Ho(null).setTree(r,h);var rt=a.serverCache.getNode();return Ue.children.inorderTraversal(function(tn,dn){if(rt.hasChild(tn)){var ri=Di(0,a.serverCache.getNode().getImmediateChild(tn),dn);be=Ea(i,be,new mi(tn),ri,y,M,V,ge)}}),Ue.children.inorderTraversal(function(tn,dn){var Rn=!a.serverCache.isCompleteForChild(tn)&&void 0===dn.value;if(!rt.hasChild(tn)&&!Rn){var ci=Di(0,a.serverCache.getNode().getImmediateChild(tn),dn);be=Ea(i,be,new mi(tn),ci,y,M,V,ge)}}),be}var tl=function(){function i(a,r){this.query_=a,this.eventRegistrations_=[];var h=this.query_._queryParams,y=new Yr(h.getIndex()),M=function zn(i){return i.loadsAllData()?new Yr(i.getIndex()):i.hasLimit()?new qr(i):new go(i)}(h);this.processor_=function Oo(i){return{filter:i}}(M);var V=r.serverCache,ge=r.eventCache,be=y.updateFullNode(Fe.EMPTY_NODE,V.getNode(),null),Ue=M.updateFullNode(Fe.EMPTY_NODE,ge.getNode(),null),rt=new Gi(be,V.isFullyInitialized(),y.filtersNodes()),tn=new Gi(Ue,ge.isFullyInitialized(),M.filtersNodes());this.viewCache_=Pr(tn,rt),this.eventGenerator_=new Xr(this.query_)}return Object.defineProperty(i.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),i}();function Qc(i,a){var r=Vo(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!Ki(a)&&!r.getImmediateChild(ji(a)).isEmpty())?r.getChild(a):null}function La(i){return 0===i.eventRegistrations_.length}function Bc(i,a,r){var h=[];if(r){(0,e.assert)(null==a,"A cancel should cancel all event registrations.");var y=i.query._path;i.eventRegistrations_.forEach(function(be){var Ue=be.createCancelEvent(r,y);Ue&&h.push(Ue)})}if(a){for(var M=[],V=0;V<i.eventRegistrations_.length;++V){var ge=i.eventRegistrations_[V];if(ge.matches(a)){if(a.hasAnyCallback()){M=M.concat(i.eventRegistrations_.slice(V+1));break}}else M.push(ge)}i.eventRegistrations_=M}else i.eventRegistrations_=[];return h}function ys(i,a,r,h){a.type===Lt.MERGE&&null!==a.source.queryId&&((0,e.assert)(Vo(i.viewCache_),"We should always have a full cache before handling merges"),(0,e.assert)(ro(i.viewCache_),"Missing event cache, even though we have a server cache"));var y=i.viewCache_,M=function Es(i,a,r,h,y){var V,ge,M=new Kn;if(r.type===Lt.OVERWRITE){var be=r;be.source.fromUser?V=Fo(i,a,be.path,be.snap,h,y,M):((0,e.assert)(be.source.fromServer,"Unknown source."),ge=be.source.tagged||a.serverCache.isFiltered()&&!Ki(be.path),V=Ea(i,a,be.path,be.snap,h,y,ge,M))}else if(r.type===Lt.MERGE){var Ue=r;Ue.source.fromUser?V=function Ml(i,a,r,h,y,M,V){var ge=a;return h.foreach(function(be,Ue){var rt=vr(r,be);Lo(a,ji(rt))&&(ge=Fo(i,ge,rt,Ue,y,M,V))}),h.foreach(function(be,Ue){var rt=vr(r,be);Lo(a,ji(rt))||(ge=Fo(i,ge,rt,Ue,y,M,V))}),ge}(i,a,Ue.path,Ue.children,h,y,M):((0,e.assert)(Ue.source.fromServer,"Unknown source."),ge=Ue.source.tagged||a.serverCache.isFiltered(),V=us(i,a,Ue.path,Ue.children,h,y,ge,M))}else if(r.type===Lt.ACK_USER_WRITE){var rt=r;V=rt.revert?function fs(i,a,r,h,y,M){var V;if(null!=ue(h,r))return a;var ge=new $i(h,a,y),be=a.eventCache.getNode(),Ue=void 0;if(Ki(r)||".priority"===ji(r)){var rt=void 0;if(a.serverCache.isFullyInitialized())rt=K(h,Vo(a));else{var tn=a.serverCache.getNode();(0,e.assert)(tn instanceof Fe,"serverChildren would be complete if leaf node"),rt=H(h,tn)}Ue=i.filter.updateFullNode(be,rt=rt,M)}else{var dn=ji(r),Rn=Je(h,dn,a.serverCache);null==Rn&&a.serverCache.isCompleteForChild(dn)&&(Rn=be.getImmediateChild(dn)),(Ue=null!=Rn?i.filter.updateChild(be,dn,Rn,qi(r),ge,M):a.eventCache.getNode().hasChild(dn)?i.filter.updateChild(be,dn,Fe.EMPTY_NODE,qi(r),ge,M):be).isEmpty()&&a.serverCache.isFullyInitialized()&&(V=K(h,Vo(a))).isLeafNode()&&(Ue=i.filter.updateFullNode(Ue,V,M))}return V=a.serverCache.isFullyInitialized()||null!=ue(h,_i()),Sr(a,Ue,V,i.filter.filtersNodes())}(i,a,rt.path,h,y,M):function Fa(i,a,r,h,y,M,V){if(null!=ue(y,r))return a;var ge=a.serverCache.isFiltered(),be=a.serverCache;if(null!=h.value){if(Ki(r)&&be.isFullyInitialized()||be.isCompleteForPath(r))return Ea(i,a,r,be.getNode().getChild(r),y,M,ge,V);if(Ki(r)){var Ue=new Ho(null);return be.getNode().forEachChild(os,function(tn,dn){Ue=Ue.set(new mi(tn),dn)}),us(i,a,r,Ue,y,M,ge,V)}return a}var rt=new Ho(null);return h.foreach(function(tn,dn){var Rn=vr(r,tn);be.isCompleteForPath(Rn)&&(rt=rt.set(tn,be.getNode().getChild(Rn)))}),us(i,a,r,rt,y,M,ge,V)}(i,a,rt.path,rt.affectedTree,h,y,M)}else{if(r.type!==Lt.LISTEN_COMPLETE)throw(0,e.assertionError)("Unknown operation type: "+r.type);V=function hl(i,a,r,h,y){var M=a.serverCache;return xl(i,xo(a,M.getNode(),M.isFullyInitialized()||Ki(r),M.isFiltered()),r,h,Mr,y)}(i,a,r.path,h,M)}var tn=M.getChanges();return function el(i,a,r){var h=a.eventCache;if(h.isFullyInitialized()){var y=h.getNode().isLeafNode()||h.getNode().isEmpty(),M=ro(i);(r.length>0||!i.eventCache.isFullyInitialized()||y&&!h.getNode().equals(M)||!h.getNode().getPriority().equals(M.getPriority()))&&r.push(re(ro(a)))}}(a,V,tn),{viewCache:V,changes:tn}}(i.processor_,y,a,r,h);return function Qr(i,a){(0,e.assert)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,e.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,M.viewCache),(0,e.assert)(M.viewCache.serverCache.isFullyInitialized()||!y.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=M.viewCache,na(i,M.changes,M.viewCache.eventCache.getNode(),null)}function na(i,a,r,h){return function io(i,a,r,h){var y=[],M=[];return a.forEach(function(V){"child_changed"===V.type&&i.index_.indexedValueChanged(V.oldSnap,V.snapshotNode)&&M.push(function Ti(i,a){return{type:"child_moved",snapshotNode:a,childName:i}}(V.childName,V.snapshotNode))}),Ro(i,y,"child_removed",a,h,r),Ro(i,y,"child_added",a,h,r),Ro(i,y,"child_moved",M,h,r),Ro(i,y,"child_changed",a,h,r),Ro(i,y,"value",a,h,r),y}(i.eventGenerator_,a,r,h?[h]:i.eventRegistrations_)}var Sl,fl,vc=function i(){this.views=new Map};function Bu(i,a,r,h){var y,M,V=a.source.queryId;if(null!==V){var ge=i.views.get(V);return(0,e.assert)(null!=ge,"SyncTree gave us an op for an invalid query."),ys(ge,a,r,h)}var be=[];try{for(var Ue=(0,ee.__values)(i.views.values()),rt=Ue.next();!rt.done;rt=Ue.next())be=be.concat(ys(ge=rt.value,a,r,h))}catch(tn){y={error:tn}}finally{try{rt&&!rt.done&&(M=Ue.return)&&M.call(Ue)}finally{if(y)throw y.error}}return be}function Os(i,a,r,h,y){var V=i.views.get(a._queryIdentifier);if(!V){var ge=K(r,y?h:null),be=!1;ge?be=!0:h instanceof Fe?(ge=H(r,h),be=!1):(ge=Fe.EMPTY_NODE,be=!1);var Ue=Pr(new Gi(ge,be,!1),new Gi(h,y,!1));return new tl(a,Ue)}return V}function ql(i){var a,r,h=[];try{for(var y=(0,ee.__values)(i.views.values()),M=y.next();!M.done;M=y.next()){var V=M.value;V.query._queryParams.loadsAllData()||h.push(V)}}catch(ge){a={error:ge}}finally{try{M&&!M.done&&(r=y.return)&&r.call(y)}finally{if(a)throw a.error}}return h}function ca(i,a){var r,h,y=null;try{for(var M=(0,ee.__values)(i.views.values()),V=M.next();!V.done;V=M.next())y=y||Qc(V.value,a)}catch(be){r={error:be}}finally{try{V&&!V.done&&(h=M.return)&&h.call(M)}finally{if(r)throw r.error}}return y}function Jc(i,a){return a._queryParams.loadsAllData()?ks(i):i.views.get(a._queryIdentifier)}function Xc(i,a){return null!=Jc(i,a)}function zo(i){return null!=ks(i)}function ks(i){var a,r;try{for(var h=(0,ee.__values)(i.views.values()),y=h.next();!y.done;y=h.next()){var M=y.value;if(M.query._queryParams.loadsAllData())return M}}catch(V){a={error:V}}finally{try{y&&!y.done&&(r=h.return)&&r.call(h)}finally{if(a)throw a.error}}return null}var Vc=1,Kl=function i(a){this.listenProvider_=a,this.syncPointTree_=new Ho(null),this.pendingWriteTree_=function Xa(){return{visibleWrites:eo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function gl(i,a,r,h,y){return function Cn(i,a,r,h,y){(0,e.assert)(h>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===y&&(y=!0),i.allWrites.push({path:a,snap:r,writeId:h,visible:y}),y&&(i.visibleWrites=Xo(i.visibleWrites,a,r)),i.lastWriteId=h}(i.pendingWriteTree_,a,r,h,y),y?ia(i,new Rr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},a,r)):[]}function Il(i,a,r){void 0===r&&(r=!1);var h=function Ri(i,a){for(var r=0;r<i.allWrites.length;r++){var h=i.allWrites[r];if(h.writeId===a)return h}return null}(i.pendingWriteTree_,a);if(function Cr(i,a){var r=i.allWrites.findIndex(function(Ue){return Ue.writeId===a});(0,e.assert)(r>=0,"removeWrite called with nonexistent writeId.");var h=i.allWrites[r];i.allWrites.splice(r,1);for(var y=h.visible,M=!1,V=i.allWrites.length-1;y&&V>=0;){var ge=i.allWrites[V];ge.visible&&(V>=r&&Br(ge,h.path)?y=!1:wo(h.path,ge.path)&&(M=!0)),V--}return!!y&&(M?(function co(i){i.visibleWrites=xs(i.allWrites,Mo,_i()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(h.snap?i.visibleWrites=Fi(i.visibleWrites,h.path):bn(h.children,function(Ue){i.visibleWrites=Fi(i.visibleWrites,vr(h.path,Ue))}),!0))}(i.pendingWriteTree_,a)){var M=new Ho(null);return null!=h.snap?M=M.set(_i(),!0):bn(h.children,function(V){M=M.set(new mi(V),!0)}),ia(i,new Ai(h.path,M,r))}return[]}function ml(i,a,r){return ia(i,new Rr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a,r))}function eu(i,a,r,h){var y=a._path,M=i.syncPointTree_.get(y),V=[];if(M&&("default"===a._queryIdentifier||Xc(M,a))){var ge=function Go(i,a,r,h){var y,M,V=a._queryIdentifier,ge=[],be=[],Ue=zo(i);if("default"===V)try{for(var rt=(0,ee.__values)(i.views.entries()),tn=rt.next();!tn.done;tn=rt.next()){var ri,dn=(0,ee.__read)(tn.value,2),Rn=dn[0];be=be.concat(Bc(ri=dn[1],r,h)),La(ri)&&(i.views.delete(Rn),ri.query._queryParams.loadsAllData()||ge.push(ri.query))}}catch(ci){y={error:ci}}finally{try{tn&&!tn.done&&(M=rt.return)&&M.call(rt)}finally{if(y)throw y.error}}else(ri=i.views.get(V))&&(be=be.concat(Bc(ri,r,h)),La(ri)&&(i.views.delete(V),ri.query._queryParams.loadsAllData()||ge.push(ri.query)));return Ue&&!zo(i)&&ge.push(new(function td(){return(0,e.assert)(Sl,"Reference.ts has not been loaded"),Sl}())(a._repo,a._path)),{removed:ge,events:be}}(M,a,r,h);(function Lu(i){return 0===i.views.size})(M)&&(i.syncPointTree_=i.syncPointTree_.remove(y));var be=ge.removed;V=ge.events;var Ue=-1!==be.findIndex(function(ir){return ir._queryParams.loadsAllData()}),rt=i.syncPointTree_.findOnPath(y,function(ir,yo){return zo(yo)});if(Ue&&!rt){var tn=i.syncPointTree_.subtree(y);if(!tn.isEmpty())for(var dn=function wu(i){return i.fold(function(a,r,h){if(r&&zo(r))return[ks(r)];var M=[];return r&&(M=ql(r)),bn(h,function(V,ge){M=M.concat(ge)}),M})}(tn),Rn=0;Rn<dn.length;++Rn){var ri=dn[Rn],ci=ri.query,wi=ec(i,ri);i.listenProvider_.startListening(vl(ci),bc(i,ci),wi.hashFn,wi.onComplete)}}!rt&&be.length>0&&!h&&(Ue?i.listenProvider_.stopListening(vl(a),null):be.forEach(function(ir){var yo=i.queryToTagMap.get(xa(ir));i.listenProvider_.stopListening(vl(ir),yo)})),function il(i,a){for(var r=0;r<a.length;++r){var h=a[r];if(!h._queryParams.loadsAllData()){var y=xa(h),M=i.queryToTagMap.get(y);i.queryToTagMap.delete(y),i.tagToQueryMap.delete(M)}}}(i,be)}return V}function Uu(i,a,r){var h=a._path,y=null,M=!1;i.syncPointTree_.foreachOnPath(h,function(ci,wi){var Ni=zr(ci,h);y=y||ca(wi,Ni),M=M||zo(wi)});var ge,V=i.syncPointTree_.get(h);V?(M=M||zo(V),y=y||ca(V,_i())):(V=new vc,i.syncPointTree_=i.syncPointTree_.set(h,V)),null!=y?ge=!0:(ge=!1,y=Fe.EMPTY_NODE,i.syncPointTree_.subtree(h).foreachChild(function(ci,wi){var Ni=ca(wi,_i());Ni&&(y=y.updateImmediateChild(ci,Ni))}));var Ue=Xc(V,a);if(!Ue&&!a._queryParams.loadsAllData()){var rt=xa(a);(0,e.assert)(!i.queryToTagMap.has(rt),"View does not exist, but we have a tag");var tn=function Ol(){return Vc++}();i.queryToTagMap.set(rt,tn),i.tagToQueryMap.set(tn,rt)}var Rn=function Uc(i,a,r,h,y,M){var V=Os(i,a,h,y,M);return i.views.has(a._queryIdentifier)||i.views.set(a._queryIdentifier,V),function Ta(i,a){i.eventRegistrations_.push(a)}(V,r),function uo(i,a){var r=i.viewCache_.eventCache,h=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Tr,function(M,V){h.push(Y(M,V))}),r.isFullyInitialized()&&h.push(re(r.getNode())),na(i,h,r.getNode(),a)}(V,r)}(V,a,r,kt(i.pendingWriteTree_,h),y,ge);if(!Ue&&!M){var ri=Jc(V,a);Rn=Rn.concat(function kl(i,a,r){var h=a._path,y=bc(i,a),M=ec(i,r),V=i.listenProvider_.startListening(vl(a),y,M.hashFn,M.onComplete),ge=i.syncPointTree_.subtree(h);if(y)(0,e.assert)(!zo(ge.value),"If we're adding a query, it shouldn't be shadowed");else for(var be=ge.fold(function(tn,dn,Rn){if(!Ki(tn)&&dn&&zo(dn))return[ks(dn).query];var ri=[];return dn&&(ri=ri.concat(ql(dn).map(function(ci){return ci.query}))),bn(Rn,function(ci,wi){ri=ri.concat(wi)}),ri}),Ue=0;Ue<be.length;++Ue){var rt=be[Ue];i.listenProvider_.stopListening(vl(rt),bc(i,rt))}return V}(i,a,ri))}return Rn}function Xl(i,a,r){var y=i.pendingWriteTree_,M=i.syncPointTree_.findOnPath(a,function(V,ge){var Ue=ca(ge,zr(V,a));if(Ue)return Ue});return Zs(y,a,M,r,!0)}function ia(i,a){return Gs(a,i.syncPointTree_,null,kt(i.pendingWriteTree_,_i()))}function Gs(i,a,r,h){if(Ki(i.path))return _l(i,a,r,h);var y=a.get(_i());null==r&&null!=y&&(r=ca(y,_i()));var M=[],V=ji(i.path),ge=i.operationForChild(V),be=a.children.get(V);if(be&&ge){var Ue=r?r.getImmediateChild(V):null,rt=It(h,V);M=M.concat(Gs(ge,be,Ue,rt))}return y&&(M=M.concat(Bu(y,i,h,r))),M}function _l(i,a,r,h){var y=a.get(_i());null==r&&null!=y&&(r=ca(y,_i()));var M=[];return a.children.inorderTraversal(function(V,ge){var be=r?r.getImmediateChild(V):null,Ue=It(h,V),rt=i.operationForChild(V);rt&&(M=M.concat(_l(rt,ge,be,Ue)))}),y&&(M=M.concat(Bu(y,i,h,r))),M}function ec(i,a){var r=a.query,h=bc(i,r);return{hashFn:function(){var y=function nl(i){return i.viewCache_.serverCache.getNode()}(a)||Fe.EMPTY_NODE;return y.hash()},onComplete:function(y){if("ok"===y)return h?function Jl(i,a,r){var h=es(i,r);if(h){var y=pa(h),M=y.path,V=y.queryId,ge=zr(M,a);return Rl(i,M,new cr(xi(V),ge))}return[]}(i,r._path,h):function Ql(i,a){return ia(i,new cr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a))}(i,r._path);var M=function Ht(i,a){var r="Unknown Error";"too_big"===i?r="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?r="Client doesn't have permission to access the desired data.":"unavailable"===i&&(r="The service is unavailable");var h=new Error(i+" at "+a._path.toString()+": "+r);return h.code=i.toUpperCase(),h}(y,r);return eu(i,r,null,M)}}}function bc(i,a){var r=xa(a);return i.queryToTagMap.get(r)}function xa(i){return i._path.toString()+"$"+i._queryIdentifier}function es(i,a){return i.tagToQueryMap.get(a)}function pa(i){var a=i.indexOf("$");return(0,e.assert)(-1!==a&&a<i.length-1,"Bad queryKey."),{queryId:i.substr(a+1),path:new mi(i.substr(0,a))}}function Rl(i,a,r){var h=i.syncPointTree_.get(a);return(0,e.assert)(h,"Missing sync point for query tag that we're tracking"),Bu(h,r,kt(i.pendingWriteTree_,a),null)}function vl(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(function Al(){return(0,e.assert)(fl,"Reference.ts has not been loaded"),fl}())(i._repo,i._path):i}var ja=function(){function i(a){this.node_=a}return i.prototype.getImmediateChild=function(a){return new i(this.node_.getImmediateChild(a))},i.prototype.node=function(){return this.node_},i}(),ua=function(){function i(a,r){this.syncTree_=a,this.path_=r}return i.prototype.getImmediateChild=function(a){var r=vr(this.path_,a);return new i(this.syncTree_,r)},i.prototype.node=function(){return Xl(this.syncTree_,this.path_)},i}(),wc=function(i,a,r){return i&&"object"==typeof i?((0,e.assert)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?Cu(i[".sv"],a,r):"object"==typeof i[".sv"]?Hc(i[".sv"],a):void(0,e.assert)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},Cu=function(i,a,r){if("timestamp"===i)return r.timestamp;(0,e.assert)(!1,"Unexpected server value: "+i)},Hc=function(i,a,r){i.hasOwnProperty("increment")||(0,e.assert)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));var h=i.increment;"number"!=typeof h&&(0,e.assert)(!1,"Unexpected increment value: "+h);var y=a.node();if((0,e.assert)(null!=y,"Expected ChildrenNode.EMPTY_NODE for nulls"),!y.isLeafNode())return h;var V=y.getValue();return"number"!=typeof V?h:V+h},Nl=function(i,a,r,h){return Ma(a,new ua(r,i),h)},yl=function(i,a,r){return Ma(i,new ja(a),r)};function Ma(i,a,r){var M,h=i.getPriority().val(),y=wc(h,a.getImmediateChild(".priority"),r);if(i.isLeafNode()){var V=i,ge=wc(V.getValue(),a,r);return ge!==V.getValue()||y!==V.getPriority().val()?new yr(ge,Tn(y)):i}var be=i;return M=be,y!==be.getPriority().val()&&(M=M.updatePriority(new yr(y))),be.forEachChild(Tr,function(Ue,rt){var tn=Ma(rt,a.getImmediateChild(Ue),r);tn!==rt&&(M=M.updateImmediateChild(Ue,tn))}),M}var ga=function i(a,r,h){void 0===a&&(a=""),void 0===r&&(r=null),void 0===h&&(h={children:{},childCount:0}),this.name=a,this.parent=r,this.node=h};function Sa(i,a){for(var r=a instanceof mi?a:new mi(a),h=i,y=ji(r);null!==y;){var M=(0,e.safeGet)(h.node.children,y)||{children:{},childCount:0};h=new ga(y,h,M),y=ji(r=qi(r))}return h}function ps(i){return i.node.value}function Ba(i,a){i.node.value=a,tc(i)}function bl(i){return i.node.childCount>0}function ma(i,a){bn(i.node.children,function(r,h){a(new ga(r,i,h))})}function Pl(i,a,r,h){r&&!h&&a(i),ma(i,function(y){Pl(y,a,!0,h)}),r&&h&&a(i)}function ra(i){return new mi(null===i.parent?i.name:ra(i.parent)+"/"+i.name)}function tc(i){null!==i.parent&&function qs(i,a,r){var h=function nu(i){return void 0===ps(i)&&!bl(i)}(r),y=(0,e.contains)(i.node.children,a);h&&y?(delete i.node.children[a],i.node.childCount--,tc(i)):!h&&!y&&(i.node.children[a]=r.node,i.node.childCount++,tc(i))}(i.parent,i.name,i)}var Fs=/[\[\].#$\/\u0000-\u001F\u007F]/,tr=/[\[\].#$\u0000-\u001F\u007F]/,oo=10485760,Cc=function(i){return"string"==typeof i&&0!==i.length&&!Fs.test(i)},wl=function(i){return"string"==typeof i&&0!==i.length&&!tr.test(i)},rl=function(i){return null===i||"string"==typeof i||"number"==typeof i&&!Ze(i)||i&&"object"==typeof i&&(0,e.contains)(i,".sv")},Ga=function(i,a,r,h){h&&void 0===a||Aa((0,e.errorPrefix)(i,"value"),a,r)},Aa=function(i,a,r){var h=r instanceof mi?new ms(r,i):r;if(void 0===a)throw new Error(i+"contains undefined "+Vr(h));if("function"==typeof a)throw new Error(i+"contains a function "+Vr(h)+" with contents = "+a.toString());if(Ze(a))throw new Error(i+"contains "+a.toString()+" "+Vr(h));if("string"==typeof a&&a.length>oo/3&&(0,e.stringLength)(a)>oo)throw new Error(i+"contains a string greater than "+oo+" utf8 bytes "+Vr(h)+" ('"+a.substring(0,50)+"...')");if(a&&"object"==typeof a){var y=!1,M=!1;if(bn(a,function(V,ge){if(".value"===V)y=!0;else if(".priority"!==V&&".sv"!==V&&(M=!0,!Cc(V)))throw new Error(i+" contains an invalid key ("+V+") "+Vr(h)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function _s(i,a){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(a),i.byteLength_+=(0,e.stringLength)(a),js(i)})(h,V),Aa(i,ge,h),function Jr(i){var a=i.parts_.pop();i.byteLength_-=(0,e.stringLength)(a),i.parts_.length>0&&(i.byteLength_-=1)}(h)}),y&&M)throw new Error(i+' contains ".value" child '+Vr(h)+" in addition to actual children.")}},oa=function(i,a,r,h){if(!h||void 0!==a){var y=(0,e.errorPrefix)(i,"values");if(!a||"object"!=typeof a||Array.isArray(a))throw new Error(y+" must be an object containing the children to replace.");var M=[];bn(a,function(V,ge){var be=new mi(V);if(Aa(y,ge,vr(r,be)),".priority"===fr(be)&&!rl(ge))throw new Error(y+"contains an invalid value for '"+be.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");M.push(be)}),function(i,a){var r,h;for(r=0;r<a.length;r++)for(var y=$o(h=a[r]),M=0;M<y.length;M++)if((".priority"!==y[M]||M!==y.length-1)&&!Cc(y[M]))throw new Error(i+"contains an invalid key ("+y[M]+") in path "+h.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');a.sort(Fr);var V=null;for(r=0;r<a.length;r++){if(h=a[r],null!==V&&wo(V,h))throw new Error(i+"contains a path "+V.toString()+" that is ancestor of another path "+h.toString());V=h}}(y,M)}},Dc=function(i,a,r){if(!r||void 0!==a){if(Ze(a))throw new Error((0,e.errorPrefix)(i,"priority")+"is "+a.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!rl(a))throw new Error((0,e.errorPrefix)(i,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ll=function(i,a,r){if(!r||void 0!==a)switch(a){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,e.errorPrefix)(i,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},_a=function(i,a,r,h){if(!(h&&void 0===r||Cc(r)))throw new Error((0,e.errorPrefix)(i,a)+'was an invalid key = "'+r+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},jc=function(i,a,r,h){if(!(h&&void 0===r||wl(r)))throw new Error((0,e.errorPrefix)(i,a)+'was an invalid path = "'+r+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ds=function(i,a){if(".info"===ji(a))throw new Error(i+" failed = Can't modify data under /.info/")},Gc=function(i,a){var r=a.path.toString();if("string"!=typeof a.repoInfo.host||0===a.repoInfo.host.length||!Cc(a.repoInfo.namespace)&&"localhost"!==a.repoInfo.host.split(":")[0]||0!==r.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),wl(i)}(r))throw new Error((0,e.errorPrefix)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},zc=function(i,a,r,h){if((!h||void 0!==r)&&"boolean"!=typeof r)throw new Error((0,e.errorPrefix)(i,a)+"must be a boolean.")},ru=function i(){this.eventLists_=[],this.recursionDepth_=0};function Ks(i,a){for(var r=null,h=0;h<a.length;h++){var y=a[h],M=y.getPath();null!==r&&!Xi(M,r.path)&&(i.eventLists_.push(r),r=null),null===r&&(r={events:[],path:M}),r.events.push(y)}r&&i.eventLists_.push(r)}function za(i,a,r){Ks(i,r),nc(i,function(h){return Xi(h,a)})}function Qs(i,a,r){Ks(i,r),nc(i,function(h){return wo(h,a)||wo(a,h)})}function nc(i,a){i.recursionDepth_++;for(var r=!0,h=0;h<i.eventLists_.length;h++){var y=i.eventLists_[h];y&&(a(y.path)?(Ec(i.eventLists_[h]),i.eventLists_[h]=null):r=!1)}r&&(i.eventLists_=[]),i.recursionDepth_--}function Ec(i){for(var a=0;a<i.events.length;a++){var r=i.events[a];if(null!==r){i.events[a]=null;var h=r.getEventRunner();Tt&&Pe("event: "+r.toString()),Pn(h)}}}var ic="repo_interrupt",gs=function(){function i(a,r,h,y){this.repoInfo_=a,this.forceRestClient_=r,this.authTokenProvider_=h,this.appCheckProvider_=y,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ru,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Is(),this.transactionQueueTree_=new ga,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return i.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},i}();function sa(i){var r=i.infoData_.getNode(new mi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+r}function ol(i){return function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i}({timestamp:sa(i)})}function Bl(i,a,r,h,y){i.dataUpdateCount++;var M=new mi(a);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(a,r):r;var V=[];if(y)if(h){var ge=(0,e.map)(r,function(dn){return Tn(dn)});V=function bu(i,a,r,h){var y=es(i,h);if(y){var M=pa(y),V=M.path,ge=M.queryId,be=zr(V,a),Ue=Ho.fromObject(r);return Rl(i,V,new Yi(xi(ge),be,Ue))}return[]}(i.serverSyncTree_,M,ge,y)}else{var be=Tn(r);V=function tu(i,a,r,h){var y=es(i,h);if(null!=y){var M=pa(y),V=M.path,ge=M.queryId,be=zr(V,a);return Rl(i,V,new Rr(xi(ge),be,r))}return[]}(i.serverSyncTree_,M,be,y)}else if(h){var Ue=(0,e.map)(r,function(dn){return Tn(dn)});V=function Ns(i,a,r){var h=Ho.fromObject(r);return ia(i,new Yi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a,h))}(i.serverSyncTree_,M,Ue)}else{var rt=Tn(r);V=ml(i.serverSyncTree_,M,rt)}var tn=M;V.length>0&&(tn=ll(i,M)),Qs(i.eventQueue_,tn,V)}function Tc(i,a){xc(i,"connected",a),!1===a&&function Tu(i){ac(i,"onDisconnectEvents");var a=ol(i),r=Is();Po(i.onDisconnect_,_i(),function(y,M){var V=Nl(y,M,i.serverSyncTree_,a);mr(r,y,V)});var h=[];Po(r,_i(),function(y,M){h=h.concat(ml(i.serverSyncTree_,y,M));var V=Hl(i,y);ll(i,V)}),i.onDisconnect_=Is(),Qs(i.eventQueue_,_i(),h)}(i)}function xc(i,a,r){var h=new mi("/.info/"+a),y=Tn(r);i.infoData_.updateSnapshot(h,y);var M=ml(i.infoSyncTree_,h,y);Qs(i.eventQueue_,h,M)}function Ya(i){return i.nextWriteId_++}function oc(i,a,r,h,y){ac(i,"set",{path:a.toString(),value:r,priority:h});var M=ol(i),V=Tn(r,h),ge=Xl(i.serverSyncTree_,a),be=yl(V,ge,M),Ue=Ya(i),rt=gl(i.serverSyncTree_,a,be,Ue,!0);Ks(i.eventQueue_,rt),i.server_.put(a.toString(),V.val(!0),function(dn,Rn){var ri="ok"===dn;ri||bt("set at "+a+" failed: "+dn);var ci=Il(i.serverSyncTree_,Ue,!ri);Qs(i.eventQueue_,a,ci),$a(0,y,dn,Rn)});var tn=Hl(i,a);ll(i,tn),Qs(i.eventQueue_,tn,[])}function Sc(i,a,r){i.server_.onDisconnectCancel(a.toString(),function(h,y){"ok"===h&&qo(i.onDisconnect_,a),$a(0,r,h,y)})}function Cl(i,a,r,h){var y=Tn(r);i.server_.onDisconnectPut(a.toString(),y.val(!0),function(M,V){"ok"===M&&mr(i.onDisconnect_,a,y),$a(0,h,M,V)})}function sl(i,a,r){var h;h=".info"===ji(a._path)?eu(i.infoSyncTree_,a,r):eu(i.serverSyncTree_,a,r),za(i.eventQueue_,a._path,h)}function Dl(i){i.persistentConnection_&&i.persistentConnection_.interrupt(ic)}function ac(i){for(var a=[],r=1;r<arguments.length;r++)a[r-1]=arguments[r];var h="";i.persistentConnection_&&(h=i.persistentConnection_.id+":"),Pe.apply(void 0,(0,ee.__spreadArray)([h],(0,ee.__read)(a)))}function $a(i,a,r,h){a&&Pn(function(){if("ok"===r)a(null);else{var y=(r||"error").toUpperCase(),M=y;h&&(M+=": "+h);var V=new Error(M);V.code=y,a(V)}})}function al(i,a,r){return Xl(i.serverSyncTree_,a,r)||Fe.EMPTY_NODE}function Vl(i,a){if(void 0===a&&(a=i.transactionQueueTree_),a||Wa(i,a),ps(a)){var r=xu(i,a);(0,e.assert)(r.length>0,"Sending zero length transaction queue"),r.every(function(y){return 0===y.status})&&function Vu(i,a,r){for(var h=r.map(function(dn){return dn.currentWriteId}),y=al(i,a,h),M=y,V=y.hash(),ge=0;ge<r.length;ge++){var be=r[ge];(0,e.assert)(0===be.status,"tryToSendTransactionQueue_: items in queue should all be run."),be.status=1,be.retryCount++;var Ue=zr(a,be.path);M=M.updateChild(Ue,be.currentOutputSnapshotRaw)}var rt=M.val(!0),tn=a;i.server_.put(tn.toString(),rt,function(dn){ac(i,"transaction put response",{path:tn.toString(),status:dn});var Rn=[];if("ok"===dn){for(var ri=[],ci=function(Ni){r[Ni].status=2,Rn=Rn.concat(Il(i.serverSyncTree_,r[Ni].currentWriteId)),r[Ni].onComplete&&ri.push(function(){return r[Ni].onComplete(null,!0,r[Ni].currentOutputSnapshotResolved)}),r[Ni].unwatcher()},wi=0;wi<r.length;wi++)ci(wi);for(Wa(i,Sa(i.transactionQueueTree_,a)),Vl(i,i.transactionQueueTree_),Qs(i.eventQueue_,a,Rn),wi=0;wi<ri.length;wi++)Pn(ri[wi])}else{if("datastale"===dn)for(wi=0;wi<r.length;wi++)r[wi].status=3===r[wi].status?4:0;else for(bt("transaction at "+tn.toString()+" failed: "+dn),wi=0;wi<r.length;wi++)r[wi].status=4,r[wi].abortReason=dn;ll(i,a)}},V)}(i,ra(a),r)}else bl(a)&&ma(a,function(y){Vl(i,y)})}function ll(i,a){var r=ou(i,a),h=ra(r);return function Hu(i,a,r){if(0!==a.length){for(var h=[],y=[],V=a.filter(function(Ue){return 0===Ue.status}).map(function(Ue){return Ue.currentWriteId}),ge=function(Ue){var Rn,rt=a[Ue],tn=zr(r,rt.path),dn=!1;if((0,e.assert)(null!==tn,"rerunTransactionsUnderNode_: relativePath should not be null."),4===rt.status)dn=!0,Rn=rt.abortReason,y=y.concat(Il(i.serverSyncTree_,rt.currentWriteId,!0));else if(0===rt.status)if(rt.retryCount>=25)dn=!0,Rn="maxretry",y=y.concat(Il(i.serverSyncTree_,rt.currentWriteId,!0));else{var ri=al(i,rt.path,V);rt.currentInputSnapshot=ri;var ci=a[Ue].update(ri.val());if(void 0!==ci){Aa("transaction failed: Data returned ",ci,rt.path);var wi=Tn(ci);"object"==typeof ci&&null!=ci&&(0,e.contains)(ci,".priority")||(wi=wi.updatePriority(ri.getPriority()));var ir=rt.currentWriteId,yo=ol(i),Ao=yl(wi,ri,yo);rt.currentOutputSnapshotRaw=wi,rt.currentOutputSnapshotResolved=Ao,rt.currentWriteId=Ya(i),V.splice(V.indexOf(ir),1),y=(y=y.concat(gl(i.serverSyncTree_,rt.path,Ao,rt.currentWriteId,rt.applyLocally))).concat(Il(i.serverSyncTree_,ir,!0))}else dn=!0,Rn="nodata",y=y.concat(Il(i.serverSyncTree_,rt.currentWriteId,!0))}Qs(i.eventQueue_,r,y),y=[],dn&&(a[Ue].status=2,setTimeout(a[Ue].unwatcher,Math.floor(0)),a[Ue].onComplete&&h.push("nodata"===Rn?function(){return a[Ue].onComplete(null,!1,a[Ue].currentInputSnapshot)}:function(){return a[Ue].onComplete(new Error(Rn),!1,null)}))},be=0;be<a.length;be++)ge(be);for(Wa(i,i.transactionQueueTree_),be=0;be<h.length;be++)Pn(h[be]);Vl(i,i.transactionQueueTree_)}}(i,xu(i,r),h),h}function ou(i,a){var r,h=i.transactionQueueTree_;for(r=ji(a);null!==r&&void 0===ps(h);)h=Sa(h,r),r=ji(a=qi(a));return h}function xu(i,a){var r=[];return su(i,a,r),r.sort(function(h,y){return h.order-y.order}),r}function su(i,a,r){var h=ps(a);if(h)for(var y=0;y<h.length;y++)r.push(h[y]);ma(a,function(M){su(i,M,r)})}function Wa(i,a){var r=ps(a);if(r){for(var h=0,y=0;y<r.length;y++)2!==r[y].status&&(r[h]=r[y],h++);r.length=h,Ba(a,r.length>0?r:void 0)}ma(a,function(M){Wa(i,M)})}function Hl(i,a){var r=ra(ou(i,a)),h=Sa(i.transactionQueueTree_,a);return function Fl(i,a,r){for(var h=r?i:i.parent;null!==h;){if(a(h))return!0;h=h.parent}}(h,function(y){$c(i,y)}),$c(i,h),Pl(h,function(y){$c(i,y)}),r}function $c(i,a){var r=ps(a);if(r){for(var h=[],y=[],M=-1,V=0;V<r.length;V++)3===r[V].status||(1===r[V].status?((0,e.assert)(M===V-1,"All SENT items should be at beginning of queue."),M=V,r[V].status=3,r[V].abortReason="set"):((0,e.assert)(0===r[V].status,"Unexpected transaction status in abort"),r[V].unwatcher(),y=y.concat(Il(i.serverSyncTree_,r[V].currentWriteId,!0)),r[V].onComplete&&h.push(r[V].onComplete.bind(null,new Error("set"),!1,null))));for(-1===M?Ba(a,void 0):r.length=M+1,Qs(i.eventQueue_,ra(a),y),V=0;V<h.length;V++)Pn(h[V])}}var Zo=function(i,a){var r=jl(i),h=r.namespace;return"firebase.com"===r.domain&&Mt(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!h||"undefined"===h)&&"localhost"!==r.domain&&Mt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&bt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new nn(r.host,r.secure,h,a,"ws"===r.scheme||"wss"===r.scheme,"",h!==r.subdomain),path:new mi(r.pathString)}},jl=function(i){var a="",r="",h="",y="",M="",V=!0,ge="https",be=443;if("string"==typeof i){var Ue=i.indexOf("//");Ue>=0&&(ge=i.substring(0,Ue-1),i=i.substring(Ue+2));var rt=i.indexOf("/");-1===rt&&(rt=i.length);var tn=i.indexOf("?");-1===tn&&(tn=i.length),a=i.substring(0,Math.min(rt,tn)),rt<tn&&(y=function Ic(i){for(var a="",r=i.split("/"),h=0;h<r.length;h++)if(r[h].length>0){var y=r[h];try{y=decodeURIComponent(y.replace(/\+/g," "))}catch(M){}a+="/"+y}return a}(i.substring(rt,tn)));var dn=function cc(i){var a,r,h={};"?"===i.charAt(0)&&(i=i.substring(1));try{for(var y=(0,ee.__values)(i.split("&")),M=y.next();!M.done;M=y.next()){var V=M.value;if(0!==V.length){var ge=V.split("=");2===ge.length?h[decodeURIComponent(ge[0])]=decodeURIComponent(ge[1]):bt("Invalid query segment '"+V+"' in query '"+i+"'")}}}catch(be){a={error:be}}finally{try{M&&!M.done&&(r=y.return)&&r.call(y)}finally{if(a)throw a.error}}return h}(i.substring(Math.min(i.length,tn)));(Ue=a.indexOf(":"))>=0?(V="https"===ge||"wss"===ge,be=parseInt(a.substring(Ue+1),10)):Ue=a.length;var Rn=a.slice(0,Ue);if("localhost"===Rn.toLowerCase())r="localhost";else if(Rn.split(".").length<=2)r=Rn;else{var ri=a.indexOf(".");h=a.substring(0,ri).toLowerCase(),r=a.substring(ri+1),M=h}"ns"in dn&&(M=dn.ns)}return{host:a,port:be,domain:r,subdomain:h,secure:V,scheme:ge,pathString:y,namespace:M}},Wc=function(){function i(a,r,h,y){this.eventType=a,this.eventRegistration=r,this.snapshot=h,this.prevName=y}return i.prototype.getPath=function(){var a=this.snapshot.ref;return"value"===this.eventType?a._path:a.parent._path},i.prototype.getEventType=function(){return this.eventType},i.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},i.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,e.stringify)(this.snapshot.exportVal())},i}(),ya=function(){function i(a,r,h){this.eventRegistration=a,this.error=r,this.path=h}return i.prototype.getPath=function(){return this.path},i.prototype.getEventType=function(){return"cancel"},i.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},i.prototype.toString=function(){return this.path.toString()+":cancel"},i}(),Ra=function(){function i(a,r){this.snapshotCallback=a,this.cancelCallback=r}return i.prototype.onValue=function(a,r){this.snapshotCallback.call(null,a,r)},i.prototype.onCancel=function(a){return(0,e.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,a)},Object.defineProperty(i.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),i.prototype.matches=function(a){return this.snapshotCallback===a.snapshotCallback||this.snapshotCallback.userCallback===a.snapshotCallback.userCallback&&this.snapshotCallback.context===a.snapshotCallback.context},i}(),Rc=function(){function i(a,r){this._repo=a,this._path=r}return i.prototype.cancel=function(){var a=new e.Deferred;return Sc(this._repo,this._path,a.wrapCallback(function(){})),a.promise},i.prototype.remove=function(){ds("OnDisconnect.remove",this._path);var a=new e.Deferred;return Cl(this._repo,this._path,null,a.wrapCallback(function(){})),a.promise},i.prototype.set=function(a){ds("OnDisconnect.set",this._path),Ga("OnDisconnect.set",a,this._path,!1);var r=new e.Deferred;return Cl(this._repo,this._path,a,r.wrapCallback(function(){})),r.promise},i.prototype.setWithPriority=function(a,r){ds("OnDisconnect.setWithPriority",this._path),Ga("OnDisconnect.setWithPriority",a,this._path,!1),Dc("OnDisconnect.setWithPriority",r,!1);var h=new e.Deferred;return function Ul(i,a,r,h,y){var M=Tn(r,h);i.server_.onDisconnectPut(a.toString(),M.val(!0),function(V,ge){"ok"===V&&mr(i.onDisconnect_,a,M),$a(0,y,V,ge)})}(this._repo,this._path,a,r,h.wrapCallback(function(){})),h.promise},i.prototype.update=function(a){ds("OnDisconnect.update",this._path),oa("OnDisconnect.update",a,this._path,!1);var r=new e.Deferred;return function Ls(i,a,r,h){if((0,e.isEmpty)(r))return Pe("onDisconnect().update() called with empty data.  Don't do anything."),void $a(0,h,"ok",void 0);i.server_.onDisconnectMerge(a.toString(),r,function(y,M){"ok"===y&&bn(r,function(V,ge){var be=Tn(ge);mr(i.onDisconnect_,vr(a,V),be)}),$a(0,h,y,M)})}(this._repo,this._path,a,r.wrapCallback(function(){})),r.promise},i}(),Ys=function(){function i(a,r,h,y){this._repo=a,this._path=r,this._queryParams=h,this._orderByCalled=y}return Object.defineProperty(i.prototype,"key",{get:function(){return Ki(this._path)?null:fr(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ref",{get:function(){return new Za(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_queryIdentifier",{get:function(){var a=Hr(this._queryParams),r=wn(a);return"{}"===r?"default":r},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_queryObject",{get:function(){return Hr(this._queryParams)},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(a){if(!((a=(0,e.getModularInstance)(a))instanceof i))return!1;var r=this._repo===a._repo,h=Xi(this._path,a._path);return r&&h&&this._queryIdentifier===a._queryIdentifier},i.prototype.toJSON=function(){return this.toString()},i.prototype.toString=function(){return this._repo.toString()+function Yo(i){for(var a="",r=i.pieceNum_;r<i.pieces_.length;r++)""!==i.pieces_[r]&&(a+="/"+encodeURIComponent(String(i.pieces_[r])));return a||"/"}(this._path)},i}();function Oc(i,a){if(!0===i._orderByCalled)throw new Error(a+": You can't combine multiple orderBy calls.")}function ba(i){var a=null,r=null;if(i.hasStart()&&(a=i.getIndexStartValue()),i.hasEnd()&&(r=i.getIndexEndValue()),i.getIndex()===os){var h="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",y="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==Ye)throw new Error(h);if("string"!=typeof a)throw new Error(y)}if(i.hasEnd()){if(i.getIndexEndName()!==Xe)throw new Error(h);if("string"!=typeof r)throw new Error(y)}}else if(i.getIndex()===Tr){if(null!=a&&!rl(a)||null!=r&&!rl(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,e.assert)(i.getIndex()instanceof Zn||i.getIndex()===Zr,"unknown index type."),null!=a&&"object"==typeof a||null!=r&&"object"==typeof r)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Oa(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Za=function(i){function a(r,h){return i.call(this,r,h,new Ur,!1)||this}return(0,ee.__extends)(a,i),Object.defineProperty(a.prototype,"parent",{get:function(){var r=sr(this._path);return null===r?null:new a(this._repo,r)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"root",{get:function(){for(var r=this;null!==r.parent;)r=r.parent;return r},enumerable:!1,configurable:!0}),a}(Ys),Gl=function(){function i(a,r,h){this._node=a,this.ref=r,this._index=h}return Object.defineProperty(i.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),i.prototype.child=function(a){var r=new mi(a),h=Js(this.ref,a);return new i(this._node.getChild(r),h,Tr)},i.prototype.exists=function(){return!this._node.isEmpty()},i.prototype.exportVal=function(){return this._node.val(!0)},i.prototype.forEach=function(a){var r=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(y,M){return a(new i(M,Js(r.ref,y),Tr))})},i.prototype.hasChild=function(a){var r=new mi(a);return!this._node.getChild(r).isEmpty()},i.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},i.prototype.toJSON=function(){return this.exportVal()},i.prototype.val=function(){return this._node.val()},i}();function da(i,a){return(i=(0,e.getModularInstance)(i))._checkNotDeleted("ref"),void 0!==a?Js(i._root,a):i._root}function Ar(i,a){(i=(0,e.getModularInstance)(i))._checkNotDeleted("refFromURL");var r=Zo(a,i._repo.repoInfo_.nodeAdmin);Gc("refFromURL",r);var h=r.repoInfo;return!i._repo.repoInfo_.isCustomHost()&&h.host!==i._repo.repoInfo_.host&&Mt("refFromURL: Host name does not match the current database: (found "+h.host+" but expected "+i._repo.repoInfo_.host+")"),da(i,r.path.toString())}function Js(i,a){return null===ji((i=(0,e.getModularInstance)(i))._path)?(r=a,r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),jc("child","path",r,!1)):jc("child","path",a,!1),new Za(i._repo,vr(i._path,a));var r}function kc(i,a){i=(0,e.getModularInstance)(i),ds("push",i._path),Ga("push",a,i._path,!0);var V,r=sa(i._repo),h=lo(r),y=Js(i,h),M=Js(i,h);return V=null!=a?so(M,a).then(function(){return M}):Promise.resolve(M),y.then=V.then.bind(V),y.catch=V.then.bind(V,void 0),y}function uc(i){return ds("remove",i._path),so(i,null)}function so(i,a){i=(0,e.getModularInstance)(i),ds("set",i._path),Ga("set",a,i._path,!1);var r=new e.Deferred;return oc(i._repo,i._path,a,null,r.wrapCallback(function(){})),r.promise}function bs(i,a){i=(0,e.getModularInstance)(i),ds("setPriority",i._path),Dc("setPriority",a,!1);var r=new e.Deferred;return oc(i._repo,vr(i._path,".priority"),a,null,r.wrapCallback(function(){})),r.promise}function qa(i,a,r){if(ds("setWithPriority",i._path),Ga("setWithPriority",a,i._path,!1),Dc("setWithPriority",r,!1),".length"===i.key||".keys"===i.key)throw"setWithPriority failed: "+i.key+" is a read-only object.";var h=new e.Deferred;return oc(i._repo,i._path,a,r,h.wrapCallback(function(){})),h.promise}function au(i,a){oa("update",a,i._path,!1);var r=new e.Deferred;return function sc(i,a,r,h){ac(i,"update",{path:a.toString(),value:r});var y=!0,M=ol(i),V={};if(bn(r,function(Ue,rt){y=!1,V[Ue]=Nl(vr(a,Ue),Tn(rt),i.serverSyncTree_,M)}),y)Pe("update() called with empty data.  Don't do anything."),$a(0,h,"ok",void 0);else{var ge=Ya(i),be=function yu(i,a,r,h){!function ai(i,a,r,h){(0,e.assert)(h>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:a,children:r,writeId:h,visible:!0}),i.visibleWrites=ea(i.visibleWrites,a,r),i.lastWriteId=h}(i.pendingWriteTree_,a,r,h);var y=Ho.fromObject(r);return ia(i,new Yi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},a,y))}(i.serverSyncTree_,a,V,ge);Ks(i.eventQueue_,be),i.server_.merge(a.toString(),r,function(Ue,rt){var tn="ok"===Ue;tn||bt("update at "+a+" failed: "+Ue);var dn=Il(i.serverSyncTree_,ge,!tn),Rn=dn.length>0?ll(i,a):a;Qs(i.eventQueue_,Rn,dn),$a(0,h,Ue,rt)}),bn(r,function(Ue){var rt=Hl(i,vr(a,Ue));ll(i,rt)}),Qs(i.eventQueue_,a,[])}}(i._repo,i._path,a,r.wrapCallback(function(){})),r.promise}function S(i){return function Mc(i,a){var r=function Ps(i,a){var r=a._path,h=null;i.syncPointTree_.foreachOnPath(r,function(Ue,rt){var tn=zr(Ue,r);h=h||ca(rt,tn)});var y=i.syncPointTree_.get(r);y?h=h||ca(y,_i()):(y=new vc,i.syncPointTree_=i.syncPointTree_.set(r,y));var M=null!=h,V=M?new Gi(h,!0,!1):null;return function ta(i){return ro(i.viewCache_)}(Os(y,a,kt(i.pendingWriteTree_,a._path),M?V.getNode():Fe.EMPTY_NODE,M))}(i.serverSyncTree_,a);return null!=r?Promise.resolve(r):i.server_.get(a).then(function(h){var y=Tn(h).withIndex(a._queryParams.getIndex()),M=ml(i.serverSyncTree_,a._path,y);return za(i.eventQueue_,a._path,M),Promise.resolve(y)},function(h){return ac(i,"get for query "+(0,e.stringify)(a)+" failed: "+h),Promise.reject(new Error(h))})}((i=(0,e.getModularInstance)(i))._repo,i).then(function(a){return new Gl(a,new Za(i._repo,i._path),i._queryParams.getIndex())})}var k=function(){function i(a){this.callbackContext=a}return i.prototype.respondsTo=function(a){return"value"===a},i.prototype.createEvent=function(a,r){var h=r._queryParams.getIndex();return new Wc("value",this,new Gl(a.snapshotNode,new Za(r._repo,r._path),h))},i.prototype.getEventRunner=function(a){var r=this;return"cancel"===a.getEventType()?function(){return r.callbackContext.onCancel(a.error)}:function(){return r.callbackContext.onValue(a.snapshot,null)}},i.prototype.createCancelEvent=function(a,r){return this.callbackContext.hasCancelCallback?new ya(this,a,r):null},i.prototype.matches=function(a){return a instanceof i&&(!a.callbackContext||!this.callbackContext||a.callbackContext.matches(this.callbackContext))},i.prototype.hasAnyCallback=function(){return null!==this.callbackContext},i}(),O=function(){function i(a,r){this.eventType=a,this.callbackContext=r}return i.prototype.respondsTo=function(a){var r="children_added"===a?"child_added":a;return this.eventType===("children_removed"===r?"child_removed":r)},i.prototype.createCancelEvent=function(a,r){return this.callbackContext.hasCancelCallback?new ya(this,a,r):null},i.prototype.createEvent=function(a,r){(0,e.assert)(null!=a.childName,"Child events should have a childName.");var h=Js(new Za(r._repo,r._path),a.childName),y=r._queryParams.getIndex();return new Wc(a.type,this,new Gl(a.snapshotNode,h,y),a.prevName)},i.prototype.getEventRunner=function(a){var r=this;return"cancel"===a.getEventType()?function(){return r.callbackContext.onCancel(a.error)}:function(){return r.callbackContext.onValue(a.snapshot,a.prevName)}},i.prototype.matches=function(a){return a instanceof i&&this.eventType===a.eventType&&(!this.callbackContext||!a.callbackContext||this.callbackContext.matches(a.callbackContext))},i.prototype.hasAnyCallback=function(){return!!this.callbackContext},i}();function z(i,a,r,h,y){var M;if("object"==typeof h&&(M=void 0,y=h),"function"==typeof h&&(M=h),y&&y.onlyOnce){var V=r,ge=function(rt,tn){sl(i._repo,i,Ue),V(rt,tn)};ge.userCallback=r.userCallback,ge.context=r.context,r=ge}var be=new Ra(r,M||void 0),Ue="value"===a?new k(be):new O(a,be);return function Ia(i,a,r){var h;h=".info"===ji(a._path)?Uu(i.infoSyncTree_,a,r):Uu(i.serverSyncTree_,a,r),za(i.eventQueue_,a._path,h)}(i._repo,i,Ue),function(){return sl(i._repo,i,Ue)}}function ce(i,a,r,h){return z(i,"value",a,r,h)}function De(i,a,r,h){return z(i,"child_added",a,r,h)}function At(i,a,r,h){return z(i,"child_changed",a,r,h)}function $t(i,a,r,h){return z(i,"child_moved",a,r,h)}function gn(i,a,r,h){return z(i,"child_removed",a,r,h)}function Hn(i,a,r){var h=null,y=r?new Ra(r):null;"value"===a?h=new k(y):a&&(h=new O(a,y)),sl(i._repo,i,h)}var Jn=function i(){},zi=function(i){function a(r,h){var y=i.call(this)||this;return y._value=r,y._key=h,y}return(0,ee.__extends)(a,i),a.prototype._apply=function(r){Ga("endAt",this._value,r._path,!0);var h=Nr(r._queryParams,this._value,this._key);if(Oa(h),ba(h),r._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ys(r._repo,r._path,h,r._orderByCalled)},a}(Jn);function Wi(i,a){return _a("endAt","key",a,!0),new zi(i,a)}var Wr=function(i){function a(r,h){var y=i.call(this)||this;return y._value=r,y._key=h,y}return(0,ee.__extends)(a,i),a.prototype._apply=function(r){Ga("endBefore",this._value,r._path,!1);var h=function $r(i,a,r){var y;return i.index_===os?("string"==typeof a&&(a=ve(a)),y=Nr(i,a,r)):y=Nr(i,a,null==r?Ye:ve(r)),y.endBeforeSet_=!0,y}(r._queryParams,this._value,this._key);if(Oa(h),ba(h),r._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ys(r._repo,r._path,h,r._orderByCalled)},a}(Jn);function xr(i,a){return _a("endBefore","key",a,!0),new Wr(i,a)}var Do=function(i){function a(r,h){var y=i.call(this)||this;return y._value=r,y._key=h,y}return(0,ee.__extends)(a,i),a.prototype._apply=function(r){Ga("startAt",this._value,r._path,!0);var h=Qi(r._queryParams,this._value,this._key);if(Oa(h),ba(h),r._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ys(r._repo,r._path,h,r._orderByCalled)},a}(Jn);function Qo(i,a){return void 0===i&&(i=null),_a("startAt","key",a,!0),new Do(i,a)}var Bs=function(i){function a(r,h){var y=i.call(this)||this;return y._value=r,y._key=h,y}return(0,ee.__extends)(a,i),a.prototype._apply=function(r){Ga("startAfter",this._value,r._path,!1);var h=function Ts(i,a,r){var h;return i.index_===os?("string"==typeof a&&(a=No(a)),h=Qi(i,a,r)):h=Qi(i,a,null==r?Xe:No(r)),h.startAfterSet_=!0,h}(r._queryParams,this._value,this._key);if(Oa(h),ba(h),r._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ys(r._repo,r._path,h,r._orderByCalled)},a}(Jn);function ws(i,a){return _a("startAfter","key",a,!0),new Bs(i,a)}var Xs=function(i){function a(r){var h=i.call(this)||this;return h._limit=r,h}return(0,ee.__extends)(a,i),a.prototype._apply=function(r){if(r._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ys(r._repo,r._path,function Kr(i,a){var r=i.copy();return r.limitSet_=!0,r.limit_=a,r.viewFrom_="l",r}(r._queryParams,this._limit),r._orderByCalled)},a}(Jn);function ka(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Xs(i)}var Ms=function(i){function a(r){var h=i.call(this)||this;return h._limit=r,h}return(0,ee.__extends)(a,i),a.prototype._apply=function(r){if(r._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ys(r._repo,r._path,function Ha(i,a){var r=i.copy();return r.limitSet_=!0,r.limit_=a,r.viewFrom_="r",r}(r._queryParams,this._limit),r._orderByCalled)},a}(Jn);function cl(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ms(i)}var as=function(i){function a(r){var h=i.call(this)||this;return h._path=r,h}return(0,ee.__extends)(a,i),a.prototype._apply=function(r){Oc(r,"orderByChild");var h=new mi(this._path);if(Ki(h))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var y=new Zn(h),M=Bo(r._queryParams,y);return ba(M),new Ys(r._repo,r._path,M,!0)},a}(Jn);function Ua(i){if("$key"===i)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===i)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===i)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return jc("orderByChild","path",i,!1),new as(i)}var El=function(i){function a(){return null!==i&&i.apply(this,arguments)||this}return(0,ee.__extends)(a,i),a.prototype._apply=function(r){Oc(r,"orderByKey");var h=Bo(r._queryParams,os);return ba(h),new Ys(r._repo,r._path,h,!0)},a}(Jn);function lu(){return new El}var dc=function(i){function a(){return null!==i&&i.apply(this,arguments)||this}return(0,ee.__extends)(a,i),a.prototype._apply=function(r){Oc(r,"orderByPriority");var h=Bo(r._queryParams,Tr);return ba(h),new Ys(r._repo,r._path,h,!0)},a}(Jn);function ju(){return new dc}var Zc=function(i){function a(){return null!==i&&i.apply(this,arguments)||this}return(0,ee.__extends)(a,i),a.prototype._apply=function(r){Oc(r,"orderByValue");var h=Bo(r._queryParams,Zr);return ba(h),new Ys(r._repo,r._path,h,!0)},a}(Jn);function ul(){return new Zc}var Gu=function(i){function a(r,h){var y=i.call(this)||this;return y._value=r,y._key=h,y}return(0,ee.__extends)(a,i),a.prototype._apply=function(r){if(Ga("equalTo",this._value,r._path,!1),r._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(r._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new zi(this._value,this._key)._apply(new Do(this._value,this._key)._apply(r))},a}(Jn);function id(i,a){return _a("equalTo","key",a,!0),new Gu(i,a)}function aa(i){for(var a,r,h=[],y=1;y<arguments.length;y++)h[y-1]=arguments[y];var M=(0,e.getModularInstance)(i);try{for(var V=(0,ee.__values)(h),ge=V.next();!ge.done;ge=V.next()){var be=ge.value;M=be._apply(M)}}catch(Ue){a={error:Ue}}finally{try{ge&&!ge.done&&(r=V.return)&&r.call(V)}finally{if(a)throw a.error}}return M}(function yc(i){(0,e.assert)(!Sl,"__referenceConstructor has already been defined"),Sl=i})(Za),function pl(i){(0,e.assert)(!fl,"__referenceConstructor has already been defined"),fl=i}(Za);var wa={},hc=!1;function Mu(i,a,r,h,y){var M=h||i.options.databaseURL;void 0===M&&(i.options.projectId||Mt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pe("Using default host for project ",i.options.projectId),M=i.options.projectId+"-default-rtdb.firebaseio.com");var be,V=Zo(M,y),ge=V.repoInfo,Ue=void 0;"undefined"!=typeof process&&(Ue=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Ue?(be=!0,ge=(V=Zo(M="http://"+Ue+"?ns="+ge.namespace,y)).repoInfo):be=!V.repoInfo.secure;var rt=y&&be?new $n($n.OWNER):new Gn(i.name,i.options,a);Gc("Invalid Firebase Database URL",V),Ki(V.path)||Mt("Database URL must point to the root of a Firebase Database (not including a child path).");var tn=function dl(i,a,r,h){var y=wa[a.name];y||(wa[a.name]=y={});var M=y[i.toURLString()];return M&&Mt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),M=new gs(i,hc,r,h),y[i.toURLString()]=M,M}(ge,i,rt,new cn(i.name,r));return new hu(tn,i)}var hu=function(){function i(a,r){this._repoInternal=a,this.app=r,this.type="database",this._instanceStarted=!1}return Object.defineProperty(i.prototype,"_repo",{get:function(){return this._instanceStarted||(function Co(i,a,r){if(i.stats_=Bi(i.repoInfo_),i.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)i.server_=new Ws(i.repoInfo_,function(h,y,M,V){Bl(i,h,y,M,V)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(function(){return Tc(i,!0)},0);else{if(null!=r){if("object"!=typeof r)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,e.stringify)(r)}catch(h){throw new Error("Invalid authOverride provided: "+h)}}i.persistentConnection_=new Uo(i.repoInfo_,a,function(h,y,M,V){Bl(i,h,y,M,V)},function(h){Tc(i,h)},function(h){!function Yc(i,a){bn(a,function(r,h){xc(i,r,h)})}(i,h)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(function(h){i.server_.refreshAuthToken(h)}),i.appCheckProvider_.addTokenChangeListener(function(h){i.server_.refreshAppCheckToken(h.token)}),i.statsReporter_=function vi(i,a){var r=i.toString();return hi[r]||(hi[r]=a()),hi[r]}(i.repoInfo_,function(){return new _t(i.stats_,i.server_)}),i.infoData_=new hs,i.infoSyncTree_=new Kl({startListening:function(h,y,M,V){var ge=[],be=i.infoData_.getNode(h._path);return be.isEmpty()||(ge=ml(i.infoSyncTree_,h._path,be),setTimeout(function(){V("ok")},0)),ge},stopListening:function(){}}),xc(i,"connected",!1),i.serverSyncTree_=new Kl({startListening:function(h,y,M,V){return i.server_.listen(h,M,y,function(ge,be){var Ue=V(ge,be);Qs(i.eventQueue_,h._path,Ue)}),[]},stopListening:function(h,y){i.server_.unlisten(h,y)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Za(this._repo,_i())),this._rootInternal},enumerable:!1,configurable:!0}),i.prototype._delete=function(){return null!==this._rootInternal&&(function uu(i,a){var r=wa[a];(!r||r[i.key]!==i)&&Mt("Database "+a+"("+i.repoInfo_+") has already been deleted."),Dl(i),delete r[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},i.prototype._checkNotDeleted=function(a){null===this._rootInternal&&Mt("Cannot call "+a+" on a deleted database.")},i}();function Su(i){(i=(0,e.getModularInstance)(i))._checkNotDeleted("goOffline"),Dl(i._repo)}function qc(i){(i=(0,e.getModularInstance)(i))._checkNotDeleted("goOnline"),function zs(i){i.persistentConnection_&&i.persistentConnection_.resume(ic)}(i._repo)}var Nc={".sv":"timestamp"},od=function(){function i(a,r){this.committed=a,this.snapshot=r}return i.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},i}();function gd(i,a,r){var h;if(i=(0,e.getModularInstance)(i),ds("Reference.transaction",i._path),".length"===i.key||".keys"===i.key)throw"Reference.transaction failed: "+i.key+" is a read-only object.";var y=null===(h=null==r?void 0:r.applyLocally)||void 0===h||h,M=new e.Deferred,ge=ce(i,function(){});return function lc(i,a,r,h,y,M){ac(i,"transaction on "+a);var V={path:a,update:r,onComplete:h,status:null,order:dt(),applyLocally:M,retryCount:0,unwatcher:y,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},ge=al(i,a,void 0);V.currentInputSnapshot=ge;var be=V.update(ge.val());if(void 0===be)V.unwatcher(),V.currentOutputSnapshotRaw=null,V.currentOutputSnapshotResolved=null,V.onComplete&&V.onComplete(null,!1,V.currentInputSnapshot);else{Aa("transaction failed: Data returned ",be,V.path),V.status=0;var Ue=Sa(i.transactionQueueTree_,a),rt=ps(Ue)||[];rt.push(V),Ba(Ue,rt);var tn=void 0;"object"==typeof be&&null!==be&&(0,e.contains)(be,".priority")?(tn=(0,e.safeGet)(be,".priority"),(0,e.assert)(rl(tn),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):tn=(Xl(i.serverSyncTree_,a)||Fe.EMPTY_NODE).getPriority().val();var Rn=ol(i),ri=Tn(be,tn),ci=yl(ri,ge,Rn);V.currentOutputSnapshotRaw=ri,V.currentOutputSnapshotResolved=ci,V.currentWriteId=Ya(i);var wi=gl(i.serverSyncTree_,a,ci,V.currentWriteId,V.applyLocally);Qs(i.eventQueue_,a,wi),Vl(i,i.transactionQueueTree_)}}(i._repo,i._path,a,function(be,Ue,rt){var tn=null;be?M.reject(be):(tn=new Gl(rt,new Za(i._repo,i._path),Tr),M.resolve(new od(Ue,tn)))},ge,y),M.promise}var sd=function(){function i(a){this._delegate=a}return i.prototype.cancel=function(a){(0,e.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,e.validateCallback)("OnDisconnect.cancel","onComplete",a,!0);var r=this._delegate.cancel();return a&&r.then(function(){return a(null)},function(h){return a(h)}),r},i.prototype.remove=function(a){(0,e.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,e.validateCallback)("OnDisconnect.remove","onComplete",a,!0);var r=this._delegate.remove();return a&&r.then(function(){return a(null)},function(h){return a(h)}),r},i.prototype.set=function(a,r){(0,e.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,e.validateCallback)("OnDisconnect.set","onComplete",r,!0);var h=this._delegate.set(a);return r&&h.then(function(){return r(null)},function(y){return r(y)}),h},i.prototype.setWithPriority=function(a,r,h){(0,e.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,e.validateCallback)("OnDisconnect.setWithPriority","onComplete",h,!0);var y=this._delegate.setWithPriority(a,r);return h&&y.then(function(){return h(null)},function(M){return h(M)}),y},i.prototype.update=function(a,r){if((0,e.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(a)){for(var h={},y=0;y<a.length;++y)h[""+y]=a[y];a=h,bt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,e.validateCallback)("OnDisconnect.update","onComplete",r,!0);var M=this._delegate.update(a);return r&&M.then(function(){return r(null)},function(V){return r(V)}),M},i}(),fu=function(){function i(a,r){this.committed=a,this.snapshot=r}return i.prototype.toJSON=function(){return(0,e.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},i}(),Ka=function(){function i(a,r){this._database=a,this._delegate=r}return i.prototype.val=function(){return(0,e.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},i.prototype.exportVal=function(){return(0,e.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},i.prototype.toJSON=function(){return(0,e.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},i.prototype.exists=function(){return(0,e.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},i.prototype.child=function(a){return(0,e.validateArgCount)("DataSnapshot.child",0,1,arguments.length),a=String(a),jc("DataSnapshot.child","path",a,!1),new i(this._database,this._delegate.child(a))},i.prototype.hasChild=function(a){return(0,e.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),jc("DataSnapshot.hasChild","path",a,!1),this._delegate.hasChild(a)},i.prototype.getPriority=function(){return(0,e.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},i.prototype.forEach=function(a){var r=this;return(0,e.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,e.validateCallback)("DataSnapshot.forEach","action",a,!1),this._delegate.forEach(function(h){return a(new i(r._database,h))})},i.prototype.hasChildren=function(){return(0,e.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(i.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),i.prototype.numChildren=function(){return(0,e.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},i.prototype.getRef=function(){return(0,e.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Kc(this._database,this._delegate.ref)},Object.defineProperty(i.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),i}(),md=function(){function i(a,r){this.database=a,this._delegate=r}return i.prototype.on=function(a,r,h,y){var V,M=this;(0,e.validateArgCount)("Query.on",2,4,arguments.length),(0,e.validateCallback)("Query.on","callback",r,!1);var ge=i.getCancelAndContextArgs_("Query.on",h,y),be=function(rt,tn){r.call(ge.context,new Ka(M.database,rt),tn)};be.userCallback=r,be.context=ge.context;var Ue=null===(V=ge.cancel)||void 0===V?void 0:V.bind(ge.context);switch(a){case"value":return ce(this._delegate,be,Ue),r;case"child_added":return De(this._delegate,be,Ue),r;case"child_removed":return gn(this._delegate,be,Ue),r;case"child_changed":return At(this._delegate,be,Ue),r;case"child_moved":return $t(this._delegate,be,Ue),r;default:throw new Error((0,e.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},i.prototype.off=function(a,r,h){if((0,e.validateArgCount)("Query.off",0,3,arguments.length),Ll("Query.off",a,!0),(0,e.validateCallback)("Query.off","callback",r,!0),(0,e.validateContextObject)("Query.off","context",h,!0),r){var y=function(){};y.userCallback=r,y.context=h,Hn(this._delegate,a,y)}else Hn(this._delegate,a)},i.prototype.get=function(){var a=this;return S(this._delegate).then(function(r){return new Ka(a.database,r)})},i.prototype.once=function(a,r,h,y){var M=this;(0,e.validateArgCount)("Query.once",1,4,arguments.length),(0,e.validateCallback)("Query.once","callback",r,!0);var V=i.getCancelAndContextArgs_("Query.once",h,y),ge=new e.Deferred,be=function(rt,tn){var dn=new Ka(M.database,rt);r&&r.call(V.context,dn,tn),ge.resolve(dn)};be.userCallback=r,be.context=V.context;var Ue=function(rt){V.cancel&&V.cancel.call(V.context,rt),ge.reject(rt)};switch(a){case"value":ce(this._delegate,be,Ue,{onlyOnce:!0});break;case"child_added":De(this._delegate,be,Ue,{onlyOnce:!0});break;case"child_removed":gn(this._delegate,be,Ue,{onlyOnce:!0});break;case"child_changed":At(this._delegate,be,Ue,{onlyOnce:!0});break;case"child_moved":$t(this._delegate,be,Ue,{onlyOnce:!0});break;default:throw new Error((0,e.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return ge.promise},i.prototype.limitToFirst=function(a){return(0,e.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new i(this.database,aa(this._delegate,ka(a)))},i.prototype.limitToLast=function(a){return(0,e.validateArgCount)("Query.limitToLast",1,1,arguments.length),new i(this.database,aa(this._delegate,cl(a)))},i.prototype.orderByChild=function(a){return(0,e.validateArgCount)("Query.orderByChild",1,1,arguments.length),new i(this.database,aa(this._delegate,Ua(a)))},i.prototype.orderByKey=function(){return(0,e.validateArgCount)("Query.orderByKey",0,0,arguments.length),new i(this.database,aa(this._delegate,lu()))},i.prototype.orderByPriority=function(){return(0,e.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new i(this.database,aa(this._delegate,ju()))},i.prototype.orderByValue=function(){return(0,e.validateArgCount)("Query.orderByValue",0,0,arguments.length),new i(this.database,aa(this._delegate,ul()))},i.prototype.startAt=function(a,r){return void 0===a&&(a=null),(0,e.validateArgCount)("Query.startAt",0,2,arguments.length),new i(this.database,aa(this._delegate,Qo(a,r)))},i.prototype.startAfter=function(a,r){return void 0===a&&(a=null),(0,e.validateArgCount)("Query.startAfter",0,2,arguments.length),new i(this.database,aa(this._delegate,ws(a,r)))},i.prototype.endAt=function(a,r){return void 0===a&&(a=null),(0,e.validateArgCount)("Query.endAt",0,2,arguments.length),new i(this.database,aa(this._delegate,Wi(a,r)))},i.prototype.endBefore=function(a,r){return void 0===a&&(a=null),(0,e.validateArgCount)("Query.endBefore",0,2,arguments.length),new i(this.database,aa(this._delegate,xr(a,r)))},i.prototype.equalTo=function(a,r){return(0,e.validateArgCount)("Query.equalTo",1,2,arguments.length),new i(this.database,aa(this._delegate,id(a,r)))},i.prototype.toString=function(){return(0,e.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},i.prototype.toJSON=function(){return(0,e.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},i.prototype.isEqual=function(a){if((0,e.validateArgCount)("Query.isEqual",1,1,arguments.length),!(a instanceof i)){var r="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(r)}return this._delegate.isEqual(a._delegate)},i.getCancelAndContextArgs_=function(a,r,h){var y={cancel:void 0,context:void 0};if(r&&h)y.cancel=r,(0,e.validateCallback)(a,"cancel",y.cancel,!0),y.context=h,(0,e.validateContextObject)(a,"context",y.context,!0);else if(r)if("object"==typeof r&&null!==r)y.context=r;else{if("function"!=typeof r)throw new Error((0,e.errorPrefix)(a,"cancelOrContext")+" must either be a cancel callback or a context object.");y.cancel=r}return y},Object.defineProperty(i.prototype,"ref",{get:function(){return new Kc(this.database,new Za(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),i}(),Kc=function(i){function a(r,h){var y=i.call(this,r,new Ys(h._repo,h._path,new Ur,!1))||this;return y.database=r,y._delegate=h,y}return(0,ee.__extends)(a,i),a.prototype.getKey=function(){return(0,e.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},a.prototype.child=function(r){return(0,e.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof r&&(r=String(r)),new a(this.database,Js(this._delegate,r))},a.prototype.getParent=function(){(0,e.validateArgCount)("Reference.parent",0,0,arguments.length);var r=this._delegate.parent;return r?new a(this.database,r):null},a.prototype.getRoot=function(){return(0,e.validateArgCount)("Reference.root",0,0,arguments.length),new a(this.database,this._delegate.root)},a.prototype.set=function(r,h){(0,e.validateArgCount)("Reference.set",1,2,arguments.length),(0,e.validateCallback)("Reference.set","onComplete",h,!0);var y=so(this._delegate,r);return h&&y.then(function(){return h(null)},function(M){return h(M)}),y},a.prototype.update=function(r,h){if((0,e.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(r)){for(var y={},M=0;M<r.length;++M)y[""+M]=r[M];r=y,bt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ds("Reference.update",this._delegate._path),(0,e.validateCallback)("Reference.update","onComplete",h,!0);var V=au(this._delegate,r);return h&&V.then(function(){return h(null)},function(ge){return h(ge)}),V},a.prototype.setWithPriority=function(r,h,y){(0,e.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,e.validateCallback)("Reference.setWithPriority","onComplete",y,!0);var M=qa(this._delegate,r,h);return y&&M.then(function(){return y(null)},function(V){return y(V)}),M},a.prototype.remove=function(r){(0,e.validateArgCount)("Reference.remove",0,1,arguments.length),(0,e.validateCallback)("Reference.remove","onComplete",r,!0);var h=uc(this._delegate);return r&&h.then(function(){return r(null)},function(y){return r(y)}),h},a.prototype.transaction=function(r,h,y){var M=this;(0,e.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,e.validateCallback)("Reference.transaction","transactionUpdate",r,!1),(0,e.validateCallback)("Reference.transaction","onComplete",h,!0),zc("Reference.transaction","applyLocally",y,!0);var V=gd(this._delegate,r,{applyLocally:y}).then(function(ge){return new fu(ge.committed,new Ka(M.database,ge.snapshot))});return h&&V.then(function(ge){return h(null,ge.committed,ge.snapshot)},function(ge){return h(ge,!1,null)}),V},a.prototype.setPriority=function(r,h){(0,e.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,e.validateCallback)("Reference.setPriority","onComplete",h,!0);var y=bs(this._delegate,r);return h&&y.then(function(){return h(null)},function(M){return h(M)}),y},a.prototype.push=function(r,h){var y=this;(0,e.validateArgCount)("Reference.push",0,2,arguments.length),(0,e.validateCallback)("Reference.push","onComplete",h,!0);var M=kc(this._delegate,r),V=M.then(function(be){return new a(y.database,be)});h&&V.then(function(){return h(null)},function(be){return h(be)});var ge=new a(this.database,M);return ge.then=V.then.bind(V),ge.catch=V.catch.bind(V,void 0),ge},a.prototype.onDisconnect=function(){return ds("Reference.onDisconnect",this._delegate._path),new sd(new Rc(this._delegate._repo,this._delegate._path))},Object.defineProperty(a.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),a}(md),Au=function(){function i(a,r){var h=this;this._delegate=a,this.app=r,this.INTERNAL={delete:function(){return h._delegate._delete()}}}return i.prototype.useEmulator=function(a,r,h){void 0===h&&(h={}),function pd(i,a,r,h){void 0===h&&(h={}),(i=(0,e.getModularInstance)(i))._checkNotDeleted("useEmulator"),i._instanceStarted&&Mt("Cannot call useEmulator() after instance has already been initialized.");var y=i._repoInternal,M=void 0;if(y.repoInfo_.nodeAdmin)h.mockUserToken&&Mt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),M=new $n($n.OWNER);else if(h.mockUserToken){var V=(0,e.createMockUserToken)(h.mockUserToken,i.app.options.projectId);M=new $n(V)}!function cu(i,a,r,h){i.repoInfo_=new nn(a+":"+r,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams),h&&(i.authTokenProvider_=h)}(y,a,r,M)}(this._delegate,a,r,h)},i.prototype.ref=function(a){if((0,e.validateArgCount)("database.ref",0,1,arguments.length),a instanceof Kc){var r=Ar(this._delegate,a.toString());return new Kc(this,r)}return r=da(this._delegate,a),new Kc(this,r)},i.prototype.refFromURL=function(a){var r="database.refFromURL";(0,e.validateArgCount)(r,1,1,arguments.length);var h=Ar(this._delegate,a);return new Kc(this,h)},i.prototype.goOffline=function(){return(0,e.validateArgCount)("database.goOffline",0,0,arguments.length),Su(this._delegate)},i.prototype.goOnline=function(){return(0,e.validateArgCount)("database.goOnline",0,0,arguments.length),qc(this._delegate)},i.ServerValue={TIMESTAMP:Nc,increment:function(a){return function pc(i){return{".sv":{increment:i}}}(a)}},i}(),gc=Object.freeze({__proto__:null,forceLongPolling:function(){ct.forceDisallow(),yt.forceAllow()},forceWebSockets:function(){yt.forceDisallow()},isWebSocketsAvailable:function(){return ct.isAvailable()},setSecurityDebugCallback:function(i,a){i._delegate._repo.persistentConnection_.securityDebugCallback_=a},stats:function(i,a){!function va(i,a){if(void 0===a&&(a=!1),"undefined"!=typeof console){var r;a?(i.statsListener_||(i.statsListener_=new N(i.stats_)),r=i.statsListener_.get()):r=i.stats_.get();var h=Object.keys(r).reduce(function(y,M){return Math.max(M.length,y)},0);bn(r,function(y,M){for(var V=y,ge=y.length;ge<h+2;ge++)V+=" ";console.log(V+M)})}}(i._delegate._repo,a)},statsIncrementCounter:function(i,a){!function Ac(i,a){i.stats_.incrementCounter(a),function Gt(i,a){i.statsToReport_[a]=!0}(i.statsReporter_,a)}(i._delegate._repo,a)},dataUpdateCount:function(i){return i._delegate._repo.dataUpdateCount},interceptServerData:function(i,a){return function Eu(i,a){i.interceptServerDataCallback_=a}(i._delegate._repo,a)},initStandalone:function cd(i){var a=i.app,r=i.url,y=i.customAuthImpl,M=i.namespace,V=i.nodeAdmin,ge=void 0!==V&&V;Ve(i.version);var be=new _.Provider("auth-internal",new _.ComponentContainer("database-standalone"));return be.setComponent(new _.Component("auth-internal",function(){return y},"PRIVATE")),{instance:new Au(Mu(a,be,void 0,r,ge),a),namespace:M}}}),zl=Uo;Uo.prototype.simpleListen=function(i,a){this.sendRequest("q",{p:i},a)},Uo.prototype.echo=function(i,a){this.sendRequest("echo",{d:i},a)};var _u=Object.freeze({__proto__:null,DataConnection:zl,RealTimeConnection:Bn,hijackHash:function(i){var a=Uo.prototype.put;return Uo.prototype.put=function(r,h,y,M){void 0!==M&&(M=i()),a.call(this,r,h,y,M)},function(){Uo.prototype.put=a}},ConnectionTarget:nn,queryIdentifier:function(i){return i._delegate._queryIdentifier},forceRestClient:function(i){!function du(i){hc=i}(i)}}),Ou=Au.ServerValue;!function ku(i){Ve(i.SDK_VERSION);var a=i.INTERNAL.registerComponent(new _.Component("database",function(r,h){var y=h.instanceIdentifier,M=r.getProvider("app").getImmediate(),V=r.getProvider("auth-internal"),ge=r.getProvider("app-check-internal");return new Au(Mu(M,V,ge,y),M)},"PUBLIC").setServiceProps({Reference:Kc,Query:md,Database:Au,DataSnapshot:Ka,enableLogging:gt,INTERNAL:gc,ServerValue:Ou,TEST_ACCESS:_u}).setMultipleInstances(!0));i.registerVersion("@firebase/database","0.10.9"),(0,e.isNodeSdk)()&&(Xn.exports=a)}(d.default)},9719:(Xn,Vt,A)=>{"use strict";var d=A(8367),_=A(2885),e=A(2461),pe=(A(492),A(4003),A(670),{Firestore:_.U,GeoPoint:_.C,Timestamp:_.M,Blob:_.a,Transaction:_.j,WriteBatch:_.W,DocumentReference:_.z,DocumentSnapshot:_.X,Query:_.t,QueryDocumentSnapshot:_.Z,QuerySnapshot:_.n,CollectionReference:_.s,FieldPath:_.r,FieldValue:_.o,setLogLevel:_.Q,CACHE_SIZE_UNLIMITED:_.E});!function ze(Ve){Ve.INTERNAL.registerComponent(new e.Component("firestore",function(je){return Q=je.getProvider("app").getImmediate(),qe=je.getProvider("auth-internal"),new _.U(Q,new _.T(Q,qe),new _.q);var Q,qe},"PUBLIC").setServiceProps(Object.assign({},pe))),Ve.registerVersion("@firebase/firestore","2.3.10")}(d.default)},2885:(Xn,Vt,A)=>{"use strict";A.d(Vt,{C:()=>Do,E:()=>At,M:()=>Pe,Q:()=>y,T:()=>$t,U:()=>r,W:()=>V,X:()=>dn,Z:()=>Rn,a:()=>i,c:()=>jr,j:()=>M,n:()=>wi,o:()=>Ao,q:()=>a,r:()=>yo,s:()=>Ni,t:()=>ri,u:()=>Eo,z:()=>be});var d=A(655),_=A(492),e=A(4003),ee=A(670),W=function(){function c(n,l){var p=this;this.previousValue=n,l&&(l.sequenceNumberHandler=function(v){return p.t(v)},this.i=function(v){return l.writeSequenceNumber(v)})}return c.prototype.t=function(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue},c.prototype.next=function(){var n=++this.previousValue;return this.i&&this.i(n),n},c}();W.o=-1;var xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},pe=function(c){function n(l,p){var v=this;return(v=c.call(this,p)||this).code=l,v.message=p,v.name="FirebaseError",v.toString=function(){return v.name+": [code="+v.code+"]: "+v.message},v}return(0,d.__extends)(n,c),n}(Error),ze=new e.Logger("@firebase/firestore");function Ve(){return ze.logLevel}function Q(c){for(var n=[],l=1;l<arguments.length;l++)n[l-1]=arguments[l];if(ze.logLevel<=e.LogLevel.DEBUG){var p=n.map(at);ze.debug.apply(ze,(0,d.__spreadArray)(["Firestore (8.8.1): "+c],p))}}function qe(c){for(var n=[],l=1;l<arguments.length;l++)n[l-1]=arguments[l];if(ze.logLevel<=e.LogLevel.ERROR){var p=n.map(at);ze.error.apply(ze,(0,d.__spreadArray)(["Firestore (8.8.1): "+c],p))}}function je(c){for(var n=[],l=1;l<arguments.length;l++)n[l-1]=arguments[l];if(ze.logLevel<=e.LogLevel.WARN){var p=n.map(at);ze.warn.apply(ze,(0,d.__spreadArray)(["Firestore (8.8.1): "+c],p))}}function at(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch(l){return c}}function ke(c){void 0===c&&(c="Unexpected state");var n="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+c;throw qe(n),new Error(n)}function Ke(c,n){c||ke()}function dt(c,n){return c}function it(c){var n="undefined"!=typeof self&&(self.crypto||self.msCrypto),l=new Uint8Array(c);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(l);else for(var p=0;p<c;p++)l[p]=Math.floor(256*Math.random());return l}var Dt=function(){function c(){}return c.u=function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=Math.floor(256/n.length)*n.length,p="";p.length<20;)for(var v=it(40),x=0;x<v.length;++x)p.length<20&&v[x]<l&&(p+=n.charAt(v[x]%n.length));return p},c}();function Tt(c,n){return c<n?-1:c>n?1:0}function hn(c,n,l){return c.length===n.length&&c.every(function(p,v){return l(p,n[v])})}function gt(c){return c+"\0"}var Pe=function(){function c(n,l){if(this.seconds=n,this.nanoseconds=l,l<0)throw new pe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(l>=1e9)throw new pe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(n<-62135596800)throw new pe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new pe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}return c.now=function(){return c.fromMillis(Date.now())},c.fromDate=function(n){return c.fromMillis(n.getTime())},c.fromMillis=function(n){var l=Math.floor(n/1e3);return new c(l,Math.floor(1e6*(n-1e3*l)))},c.prototype.toDate=function(){return new Date(this.toMillis())},c.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},c.prototype._compareTo=function(n){return this.seconds===n.seconds?Tt(this.nanoseconds,n.nanoseconds):Tt(this.seconds,n.seconds)},c.prototype.isEqual=function(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds},c.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},c.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},c.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},c}(),te=function(){function c(n){this.timestamp=n}return c.fromTimestamp=function(n){return new c(n)},c.min=function(){return new c(new Pe(0,0))},c.prototype.compareTo=function(n){return this.timestamp._compareTo(n.timestamp)},c.prototype.isEqual=function(n){return this.timestamp.isEqual(n.timestamp)},c.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},c.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},c.prototype.toTimestamp=function(){return this.timestamp},c}();function Qe(c){var n=0;for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&n++;return n}function Mt(c,n){for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&n(l,c[l])}function bt(c){for(var n in c)if(Object.prototype.hasOwnProperty.call(c,n))return!1;return!0}var tt=function(){function c(n,l,p){void 0===l?l=0:l>n.length&&ke(),void 0===p?p=n.length-l:p>n.length-l&&ke(),this.segments=n,this.offset=l,this.len=p}return Object.defineProperty(c.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(n){return 0===c.comparator(this,n)},c.prototype.child=function(n){var l=this.segments.slice(this.offset,this.limit());return n instanceof c?n.forEach(function(p){l.push(p)}):l.push(n),this.construct(l)},c.prototype.limit=function(){return this.offset+this.length},c.prototype.popFirst=function(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)},c.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},c.prototype.firstSegment=function(){return this.segments[this.offset]},c.prototype.lastSegment=function(){return this.get(this.length-1)},c.prototype.get=function(n){return this.segments[this.offset+n]},c.prototype.isEmpty=function(){return 0===this.length},c.prototype.isPrefixOf=function(n){if(n.length<this.length)return!1;for(var l=0;l<this.length;l++)if(this.get(l)!==n.get(l))return!1;return!0},c.prototype.isImmediateParentOf=function(n){if(this.length+1!==n.length)return!1;for(var l=0;l<this.length;l++)if(this.get(l)!==n.get(l))return!1;return!0},c.prototype.forEach=function(n){for(var l=this.offset,p=this.limit();l<p;l++)n(this.segments[l])},c.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},c.comparator=function(n,l){for(var p=Math.min(n.length,l.length),v=0;v<p;v++){var x=n.get(v),P=l.get(v);if(x<P)return-1;if(x>P)return 1}return n.length<l.length?-1:n.length>l.length?1:0},c}(),Ze=function(c){function n(){return null!==c&&c.apply(this,arguments)||this}return(0,d.__extends)(n,c),n.prototype.construct=function(l,p,v){return new n(l,p,v)},n.prototype.canonicalString=function(){return this.toArray().join("/")},n.prototype.toString=function(){return this.canonicalString()},n.fromString=function(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];for(var v=[],x=0,P=l;x<P.length;x++){var j=P[x];if(j.indexOf("//")>=0)throw new pe(xe.INVALID_ARGUMENT,"Invalid segment ("+j+"). Paths must not contain // in them.");v.push.apply(v,j.split("/").filter(function(_e){return _e.length>0}))}return new n(v)},n.emptyPath=function(){return new n([])},n}(tt),Ee=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ye=function(c){function n(){return null!==c&&c.apply(this,arguments)||this}return(0,d.__extends)(n,c),n.prototype.construct=function(l,p,v){return new n(l,p,v)},n.isValidIdentifier=function(l){return Ee.test(l)},n.prototype.canonicalString=function(){return this.toArray().map(function(l){return l=l.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(l)||(l="`"+l+"`"),l}).join(".")},n.prototype.toString=function(){return this.canonicalString()},n.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},n.keyField=function(){return new n(["__name__"])},n.fromServerFormat=function(l){for(var p=[],v="",x=0,P=function(){if(0===v.length)throw new pe(xe.INVALID_ARGUMENT,"Invalid field path ("+l+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");p.push(v),v=""},j=!1;x<l.length;){var _e=l[x];if("\\"===_e){if(x+1===l.length)throw new pe(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+l);var Le=l[x+1];if("\\"!==Le&&"."!==Le&&"`"!==Le)throw new pe(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+l);v+=Le,x+=2}else"`"===_e?(j=!j,x++):"."!==_e||j?(v+=_e,x++):(P(),x++)}if(P(),j)throw new pe(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+l);return new n(p)},n.emptyPath=function(){return new n([])},n}(tt),Xe=function(){function c(n){this.fields=n,n.sort(Ye.comparator)}return c.prototype.covers=function(n){for(var l=0,p=this.fields;l<p.length;l++)if(p[l].isPrefixOf(n))return!0;return!1},c.prototype.isEqual=function(n){return hn(this.fields,n.fields,function(l,p){return l.isEqual(p)})},c}(),st=function(){function c(n){this.binaryString=n}return c.fromBase64String=function(n){return new c(atob(n))},c.fromUint8Array=function(n){return new c(function(l){for(var p="",v=0;v<l.length;++v)p+=String.fromCharCode(l[v]);return p}(n))},c.prototype.toBase64=function(){return btoa(this.binaryString)},c.prototype.toUint8Array=function(){return function(n){for(var l=new Uint8Array(n.length),p=0;p<n.length;p++)l[p]=n.charCodeAt(p);return l}(this.binaryString)},c.prototype.approximateByteSize=function(){return 2*this.binaryString.length},c.prototype.compareTo=function(n){return Tt(this.binaryString,n.binaryString)},c.prototype.isEqual=function(n){return this.binaryString===n.binaryString},c}();st.EMPTY_BYTE_STRING=new st("");var sn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fn(c){if(Ke(!!c),"string"==typeof c){var n=0,l=sn.exec(c);if(Ke(!!l),l[1]){var p=l[1];p=(p+"000000000").substr(0,9),n=Number(p)}var v=new Date(c);return{seconds:Math.floor(v.getTime()/1e3),nanos:n}}return{seconds:wn(c.seconds),nanos:wn(c.nanos)}}function wn(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function mn(c){return"string"==typeof c?st.fromBase64String(c):st.fromUint8Array(c)}function bn(c){var n,l;return"server_timestamp"===(null===(l=((null===(n=null==c?void 0:c.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===l?void 0:l.stringValue)}function zt(c){var n=c.mapValue.fields.__previous_value__;return bn(n)?zt(n):n}function qt(c){var n=fn(c.mapValue.fields.__local_write_time__.timestampValue);return new Pe(n.seconds,n.nanos)}function Kt(c){return null==c}function Ht(c){return 0===c&&1/c==-1/0}function _n(c){return"number"==typeof c&&Number.isInteger(c)&&!Ht(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}var an=function(){function c(n){this.path=n}return c.fromPath=function(n){return new c(Ze.fromString(n))},c.fromName=function(n){return new c(Ze.fromString(n).popFirst(5))},c.prototype.hasCollectionId=function(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n},c.prototype.isEqual=function(n){return null!==n&&0===Ze.comparator(this.path,n.path)},c.prototype.toString=function(){return this.path.toString()},c.comparator=function(n,l){return Ze.comparator(n.path,l.path)},c.isDocumentKey=function(n){return n.length%2==0},c.fromSegments=function(n){return new c(new Ze(n.slice()))},c}();function Vn(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?bn(c)?4:10:ke()}function di(c,n){var v,l=Vn(c);if(l!==Vn(n))return!1;switch(l){case 0:return!0;case 1:return c.booleanValue===n.booleanValue;case 4:return qt(c).isEqual(qt(n));case 3:return function(p,v){if("string"==typeof p.timestampValue&&"string"==typeof v.timestampValue&&p.timestampValue.length===v.timestampValue.length)return p.timestampValue===v.timestampValue;var x=fn(p.timestampValue),P=fn(v.timestampValue);return x.seconds===P.seconds&&x.nanos===P.nanos}(c,n);case 5:return c.stringValue===n.stringValue;case 6:return v=n,mn(c.bytesValue).isEqual(mn(v.bytesValue));case 7:return c.referenceValue===n.referenceValue;case 8:return function(p,v){return wn(p.geoPointValue.latitude)===wn(v.geoPointValue.latitude)&&wn(p.geoPointValue.longitude)===wn(v.geoPointValue.longitude)}(c,n);case 2:return function(p,v){if("integerValue"in p&&"integerValue"in v)return wn(p.integerValue)===wn(v.integerValue);if("doubleValue"in p&&"doubleValue"in v){var x=wn(p.doubleValue),P=wn(v.doubleValue);return x===P?Ht(x)===Ht(P):isNaN(x)&&isNaN(P)}return!1}(c,n);case 9:return hn(c.arrayValue.values||[],n.arrayValue.values||[],di);case 10:return function(p,v){var x=p.mapValue.fields||{},P=v.mapValue.fields||{};if(Qe(x)!==Qe(P))return!1;for(var j in x)if(x.hasOwnProperty(j)&&(void 0===P[j]||!di(x[j],P[j])))return!1;return!0}(c,n);default:return ke()}}function Pn(c,n){return void 0!==(c.values||[]).find(function(l){return di(l,n)})}function jn(c,n){var v,x,P,j,l=Vn(c),p=Vn(n);if(l!==p)return Tt(l,p);switch(l){case 0:return 0;case 1:return Tt(c.booleanValue,n.booleanValue);case 2:return x=n,(P=wn((v=c).integerValue||v.doubleValue))<(j=wn(x.integerValue||x.doubleValue))?-1:P>j?1:P===j?0:isNaN(P)?isNaN(j)?0:-1:1;case 3:return wt(c.timestampValue,n.timestampValue);case 4:return wt(qt(c),qt(n));case 5:return Tt(c.stringValue,n.stringValue);case 6:return function(v,x){var P=mn(v),j=mn(x);return P.compareTo(j)}(c.bytesValue,n.bytesValue);case 7:return function(v,x){for(var P=v.split("/"),j=x.split("/"),_e=0;_e<P.length&&_e<j.length;_e++){var Le=Tt(P[_e],j[_e]);if(0!==Le)return Le}return Tt(P.length,j.length)}(c.referenceValue,n.referenceValue);case 8:return function(v,x){var P=Tt(wn(v.latitude),wn(x.latitude));return 0!==P?P:Tt(wn(v.longitude),wn(x.longitude))}(c.geoPointValue,n.geoPointValue);case 9:return function(v,x){for(var P=v.values||[],j=x.values||[],_e=0;_e<P.length&&_e<j.length;++_e){var Le=jn(P[_e],j[_e]);if(Le)return Le}return Tt(P.length,j.length)}(c.arrayValue,n.arrayValue);case 10:return function(v,x){var P=v.fields||{},j=Object.keys(P),_e=x.fields||{},Le=Object.keys(_e);j.sort(),Le.sort();for(var lt=0;lt<j.length&&lt<Le.length;++lt){var Bt=Tt(j[lt],Le[lt]);if(0!==Bt)return Bt;var Xt=jn(P[j[lt]],_e[Le[lt]]);if(0!==Xt)return Xt}return Tt(j.length,Le.length)}(c.mapValue,n.mapValue);default:throw ke()}}function wt(c,n){if("string"==typeof c&&"string"==typeof n&&c.length===n.length)return Tt(c,n);var l=fn(c),p=fn(n),v=Tt(l.seconds,p.seconds);return 0!==v?v:Tt(l.nanos,p.nanos)}function cn(c){return Gn(c)}function Gn(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?"time("+(v=fn(c.timestampValue)).seconds+","+v.nanos+")":"stringValue"in c?c.stringValue:"bytesValue"in c?mn(c.bytesValue).toBase64():"referenceValue"in c?an.fromName(c.referenceValue).toString():"geoPointValue"in c?"geo("+(n=c.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in c?function(p){for(var v="[",x=!0,P=0,j=p.values||[];P<j.length;P++)x?x=!1:v+=",",v+=Gn(j[P]);return v+"]"}(c.arrayValue):"mapValue"in c?function(p){for(var v="{",x=!0,P=0,j=Object.keys(p.fields||{}).sort();P<j.length;P++){var _e=j[P];x?x=!1:v+=",",v+=_e+":"+Gn(p.fields[_e])}return v+"}"}(c.mapValue):ke();var v,n}function $n(c,n){return{referenceValue:"projects/"+c.projectId+"/databases/"+c.database+"/documents/"+n.path.canonicalString()}}function Vi(c){return!!c&&"integerValue"in c}function Qn(c){return!!c&&"arrayValue"in c}function li(c){return!!c&&"nullValue"in c}function ni(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function Yt(c){return!!c&&"mapValue"in c}function q(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){var n={mapValue:{fields:{}}};return Mt(c.mapValue.fields,function(v,x){return n.mapValue.fields[v]=q(x)}),n}if(c.arrayValue){for(var l={arrayValue:{values:[]}},p=0;p<(c.arrayValue.values||[]).length;++p)l.arrayValue.values[p]=q(c.arrayValue.values[p]);return l}return Object.assign({},c)}var de=function(){function c(n){this.value=n}return c.empty=function(){return new c({mapValue:{}})},c.prototype.field=function(n){if(n.isEmpty())return this.value;for(var l=this.value,p=0;p<n.length-1;++p)if(!Yt(l=(l.mapValue.fields||{})[n.get(p)]))return null;return(l=(l.mapValue.fields||{})[n.lastSegment()])||null},c.prototype.set=function(n,l){this.getFieldsMap(n.popLast())[n.lastSegment()]=q(l)},c.prototype.setAll=function(n){var l=this,p=Ye.emptyPath(),v={},x=[];n.forEach(function(j,_e){if(!p.isImmediateParentOf(_e)){var Le=l.getFieldsMap(p);l.applyChanges(Le,v,x),v={},x=[],p=_e.popLast()}j?v[_e.lastSegment()]=q(j):x.push(_e.lastSegment())});var P=this.getFieldsMap(p);this.applyChanges(P,v,x)},c.prototype.delete=function(n){var l=this.field(n.popLast());Yt(l)&&l.mapValue.fields&&delete l.mapValue.fields[n.lastSegment()]},c.prototype.isEqual=function(n){return di(this.value,n.value)},c.prototype.getFieldsMap=function(n){var l=this.value;l.mapValue.fields||(l.mapValue={fields:{}});for(var p=0;p<n.length;++p){var v=l.mapValue.fields[n.get(p)];Yt(v)&&v.mapValue.fields||(v={mapValue:{fields:{}}},l.mapValue.fields[n.get(p)]=v),l=v}return l.mapValue.fields},c.prototype.applyChanges=function(n,l,p){Mt(l,function(j,_e){return n[j]=_e});for(var v=0,x=p;v<x.length;v++)delete n[x[v]]},c.prototype.clone=function(){return new c(q(this.value))},c}();function ye(c){var n=[];return Mt(c.fields,function(l,p){var v=new Ye([l]);if(Yt(p)){var x=ye(p.mapValue).fields;if(0===x.length)n.push(v);else for(var P=0,j=x;P<j.length;P++)n.push(v.child(j[P]))}else n.push(v)}),new Xe(n)}var Ce=function(){function c(n,l,p,v,x){this.key=n,this.documentType=l,this.version=p,this.data=v,this.documentState=x}return c.newInvalidDocument=function(n){return new c(n,0,te.min(),de.empty(),0)},c.newFoundDocument=function(n,l,p){return new c(n,1,l,p,0)},c.newNoDocument=function(n,l){return new c(n,2,l,de.empty(),0)},c.newUnknownDocument=function(n,l){return new c(n,3,l,de.empty(),2)},c.prototype.convertToFoundDocument=function(n,l){return this.version=n,this.documentType=1,this.data=l,this.documentState=0,this},c.prototype.convertToNoDocument=function(n){return this.version=n,this.documentType=2,this.data=de.empty(),this.documentState=0,this},c.prototype.convertToUnknownDocument=function(n){return this.version=n,this.documentType=3,this.data=de.empty(),this.documentState=2,this},c.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},c.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(c.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),c.prototype.isValidDocument=function(){return 0!==this.documentType},c.prototype.isFoundDocument=function(){return 1===this.documentType},c.prototype.isNoDocument=function(){return 2===this.documentType},c.prototype.isUnknownDocument=function(){return 3===this.documentType},c.prototype.isEqual=function(n){return n instanceof c&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)},c.prototype.clone=function(){return new c(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},c.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},c}(),pt=function(c,n,l,p,v,x,P){void 0===n&&(n=null),void 0===l&&(l=[]),void 0===p&&(p=[]),void 0===v&&(v=null),void 0===x&&(x=null),void 0===P&&(P=null),this.path=c,this.collectionGroup=n,this.orderBy=l,this.filters=p,this.limit=v,this.startAt=x,this.endAt=P,this.h=null};function Rt(c,n,l,p,v,x,P){return void 0===n&&(n=null),void 0===l&&(l=[]),void 0===p&&(p=[]),void 0===v&&(v=null),void 0===x&&(x=null),void 0===P&&(P=null),new pt(c,n,l,p,v,x,P)}function nn(c){var n=dt(c);if(null===n.h){var l=n.path.canonicalString();null!==n.collectionGroup&&(l+="|cg:"+n.collectionGroup),l+="|f:",l+=n.filters.map(function(p){return(v=p).field.canonicalString()+v.op.toString()+cn(v.value);var v}).join(","),l+="|ob:",l+=n.orderBy.map(function(p){return(v=p).field.canonicalString()+v.dir;var v}).join(","),Kt(n.limit)||(l+="|l:",l+=n.limit),n.startAt&&(l+="|lb:",l+=X(n.startAt)),n.endAt&&(l+="|ub:",l+=X(n.endAt)),n.h=l}return n.h}function On(c,n){if(c.limit!==n.limit||c.orderBy.length!==n.orderBy.length)return!1;for(var l=0;l<c.orderBy.length;l++)if(!Z(c.orderBy[l],n.orderBy[l]))return!1;if(c.filters.length!==n.filters.length)return!1;for(var p=0;p<c.filters.length;p++)if((v=c.filters[p]).op!==(x=n.filters[p]).op||!v.field.isEqual(x.field)||!di(v.value,x.value))return!1;var v,x;return c.collectionGroup===n.collectionGroup&&!!c.path.isEqual(n.path)&&!!Me(c.startAt,n.startAt)&&Me(c.endAt,n.endAt)}function Wn(c){return an.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}var Yn=function(c){function n(l,p,v){var x=this;return(x=c.call(this)||this).field=l,x.op=p,x.value=v,x}return(0,d.__extends)(n,c),n.create=function(l,p,v){return l.isKeyField()?"in"===p||"not-in"===p?this.l(l,p,v):new ei(l,p,v):"array-contains"===p?new Ei(l,v):"in"===p?new vt(l,v):"not-in"===p?new Nt(l,v):"array-contains-any"===p?new Ft(l,v):new n(l,p,v)},n.l=function(l,p,v){return"in"===p?new hi(l,v):new Bi(l,v)},n.prototype.matches=function(l){var p=l.data.field(this.field);return"!="===this.op?null!==p&&this.m(jn(p,this.value)):null!==p&&Vn(this.value)===Vn(p)&&this.m(jn(p,this.value))},n.prototype.m=function(l){switch(this.op){case"<":return l<0;case"<=":return l<=0;case"==":return 0===l;case"!=":return 0!==l;case">":return l>0;case">=":return l>=0;default:return ke()}},n.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},n}(function(){}),ei=function(c){function n(l,p,v){var x=this;return(x=c.call(this,l,p,v)||this).key=an.fromName(v.referenceValue),x}return(0,d.__extends)(n,c),n.prototype.matches=function(l){var p=an.comparator(l.key,this.key);return this.m(p)},n}(Yn),hi=function(c){function n(l,p){var v=this;return(v=c.call(this,l,"in",p)||this).keys=vi(0,p),v}return(0,d.__extends)(n,c),n.prototype.matches=function(l){return this.keys.some(function(p){return p.isEqual(l.key)})},n}(Yn),Bi=function(c){function n(l,p){var v=this;return(v=c.call(this,l,"not-in",p)||this).keys=vi(0,p),v}return(0,d.__extends)(n,c),n.prototype.matches=function(l){return!this.keys.some(function(p){return p.isEqual(l.key)})},n}(Yn);function vi(c,n){var l;return((null===(l=n.arrayValue)||void 0===l?void 0:l.values)||[]).map(function(p){return an.fromName(p.referenceValue)})}var Ei=function(c){function n(l,p){return c.call(this,l,"array-contains",p)||this}return(0,d.__extends)(n,c),n.prototype.matches=function(l){var p=l.data.field(this.field);return Qn(p)&&Pn(p.arrayValue,this.value)},n}(Yn),vt=function(c){function n(l,p){return c.call(this,l,"in",p)||this}return(0,d.__extends)(n,c),n.prototype.matches=function(l){var p=l.data.field(this.field);return null!==p&&Pn(this.value.arrayValue,p)},n}(Yn),Nt=function(c){function n(l,p){return c.call(this,l,"not-in",p)||this}return(0,d.__extends)(n,c),n.prototype.matches=function(l){if(Pn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var p=l.data.field(this.field);return null!==p&&!Pn(this.value.arrayValue,p)},n}(Yn),Ft=function(c){function n(l,p){return c.call(this,l,"array-contains-any",p)||this}return(0,d.__extends)(n,c),n.prototype.matches=function(l){var p=this,v=l.data.field(this.field);return!(!Qn(v)||!v.arrayValue.values)&&v.arrayValue.values.some(function(x){return Pn(p.value.arrayValue,x)})},n}(Yn),vn=function(c,n){this.position=c,this.before=n};function X(c){return(c.before?"b":"a")+":"+c.position.map(function(n){return cn(n)}).join(",")}var ie=function(c,n){void 0===n&&(n="asc"),this.field=c,this.dir=n};function Z(c,n){return c.dir===n.dir&&c.field.isEqual(n.field)}function Se(c,n,l){for(var p=0,v=0;v<c.position.length;v++){var x=n[v],P=c.position[v];if(p=x.field.isKeyField()?an.comparator(an.fromName(P.referenceValue),l.key):jn(P,l.data.field(x.field)),"desc"===x.dir&&(p*=-1),0!==p)break}return c.before?p<=0:p<0}function Me(c,n){if(null===c)return null===n;if(null===n||c.before!==n.before||c.position.length!==n.position.length)return!1;for(var l=0;l<c.position.length;l++)if(!di(c.position[l],n.position[l]))return!1;return!0}var ut=function(c,n,l,p,v,x,P,j){void 0===n&&(n=null),void 0===l&&(l=[]),void 0===p&&(p=[]),void 0===v&&(v=null),void 0===x&&(x="F"),void 0===P&&(P=null),void 0===j&&(j=null),this.path=c,this.collectionGroup=n,this.explicitOrderBy=l,this.filters=p,this.limit=v,this.limitType=x,this.startAt=P,this.endAt=j,this.p=null,this.T=null};function Be(c,n,l,p,v,x,P,j){return new ut(c,n,l,p,v,x,P,j)}function Ct(c){return new ut(c)}function on(c){return!Kt(c.limit)&&"F"===c.limitType}function Sn(c){return!Kt(c.limit)&&"L"===c.limitType}function bi(c){return c.explicitOrderBy.length>0?c.explicitOrderBy[0].field:null}function rn(c){for(var n=0,l=c.filters;n<l.length;n++){var p=l[n];if(p.g())return p.field}return null}function Pt(c){return null!==c.collectionGroup}function yt(c){var n=dt(c);if(null===n.p){n.p=[];var l=rn(n),p=bi(n);if(null!==l&&null===p)l.isKeyField()||n.p.push(new ie(l)),n.p.push(new ie(Ye.keyField(),"asc"));else{for(var v=!1,x=0,P=n.explicitOrderBy;x<P.length;x++){var j=P[x];n.p.push(j),j.field.isKeyField()&&(v=!0)}if(!v){var _e=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.p.push(new ie(Ye.keyField(),_e))}}}return n.p}function Zt(c){var n=dt(c);if(!n.T)if("F"===n.limitType)n.T=Rt(n.path,n.collectionGroup,yt(n),n.filters,n.limit,n.startAt,n.endAt);else{for(var l=[],p=0,v=yt(n);p<v.length;p++){var x=v[p];l.push(new ie(x.field,"desc"===x.dir?"asc":"desc"))}var j=n.endAt?new vn(n.endAt.position,!n.endAt.before):null,_e=n.startAt?new vn(n.startAt.position,!n.startAt.before):null;n.T=Rt(n.path,n.collectionGroup,l,n.filters,n.limit,j,_e)}return n.T}function Ln(c,n,l){return new ut(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),n,l,c.startAt,c.endAt)}function pn(c,n){return On(Zt(c),Zt(n))&&c.limitType===n.limitType}function Et(c){return nn(Zt(c))+"|lt:"+c.limitType}function ct(c){return"Query(target="+(l=(n=Zt(c)).path.canonicalString(),null!==n.collectionGroup&&(l+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(l+=", filters: ["+n.filters.map(function(p){return(v=p).field.canonicalString()+" "+v.op+" "+cn(v.value);var v}).join(", ")+"]"),Kt(n.limit)||(l+=", limit: "+n.limit),n.orderBy.length>0&&(l+=", orderBy: ["+n.orderBy.map(function(p){return(v=p).field.canonicalString()+" ("+v.dir+")";var v}).join(", ")+"]"),n.startAt&&(l+=", startAt: "+X(n.startAt)),n.endAt&&(l+=", endAt: "+X(n.endAt)),"Target("+l+"); limitType=")+c.limitType+")";var n,l}function jt(c,n){return n.isFoundDocument()&&(v=(p=n).key.path,null!==(l=c).collectionGroup?p.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(v):an.isDocumentKey(l.path)?l.path.isEqual(v):l.path.isImmediateParentOf(v))&&function(l,p){for(var v=0,x=l.explicitOrderBy;v<x.length;v++){var P=x[v];if(!P.field.isKeyField()&&null===p.data.field(P.field))return!1}return!0}(c,n)&&function(l,p){for(var v=0,x=l.filters;v<x.length;v++)if(!x[v].matches(p))return!1;return!0}(c,n)&&function(l,p){return!(l.startAt&&!Se(l.startAt,yt(l),p)||l.endAt&&Se(l.endAt,yt(l),p))}(c,n);var l,p,v}function In(c){return function(n,l){for(var p=!1,v=0,x=yt(c);v<x.length;v++){var P=x[v],j=kn(P,n,l);if(0!==j)return j;p=p||P.field.isKeyField()}return 0}}function kn(c,n,l){var v,P,j,_e,p=c.field.isKeyField()?an.comparator(n.key,l.key):(P=l,j=n.data.field(v=c.field),_e=P.data.field(v),null!==j&&null!==_e?jn(j,_e):ke());switch(c.dir){case"asc":return p;case"desc":return-1*p;default:return ke()}}function si(c,n){if(c.I){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ht(n)?"-0":n}}function Mi(c){return{integerValue:""+c}}function ht(c,n){return _n(n)?Mi(n):si(c,n)}var An=function(){this._=void 0};function Ie(c,n,l){return c instanceof Ge?(x={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(p=l).seconds,nanos:p.nanoseconds}}}},(v=n)&&(x.fields.__previous_value__=v),{mapValue:x}):c instanceof Oe?mt(c,n):c instanceof Qt?Mn(c,n):function(p,v){var x=ae(p,v),P=Ci(x)+Ci(p.A);return Vi(x)&&Vi(p.A)?Mi(P):si(p.R,P)}(c,n);var p,v,x}function Ot(c,n,l){return c instanceof Oe?mt(c,n):c instanceof Qt?Mn(c,n):l}function ae(c,n){return c instanceof Bn?Vi(l=n)||(p=l)&&"doubleValue"in p?n:{integerValue:0}:null;var p,l}var Ge=function(c){function n(){return null!==c&&c.apply(this,arguments)||this}return(0,d.__extends)(n,c),n}(An),Oe=function(c){function n(l){var p=this;return(p=c.call(this)||this).elements=l,p}return(0,d.__extends)(n,c),n}(An);function mt(c,n){for(var l=ui(n),p=function(P){l.some(function(j){return di(j,P)})||l.push(P)},v=0,x=c.elements;v<x.length;v++)p(x[v]);return{arrayValue:{values:l}}}var Qt=function(c){function n(l){var p=this;return(p=c.call(this)||this).elements=l,p}return(0,d.__extends)(n,c),n}(An);function Mn(c,n){for(var l=ui(n),p=function(P){l=l.filter(function(j){return!di(j,P)})},v=0,x=c.elements;v<x.length;v++)p(x[v]);return{arrayValue:{values:l}}}var Bn=function(c){function n(l,p){var v=this;return(v=c.call(this)||this).R=l,v.A=p,v}return(0,d.__extends)(n,c),n}(An);function Ci(c){return wn(c.integerValue||c.doubleValue)}function ui(c){return Qn(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}var Or=function(c,n){this.field=c,this.transform=n},hr=function(c,n){this.version=c,this.transformResults=n},ur=function(){function c(n,l){this.updateTime=n,this.exists=l}return c.none=function(){return new c},c.exists=function(n){return new c(void 0,n)},c.updateTime=function(n){return new c(n)},Object.defineProperty(c.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)},c}();function mi(c,n){return void 0!==c.updateTime?n.isFoundDocument()&&n.version.isEqual(c.updateTime):void 0===c.exists||c.exists===n.isFoundDocument()}var _i=function(){};function ji(c,n,l){var p,v,x,P,j;c instanceof $o?(v=n,x=l,P=(p=c).value.clone(),j=Ki(p.fieldTransforms,v,x.transformResults),P.setAll(j),v.convertToFoundDocument(x.version,P).setHasCommittedMutations()):c instanceof sr?function(p,v,x){if(mi(p.precondition,v)){var P=Ki(p.fieldTransforms,v,x.transformResults),j=v.data;j.setAll(vr(p)),j.setAll(P),v.convertToFoundDocument(x.version,j).setHasCommittedMutations()}else v.convertToUnknownDocument(x.version)}(c,n,l):function(p,v,x){v.convertToNoDocument(x.version).setHasCommittedMutations()}(0,n,l)}function Hi(c,n,l){var v;c instanceof $o?function(p,v,x){if(mi(p.precondition,v)){var P=p.value.clone(),j=zr(p.fieldTransforms,x,v);P.setAll(j),v.convertToFoundDocument(Yo(v),P).setHasLocalMutations()}}(c,n,l):c instanceof sr?function(p,v,x){if(mi(p.precondition,v)){var P=zr(p.fieldTransforms,x,v),j=v.data;j.setAll(vr(p)),j.setAll(P),v.convertToFoundDocument(Yo(v),j).setHasLocalMutations()}}(c,n,l):mi(c.precondition,v=n)&&v.convertToNoDocument(te.min())}function qi(c,n){for(var l=null,p=0,v=c.fieldTransforms;p<v.length;p++){var x=v[p],P=n.data.field(x.field),j=ae(x.transform,P||null);null!=j&&(null==l&&(l=de.empty()),l.set(x.field,j))}return l||null}function fr(c,n){return c.type===n.type&&!!c.key.isEqual(n.key)&&!!c.precondition.isEqual(n.precondition)&&(p=n.fieldTransforms,!!(void 0===(l=c.fieldTransforms)&&void 0===p||l&&p&&hn(l,p,function(v,x){return(P=v).field.isEqual((j=x).field)&&(Le=j.transform,(_e=P.transform)instanceof Oe&&Le instanceof Oe||_e instanceof Qt&&Le instanceof Qt?hn(_e.elements,Le.elements,di):_e instanceof Bn&&Le instanceof Bn?di(_e.A,Le.A):_e instanceof Ge&&Le instanceof Ge);var P,j,_e,Le})))&&(0===c.type?c.value.isEqual(n.value):1!==c.type||c.data.isEqual(n.data)&&c.fieldMask.isEqual(n.fieldMask));var l,p}function Yo(c){return c.isFoundDocument()?c.version:te.min()}var $o=function(c){function n(l,p,v,x){void 0===x&&(x=[]);var P=this;return(P=c.call(this)||this).key=l,P.value=p,P.precondition=v,P.fieldTransforms=x,P.type=0,P}return(0,d.__extends)(n,c),n}(_i),sr=function(c){function n(l,p,v,x,P){void 0===P&&(P=[]);var j=this;return(j=c.call(this)||this).key=l,j.data=p,j.fieldMask=v,j.precondition=x,j.fieldTransforms=P,j.type=1,j}return(0,d.__extends)(n,c),n}(_i);function vr(c){var n=new Map;return c.fieldMask.fields.forEach(function(l){if(!l.isEmpty()){var p=c.data.field(l);n.set(l,p)}}),n}function Ki(c,n,l){var p=new Map;Ke(c.length===l.length);for(var v=0;v<l.length;v++){var x=c[v],P=x.transform,j=n.data.field(x.field);p.set(x.field,Ot(P,j,l[v]))}return p}function zr(c,n,l){for(var p=new Map,v=0,x=c;v<x.length;v++){var P=x[v],j=P.transform,_e=l.data.field(P.field);p.set(P.field,Ie(j,_e,n))}return p}var Fr,Xi,wo=function(c){function n(l,p){var v=this;return(v=c.call(this)||this).key=l,v.precondition=p,v.type=2,v.fieldTransforms=[],v}return(0,d.__extends)(n,c),n}(_i),ms=function(c){function n(l,p){var v=this;return(v=c.call(this)||this).key=l,v.precondition=p,v.type=3,v.fieldTransforms=[],v}return(0,d.__extends)(n,c),n}(_i),_s=function(c){this.count=c};function Jr(c){switch(c){case xe.OK:return ke();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return ke()}}function js(c){if(void 0===c)return qe("GRPC error has no .code"),xe.UNKNOWN;switch(c){case Fr.OK:return xe.OK;case Fr.CANCELLED:return xe.CANCELLED;case Fr.UNKNOWN:return xe.UNKNOWN;case Fr.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Fr.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Fr.INTERNAL:return xe.INTERNAL;case Fr.UNAVAILABLE:return xe.UNAVAILABLE;case Fr.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Fr.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Fr.NOT_FOUND:return xe.NOT_FOUND;case Fr.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Fr.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Fr.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Fr.ABORTED:return xe.ABORTED;case Fr.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Fr.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Fr.DATA_LOSS:return xe.DATA_LOSS;default:return ke()}}(Xi=Fr||(Fr={}))[Xi.OK=0]="OK",Xi[Xi.CANCELLED=1]="CANCELLED",Xi[Xi.UNKNOWN=2]="UNKNOWN",Xi[Xi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xi[Xi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xi[Xi.NOT_FOUND=5]="NOT_FOUND",Xi[Xi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xi[Xi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xi[Xi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xi[Xi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xi[Xi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xi[Xi.ABORTED=10]="ABORTED",Xi[Xi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xi[Xi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xi[Xi.INTERNAL=13]="INTERNAL",Xi[Xi.UNAVAILABLE=14]="UNAVAILABLE",Xi[Xi.DATA_LOSS=15]="DATA_LOSS";var Vr=function(){function c(n,l){this.comparator=n,this.root=l||Wo.EMPTY}return c.prototype.insert=function(n,l){return new c(this.comparator,this.root.insert(n,l,this.comparator).copy(null,null,Wo.BLACK,null,null))},c.prototype.remove=function(n){return new c(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Wo.BLACK,null,null))},c.prototype.get=function(n){for(var l=this.root;!l.isEmpty();){var p=this.comparator(n,l.key);if(0===p)return l.value;p<0?l=l.left:p>0&&(l=l.right)}return null},c.prototype.indexOf=function(n){for(var l=0,p=this.root;!p.isEmpty();){var v=this.comparator(n,p.key);if(0===v)return l+p.left.size;v<0?p=p.left:(l+=p.left.size+1,p=p.right)}return-1},c.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(c.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),c.prototype.minKey=function(){return this.root.minKey()},c.prototype.maxKey=function(){return this.root.maxKey()},c.prototype.inorderTraversal=function(n){return this.root.inorderTraversal(n)},c.prototype.forEach=function(n){this.inorderTraversal(function(l,p){return n(l,p),!1})},c.prototype.toString=function(){var n=[];return this.inorderTraversal(function(l,p){return n.push(l+":"+p),!1}),"{"+n.join(", ")+"}"},c.prototype.reverseTraversal=function(n){return this.root.reverseTraversal(n)},c.prototype.getIterator=function(){return new Ds(this.root,null,this.comparator,!1)},c.prototype.getIteratorFrom=function(n){return new Ds(this.root,n,this.comparator,!1)},c.prototype.getReverseIterator=function(){return new Ds(this.root,null,this.comparator,!0)},c.prototype.getReverseIteratorFrom=function(n){return new Ds(this.root,n,this.comparator,!0)},c}(),Ds=function(){function c(n,l,p,v){this.isReverse=v,this.nodeStack=[];for(var x=1;!n.isEmpty();)if(x=l?p(n.key,l):1,v&&(x*=-1),x<0)n=this.isReverse?n.left:n.right;else{if(0===x){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}return c.prototype.getNext=function(){var n=this.nodeStack.pop(),l={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return l},c.prototype.hasNext=function(){return this.nodeStack.length>0},c.prototype.peek=function(){if(0===this.nodeStack.length)return null;var n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}},c}(),Wo=function(){function c(n,l,p,v,x){this.key=n,this.value=l,this.color=null!=p?p:c.RED,this.left=null!=v?v:c.EMPTY,this.right=null!=x?x:c.EMPTY,this.size=this.left.size+1+this.right.size}return c.prototype.copy=function(n,l,p,v,x){return new c(null!=n?n:this.key,null!=l?l:this.value,null!=p?p:this.color,null!=v?v:this.left,null!=x?x:this.right)},c.prototype.isEmpty=function(){return!1},c.prototype.inorderTraversal=function(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)},c.prototype.reverseTraversal=function(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)},c.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},c.prototype.minKey=function(){return this.min().key},c.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},c.prototype.insert=function(n,l,p){var v=this,x=p(n,v.key);return(v=x<0?v.copy(null,null,null,v.left.insert(n,l,p),null):0===x?v.copy(null,l,null,null,null):v.copy(null,null,null,null,v.right.insert(n,l,p))).fixUp()},c.prototype.removeMin=function(){if(this.left.isEmpty())return c.EMPTY;var n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),(n=n.copy(null,null,null,n.left.removeMin(),null)).fixUp()},c.prototype.remove=function(n,l){var p,v=this;if(l(n,v.key)<0)v.left.isEmpty()||v.left.isRed()||v.left.left.isRed()||(v=v.moveRedLeft()),v=v.copy(null,null,null,v.left.remove(n,l),null);else{if(v.left.isRed()&&(v=v.rotateRight()),v.right.isEmpty()||v.right.isRed()||v.right.left.isRed()||(v=v.moveRedRight()),0===l(n,v.key)){if(v.right.isEmpty())return c.EMPTY;p=v.right.min(),v=v.copy(p.key,p.value,null,null,v.right.removeMin())}v=v.copy(null,null,null,null,v.right.remove(n,l))}return v.fixUp()},c.prototype.isRed=function(){return this.color},c.prototype.fixUp=function(){var n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n},c.prototype.moveRedLeft=function(){var n=this.colorFlip();return n.right.left.isRed()&&(n=(n=(n=n.copy(null,null,null,null,n.right.rotateRight())).rotateLeft()).colorFlip()),n},c.prototype.moveRedRight=function(){var n=this.colorFlip();return n.left.left.isRed()&&(n=(n=n.rotateRight()).colorFlip()),n},c.prototype.rotateLeft=function(){var n=this.copy(null,null,c.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)},c.prototype.rotateRight=function(){var n=this.copy(null,null,c.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)},c.prototype.colorFlip=function(){var n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)},c.prototype.checkMaxDepth=function(){var n=this.check();return Math.pow(2,n)<=this.size+1},c.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();var n=this.left.check();if(n!==this.right.check())throw ke();return n+(this.isRed()?0:1)},c}();Wo.EMPTY=null,Wo.RED=!0,Wo.BLACK=!1,Wo.EMPTY=new(function(){function c(){this.size=0}return Object.defineProperty(c.prototype,"key",{get:function(){throw ke()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"value",{get:function(){throw ke()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"color",{get:function(){throw ke()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"left",{get:function(){throw ke()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"right",{get:function(){throw ke()},enumerable:!1,configurable:!0}),c.prototype.copy=function(n,l,p,v,x){return this},c.prototype.insert=function(n,l,p){return new Wo(n,l)},c.prototype.remove=function(n,l){return this},c.prototype.isEmpty=function(){return!0},c.prototype.inorderTraversal=function(n){return!1},c.prototype.reverseTraversal=function(n){return!1},c.prototype.minKey=function(){return null},c.prototype.maxKey=function(){return null},c.prototype.isRed=function(){return!1},c.prototype.checkMaxDepth=function(){return!0},c.prototype.check=function(){return 0},c}());var fo=function(){function c(n){this.comparator=n,this.data=new Vr(this.comparator)}return c.prototype.has=function(n){return null!==this.data.get(n)},c.prototype.first=function(){return this.data.minKey()},c.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(c.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),c.prototype.indexOf=function(n){return this.data.indexOf(n)},c.prototype.forEach=function(n){this.data.inorderTraversal(function(l,p){return n(l),!1})},c.prototype.forEachInRange=function(n,l){for(var p=this.data.getIteratorFrom(n[0]);p.hasNext();){var v=p.getNext();if(this.comparator(v.key,n[1])>=0)return;l(v.key)}},c.prototype.forEachWhile=function(n,l){var p;for(p=void 0!==l?this.data.getIteratorFrom(l):this.data.getIterator();p.hasNext();)if(!n(p.getNext().key))return},c.prototype.firstAfterOrEqual=function(n){var l=this.data.getIteratorFrom(n);return l.hasNext()?l.getNext().key:null},c.prototype.getIterator=function(){return new vs(this.data.getIterator())},c.prototype.getIteratorFrom=function(n){return new vs(this.data.getIteratorFrom(n))},c.prototype.add=function(n){return this.copy(this.data.remove(n).insert(n,!0))},c.prototype.delete=function(n){return this.has(n)?this.copy(this.data.remove(n)):this},c.prototype.isEmpty=function(){return this.data.isEmpty()},c.prototype.unionWith=function(n){var l=this;return l.size<n.size&&(l=n,n=this),n.forEach(function(p){l=l.add(p)}),l},c.prototype.isEqual=function(n){if(!(n instanceof c)||this.size!==n.size)return!1;for(var l=this.data.getIterator(),p=n.data.getIterator();l.hasNext();){var v=l.getNext().key,x=p.getNext().key;if(0!==this.comparator(v,x))return!1}return!0},c.prototype.toArray=function(){var n=[];return this.forEach(function(l){n.push(l)}),n},c.prototype.toString=function(){var n=[];return this.forEach(function(l){return n.push(l)}),"SortedSet("+n.toString()+")"},c.prototype.copy=function(n){var l=new c(this.comparator);return l.data=n,l},c}(),vs=function(){function c(n){this.iter=n}return c.prototype.getNext=function(){return this.iter.getNext().key},c.prototype.hasNext=function(){return this.iter.hasNext()},c}(),$s=new Vr(an.comparator);function er(){return $s}var To=new Vr(an.comparator);function is(){return To}var Io=new Vr(an.comparator);function Uo(){return Io}var dr=new fo(an.comparator);function Dr(){for(var c=[],n=0;n<arguments.length;n++)c[n]=arguments[n];for(var l=dr,p=0,v=c;p<v.length;p++){var x=v[p];l=l.add(x)}return l}var ki=new fo(Tt);function ar(){return ki}var os=function(){function c(n,l,p,v,x){this.snapshotVersion=n,this.targetChanges=l,this.targetMismatches=p,this.documentUpdates=v,this.resolvedLimboDocuments=x}return c.createSynthesizedRemoteEventForCurrentChange=function(n,l){var p=new Map;return p.set(n,Te.createSynthesizedTargetChangeForCurrentChange(n,l)),new c(te.min(),p,ar(),er(),Dr())},c}(),Te=function(){function c(n,l,p,v,x){this.resumeToken=n,this.current=l,this.addedDocuments=p,this.modifiedDocuments=v,this.removedDocuments=x}return c.createSynthesizedTargetChangeForCurrentChange=function(n,l){return new c(st.EMPTY_BYTE_STRING,l,Dr(),Dr(),Dr())},c}(),se=function(c,n,l,p){this.v=c,this.removedTargetIds=n,this.key=l,this.P=p},ft=function(c,n){this.targetId=c,this.V=n},Ut=function(c,n,l,p){void 0===l&&(l=st.EMPTY_BYTE_STRING),void 0===p&&(p=null),this.state=c,this.targetIds=n,this.resumeToken=l,this.cause=p},un=function(){function c(){this.S=0,this.D=pi(),this.C=st.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(c.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),c.prototype.O=function(n){n.approximateByteSize()>0&&(this.F=!0,this.C=n)},c.prototype.M=function(){var n=Dr(),l=Dr(),p=Dr();return this.D.forEach(function(v,x){switch(x){case 0:n=n.add(v);break;case 2:l=l.add(v);break;case 1:p=p.add(v);break;default:ke()}}),new Te(this.C,this.N,n,l,p)},c.prototype.L=function(){this.F=!1,this.D=pi()},c.prototype.B=function(n,l){this.F=!0,this.D=this.D.insert(n,l)},c.prototype.q=function(n){this.F=!0,this.D=this.D.remove(n)},c.prototype.U=function(){this.S+=1},c.prototype.K=function(){this.S-=1},c.prototype.j=function(){this.F=!0,this.N=!0},c}(),En=function(){function c(n){this.W=n,this.G=new Map,this.H=er(),this.J=ii(),this.Y=new fo(Tt)}return c.prototype.X=function(n){for(var l=0,p=n.v;l<p.length;l++){var v=p[l];n.P&&n.P.isFoundDocument()?this.Z(v,n.P):this.tt(v,n.key,n.P)}for(var x=0,P=n.removedTargetIds;x<P.length;x++)this.tt(v=P[x],n.key,n.P)},c.prototype.et=function(n){var l=this;this.forEachTarget(n,function(p){var v=l.nt(p);switch(n.state){case 0:l.st(p)&&v.O(n.resumeToken);break;case 1:v.K(),v.k||v.L(),v.O(n.resumeToken);break;case 2:v.K(),v.k||l.removeTarget(p);break;case 3:l.st(p)&&(v.j(),v.O(n.resumeToken));break;case 4:l.st(p)&&(l.it(p),v.O(n.resumeToken));break;default:ke()}})},c.prototype.forEachTarget=function(n,l){var p=this;n.targetIds.length>0?n.targetIds.forEach(l):this.G.forEach(function(v,x){p.st(x)&&l(x)})},c.prototype.rt=function(n){var l=n.targetId,p=n.V.count,v=this.ot(l);if(v){var x=v.target;if(Wn(x))if(0===p){var P=new an(x.path);this.tt(l,P,Ce.newNoDocument(P,te.min()))}else Ke(1===p);else this.ct(l)!==p&&(this.it(l),this.Y=this.Y.add(l))}},c.prototype.ut=function(n){var l=this,p=new Map;this.G.forEach(function(P,j){var _e=l.ot(j);if(_e){if(P.current&&Wn(_e.target)){var Le=new an(_e.target.path);null!==l.H.get(Le)||l.at(j,Le)||l.tt(j,Le,Ce.newNoDocument(Le,n))}P.$&&(p.set(j,P.M()),P.L())}});var v=Dr();this.J.forEach(function(P,j){var _e=!0;j.forEachWhile(function(Le){var lt=l.ot(Le);return!lt||2===lt.purpose||(_e=!1,!1)}),_e&&(v=v.add(P))});var x=new os(n,p,this.Y,this.H,v);return this.H=er(),this.J=ii(),this.Y=new fo(Tt),x},c.prototype.Z=function(n,l){if(this.st(n)){var p=this.at(n,l.key)?2:0;this.nt(n).B(l.key,p),this.H=this.H.insert(l.key,l),this.J=this.J.insert(l.key,this.ht(l.key).add(n))}},c.prototype.tt=function(n,l,p){if(this.st(n)){var v=this.nt(n);this.at(n,l)?v.B(l,1):v.q(l),this.J=this.J.insert(l,this.ht(l).delete(n)),p&&(this.H=this.H.insert(l,p))}},c.prototype.removeTarget=function(n){this.G.delete(n)},c.prototype.ct=function(n){var l=this.nt(n).M();return this.W.getRemoteKeysForTarget(n).size+l.addedDocuments.size-l.removedDocuments.size},c.prototype.U=function(n){this.nt(n).U()},c.prototype.nt=function(n){var l=this.G.get(n);return l||(l=new un,this.G.set(n,l)),l},c.prototype.ht=function(n){var l=this.J.get(n);return l||(l=new fo(Tt),this.J=this.J.insert(n,l)),l},c.prototype.st=function(n){var l=null!==this.ot(n);return l||Q("WatchChangeAggregator","Detected inactive target",n),l},c.prototype.ot=function(n){var l=this.G.get(n);return l&&l.k?null:this.W.lt(n)},c.prototype.it=function(n){var l=this;this.G.set(n,new un),this.W.getRemoteKeysForTarget(n).forEach(function(p){l.tt(n,p,null)})},c.prototype.at=function(n,l){return this.W.getRemoteKeysForTarget(n).has(l)},c}();function ii(){return new Vr(an.comparator)}function pi(){return new Vr(an.comparator)}var fi={asc:"ASCENDING",desc:"DESCENDING"},Pi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},or=function(c,n){this.databaseId=c,this.I=n};function yr(c,n){return c.I?new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+n.nanoseconds).slice(-9)+"Z":{seconds:""+n.seconds,nanos:n.nanoseconds}}function po(c,n){return c.I?n.toBase64():n.toUint8Array()}function Lr(c,n){return yr(c,n.toTimestamp())}function rr(c){return Ke(!!c),te.fromTimestamp((l=fn(c),new Pe(l.seconds,l.nanos)));var l}function _o(c,n){return(l=c,new Ze(["projects",l.projectId,"databases",l.database])).child("documents").child(n).canonicalString();var l}function Er(c){var n=Ze.fromString(c);return Ke(re(n)),n}function Tr(c,n){return _o(c.databaseId,n.path)}function no(c,n){var l=Er(n);if(l.get(1)!==c.databaseId.projectId)throw new pe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+l.get(1)+" vs "+c.databaseId.projectId);if(l.get(3)!==c.databaseId.database)throw new pe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+l.get(3)+" vs "+c.databaseId.database);return new an(ls(l))}function vo(c,n){return _o(c.databaseId,n)}function ao(c){var n=Er(c);return 4===n.length?Ze.emptyPath():ls(n)}function Jo(c){return new Ze(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function ls(c){return Ke(c.length>4&&"documents"===c.get(4)),c.popFirst(5)}function pr(c,n,l){return{name:Tr(c,n),fields:l.value.mapValue.fields}}function le(c,n,l){var p=no(c,n.name),v=rr(n.updateTime),x=new de({mapValue:{fields:n.fields}}),P=Ce.newFoundDocument(p,v,x);return l&&P.setHasCommittedMutations(),l?P.setHasCommittedMutations():P}function Fe(c,n){var l,v;if(n instanceof $o)l={update:pr(c,n.key,n.value)};else if(n instanceof wo)l={delete:Tr(c,n.key)};else if(n instanceof sr)l={update:pr(c,n.key,n.data),updateMask:ve(n.fieldMask)};else{if(!(n instanceof ms))return ke();l={verify:Tr(c,n.key)}}return n.fieldTransforms.length>0&&(l.updateTransforms=n.fieldTransforms.map(function(p){return function(v,x){var P=x.transform;if(P instanceof Ge)return{fieldPath:x.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(P instanceof Oe)return{fieldPath:x.field.canonicalString(),appendMissingElements:{values:P.elements}};if(P instanceof Qt)return{fieldPath:x.field.canonicalString(),removeAllFromArray:{values:P.elements}};if(P instanceof Bn)return{fieldPath:x.field.canonicalString(),increment:P.A};throw ke()}(0,p)})),n.precondition.isNone||(l.currentDocument=void 0!==(v=n.precondition).updateTime?{updateTime:Lr(c,v.updateTime)}:void 0!==v.exists?{exists:v.exists}:ke()),l}function fe(c,n){var Le,l=n.currentDocument?void 0!==(Le=n.currentDocument).updateTime?ur.updateTime(rr(Le.updateTime)):void 0!==Le.exists?ur.exists(Le.exists):ur.none():ur.none(),p=n.updateTransforms?n.updateTransforms.map(function(Le){return function(lt,Bt){var Xt=null;"setToServerValue"in Bt?(Ke("REQUEST_TIME"===Bt.setToServerValue),Xt=new Ge):"appendMissingElements"in Bt?Xt=new Oe(Bt.appendMissingElements.values||[]):"removeAllFromArray"in Bt?Xt=new Qt(Bt.removeAllFromArray.values||[]):"increment"in Bt?Xt=new Bn(lt,Bt.increment):ke();var C=Ye.fromServerFormat(Bt.fieldPath);return new Or(C,Xt)}(c,Le)}):[];if(n.update){var v=no(c,n.update.name),x=new de({mapValue:{fields:n.update.fields}});if(n.updateMask){var P=function(Le){return new Xe((Le.fieldPaths||[]).map(function(Bt){return Ye.fromServerFormat(Bt)}))}(n.updateMask);return new sr(v,x,P,l,p)}return new $o(v,x,l,p)}if(n.delete){var j=no(c,n.delete);return new wo(j,l)}if(n.verify){var _e=no(c,n.verify);return new ms(_e,l)}return ke()}function ot(c,n){return{documents:[vo(c,n.path)]}}function Jt(c,n){var l={structuredQuery:{}},p=n.path;null!==n.collectionGroup?(l.parent=vo(c,p),l.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(l.parent=vo(c,p.popLast()),l.structuredQuery.from=[{collectionId:p.lastSegment()}]);var v=function(j){if(0!==j.length){var _e=j.map(function(Le){return function(lt){if("=="===lt.op){if(ni(lt.value))return{unaryFilter:{field:gr(lt.field),op:"IS_NAN"}};if(li(lt.value))return{unaryFilter:{field:gr(lt.field),op:"IS_NULL"}}}else if("!="===lt.op){if(ni(lt.value))return{unaryFilter:{field:gr(lt.field),op:"IS_NOT_NAN"}};if(li(lt.value))return{unaryFilter:{field:gr(lt.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gr(lt.field),op:br(lt.op),value:lt.value}}}(Le)});return 1===_e.length?_e[0]:{compositeFilter:{op:"AND",filters:_e}}}}(n.filters);v&&(l.structuredQuery.where=v);var x=function(j){if(0!==j.length)return j.map(function(_e){return{field:gr((Le=_e).field),direction:Ir(Le.dir)};var Le})}(n.orderBy);x&&(l.structuredQuery.orderBy=x);var _e,P=(_e=n.limit,c.I||Kt(_e)?_e:{value:_e});return null!==P&&(l.structuredQuery.limit=P),n.startAt&&(l.structuredQuery.startAt=Si(n.startAt)),n.endAt&&(l.structuredQuery.endAt=Si(n.endAt)),l}function Tn(c){var n=ao(c.parent),l=c.structuredQuery,p=l.from?l.from.length:0,v=null;if(p>0){Ke(1===p);var x=l.from[0];x.allDescendants?v=x.collectionId:n=n.child(x.collectionId)}var P=[];l.where&&(P=Zn(l.where));var j=[];l.orderBy&&(j=l.orderBy.map(function(Bt){return new ie(kr((Xt=Bt).field),function(Fn){switch(Fn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Xt.direction));var Xt}));var Bt,Xt,_e=null;l.limit&&(_e=Kt(Xt="object"==typeof(Bt=l.limit)?Bt.value:Bt)?null:Xt);var Le=null;l.startAt&&(Le=Zr(l.startAt));var lt=null;return l.endAt&&(lt=Zr(l.endAt)),Be(n,v,j,P,_e,"F",Le,lt)}function Zn(c){return c?void 0!==c.unaryFilter?[No(c)]:void 0!==c.fieldFilter?[lo(c)]:void 0!==c.compositeFilter?c.compositeFilter.filters.map(function(n){return Zn(n)}).reduce(function(n,l){return n.concat(l)}):ke():[]}function Si(c){return{before:c.before,values:c.position}}function Zr(c){return new vn(c.values||[],!!c.before)}function Ir(c){return fi[c]}function br(c){return Pi[c]}function gr(c){return{fieldPath:c.canonicalString()}}function kr(c){return Ye.fromServerFormat(c.fieldPath)}function lo(c){return Yn.create(kr(c.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(c.fieldFilter.op),c.fieldFilter.value)}function No(c){switch(c.unaryFilter.op){case"IS_NAN":var n=kr(c.unaryFilter.field);return Yn.create(n,"==",{doubleValue:NaN});case"IS_NULL":var l=kr(c.unaryFilter.field);return Yn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var p=kr(c.unaryFilter.field);return Yn.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var v=kr(c.unaryFilter.field);return Yn.create(v,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}function ve(c){var n=[];return c.fields.forEach(function(l){return n.push(l.canonicalString())}),{fieldPaths:n}}function re(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}function Y(c){for(var n="",l=0;l<c.length;l++)n.length>0&&(n=Un(n)),n=We(c.get(l),n);return Un(n)}function We(c,n){for(var l=n,p=c.length,v=0;v<p;v++){var x=c.charAt(v);switch(x){case"\0":l+="\x01\x10";break;case"\x01":l+="\x01\x11";break;default:l+=x}}return l}function Un(c){return c+"\x01\x01"}function Ti(c){var n=c.length;if(Ke(n>=2),2===n)return Ke("\x01"===c.charAt(0)&&"\x01"===c.charAt(1)),Ze.emptyPath();for(var l=n-2,p=[],v="",x=0;x<n;){var P=c.indexOf("\x01",x);switch((P<0||P>l)&&ke(),c.charAt(P+1)){case"\x01":var j=c.substring(x,P),_e=void 0;0===v.length?_e=j:(_e=v+=j,v=""),p.push(_e);break;case"\x10":v+=c.substring(x,P),v+="\0";break;case"\x11":v+=c.substring(x,P+1);break;default:ke()}x=P+2}return new Ze(p)}var Yr=function(c,n){this.seconds=c,this.nanoseconds=n},go=function(c,n,l){this.ownerId=c,this.allowTabSynchronization=n,this.leaseTimestampMs=l};go.store="owner",go.key="owner";var qr=function(c,n,l){this.userId=c,this.lastAcknowledgedBatchId=n,this.lastStreamToken=l};qr.store="mutationQueues",qr.keyPath="userId";var Ur=function(c,n,l,p,v){this.userId=c,this.batchId=n,this.localWriteTimeMs=l,this.baseMutations=p,this.mutations=v};Ur.store="mutations",Ur.keyPath="batchId",Ur.userMutationsIndex="userMutationsIndex",Ur.userMutationsKeyPath=["userId","batchId"];var zn=function(){function c(){}return c.prefixForUser=function(n){return[n]},c.prefixForPath=function(n,l){return[n,Y(l)]},c.key=function(n,l,p){return[n,Y(l),p]},c}();zn.store="documentMutations",zn.PLACEHOLDER=new zn;var Kr=function(c,n){this.path=c,this.readTime=n},Ha=function(c,n){this.path=c,this.version=n},Qi=function(c,n,l,p,v,x){this.unknownDocument=c,this.noDocument=n,this.document=l,this.hasCommittedMutations=p,this.readTime=v,this.parentPath=x};Qi.store="remoteDocuments",Qi.readTimeIndex="readTimeIndex",Qi.readTimeIndexPath="readTime",Qi.collectionReadTimeIndex="collectionReadTimeIndex",Qi.collectionReadTimeIndexPath=["parentPath","readTime"];var Ts=function(c){this.byteSize=c};Ts.store="remoteDocumentGlobal",Ts.key="remoteDocumentGlobalKey";var Nr=function(c,n,l,p,v,x,P){this.targetId=c,this.canonicalId=n,this.readTime=l,this.resumeToken=p,this.lastListenSequenceNumber=v,this.lastLimboFreeSnapshotVersion=x,this.query=P};Nr.store="targets",Nr.keyPath="targetId",Nr.queryTargetsIndexName="queryTargetsIndex",Nr.queryTargetsKeyPath=["canonicalId","targetId"];var $r=function(c,n,l){this.targetId=c,this.path=n,this.sequenceNumber=l};$r.store="targetDocuments",$r.keyPath=["targetId","path"],$r.documentTargetsIndex="documentTargetsIndex",$r.documentTargetsKeyPath=["path","targetId"];var Bo=function(c,n,l,p){this.highestTargetId=c,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=l,this.targetCount=p};Bo.key="targetGlobalKey",Bo.store="targetGlobal";var As=function(c,n){this.collectionId=c,this.parent=n};As.store="collectionParents",As.keyPath=["collectionId","parent"];var Hr=function(c,n,l,p){this.clientId=c,this.updateTimeMs=n,this.networkEnabled=l,this.inForeground=p};Hr.store="clientMetadata",Hr.keyPath="clientId";var Ws=function(c,n,l){this.bundleId=c,this.createTime=n,this.version=l};Ws.store="bundles",Ws.keyPath="bundleId";var hs=function(c,n,l){this.name=c,this.readTime=n,this.bundledQuery=l};hs.store="namedQueries",hs.keyPath="name";var Is=(0,d.__spreadArray)((0,d.__spreadArray)([],(0,d.__spreadArray)((0,d.__spreadArray)([],(0,d.__spreadArray)((0,d.__spreadArray)([],(0,d.__spreadArray)((0,d.__spreadArray)([],[qr.store,Ur.store,zn.store,Qi.store,Nr.store,go.store,Bo.store,$r.store]),[Hr.store])),[Ts.store])),[As.store])),[Ws.store,hs.store]),mr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",qo=function(){function c(){this.onCommittedListeners=[]}return c.prototype.addOnCommittedListener=function(n){this.onCommittedListeners.push(n)},c.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(n){return n()})},c}(),Po=function(){var c=this;this.promise=new Promise(function(n,l){c.resolve=n,c.reject=l})},me=function(){function c(n){var l=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(function(p){l.isDone=!0,l.result=p,l.nextCallback&&l.nextCallback(p)},function(p){l.isDone=!0,l.error=p,l.catchCallback&&l.catchCallback(p)})}return c.prototype.catch=function(n){return this.next(void 0,n)},c.prototype.next=function(n,l){var p=this;return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(l,this.error):this.wrapSuccess(n,this.result):new c(function(v,x){p.nextCallback=function(P){p.wrapSuccess(n,P).next(v,x)},p.catchCallback=function(P){p.wrapFailure(l,P).next(v,x)}})},c.prototype.toPromise=function(){var n=this;return new Promise(function(l,p){n.next(l,p)})},c.prototype.wrapUserFunction=function(n){try{var l=n();return l instanceof c?l:c.resolve(l)}catch(p){return c.reject(p)}},c.prototype.wrapSuccess=function(n,l){return n?this.wrapUserFunction(function(){return n(l)}):c.resolve(l)},c.prototype.wrapFailure=function(n,l){return n?this.wrapUserFunction(function(){return n(l)}):c.reject(l)},c.resolve=function(n){return new c(function(l,p){l(n)})},c.reject=function(n){return new c(function(l,p){p(n)})},c.waitFor=function(n){return new c(function(l,p){var v=0,x=0,P=!1;n.forEach(function(j){++v,j.next(function(){++x,P&&x===v&&l()},function(_e){return p(_e)})}),P=!0,x===v&&l()})},c.or=function(n){for(var l=c.resolve(!1),p=function(P){l=l.next(function(j){return j?c.resolve(j):P()})},v=0,x=n;v<x.length;v++)p(x[v]);return l},c.forEach=function(n,l){var p=this,v=[];return n.forEach(function(x,P){v.push(l.call(p,x,P))}),this.waitFor(v)},c}(),N=function(){function c(n,l){var p=this;this.action=n,this.transaction=l,this.aborted=!1,this.ft=new Po,this.transaction.oncomplete=function(){p.ft.resolve()},this.transaction.onabort=function(){l.error?p.ft.reject(new He(n,l.error)):p.ft.resolve()},this.transaction.onerror=function(v){var x=qn(v.target.error);p.ft.reject(new He(n,x))}}return c.open=function(n,l,p,v){try{return new c(l,n.transaction(v,p))}catch(x){throw new He(l,x)}},Object.defineProperty(c.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),c.prototype.abort=function(n){n&&this.ft.reject(n),this.aborted||(Q("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},c.prototype.store=function(n){var l=this.transaction.objectStore(n);return new Gt(l)},c}(),L=function(){function c(n,l,p){this.name=n,this.version=l,this.wt=p,12.2===c._t((0,_.getUA)())&&qe("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return c.delete=function(n){return Q("SimpleDb","Removing database:",n),Lt(window.indexedDB.deleteDatabase(n)).toPromise()},c.yt=function(){if("undefined"==typeof indexedDB)return!1;if(c.gt())return!0;var n=(0,_.getUA)(),l=c._t(n),p=0<l&&l<10,v=c.Et(n),x=0<v&&v<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||p||x)},c.gt=function(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Tt)},c.It=function(n,l){return n.store(l)},c._t=function(n){var l=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),p=l?l[1].split("_").slice(0,2).join("."):"-1";return Number(p)},c.Et=function(n){var l=n.match(/Android ([\d.]+)/i),p=l?l[1].split(".").slice(0,2).join("."):"-1";return Number(p)},c.prototype.At=function(n){return(0,d.__awaiter)(this,void 0,void 0,function(){var l,p=this;return(0,d.__generator)(this,function(v){switch(v.label){case 0:return this.db?[3,2]:(Q("SimpleDb","Opening database:",this.name),l=this,[4,new Promise(function(x,P){var j=indexedDB.open(p.name,p.version);j.onsuccess=function(_e){x(_e.target.result)},j.onblocked=function(){P(new He(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},j.onerror=function(_e){var Le=_e.target.error;P("VersionError"===Le.name?new pe(xe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new He(n,Le))},j.onupgradeneeded=function(_e){Q("SimpleDb",'Database "'+p.name+'" requires upgrade from version:',_e.oldVersion),p.wt.Rt(_e.target.result,j.transaction,_e.oldVersion,p.version).next(function(){Q("SimpleDb","Database upgrade to version "+p.version+" complete")})}})]);case 1:l.db=v.sent(),v.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(x){return p.bt(x)}),this.db)]}})})},c.prototype.vt=function(n){this.bt=n,this.db&&(this.db.onversionchange=function(l){return n(l)})},c.prototype.runTransaction=function(n,l,p,v){return(0,d.__awaiter)(this,void 0,void 0,function(){var x,P,j,_e,Le;return(0,d.__generator)(this,function(lt){switch(lt.label){case 0:x="readonly"===l,P=0,j=function(){var Bt,Xt,Fn,xn,C;return(0,d.__generator)(this,function(I){switch(I.label){case 0:++P,I.label=1;case 1:return I.trys.push([1,4,,5]),[4,_e.At(n)];case 2:return _e.db=I.sent(),Bt=N.open(_e.db,n,x?"readonly":"readwrite",p),Xt=v(Bt).catch(function(g){return Bt.abort(g),me.reject(g)}).toPromise(),Fn={},Xt.catch(function(){}),[4,Bt.dt];case 3:return[2,(Fn.value=(I.sent(),Xt),Fn)];case 4:return Q("SimpleDb","Transaction failed with error:",(xn=I.sent()).message,"Retrying:",C="FirebaseError"!==xn.name&&P<3),_e.close(),C?[3,5]:[2,{value:Promise.reject(xn)}];case 5:return[2]}})},_e=this,lt.label=1;case 1:return[5,j()];case 2:if("object"==typeof(Le=lt.sent()))return[2,Le.value];lt.label=3;case 3:return[3,1];case 4:return[2]}})})},c.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},c}(),oe=function(){function c(n){this.Pt=n,this.Vt=!1,this.St=null}return Object.defineProperty(c.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"cursor",{set:function(n){this.Pt=n},enumerable:!1,configurable:!0}),c.prototype.done=function(){this.Vt=!0},c.prototype.Ct=function(n){this.St=n},c.prototype.delete=function(){return Lt(this.Pt.delete())},c}(),He=function(c){function n(l,p){var v=this;return(v=c.call(this,xe.UNAVAILABLE,"IndexedDB transaction '"+l+"' failed: "+p)||this).name="IndexedDbTransactionError",v}return(0,d.__extends)(n,c),n}(pe);function _t(c){return"IndexedDbTransactionError"===c.name}var Gt=function(){function c(n){this.store=n}return c.prototype.put=function(n,l){var p;return void 0!==l?(Q("SimpleDb","PUT",this.store.name,n,l),p=this.store.put(l,n)):(Q("SimpleDb","PUT",this.store.name,"<auto-key>",n),p=this.store.put(n)),Lt(p)},c.prototype.add=function(n){return Q("SimpleDb","ADD",this.store.name,n,n),Lt(this.store.add(n))},c.prototype.get=function(n){var l=this;return Lt(this.store.get(n)).next(function(p){return void 0===p&&(p=null),Q("SimpleDb","GET",l.store.name,n,p),p})},c.prototype.delete=function(n){return Q("SimpleDb","DELETE",this.store.name,n),Lt(this.store.delete(n))},c.prototype.count=function(){return Q("SimpleDb","COUNT",this.store.name),Lt(this.store.count())},c.prototype.Nt=function(n,l){var p=this.cursor(this.options(n,l)),v=[];return this.xt(p,function(x,P){v.push(P)}).next(function(){return v})},c.prototype.Ft=function(n,l){Q("SimpleDb","DELETE ALL",this.store.name);var p=this.options(n,l);p.kt=!1;var v=this.cursor(p);return this.xt(v,function(x,P,j){return j.delete()})},c.prototype.$t=function(n,l){var p;l?p=n:(p={},l=n);var v=this.cursor(p);return this.xt(v,l)},c.prototype.Ot=function(n){var l=this.cursor({});return new me(function(p,v){l.onerror=function(x){var P=qn(x.target.error);v(P)},l.onsuccess=function(x){var P=x.target.result;P?n(P.primaryKey,P.value).next(function(j){j?P.continue():p()}):p()}})},c.prototype.xt=function(n,l){var p=[];return new me(function(v,x){n.onerror=function(P){x(P.target.error)},n.onsuccess=function(P){var j=P.target.result;if(j){var _e=new oe(j),Le=l(j.primaryKey,j.value,_e);if(Le instanceof me){var lt=Le.catch(function(Bt){return _e.done(),me.reject(Bt)});p.push(lt)}_e.isDone?v():null===_e.Dt?j.continue():j.continue(_e.Dt)}else v()}}).next(function(){return me.waitFor(p)})},c.prototype.options=function(n,l){var p;return void 0!==n&&("string"==typeof n?p=n:l=n),{index:p,range:l}},c.prototype.cursor=function(n){var l="next";if(n.reverse&&(l="prev"),n.index){var p=this.store.index(n.index);return n.kt?p.openKeyCursor(n.range,l):p.openCursor(n.range,l)}return this.store.openCursor(n.range,l)},c}();function Lt(c){return new me(function(n,l){c.onsuccess=function(p){n(p.target.result)},c.onerror=function(p){var v=qn(p.target.error);l(v)}})}var Dn=!1;function qn(c){var n=L._t((0,_.getUA)());if(n>=12.2&&n<13){var l="An internal error was encountered in the Indexed Database server";if(c.message.indexOf(l)>=0){var p=new pe("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+l+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Dn||(Dn=!0,setTimeout(function(){throw p},0)),p}}return c}var xi=function(c){function n(l,p){var v=this;return(v=c.call(this)||this).Mt=l,v.currentSequenceNumber=p,v}return(0,d.__extends)(n,c),n}(qo);function Ai(c,n){var l=dt(c);return L.It(l.Mt,n)}var cr=function(){function c(n,l,p,v){this.batchId=n,this.localWriteTime=l,this.baseMutations=p,this.mutations=v}return c.prototype.applyToRemoteDocument=function(n,l){for(var p=l.mutationResults,v=0;v<this.mutations.length;v++){var x=this.mutations[v];x.key.isEqual(n.key)&&ji(x,n,p[v])}},c.prototype.applyToLocalView=function(n){for(var l=0,p=this.baseMutations;l<p.length;l++)(P=p[l]).key.isEqual(n.key)&&Hi(P,n,this.localWriteTime);for(var v=0,x=this.mutations;v<x.length;v++){var P;(P=x[v]).key.isEqual(n.key)&&Hi(P,n,this.localWriteTime)}},c.prototype.applyToLocalDocumentSet=function(n){var l=this;this.mutations.forEach(function(p){var v=n.get(p.key),x=v;l.applyToLocalView(x),v.isValidDocument()||x.convertToNoDocument(te.min())})},c.prototype.keys=function(){return this.mutations.reduce(function(n,l){return n.add(l.key)},Dr())},c.prototype.isEqual=function(n){return this.batchId===n.batchId&&hn(this.mutations,n.mutations,function(l,p){return fr(l,p)})&&hn(this.baseMutations,n.baseMutations,function(l,p){return fr(l,p)})},c}(),Rr=function(){function c(n,l,p,v){this.batch=n,this.commitVersion=l,this.mutationResults=p,this.docVersions=v}return c.from=function(n,l,p){Ke(n.mutations.length===p.length);for(var v=Uo(),x=n.mutations,P=0;P<x.length;P++)v=v.insert(x[P].key,p[P].version);return new c(n,l,p,v)},c}(),Yi=function(){function c(n,l,p,v,x,P,j){void 0===x&&(x=te.min()),void 0===P&&(P=te.min()),void 0===j&&(j=st.EMPTY_BYTE_STRING),this.target=n,this.targetId=l,this.purpose=p,this.sequenceNumber=v,this.snapshotVersion=x,this.lastLimboFreeSnapshotVersion=P,this.resumeToken=j}return c.prototype.withSequenceNumber=function(n){return new c(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},c.prototype.withResumeToken=function(n,l){return new c(this.target,this.targetId,this.purpose,this.sequenceNumber,l,this.lastLimboFreeSnapshotVersion,n)},c.prototype.withLastLimboFreeSnapshotVersion=function(n){return new c(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)},c}(),Gi=function(c){this.Lt=c};function Xr(c,n){if(n.document)return le(c.Lt,n.document,!!n.hasCommittedMutations);if(n.noDocument){var l=an.fromSegments(n.noDocument.path),p=Pr(n.noDocument.readTime),v=Ce.newNoDocument(l,p);return n.hasCommittedMutations?v.setHasCommittedMutations():v}if(n.unknownDocument){var x=an.fromSegments(n.unknownDocument.path);return p=Pr(n.unknownDocument.version),Ce.newUnknownDocument(x,p)}return ke()}function io(c,n,l){var Bt,Xt,p=Ro(l),v=n.key.path.popLast().toArray();if(n.isFoundDocument()){var x={name:Tr(Bt=c.Lt,(Xt=n).key),fields:Xt.data.value.mapValue.fields,updateTime:yr(Bt,Xt.version.toTimestamp())},P=n.hasCommittedMutations;return new Qi(null,null,x,P,p,v)}if(n.isNoDocument()){var j=n.key.path.toArray(),_e=wr(n.version);return P=n.hasCommittedMutations,new Qi(null,new Kr(j,_e),null,P,p,v)}if(n.isUnknownDocument()){var Le=n.key.path.toArray(),lt=wr(n.version);return new Qi(new Ha(Le,lt),null,null,!0,p,v)}return ke()}function Ro(c){var n=c.toTimestamp();return[n.seconds,n.nanoseconds]}function ss(c){var n=new Pe(c[0],c[1]);return te.fromTimestamp(n)}function wr(c){var n=c.toTimestamp();return new Yr(n.seconds,n.nanoseconds)}function Pr(c){var n=new Pe(c.seconds,c.nanoseconds);return te.fromTimestamp(n)}function Sr(c,n){for(var l=(n.baseMutations||[]).map(function(_e){return fe(c.Lt,_e)}),p=0;p<n.mutations.length-1;++p)p+1<n.mutations.length&&void 0!==n.mutations[p+1].transform&&(n.mutations[p].updateTransforms=n.mutations[p+1].transform.fieldTransforms,n.mutations.splice(p+1,1),++p);var P=n.mutations.map(function(_e){return fe(c.Lt,_e)}),j=Pe.fromMillis(n.localWriteTimeMs);return new cr(n.batchId,j,l,P)}function xo(c){var n,l,p=Pr(c.readTime),v=void 0!==c.lastLimboFreeSnapshotVersion?Pr(c.lastLimboFreeSnapshotVersion):te.min();return void 0!==c.query.documents?(Ke(1===(l=c.query).documents.length),n=Zt(Ct(ao(l.documents[0])))):n=Zt(Tn(c.query)),new Yi(n,c.targetId,0,c.lastListenSequenceNumber,p,v,st.fromBase64String(c.resumeToken))}function ro(c,n){var l,p=wr(n.snapshotVersion),v=wr(n.lastLimboFreeSnapshotVersion);l=Wn(n.target)?ot(c.Lt,n.target):Jt(c.Lt,n.target);var x=n.resumeToken.toBase64();return new Nr(n.targetId,nn(n.target),p,x,n.sequenceNumber,v,l)}function Vo(c){var n=Tn({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?Ln(n,n.limit,"L"):n}var cs=function(){function c(){}return c.prototype.getBundleMetadata=function(n,l){return Pa(n).get(l).next(function(p){if(p)return{id:(v=p).bundleId,createTime:Pr(v.createTime),version:v.version};var v})},c.prototype.saveBundleMetadata=function(n,l){return Pa(n).put({bundleId:(p=l).id,createTime:wr(rr(p.createTime)),version:p.version});var p},c.prototype.getNamedQuery=function(n,l){return Ho(n).get(l).next(function(p){if(p)return{name:(v=p).name,query:Vo(v.bundledQuery),readTime:Pr(v.readTime)};var v})},c.prototype.saveNamedQuery=function(n,l){return Ho(n).put({name:(p=l).name,readTime:wr(rr(p.readTime)),bundledQuery:p.bundledQuery});var p},c}();function Pa(c){return Ai(c,Ws.store)}function Ho(c){return Ai(c,hs.store)}var eo=function(){function c(){this.Bt=new Xo}return c.prototype.addToCollectionParentIndex=function(n,l){return this.Bt.add(l),me.resolve()},c.prototype.getCollectionParents=function(n,l){return me.resolve(this.Bt.getEntries(l))},c}(),Xo=function(){function c(){this.index={}}return c.prototype.add=function(n){var l=n.lastSegment(),p=n.popLast(),v=this.index[l]||new fo(Ze.comparator),x=!v.has(p);return this.index[l]=v.add(p),x},c.prototype.has=function(n){var l=n.lastSegment(),p=n.popLast(),v=this.index[l];return v&&v.has(p)},c.prototype.getEntries=function(n){return(this.index[n]||new fo(Ze.comparator)).toArray()},c}(),ea=function(){function c(){this.qt=new Xo}return c.prototype.addToCollectionParentIndex=function(n,l){var p=this;if(!this.qt.has(l)){var v=l.lastSegment(),x=l.popLast();n.addOnCommittedListener(function(){p.qt.add(l)});var P={collectionId:v,parent:Y(x)};return Fi(n).put(P)}return me.resolve()},c.prototype.getCollectionParents=function(n,l){var p=[],v=IDBKeyRange.bound([l,""],[gt(l),""],!1,!0);return Fi(n).Nt(v).next(function(x){for(var P=0,j=x;P<j.length;P++){var _e=j[P];if(_e.collectionId!==l)break;p.push(Ti(_e.parent))}return p})},c}();function Fi(c){return Ai(c,As.store)}var nr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Li=function(){function c(n,l,p){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=l,this.maximumSequenceNumbersToCollect=p}return c.withCacheSize=function(n){return new c(n,c.DEFAULT_COLLECTION_PERCENTILE,c.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},c}();function Ji(c,n,l){var p=c.store(Ur.store),v=c.store(zn.store),x=[],P=IDBKeyRange.only(l.batchId),j=0,_e=p.$t({range:P},function(xn,C,I){return j++,I.delete()});x.push(_e.next(function(){Ke(1===j)}));for(var Le=[],lt=0,Bt=l.mutations;lt<Bt.length;lt++){var Xt=Bt[lt],Fn=zn.key(n,Xt.key.path,l.batchId);x.push(v.delete(Fn)),Le.push(Xt.key)}return me.waitFor(x).next(function(){return Le})}function D(c){if(!c)return 0;var n;if(c.document)n=c.document;else if(c.unknownDocument)n=c.unknownDocument;else{if(!c.noDocument)throw ke();n=c.noDocument}return JSON.stringify(n).length}Li.DEFAULT_COLLECTION_PERCENTILE=10,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Li.DEFAULT=new Li(41943040,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Li.DISABLED=new Li(-1,0,0);var $=function(){function c(n,l,p,v){this.userId=n,this.R=l,this.Ut=p,this.referenceDelegate=v,this.Kt={}}return c.Qt=function(n,l,p,v){return Ke(""!==n.uid),new c(n.isAuthenticated()?n.uid:"",l,p,v)},c.prototype.checkEmpty=function(n){var l=!0,p=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return et(n).$t({index:Ur.userMutationsIndex,range:p},function(v,x,P){l=!1,P.done()}).next(function(){return l})},c.prototype.addMutationBatch=function(n,l,p,v){var x=this,P=kt(n),j=et(n);return j.add({}).next(function(_e){Ke("number"==typeof _e);for(var Le=new cr(_e,l,p,v),lt=function(g,E,U){var he=U.baseMutations.map(function(yn){return Fe(g.Lt,yn)}),xt=U.mutations.map(function(yn){return Fe(g.Lt,yn)});return new Ur(E,U.batchId,U.localWriteTime.toMillis(),he,xt)}(x.R,x.userId,Le),Bt=[],Xt=new fo(function(g,E){return Tt(g.canonicalString(),E.canonicalString())}),Fn=0,xn=v;Fn<xn.length;Fn++){var C=xn[Fn],I=zn.key(x.userId,C.key.path,_e);Xt=Xt.add(C.key.path.popLast()),Bt.push(j.put(lt)),Bt.push(P.put(I,zn.PLACEHOLDER))}return Xt.forEach(function(g){Bt.push(x.Ut.addToCollectionParentIndex(n,g))}),n.addOnCommittedListener(function(){x.Kt[_e]=Le.keys()}),me.waitFor(Bt).next(function(){return Le})})},c.prototype.lookupMutationBatch=function(n,l){var p=this;return et(n).get(l).next(function(v){return v?(Ke(v.userId===p.userId),Sr(p.R,v)):null})},c.prototype.jt=function(n,l){var p=this;return this.Kt[l]?me.resolve(this.Kt[l]):this.lookupMutationBatch(n,l).next(function(v){if(v){var x=v.keys();return p.Kt[l]=x,x}return null})},c.prototype.getNextMutationBatchAfterBatchId=function(n,l){var p=this,v=l+1,x=IDBKeyRange.lowerBound([this.userId,v]),P=null;return et(n).$t({index:Ur.userMutationsIndex,range:x},function(j,_e,Le){_e.userId===p.userId&&(Ke(_e.batchId>=v),P=Sr(p.R,_e)),Le.done()}).next(function(){return P})},c.prototype.getHighestUnacknowledgedBatchId=function(n){var l=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),p=-1;return et(n).$t({index:Ur.userMutationsIndex,range:l,reverse:!0},function(v,x,P){p=x.batchId,P.done()}).next(function(){return p})},c.prototype.getAllMutationBatches=function(n){var l=this,p=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return et(n).Nt(Ur.userMutationsIndex,p).next(function(v){return v.map(function(x){return Sr(l.R,x)})})},c.prototype.getAllMutationBatchesAffectingDocumentKey=function(n,l){var p=this,v=zn.prefixForPath(this.userId,l.path),x=IDBKeyRange.lowerBound(v),P=[];return kt(n).$t({range:x},function(j,_e,Le){var lt=j[0],Xt=j[2],Fn=Ti(j[1]);if(lt===p.userId&&l.path.isEqual(Fn))return et(n).get(Xt).next(function(xn){if(!xn)throw ke();Ke(xn.userId===p.userId),P.push(Sr(p.R,xn))});Le.done()}).next(function(){return P})},c.prototype.getAllMutationBatchesAffectingDocumentKeys=function(n,l){var p=this,v=new fo(Tt),x=[];return l.forEach(function(P){var j=zn.prefixForPath(p.userId,P.path),_e=IDBKeyRange.lowerBound(j),Le=kt(n).$t({range:_e},function(lt,Bt,Xt){var Fn=lt[0],C=lt[2],I=Ti(lt[1]);Fn===p.userId&&P.path.isEqual(I)?v=v.add(C):Xt.done()});x.push(Le)}),me.waitFor(x).next(function(){return p.Wt(n,v)})},c.prototype.getAllMutationBatchesAffectingQuery=function(n,l){var p=this,v=l.path,x=v.length+1,P=zn.prefixForPath(this.userId,v),j=IDBKeyRange.lowerBound(P),_e=new fo(Tt);return kt(n).$t({range:j},function(Le,lt,Bt){var Xt=Le[0],xn=Le[2],C=Ti(Le[1]);Xt===p.userId&&v.isPrefixOf(C)?C.length===x&&(_e=_e.add(xn)):Bt.done()}).next(function(){return p.Wt(n,_e)})},c.prototype.Wt=function(n,l){var p=this,v=[],x=[];return l.forEach(function(P){x.push(et(n).get(P).next(function(j){if(null===j)throw ke();Ke(j.userId===p.userId),v.push(Sr(p.R,j))}))}),me.waitFor(x).next(function(){return v})},c.prototype.removeMutationBatch=function(n,l){var p=this;return Ji(n.Mt,this.userId,l).next(function(v){return n.addOnCommittedListener(function(){p.Gt(l.batchId)}),me.forEach(v,function(x){return p.referenceDelegate.markPotentiallyOrphaned(n,x)})})},c.prototype.Gt=function(n){delete this.Kt[n]},c.prototype.performConsistencyCheck=function(n){var l=this;return this.checkEmpty(n).next(function(p){if(!p)return me.resolve();var v=IDBKeyRange.lowerBound(zn.prefixForUser(l.userId)),x=[];return kt(n).$t({range:v},function(P,j,_e){if(P[0]===l.userId){var Le=Ti(P[1]);x.push(Le)}else _e.done()}).next(function(){Ke(0===x.length)})})},c.prototype.containsKey=function(n,l){return we(n,this.userId,l)},c.prototype.zt=function(n){var l=this;return Cn(n).get(this.userId).next(function(p){return p||new qr(l.userId,-1,"")})},c}();function we(c,n,l){var p=zn.prefixForPath(n,l.path),v=p[1],x=IDBKeyRange.lowerBound(p),P=!1;return kt(c).$t({range:x,kt:!0},function(j,_e,Le){j[0]===n&&j[1]===v&&(P=!0),Le.done()}).next(function(){return P})}function et(c){return Ai(c,Ur.store)}function kt(c){return Ai(c,zn.store)}function Cn(c){return Ai(c,qr.store)}var ai=function(){function c(n){this.Ht=n}return c.prototype.next=function(){return this.Ht+=2,this.Ht},c.Jt=function(){return new c(0)},c.Yt=function(){return new c(-1)},c}(),Ri=function(){function c(n,l){this.referenceDelegate=n,this.R=l}return c.prototype.allocateTargetId=function(n){var l=this;return this.Xt(n).next(function(p){var v=new ai(p.highestTargetId);return p.highestTargetId=v.next(),l.Zt(n,p).next(function(){return p.highestTargetId})})},c.prototype.getLastRemoteSnapshotVersion=function(n){return this.Xt(n).next(function(l){return te.fromTimestamp(new Pe(l.lastRemoteSnapshotVersion.seconds,l.lastRemoteSnapshotVersion.nanoseconds))})},c.prototype.getHighestSequenceNumber=function(n){return this.Xt(n).next(function(l){return l.highestListenSequenceNumber})},c.prototype.setTargetsMetadata=function(n,l,p){var v=this;return this.Xt(n).next(function(x){return x.highestListenSequenceNumber=l,p&&(x.lastRemoteSnapshotVersion=p.toTimestamp()),l>x.highestListenSequenceNumber&&(x.highestListenSequenceNumber=l),v.Zt(n,x)})},c.prototype.addTargetData=function(n,l){var p=this;return this.te(n,l).next(function(){return p.Xt(n).next(function(v){return v.targetCount+=1,p.ee(l,v),p.Zt(n,v)})})},c.prototype.updateTargetData=function(n,l){return this.te(n,l)},c.prototype.removeTargetData=function(n,l){var p=this;return this.removeMatchingKeysForTargetId(n,l.targetId).next(function(){return Cr(n).delete(l.targetId)}).next(function(){return p.Xt(n)}).next(function(v){return Ke(v.targetCount>0),v.targetCount-=1,p.Zt(n,v)})},c.prototype.removeTargets=function(n,l,p){var v=this,x=0,P=[];return Cr(n).$t(function(j,_e){var Le=xo(_e);Le.sequenceNumber<=l&&null===p.get(Le.targetId)&&(x++,P.push(v.removeTargetData(n,Le)))}).next(function(){return me.waitFor(P)}).next(function(){return x})},c.prototype.forEachTarget=function(n,l){return Cr(n).$t(function(p,v){var x=xo(v);l(x)})},c.prototype.Xt=function(n){return Br(n).get(Bo.key).next(function(l){return Ke(null!==l),l})},c.prototype.Zt=function(n,l){return Br(n).put(Bo.key,l)},c.prototype.te=function(n,l){return Cr(n).put(ro(this.R,l))},c.prototype.ee=function(n,l){var p=!1;return n.targetId>l.highestTargetId&&(l.highestTargetId=n.targetId,p=!0),n.sequenceNumber>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n.sequenceNumber,p=!0),p},c.prototype.getTargetCount=function(n){return this.Xt(n).next(function(l){return l.targetCount})},c.prototype.getTargetData=function(n,l){var p=nn(l),v=IDBKeyRange.bound([p,Number.NEGATIVE_INFINITY],[p,Number.POSITIVE_INFINITY]),x=null;return Cr(n).$t({range:v,index:Nr.queryTargetsIndexName},function(P,j,_e){var Le=xo(j);On(l,Le.target)&&(x=Le,_e.done())}).next(function(){return x})},c.prototype.addMatchingKeys=function(n,l,p){var v=this,x=[],P=co(n);return l.forEach(function(j){var _e=Y(j.path);x.push(P.put(new $r(p,_e))),x.push(v.referenceDelegate.addReference(n,p,j))}),me.waitFor(x)},c.prototype.removeMatchingKeys=function(n,l,p){var v=this,x=co(n);return me.forEach(l,function(P){var j=Y(P.path);return me.waitFor([x.delete([p,j]),v.referenceDelegate.removeReference(n,p,P)])})},c.prototype.removeMatchingKeysForTargetId=function(n,l){var p=co(n),v=IDBKeyRange.bound([l],[l+1],!1,!0);return p.delete(v)},c.prototype.getMatchingKeysForTargetId=function(n,l){var p=IDBKeyRange.bound([l],[l+1],!1,!0),v=co(n),x=Dr();return v.$t({range:p,kt:!0},function(P,j,_e){var Le=Ti(P[1]),lt=new an(Le);x=x.add(lt)}).next(function(){return x})},c.prototype.containsKey=function(n,l){var p=Y(l.path),v=IDBKeyRange.bound([p],[gt(p)],!1,!0),x=0;return co(n).$t({index:$r.documentTargetsIndex,kt:!0,range:v},function(P,j,_e){0!==P[0]&&(x++,_e.done())}).next(function(){return x>0})},c.prototype.lt=function(n,l){return Cr(n).get(l).next(function(p){return p?xo(p):null})},c}();function Cr(c){return Ai(c,Nr.store)}function Br(c){return Ai(c,Bo.store)}function co(c){return Ai(c,$r.store)}function Mo(c){return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(n){if(c.code!==xe.FAILED_PRECONDITION||c.message!==mr)throw c;return Q("LocalStore","Unexpectedly lost primary lease"),[2]})})}function xs(c,n){var p=c[1],x=n[1],P=Tt(c[0],n[0]);return 0===P?Tt(p,x):P}var Zs=function(){function c(n){this.ne=n,this.buffer=new fo(xs),this.se=0}return c.prototype.ie=function(){return++this.se},c.prototype.re=function(n){var l=[n,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(l);else{var p=this.buffer.last();xs(l,p)<0&&(this.buffer=this.buffer.delete(p).add(l))}},Object.defineProperty(c.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),c}(),Rs=function(){function c(n,l){this.garbageCollector=n,this.asyncQueue=l,this.oe=!1,this.ce=null}return c.prototype.start=function(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(n)},c.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(c.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),c.prototype.ue=function(n){var l=this,p=this.oe?3e5:6e4;Q("LruGarbageCollector","Garbage collection scheduled in "+p+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",p,function(){return(0,d.__awaiter)(l,void 0,void 0,function(){var v;return(0,d.__generator)(this,function(x){switch(x.label){case 0:this.ce=null,this.oe=!0,x.label=1;case 1:return x.trys.push([1,3,,7]),[4,n.collectGarbage(this.garbageCollector)];case 2:return x.sent(),[3,7];case 3:return _t(v=x.sent())?(Q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",v),[3,6]):[3,4];case 4:return[4,Mo(v)];case 5:x.sent(),x.label=6;case 6:return[3,7];case 7:return[4,this.ue(n)];case 8:return x.sent(),[2]}})})})},c}(),Ca=function(){function c(n,l){this.ae=n,this.params=l}return c.prototype.calculateTargetCount=function(n,l){return this.ae.he(n).next(function(p){return Math.floor(l/100*p)})},c.prototype.nthSequenceNumber=function(n,l){var p=this;if(0===l)return me.resolve(W.o);var v=new Zs(l);return this.ae.forEachTarget(n,function(x){return v.re(x.sequenceNumber)}).next(function(){return p.ae.le(n,function(x){return v.re(x)})}).next(function(){return v.maxValue})},c.prototype.removeTargets=function(n,l,p){return this.ae.removeTargets(n,l,p)},c.prototype.removeOrphanedDocuments=function(n,l){return this.ae.removeOrphanedDocuments(n,l)},c.prototype.collect=function(n,l){var p=this;return-1===this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(nr)):this.getCacheSize(n).next(function(v){return v<p.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector","Garbage collection skipped; Cache size "+v+" is lower than threshold "+p.params.cacheSizeCollectionThreshold),nr):p.fe(n,l)})},c.prototype.getCacheSize=function(n){return this.ae.getCacheSize(n)},c.prototype.fe=function(n,l){var p,v,x,P,j,_e,Le,lt=this,Bt=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(function(Xt){return Xt>lt.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+lt.params.maximumSequenceNumbersToCollect+" from "+Xt),v=lt.params.maximumSequenceNumbersToCollect):v=Xt,P=Date.now(),lt.nthSequenceNumber(n,v)}).next(function(Xt){return p=Xt,j=Date.now(),lt.removeTargets(n,p,l)}).next(function(Xt){return x=Xt,_e=Date.now(),lt.removeOrphanedDocuments(n,p)}).next(function(Xt){return Le=Date.now(),Ve()<=e.LogLevel.DEBUG&&Q("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(P-Bt)+"ms\n\tDetermined least recently used "+v+" in "+(j-P)+"ms\n\tRemoved "+x+" targets in "+(_e-j)+"ms\n\tRemoved "+Xt+" documents in "+(Le-_e)+"ms\nTotal Duration: "+(Le-Bt)+"ms"),me.resolve({didRun:!0,sequenceNumbersCollected:v,targetsRemoved:x,documentsRemoved:Xt})})},c}(),Da=function(){function c(n,l){this.db=n,this.garbageCollector=new Ca(this,l)}return c.prototype.he=function(n){var l=this.de(n);return this.db.getTargetCache().getTargetCount(n).next(function(p){return l.next(function(v){return p+v})})},c.prototype.de=function(n){var l=0;return this.le(n,function(p){l++}).next(function(){return l})},c.prototype.forEachTarget=function(n,l){return this.db.getTargetCache().forEachTarget(n,l)},c.prototype.le=function(n,l){return this.we(n,function(p,v){return l(v)})},c.prototype.addReference=function(n,l,p){return jo(n,p)},c.prototype.removeReference=function(n,l,p){return jo(n,p)},c.prototype.removeTargets=function(n,l,p){return this.db.getTargetCache().removeTargets(n,l,p)},c.prototype.markPotentiallyOrphaned=function(n,l){return jo(n,l)},c.prototype._e=function(n,l){return v=l,x=!1,Cn(p=n).Ot(function(P){return we(p,P,v).next(function(j){return j&&(x=!0),me.resolve(!j)})}).next(function(){return x});var p,v,x},c.prototype.removeOrphanedDocuments=function(n,l){var p=this,v=this.db.getRemoteDocumentCache().newChangeBuffer(),x=[],P=0;return this.we(n,function(j,_e){if(_e<=l){var Le=p._e(n,j).next(function(lt){if(!lt)return P++,v.getEntry(n,j).next(function(){return v.removeEntry(j),co(n).delete([0,Y(j.path)])})});x.push(Le)}}).next(function(){return me.waitFor(x)}).next(function(){return v.apply(n)}).next(function(){return P})},c.prototype.removeTarget=function(n,l){var p=l.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,p)},c.prototype.updateLimboDocument=function(n,l){return jo(n,l)},c.prototype.we=function(n,l){var p,v=co(n),x=W.o;return v.$t({index:$r.documentTargetsIndex},function(P,j){var Le=j.path,lt=j.sequenceNumber;0===P[0]?(x!==W.o&&l(new an(Ti(p)),x),x=lt,p=Le):x=W.o}).next(function(){x!==W.o&&l(new an(Ti(p)),x)})},c.prototype.getCacheSize=function(n){return this.db.getRemoteDocumentCache().getSize(n)},c}();function jo(c,n){return co(c).put((p=c.currentSequenceNumber,new $r(0,Y(n.path),p)));var p}var So=function(){function c(n,l){this.mapKeyFn=n,this.equalsFn=l,this.inner={}}return c.prototype.get=function(n){var l=this.mapKeyFn(n),p=this.inner[l];if(void 0!==p)for(var v=0,x=p;v<x.length;v++){var P=x[v],_e=P[1];if(this.equalsFn(P[0],n))return _e}},c.prototype.has=function(n){return void 0!==this.get(n)},c.prototype.set=function(n,l){var p=this.mapKeyFn(n),v=this.inner[p];if(void 0!==v){for(var x=0;x<v.length;x++)if(this.equalsFn(v[x][0],n))return void(v[x]=[n,l]);v.push([n,l])}else this.inner[p]=[[n,l]]},c.prototype.delete=function(n){var l=this.mapKeyFn(n),p=this.inner[l];if(void 0===p)return!1;for(var v=0;v<p.length;v++)if(this.equalsFn(p[v][0],n))return 1===p.length?delete this.inner[l]:p.splice(v,1),!0;return!1},c.prototype.forEach=function(n){Mt(this.inner,function(l,p){for(var v=0,x=p;v<x.length;v++){var P=x[v];n(P[0],P[1])}})},c.prototype.isEmpty=function(){return bt(this.inner)},c}(),Xa=function(){function c(){this.changes=new So(function(n){return n.toString()},function(n,l){return n.isEqual(l)}),this.changesApplied=!1}return c.prototype.getReadTime=function(n){var l=this.changes.get(n);return l?l.readTime:te.min()},c.prototype.addEntry=function(n,l){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:l})},c.prototype.removeEntry=function(n,l){void 0===l&&(l=null),this.assertNotApplied(),this.changes.set(n,{document:Ce.newInvalidDocument(n),readTime:l})},c.prototype.getEntry=function(n,l){this.assertNotApplied();var p=this.changes.get(l);return void 0!==p?me.resolve(p.document):this.getFromCache(n,l)},c.prototype.getEntries=function(n,l){return this.getAllFromCache(n,l)},c.prototype.apply=function(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)},c.prototype.assertNotApplied=function(){},c}(),K=function(){function c(n,l){this.R=n,this.Ut=l}return c.prototype.addEntry=function(n,l,p){return ue(n).put(Ae(l),p)},c.prototype.removeEntry=function(n,l){var p=ue(n),v=Ae(l);return p.delete(v)},c.prototype.updateMetadata=function(n,l){var p=this;return this.getMetadata(n).next(function(v){return v.byteSize+=l,p.me(n,v)})},c.prototype.getEntry=function(n,l){var p=this;return ue(n).get(Ae(l)).next(function(v){return p.ye(l,v)})},c.prototype.ge=function(n,l){var p=this;return ue(n).get(Ae(l)).next(function(v){return{document:p.ye(l,v),size:D(v)}})},c.prototype.getEntries=function(n,l){var p=this,v=er();return this.pe(n,l,function(x,P){var j=p.ye(x,P);v=v.insert(x,j)}).next(function(){return v})},c.prototype.Ee=function(n,l){var p=this,v=er(),x=new Vr(an.comparator);return this.pe(n,l,function(P,j){var _e=p.ye(P,j);v=v.insert(P,_e),x=x.insert(P,D(j))}).next(function(){return{documents:v,Te:x}})},c.prototype.pe=function(n,l,p){if(l.isEmpty())return me.resolve();var v=IDBKeyRange.bound(l.first().path.toArray(),l.last().path.toArray()),x=l.getIterator(),P=x.getNext();return ue(n).$t({range:v},function(j,_e,Le){for(var lt=an.fromSegments(j);P&&an.comparator(P,lt)<0;)p(P,null),P=x.getNext();P&&P.isEqual(lt)&&(p(P,_e),P=x.hasNext()?x.getNext():null),P?Le.Ct(P.path.toArray()):Le.done()}).next(function(){for(;P;)p(P,null),P=x.hasNext()?x.getNext():null})},c.prototype.getDocumentsMatchingQuery=function(n,l,p){var v=this,x=er(),P=l.path.length+1,j={};if(p.isEqual(te.min())){var _e=l.path.toArray();j.range=IDBKeyRange.lowerBound(_e)}else{var Le=l.path.toArray(),lt=Ro(p);j.range=IDBKeyRange.lowerBound([Le,lt],!0),j.index=Qi.collectionReadTimeIndex}return ue(n).$t(j,function(Bt,Xt,Fn){if(Bt.length===P){var xn=Xr(v.R,Xt);l.path.isPrefixOf(xn.key.path)?jt(l,xn)&&(x=x.insert(xn.key,xn)):Fn.done()}}).next(function(){return x})},c.prototype.newChangeBuffer=function(n){return new H(this,!!n&&n.trackRemovals)},c.prototype.getSize=function(n){return this.getMetadata(n).next(function(l){return l.byteSize})},c.prototype.getMetadata=function(n){return B(n).get(Ts.key).next(function(l){return Ke(!!l),l})},c.prototype.me=function(n,l){return B(n).put(Ts.key,l)},c.prototype.ye=function(n,l){if(l){var p=Xr(this.R,l);if(!p.isNoDocument()||!p.version.isEqual(te.min()))return p}return Ce.newInvalidDocument(n)},c}(),H=function(c){function n(l,p){var v=this;return(v=c.call(this)||this).Ie=l,v.trackRemovals=p,v.Ae=new So(function(x){return x.toString()},function(x,P){return x.isEqual(P)}),v}return(0,d.__extends)(n,c),n.prototype.applyChanges=function(l){var p=this,v=[],x=0,P=new fo(function(j,_e){return Tt(j.canonicalString(),_e.canonicalString())});return this.changes.forEach(function(j,_e){var Le=p.Ae.get(j);if(_e.document.isValidDocument()){var lt=io(p.Ie.R,_e.document,p.getReadTime(j));P=P.add(j.path.popLast());var Bt=D(lt);x+=Bt-Le,v.push(p.Ie.addEntry(l,j,lt))}else if(x-=Le,p.trackRemovals){var Xt=io(p.Ie.R,Ce.newNoDocument(j,te.min()),p.getReadTime(j));v.push(p.Ie.addEntry(l,j,Xt))}else v.push(p.Ie.removeEntry(l,j))}),P.forEach(function(j){v.push(p.Ie.Ut.addToCollectionParentIndex(l,j))}),v.push(this.Ie.updateMetadata(l,x)),me.waitFor(v)},n.prototype.getFromCache=function(l,p){var v=this;return this.Ie.ge(l,p).next(function(x){return v.Ae.set(p,x.size),x.document})},n.prototype.getAllFromCache=function(l,p){var v=this;return this.Ie.Ee(l,p).next(function(x){var P=x.documents;return x.Te.forEach(function(j,_e){v.Ae.set(j,_e)}),P})},n}(Xa);function B(c){return Ai(c,Ts.store)}function ue(c){return Ai(c,Qi.store)}function Ae(c){return c.path.toArray()}var Je=function(){function c(n){this.R=n}return c.prototype.Rt=function(n,l,p,v){var x=this;Ke(p<v&&p>=0&&v<=11);var _e,P=new N("createOrUpgrade",l);p<1&&v>=1&&(n.createObjectStore(go.store),(_e=n).createObjectStore(qr.store,{keyPath:qr.keyPath}),_e.createObjectStore(Ur.store,{keyPath:Ur.keyPath,autoIncrement:!0}).createIndex(Ur.userMutationsIndex,Ur.userMutationsKeyPath,{unique:!0}),_e.createObjectStore(zn.store),It(n),function(_e){_e.createObjectStore(Qi.store)}(n));var j=me.resolve();return p<3&&v>=3&&(0!==p&&(function(_e){_e.deleteObjectStore($r.store),_e.deleteObjectStore(Nr.store),_e.deleteObjectStore(Bo.store)}(n),It(n)),j=j.next(function(){return function(_e){var Le=_e.store(Bo.store),lt=new Bo(0,0,te.min().toTimestamp(),0);return Le.put(Bo.key,lt)}(P)})),p<4&&v>=4&&(0!==p&&(j=j.next(function(){return function(_e,Le){return Le.store(Ur.store).Nt().next(function(lt){_e.deleteObjectStore(Ur.store),_e.createObjectStore(Ur.store,{keyPath:Ur.keyPath,autoIncrement:!0}).createIndex(Ur.userMutationsIndex,Ur.userMutationsKeyPath,{unique:!0});var Bt=Le.store(Ur.store),Xt=lt.map(function(Fn){return Bt.put(Fn)});return me.waitFor(Xt)})}(n,P)})),j=j.next(function(){!function(_e){_e.createObjectStore(Hr.store,{keyPath:Hr.keyPath})}(n)})),p<5&&v>=5&&(j=j.next(function(){return x.Re(P)})),p<6&&v>=6&&(j=j.next(function(){return function(_e){_e.createObjectStore(Ts.store)}(n),x.be(P)})),p<7&&v>=7&&(j=j.next(function(){return x.ve(P)})),p<8&&v>=8&&(j=j.next(function(){return x.Pe(n,P)})),p<9&&v>=9&&(j=j.next(function(){(function(_e){_e.objectStoreNames.contains("remoteDocumentChanges")&&_e.deleteObjectStore("remoteDocumentChanges")})(n),function(_e){var Le=_e.objectStore(Qi.store);Le.createIndex(Qi.readTimeIndex,Qi.readTimeIndexPath,{unique:!1}),Le.createIndex(Qi.collectionReadTimeIndex,Qi.collectionReadTimeIndexPath,{unique:!1})}(l)})),p<10&&v>=10&&(j=j.next(function(){return x.Ve(P)})),p<11&&v>=11&&(j=j.next(function(){(function(_e){_e.createObjectStore(Ws.store,{keyPath:Ws.keyPath})})(n),function(_e){_e.createObjectStore(hs.store,{keyPath:hs.keyPath})}(n)})),j},c.prototype.be=function(n){var l=0;return n.store(Qi.store).$t(function(p,v){l+=D(v)}).next(function(){var p=new Ts(l);return n.store(Ts.store).put(Ts.key,p)})},c.prototype.Re=function(n){var l=this,p=n.store(qr.store),v=n.store(Ur.store);return p.Nt().next(function(x){return me.forEach(x,function(P){var j=IDBKeyRange.bound([P.userId,-1],[P.userId,P.lastAcknowledgedBatchId]);return v.Nt(Ur.userMutationsIndex,j).next(function(_e){return me.forEach(_e,function(Le){Ke(Le.userId===P.userId);var lt=Sr(l.R,Le);return Ji(n,P.userId,lt).next(function(){})})})})})},c.prototype.ve=function(n){var l=n.store($r.store),p=n.store(Qi.store);return n.store(Bo.store).get(Bo.key).next(function(v){var x=[];return p.$t(function(P,j){var _e=new Ze(P),Le=[0,Y(_e)];x.push(l.get(Le).next(function(lt){return lt?me.resolve():l.put(new $r(0,Y(_e),v.highestListenSequenceNumber))}))}).next(function(){return me.waitFor(x)})})},c.prototype.Pe=function(n,l){n.createObjectStore(As.store,{keyPath:As.keyPath});var p=l.store(As.store),v=new Xo,x=function(P){if(v.add(P)){var j=P.lastSegment(),_e=P.popLast();return p.put({collectionId:j,parent:Y(_e)})}};return l.store(Qi.store).$t({kt:!0},function(P,j){var _e=new Ze(P);return x(_e.popLast())}).next(function(){return l.store(zn.store).$t({kt:!0},function(P,j){var Le=Ti(P[1]);return x(Le.popLast())})})},c.prototype.Ve=function(n){var l=this,p=n.store(Nr.store);return p.$t(function(v,x){var P=xo(x),j=ro(l.R,P);return p.put(j)})},c}();function It(c){c.createObjectStore($r.store,{keyPath:$r.keyPath}).createIndex($r.documentTargetsIndex,$r.documentTargetsKeyPath,{unique:!0}),c.createObjectStore(Nr.store,{keyPath:Nr.keyPath}).createIndex(Nr.queryTargetsIndexName,Nr.queryTargetsKeyPath,{unique:!0}),c.createObjectStore(Bo.store)}var en="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Kn=function(){function c(n,l,p,v,x,P,j,_e,Le,lt){if(this.allowTabSynchronization=n,this.persistenceKey=l,this.clientId=p,this.Se=x,this.window=P,this.document=j,this.De=Le,this.Ce=lt,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(Bt){return Promise.resolve()},!c.yt())throw new pe(xe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Da(this,v),this.Le=l+"main",this.R=new Gi(_e),this.Be=new L(this.Le,11,new Je(this.R)),this.qe=new Ri(this.referenceDelegate,this.R),this.Ut=new ea,this.Ue=new K(this.R,this.Ut),this.Ke=new cs,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===lt&&qe("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return c.prototype.start=function(){var n=this;return this.je().then(function(){if(!n.isPrimary&&!n.allowTabSynchronization)throw new pe(xe.FAILED_PRECONDITION,en);return n.We(),n.Ge(),n.ze(),n.runTransaction("getHighestListenSequenceNumber","readonly",function(l){return n.qe.getHighestSequenceNumber(l)})}).then(function(l){n.Ne=new W(l,n.De)}).then(function(){n.xe=!0}).catch(function(l){return n.Be&&n.Be.close(),Promise.reject(l)})},c.prototype.He=function(n){var l=this;return this.Me=function(p){return(0,d.__awaiter)(l,void 0,void 0,function(){return(0,d.__generator)(this,function(v){return this.started?[2,n(p)]:[2]})})},n(this.isPrimary)},c.prototype.setDatabaseDeletedListener=function(n){var l=this;this.Be.vt(function(p){return(0,d.__awaiter)(l,void 0,void 0,function(){return(0,d.__generator)(this,function(v){switch(v.label){case 0:return null===p.newVersion?[4,n()]:[3,2];case 1:v.sent(),v.label=2;case 2:return[2]}})})})},c.prototype.setNetworkEnabled=function(n){var l=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Se.enqueueAndForget(function(){return(0,d.__awaiter)(l,void 0,void 0,function(){return(0,d.__generator)(this,function(p){switch(p.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})}))},c.prototype.je=function(){var n=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(l){return Mr(l).put(new Hr(n.clientId,Date.now(),n.networkEnabled,n.inForeground)).next(function(){if(n.isPrimary)return n.Je(l).next(function(p){p||(n.isPrimary=!1,n.Se.enqueueRetryable(function(){return n.Me(!1)}))})}).next(function(){return n.Ye(l)}).next(function(p){return n.isPrimary&&!p?n.Xe(l).next(function(){return!1}):!!p&&n.Ze(l).next(function(){return!0})})}).catch(function(l){if(_t(l))return Q("IndexedDbPersistence","Failed to extend owner lease: ",l),n.isPrimary;if(!n.allowTabSynchronization)throw l;return Q("IndexedDbPersistence","Releasing owner lease after error during lease refresh",l),!1}).then(function(l){n.isPrimary!==l&&n.Se.enqueueRetryable(function(){return n.Me(l)}),n.isPrimary=l})},c.prototype.Je=function(n){var l=this;return Oi(n).get(go.key).next(function(p){return me.resolve(l.tn(p))})},c.prototype.en=function(n){return Mr(n).delete(this.clientId)},c.prototype.nn=function(){return(0,d.__awaiter)(this,void 0,void 0,function(){var n,l,p,x=this;return(0,d.__generator)(this,function(P){switch(P.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(j){var _e=Ai(j,Hr.store);return _e.Nt().next(function(Le){var lt=x.rn(Le,18e5),Bt=Le.filter(function(Xt){return-1===lt.indexOf(Xt)});return me.forEach(Bt,function(Xt){return _e.delete(Xt.clientId)}).next(function(){return Bt})})}).catch(function(){return[]})]);case 1:if(n=P.sent(),this.Qe)for(l=0,p=n;l<p.length;l++)this.Qe.removeItem(this.on(p[l].clientId));P.label=2;case 2:return[2]}})})},c.prototype.ze=function(){var n=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return n.je().then(function(){return n.nn()}).then(function(){return n.ze()})})},c.prototype.tn=function(n){return!!n&&n.ownerId===this.clientId},c.prototype.Ye=function(n){var l=this;return this.Ce?me.resolve(!0):Oi(n).get(go.key).next(function(p){if(null!==p&&l.sn(p.leaseTimestampMs,5e3)&&!l.cn(p.ownerId)){if(l.tn(p)&&l.networkEnabled)return!0;if(!l.tn(p)){if(!p.allowTabSynchronization)throw new pe(xe.FAILED_PRECONDITION,en);return!1}}return!(!l.networkEnabled||!l.inForeground)||Mr(n).Nt().next(function(v){return void 0===l.rn(v,5e3).find(function(x){return!(l.clientId===x.clientId||!(!l.networkEnabled&&x.networkEnabled||!l.inForeground&&x.inForeground&&l.networkEnabled===x.networkEnabled))})})}).next(function(p){return l.isPrimary!==p&&Q("IndexedDbPersistence","Client "+(p?"is":"is not")+" eligible for a primary lease."),p})},c.prototype.shutdown=function(){return(0,d.__awaiter)(this,void 0,void 0,function(){var n=this;return(0,d.__generator)(this,function(l){switch(l.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[go.store,Hr.store],function(p){var v=new xi(p,W.o);return n.Xe(v).next(function(){return n.en(v)})})];case 1:return l.sent(),this.Be.close(),this.ln(),[2]}})})},c.prototype.rn=function(n,l){var p=this;return n.filter(function(v){return p.sn(v.updateTimeMs,l)&&!p.cn(v.clientId)})},c.prototype.fn=function(){var n=this;return this.runTransaction("getActiveClients","readonly",function(l){return Mr(l).Nt().next(function(p){return n.rn(p,18e5).map(function(v){return v.clientId})})})},Object.defineProperty(c.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),c.prototype.getMutationQueue=function(n){return $.Qt(n,this.R,this.Ut,this.referenceDelegate)},c.prototype.getTargetCache=function(){return this.qe},c.prototype.getRemoteDocumentCache=function(){return this.Ue},c.prototype.getIndexManager=function(){return this.Ut},c.prototype.getBundleCache=function(){return this.Ke},c.prototype.runTransaction=function(n,l,p){var x,v=this;return Q("IndexedDbPersistence","Starting transaction:",n),this.Be.runTransaction(n,"readonly"===l?"readonly":"readwrite",Is,function(j){return x=new xi(j,v.Ne?v.Ne.next():W.o),"readwrite-primary"===l?v.Je(x).next(function(_e){return!!_e||v.Ye(x)}).next(function(_e){if(!_e)throw qe("Failed to obtain primary lease for action '"+n+"'."),v.isPrimary=!1,v.Se.enqueueRetryable(function(){return v.Me(!1)}),new pe(xe.FAILED_PRECONDITION,mr);return p(x)}).next(function(_e){return v.Ze(x).next(function(){return _e})}):v.dn(x).next(function(){return p(x)})}).then(function(j){return x.raiseOnCommittedEvent(),j})},c.prototype.dn=function(n){var l=this;return Oi(n).get(go.key).next(function(p){if(null!==p&&l.sn(p.leaseTimestampMs,5e3)&&!l.cn(p.ownerId)&&!l.tn(p)&&!(l.Ce||l.allowTabSynchronization&&p.allowTabSynchronization))throw new pe(xe.FAILED_PRECONDITION,en)})},c.prototype.Ze=function(n){var l=new go(this.clientId,this.allowTabSynchronization,Date.now());return Oi(n).put(go.key,l)},c.yt=function(){return L.yt()},c.prototype.Xe=function(n){var l=this,p=Oi(n);return p.get(go.key).next(function(v){return l.tn(v)?(Q("IndexedDbPersistence","Releasing primary lease."),p.delete(go.key)):me.resolve()})},c.prototype.sn=function(n,l){var p=Date.now();return!(n<p-l||n>p&&(qe("Detected an update time that is in the future: "+n+" > "+p),1))},c.prototype.We=function(){var n=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){n.Se.enqueueAndForget(function(){return n.inForeground="visible"===n.document.visibilityState,n.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},c.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},c.prototype.Ge=function(){var n,l=this;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Fe=function(){l.un(),(0,_.isSafari)()&&navigator.appVersion.match("Version/14")&&l.Se.enterRestrictedMode(!0),l.Se.enqueueAndForget(function(){return l.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},c.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},c.prototype.cn=function(n){var l;try{var p=null!==(null===(l=this.Qe)||void 0===l?void 0:l.getItem(this.on(n)));return Q("IndexedDbPersistence","Client '"+n+"' "+(p?"is":"is not")+" zombied in LocalStorage"),p}catch(v){return qe("IndexedDbPersistence","Failed to get zombied client id.",v),!1}},c.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(n){qe("Failed to set zombie client id.",n)}},c.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(n){}},c.prototype.on=function(n){return"firestore_zombie_"+this.persistenceKey+"_"+n},c}();function Oi(c){return Ai(c,go.store)}function Mr(c){return Ai(c,Hr.store)}function $i(c,n){var l=c.projectId;return c.isDefaultDatabase||(l+="."+c.database),"firestore/"+n+"/"+l+"/"}var Oo=function(c,n){this.progress=c,this.wn=n},Qr=function(){function c(n,l,p){this.Ue=n,this._n=l,this.Ut=p}return c.prototype.mn=function(n,l){var p=this;return this._n.getAllMutationBatchesAffectingDocumentKey(n,l).next(function(v){return p.yn(n,l,v)})},c.prototype.yn=function(n,l,p){return this.Ue.getEntry(n,l).next(function(v){for(var x=0,P=p;x<P.length;x++)P[x].applyToLocalView(v);return v})},c.prototype.gn=function(n,l){n.forEach(function(p,v){for(var x=0,P=l;x<P.length;x++)P[x].applyToLocalView(v)})},c.prototype.pn=function(n,l){var p=this;return this.Ue.getEntries(n,l).next(function(v){return p.En(n,v).next(function(){return v})})},c.prototype.En=function(n,l){var p=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(n,l).next(function(v){return p.gn(l,v)})},c.prototype.getDocumentsMatchingQuery=function(n,l,p){return an.isDocumentKey((v=l).path)&&null===v.collectionGroup&&0===v.filters.length?this.Tn(n,l.path):Pt(l)?this.In(n,l,p):this.An(n,l,p);var v},c.prototype.Tn=function(n,l){return this.mn(n,new an(l)).next(function(p){var v=is();return p.isFoundDocument()&&(v=v.insert(p.key,p)),v})},c.prototype.In=function(n,l,p){var v=this,x=l.collectionGroup,P=is();return this.Ut.getCollectionParents(n,x).next(function(j){return me.forEach(j,function(_e){var lt,Bt,Le=(lt=l,Bt=_e.child(x),new ut(Bt,null,lt.explicitOrderBy.slice(),lt.filters.slice(),lt.limit,lt.limitType,lt.startAt,lt.endAt));return v.An(n,Le,p).next(function(lt){lt.forEach(function(Bt,Xt){P=P.insert(Bt,Xt)})})}).next(function(){return P})})},c.prototype.An=function(n,l,p){var v,x,P=this;return this.Ue.getDocumentsMatchingQuery(n,l,p).next(function(j){return v=j,P._n.getAllMutationBatchesAffectingQuery(n,l)}).next(function(j){return P.Rn(n,x=j,v).next(function(_e){v=_e;for(var Le=0,lt=x;Le<lt.length;Le++)for(var Bt=lt[Le],Xt=0,Fn=Bt.mutations;Xt<Fn.length;Xt++){var xn=Fn[Xt],C=xn.key,I=v.get(C);null==I&&(I=Ce.newInvalidDocument(C),v=v.insert(C,I)),Hi(xn,I,Bt.localWriteTime),I.isFoundDocument()||(v=v.remove(C))}})}).next(function(){return v.forEach(function(j,_e){jt(l,_e)||(v=v.remove(j))}),v})},c.prototype.Rn=function(n,l,p){for(var v=Dr(),x=0,P=l;x<P.length;x++)for(var j=0,_e=P[x].mutations;j<_e.length;j++){var Le=_e[j];Le instanceof sr&&null===p.get(Le.key)&&(v=v.add(Le.key))}var lt=p;return this.Ue.getEntries(n,v).next(function(Bt){return Bt.forEach(function(Xt,Fn){Fn.isFoundDocument()&&(lt=lt.insert(Xt,Fn))}),lt})},c}(),Es=function(){function c(n,l,p,v){this.targetId=n,this.fromCache=l,this.bn=p,this.vn=v}return c.Pn=function(n,l){for(var p=Dr(),v=Dr(),x=0,P=l.docChanges;x<P.length;x++){var j=P[x];switch(j.type){case 0:p=p.add(j.doc.key);break;case 1:v=v.add(j.doc.key)}}return new c(n,l.fromCache,p,v)},c}(),el=function(){function c(){}return c.prototype.Vn=function(n){this.Sn=n},c.prototype.getDocumentsMatchingQuery=function(n,l,p,v){var P,x=this;return 0===(P=l).filters.length&&null===P.limit&&null==P.startAt&&null==P.endAt&&(0===P.explicitOrderBy.length||1===P.explicitOrderBy.length&&P.explicitOrderBy[0].field.isKeyField())||p.isEqual(te.min())?this.Dn(n,l):this.Sn.pn(n,v).next(function(P){var j=x.Cn(l,P);return(on(l)||Sn(l))&&x.Nn(l.limitType,j,v,p)?x.Dn(n,l):(Ve()<=e.LogLevel.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",p.toString(),ct(l)),x.Sn.getDocumentsMatchingQuery(n,l,p).next(function(_e){return j.forEach(function(Le){_e=_e.insert(Le.key,Le)}),_e}))})},c.prototype.Cn=function(n,l){var p=new fo(In(n));return l.forEach(function(v,x){jt(n,x)&&(p=p.add(x))}),p},c.prototype.Nn=function(n,l,p,v){if(p.size!==l.size)return!0;var x="F"===n?l.last():l.first();return!!x&&(x.hasPendingWrites||x.version.compareTo(v)>0)},c.prototype.Dn=function(n,l){return Ve()<=e.LogLevel.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",ct(l)),this.Sn.getDocumentsMatchingQuery(n,l,te.min())},c}(),xl=function(){function c(n,l,p,v){this.persistence=n,this.xn=l,this.R=v,this.Fn=new Vr(Tt),this.kn=new So(function(x){return nn(x)},On),this.$n=te.min(),this._n=n.getMutationQueue(p),this.On=n.getRemoteDocumentCache(),this.qe=n.getTargetCache(),this.Mn=new Qr(this.On,this._n,this.persistence.getIndexManager()),this.Ke=n.getBundleCache(),this.xn.Vn(this.Mn)}return c.prototype.collectGarbage=function(n){var l=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(p){return n.collect(p,l.Fn)})},c}();function Ea(c,n,l,p){return new xl(c,n,l,p)}function Fo(c,n){return(0,d.__awaiter)(this,void 0,void 0,function(){var l,p,v,x;return(0,d.__generator)(this,function(P){switch(P.label){case 0:return l=dt(c),p=l._n,v=l.Mn,[4,l.persistence.runTransaction("Handle user change","readonly",function(j){var _e;return l._n.getAllMutationBatches(j).next(function(Le){return _e=Le,p=l.persistence.getMutationQueue(n),v=new Qr(l.On,p,l.persistence.getIndexManager()),p.getAllMutationBatches(j)}).next(function(Le){for(var lt=[],Bt=[],Xt=Dr(),Fn=0,xn=_e;Fn<xn.length;Fn++){var C=xn[Fn];lt.push(C.batchId);for(var I=0,g=C.mutations;I<g.length;I++)Xt=Xt.add(g[I].key)}for(var U=0,he=Le;U<he.length;U++){var xt=he[U];Bt.push(xt.batchId);for(var yn=0,Ui=xt.mutations;yn<Ui.length;yn++)Xt=Xt.add(Ui[yn].key)}return v.pn(j,Xt).next(function(ts){return{Ln:ts,removedBatchIds:lt,addedBatchIds:Bt}})})})];case 1:return x=P.sent(),[2,(l._n=p,l.Mn=v,l.xn.Vn(l.Mn),x)]}})})}function Lo(c,n){var l=dt(c);return l.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(p){var P,j,_e,Le,lt,Bt,Xt,v=n.batch.keys(),x=l.On.newChangeBuffer({trackRemovals:!0});return(P=l,j=p,_e=n,Le=x,lt=_e.batch,Bt=lt.keys(),Xt=me.resolve(),Bt.forEach(function(Fn){Xt=Xt.next(function(){return Le.getEntry(j,Fn)}).next(function(xn){var C=_e.docVersions.get(Fn);Ke(null!==C),xn.version.compareTo(C)<0&&(lt.applyToRemoteDocument(xn,_e),xn.isValidDocument()&&Le.addEntry(xn,_e.commitVersion))})}),Xt.next(function(){return P._n.removeMutationBatch(j,lt)})).next(function(){return x.apply(p)}).next(function(){return l._n.performConsistencyCheck(p)}).next(function(){return l.Mn.pn(p,v)})})}function Ml(c){var n=dt(c);return n.persistence.runTransaction("Get last remote snapshot version","readonly",function(l){return n.qe.getLastRemoteSnapshotVersion(l)})}function Di(c,n){var l=dt(c),p=n.snapshotVersion,v=l.Fn;return l.persistence.runTransaction("Apply remote event","readwrite-primary",function(x){var P=l.On.newChangeBuffer({trackRemovals:!0});v=l.Fn;var j=[];n.targetChanges.forEach(function(lt,Bt){var C,I,g,Xt=v.get(Bt);if(Xt){j.push(l.qe.removeMatchingKeys(x,lt.removedDocuments,Bt).next(function(){return l.qe.addMatchingKeys(x,lt.addedDocuments,Bt)}));var Fn=lt.resumeToken;if(Fn.approximateByteSize()>0){var xn=Xt.withResumeToken(Fn,p).withSequenceNumber(x.currentSequenceNumber);v=v.insert(Bt,xn),C=Xt,g=lt,Ke((I=xn).resumeToken.approximateByteSize()>0),(0===C.resumeToken.approximateByteSize()||I.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&j.push(l.qe.updateTargetData(x,xn))}}});var _e=er();if(n.documentUpdates.forEach(function(lt,Bt){n.resolvedLimboDocuments.has(lt)&&j.push(l.persistence.referenceDelegate.updateLimboDocument(x,lt))}),j.push(us(x,P,n.documentUpdates,p,void 0).next(function(lt){_e=lt})),!p.isEqual(te.min())){var Le=l.qe.getLastRemoteSnapshotVersion(x).next(function(lt){return l.qe.setTargetsMetadata(x,x.currentSequenceNumber,p)});j.push(Le)}return me.waitFor(j).next(function(){return P.apply(x)}).next(function(){return l.Mn.En(x,_e)}).next(function(){return _e})}).then(function(x){return l.Fn=v,x})}function us(c,n,l,p,v){var x=Dr();return l.forEach(function(P){return x=x.add(P)}),n.getEntries(c,x).next(function(P){var j=er();return l.forEach(function(_e,Le){var lt=P.get(_e),Bt=(null==v?void 0:v.get(_e))||p;Le.isNoDocument()&&Le.version.isEqual(te.min())?(n.removeEntry(_e,Bt),j=j.insert(_e,Le)):!lt.isValidDocument()||Le.version.compareTo(lt.version)>0||0===Le.version.compareTo(lt.version)&&lt.hasPendingWrites?(n.addEntry(Le,Bt),j=j.insert(_e,Le)):Q("LocalStore","Ignoring outdated watch update for ",_e,". Current version:",lt.version," Watch version:",Le.version)}),j})}function Fa(c,n){var l=dt(c);return l.persistence.runTransaction("Get next mutation batch","readonly",function(p){return void 0===n&&(n=-1),l._n.getNextMutationBatchAfterBatchId(p,n)})}function hl(c,n){var l=dt(c);return l.persistence.runTransaction("Allocate target","readwrite",function(p){var v;return l.qe.getTargetData(p,n).next(function(x){return x?me.resolve(v=x):l.qe.allocateTargetId(p).next(function(P){return v=new Yi(n,P,0,p.currentSequenceNumber),l.qe.addTargetData(p,v).next(function(){return v})})})}).then(function(p){var v=l.Fn.get(p.targetId);return(null===v||p.snapshotVersion.compareTo(v.snapshotVersion)>0)&&(l.Fn=l.Fn.insert(p.targetId,p),l.kn.set(n,p.targetId)),p})}function fs(c,n,l){return(0,d.__awaiter)(this,void 0,void 0,function(){var p,v,x,P;return(0,d.__generator)(this,function(j){switch(j.label){case 0:p=dt(c),v=p.Fn.get(n),x=l?"readwrite":"readwrite-primary",j.label=1;case 1:return j.trys.push([1,4,,5]),l?[3,3]:[4,p.persistence.runTransaction("Release target",x,function(_e){return p.persistence.referenceDelegate.removeTarget(_e,v)})];case 2:j.sent(),j.label=3;case 3:return[3,5];case 4:if(!_t(P=j.sent()))throw P;return Q("LocalStore","Failed to update sequence numbers for target "+n+": "+P),[3,5];case 5:return p.Fn=p.Fn.remove(n),p.kn.delete(v.target),[2]}})})}function tl(c,n,l){var p=dt(c),v=te.min(),x=Dr();return p.persistence.runTransaction("Execute query","readonly",function(P){return(j=p,_e=P,Le=Zt(n),lt=dt(j),Bt=lt.kn.get(Le),void 0!==Bt?me.resolve(lt.Fn.get(Bt)):lt.qe.getTargetData(_e,Le)).next(function(j){if(j)return v=j.lastLimboFreeSnapshotVersion,p.qe.getMatchingKeysForTargetId(P,j.targetId).next(function(_e){x=_e})}).next(function(){return p.xn.getDocumentsMatchingQuery(P,n,l?v:te.min(),l?x:Dr())}).next(function(j){return{documents:j,Bn:x}});var j,_e,Le,lt,Bt})}function nl(c,n){var l=dt(c),p=dt(l.qe),v=l.Fn.get(n);return v?Promise.resolve(v.target):l.persistence.runTransaction("Get target data","readonly",function(x){return p.lt(x,n).next(function(P){return P?P.target:null})})}function ta(c){var n=dt(c);return n.persistence.runTransaction("Get new document changes","readonly",function(l){return v=l,x=n.$n,P=dt(n.On),j=er(),_e=Ro(x),Le=ue(v),lt=IDBKeyRange.lowerBound(_e,!0),Le.$t({index:Qi.readTimeIndex,range:lt},function(Bt,Xt){var Fn=Xr(P.R,Xt);j=j.insert(Fn.key,Fn),_e=Xt.readTime}).next(function(){return{wn:j,readTime:ss(_e)}});var v,x,P,j,_e,Le,lt}).then(function(l){var p=l.wn;return n.$n=l.readTime,p})}function Qc(c){return(0,d.__awaiter)(this,void 0,void 0,function(){var n;return(0,d.__generator)(this,function(l){return[2,(n=dt(c)).persistence.runTransaction("Synchronize last document change read time","readonly",function(p){return x=ue(p),P=te.min(),x.$t({index:Qi.readTimeIndex,reverse:!0},function(j,_e,Le){_e.readTime&&(P=ss(_e.readTime)),Le.done()}).next(function(){return P});var x,P}).then(function(p){n.$n=p})]})})}function La(c,n,l,p){return(0,d.__awaiter)(this,void 0,void 0,function(){var v,x,P,j,_e,Le,lt,Bt,Xt,Fn;return(0,d.__generator)(this,function(xn){switch(xn.label){case 0:for(v=dt(c),x=Dr(),P=er(),j=Uo(),_e=0,Le=l;_e<Le.length;_e++)Bt=n.qn((lt=Le[_e]).metadata.name),lt.document&&(x=x.add(Bt)),P=P.insert(Bt,n.Un(lt)),j=j.insert(Bt,n.Kn(lt.metadata.readTime));return Xt=v.On.newChangeBuffer({trackRemovals:!0}),[4,hl(v,(C=p,Zt(Ct(Ze.fromString("__bundle__/docs/"+C)))))];case 1:return Fn=xn.sent(),[2,v.persistence.runTransaction("Apply bundle documents","readwrite",function(C){return us(C,Xt,P,te.min(),j).next(function(I){return Xt.apply(C),I}).next(function(I){return v.qe.removeMatchingKeysForTargetId(C,Fn.targetId).next(function(){return v.qe.addMatchingKeys(C,x,Fn.targetId)}).next(function(){return v.Mn.En(C,I)}).next(function(){return I})})})]}var C})})}function Ta(c,n,l){return void 0===l&&(l=Dr()),(0,d.__awaiter)(this,void 0,void 0,function(){var p,v;return(0,d.__generator)(this,function(x){switch(x.label){case 0:return[4,hl(c,Zt(Vo(n.bundledQuery)))];case 1:return p=x.sent(),[2,(v=dt(c)).persistence.runTransaction("Save named query","readwrite",function(P){var j=rr(n.readTime);if(p.snapshotVersion.compareTo(j)>=0)return v.Ke.saveNamedQuery(P,n);var _e=p.withResumeToken(st.EMPTY_BYTE_STRING,j);return v.Fn=v.Fn.insert(_e.targetId,_e),v.qe.updateTargetData(P,_e).next(function(){return v.qe.removeMatchingKeysForTargetId(P,p.targetId)}).next(function(){return v.qe.addMatchingKeys(P,l,p.targetId)}).next(function(){return v.Ke.saveNamedQuery(P,n)})})]}})})}var Bc=function(){function c(n){this.R=n,this.Qn=new Map,this.jn=new Map}return c.prototype.getBundleMetadata=function(n,l){return me.resolve(this.Qn.get(l))},c.prototype.saveBundleMetadata=function(n,l){var p;return this.Qn.set(l.id,{id:(p=l).id,version:p.version,createTime:rr(p.createTime)}),me.resolve()},c.prototype.getNamedQuery=function(n,l){return me.resolve(this.jn.get(l))},c.prototype.saveNamedQuery=function(n,l){return this.jn.set(l.name,{name:(p=l).name,query:Vo(p.bundledQuery),readTime:rr(p.readTime)}),me.resolve();var p},c}(),ys=function(){function c(){this.Wn=new fo(uo.Gn),this.zn=new fo(uo.Hn)}return c.prototype.isEmpty=function(){return this.Wn.isEmpty()},c.prototype.addReference=function(n,l){var p=new uo(n,l);this.Wn=this.Wn.add(p),this.zn=this.zn.add(p)},c.prototype.Jn=function(n,l){var p=this;n.forEach(function(v){return p.addReference(v,l)})},c.prototype.removeReference=function(n,l){this.Yn(new uo(n,l))},c.prototype.Xn=function(n,l){var p=this;n.forEach(function(v){return p.removeReference(v,l)})},c.prototype.Zn=function(n){var l=this,p=new an(new Ze([])),v=new uo(p,n),x=new uo(p,n+1),P=[];return this.zn.forEachInRange([v,x],function(j){l.Yn(j),P.push(j.key)}),P},c.prototype.ts=function(){var n=this;this.Wn.forEach(function(l){return n.Yn(l)})},c.prototype.Yn=function(n){this.Wn=this.Wn.delete(n),this.zn=this.zn.delete(n)},c.prototype.es=function(n){var l=new an(new Ze([])),p=new uo(l,n),v=new uo(l,n+1),x=Dr();return this.zn.forEachInRange([p,v],function(P){x=x.add(P.key)}),x},c.prototype.containsKey=function(n){var l=new uo(n,0),p=this.Wn.firstAfterOrEqual(l);return null!==p&&n.isEqual(p.key)},c}(),uo=function(){function c(n,l){this.key=n,this.ns=l}return c.Gn=function(n,l){return an.comparator(n.key,l.key)||Tt(n.ns,l.ns)},c.Hn=function(n,l){return Tt(n.ns,l.ns)||an.comparator(n.key,l.key)},c}(),na=function(){function c(n,l){this.Ut=n,this.referenceDelegate=l,this._n=[],this.ss=1,this.rs=new fo(uo.Gn)}return c.prototype.checkEmpty=function(n){return me.resolve(0===this._n.length)},c.prototype.addMutationBatch=function(n,l,p,v){var x=this.ss;this.ss++;var P=new cr(x,l,p,v);this._n.push(P);for(var j=0,_e=v;j<_e.length;j++){var Le=_e[j];this.rs=this.rs.add(new uo(Le.key,x)),this.Ut.addToCollectionParentIndex(n,Le.key.path.popLast())}return me.resolve(P)},c.prototype.lookupMutationBatch=function(n,l){return me.resolve(this.os(l))},c.prototype.getNextMutationBatchAfterBatchId=function(n,l){var v=this.cs(l+1),x=v<0?0:v;return me.resolve(this._n.length>x?this._n[x]:null)},c.prototype.getHighestUnacknowledgedBatchId=function(){return me.resolve(0===this._n.length?-1:this.ss-1)},c.prototype.getAllMutationBatches=function(n){return me.resolve(this._n.slice())},c.prototype.getAllMutationBatchesAffectingDocumentKey=function(n,l){var p=this,v=new uo(l,0),x=new uo(l,Number.POSITIVE_INFINITY),P=[];return this.rs.forEachInRange([v,x],function(j){var _e=p.os(j.ns);P.push(_e)}),me.resolve(P)},c.prototype.getAllMutationBatchesAffectingDocumentKeys=function(n,l){var p=this,v=new fo(Tt);return l.forEach(function(x){var P=new uo(x,0),j=new uo(x,Number.POSITIVE_INFINITY);p.rs.forEachInRange([P,j],function(_e){v=v.add(_e.ns)})}),me.resolve(this.us(v))},c.prototype.getAllMutationBatchesAffectingQuery=function(n,l){var p=l.path,v=p.length+1,x=p;an.isDocumentKey(x)||(x=x.child(""));var P=new uo(new an(x),0),j=new fo(Tt);return this.rs.forEachWhile(function(_e){var Le=_e.key.path;return!!p.isPrefixOf(Le)&&(Le.length===v&&(j=j.add(_e.ns)),!0)},P),me.resolve(this.us(j))},c.prototype.us=function(n){var l=this,p=[];return n.forEach(function(v){var x=l.os(v);null!==x&&p.push(x)}),p},c.prototype.removeMutationBatch=function(n,l){var p=this;Ke(0===this.hs(l.batchId,"removed")),this._n.shift();var v=this.rs;return me.forEach(l.mutations,function(x){var P=new uo(x.key,l.batchId);return v=v.delete(P),p.referenceDelegate.markPotentiallyOrphaned(n,x.key)}).next(function(){p.rs=v})},c.prototype.Gt=function(n){},c.prototype.containsKey=function(n,l){var p=new uo(l,0),v=this.rs.firstAfterOrEqual(p);return me.resolve(l.isEqual(v&&v.key))},c.prototype.performConsistencyCheck=function(n){return me.resolve()},c.prototype.hs=function(n,l){return this.cs(n)},c.prototype.cs=function(n){return 0===this._n.length?0:n-this._n[0].batchId},c.prototype.os=function(n){var l=this.cs(n);return l<0||l>=this._n.length?null:this._n[l]},c}(),Sl=function(){function c(n,l){this.Ut=n,this.ls=l,this.docs=new Vr(an.comparator),this.size=0}return c.prototype.addEntry=function(n,l,p){var v=l.key,x=this.docs.get(v),P=x?x.size:0,j=this.ls(l);return this.docs=this.docs.insert(v,{document:l.clone(),size:j,readTime:p}),this.size+=j-P,this.Ut.addToCollectionParentIndex(n,v.path.popLast())},c.prototype.removeEntry=function(n){var l=this.docs.get(n);l&&(this.docs=this.docs.remove(n),this.size-=l.size)},c.prototype.getEntry=function(n,l){var p=this.docs.get(l);return me.resolve(p?p.document.clone():Ce.newInvalidDocument(l))},c.prototype.getEntries=function(n,l){var p=this,v=er();return l.forEach(function(x){var P=p.docs.get(x);v=v.insert(x,P?P.document.clone():Ce.newInvalidDocument(x))}),me.resolve(v)},c.prototype.getDocumentsMatchingQuery=function(n,l,p){for(var v=er(),x=new an(l.path.child("")),P=this.docs.getIteratorFrom(x);P.hasNext();){var j=P.getNext(),Le=j.value,lt=Le.document,Bt=Le.readTime;if(!l.path.isPrefixOf(j.key.path))break;Bt.compareTo(p)<=0||jt(l,lt)&&(v=v.insert(lt.key,lt.clone()))}return me.resolve(v)},c.prototype.fs=function(n,l){return me.forEach(this.docs,function(p){return l(p)})},c.prototype.newChangeBuffer=function(n){return new vc(this)},c.prototype.getSize=function(n){return me.resolve(this.size)},c}(),vc=function(c){function n(l){var p=this;return(p=c.call(this)||this).Ie=l,p}return(0,d.__extends)(n,c),n.prototype.applyChanges=function(l){var p=this,v=[];return this.changes.forEach(function(x,P){P.document.isValidDocument()?v.push(p.Ie.addEntry(l,P.document,p.getReadTime(x))):p.Ie.removeEntry(x)}),me.waitFor(v)},n.prototype.getFromCache=function(l,p){return this.Ie.getEntry(l,p)},n.prototype.getAllFromCache=function(l,p){return this.Ie.getEntries(l,p)},n}(Xa),yc=function(){function c(n){this.persistence=n,this.ds=new So(function(l){return nn(l)},On),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.ws=0,this._s=new ys,this.targetCount=0,this.ys=ai.Jt()}return c.prototype.forEachTarget=function(n,l){return this.ds.forEach(function(p,v){return l(v)}),me.resolve()},c.prototype.getLastRemoteSnapshotVersion=function(n){return me.resolve(this.lastRemoteSnapshotVersion)},c.prototype.getHighestSequenceNumber=function(n){return me.resolve(this.ws)},c.prototype.allocateTargetId=function(n){return this.highestTargetId=this.ys.next(),me.resolve(this.highestTargetId)},c.prototype.setTargetsMetadata=function(n,l,p){return p&&(this.lastRemoteSnapshotVersion=p),l>this.ws&&(this.ws=l),me.resolve()},c.prototype.te=function(n){this.ds.set(n.target,n);var l=n.targetId;l>this.highestTargetId&&(this.ys=new ai(l),this.highestTargetId=l),n.sequenceNumber>this.ws&&(this.ws=n.sequenceNumber)},c.prototype.addTargetData=function(n,l){return this.te(l),this.targetCount+=1,me.resolve()},c.prototype.updateTargetData=function(n,l){return this.te(l),me.resolve()},c.prototype.removeTargetData=function(n,l){return this.ds.delete(l.target),this._s.Zn(l.targetId),this.targetCount-=1,me.resolve()},c.prototype.removeTargets=function(n,l,p){var v=this,x=0,P=[];return this.ds.forEach(function(j,_e){_e.sequenceNumber<=l&&null===p.get(_e.targetId)&&(v.ds.delete(j),P.push(v.removeMatchingKeysForTargetId(n,_e.targetId)),x++)}),me.waitFor(P).next(function(){return x})},c.prototype.getTargetCount=function(n){return me.resolve(this.targetCount)},c.prototype.getTargetData=function(n,l){var p=this.ds.get(l)||null;return me.resolve(p)},c.prototype.addMatchingKeys=function(n,l,p){return this._s.Jn(l,p),me.resolve()},c.prototype.removeMatchingKeys=function(n,l,p){this._s.Xn(l,p);var v=this.persistence.referenceDelegate,x=[];return v&&l.forEach(function(P){x.push(v.markPotentiallyOrphaned(n,P))}),me.waitFor(x)},c.prototype.removeMatchingKeysForTargetId=function(n,l){return this._s.Zn(l),me.resolve()},c.prototype.getMatchingKeysForTargetId=function(n,l){var p=this._s.es(l);return me.resolve(p)},c.prototype.containsKey=function(n,l){return me.resolve(this._s.containsKey(l))},c}(),td=function(){function c(n,l){var p=this;this.gs={},this.Ne=new W(0),this.xe=!1,this.xe=!0,this.referenceDelegate=n(this),this.qe=new yc(this),this.Ut=new eo,this.Ue=new Sl(this.Ut,function(P){return p.referenceDelegate.ps(P)}),this.R=new Gi(l),this.Ke=new Bc(this.R)}return c.prototype.start=function(){return Promise.resolve()},c.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(c.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),c.prototype.setDatabaseDeletedListener=function(){},c.prototype.setNetworkEnabled=function(){},c.prototype.getIndexManager=function(){return this.Ut},c.prototype.getMutationQueue=function(n){var l=this.gs[n.toKey()];return l||(l=new na(this.Ut,this.referenceDelegate),this.gs[n.toKey()]=l),l},c.prototype.getTargetCache=function(){return this.qe},c.prototype.getRemoteDocumentCache=function(){return this.Ue},c.prototype.getBundleCache=function(){return this.Ke},c.prototype.runTransaction=function(n,l,p){var v=this;Q("MemoryPersistence","Starting transaction:",n);var x=new Lu(this.Ne.next());return this.referenceDelegate.Es(),p(x).next(function(P){return v.referenceDelegate.Ts(x).next(function(){return P})}).toPromise().then(function(P){return x.raiseOnCommittedEvent(),P})},c.prototype.Is=function(n,l){return me.or(Object.values(this.gs).map(function(p){return function(){return p.containsKey(n,l)}}))},c}(),Lu=function(c){function n(l){var p=this;return(p=c.call(this)||this).currentSequenceNumber=l,p}return(0,d.__extends)(n,c),n}(qo),Bu=function(){function c(n){this.persistence=n,this.As=new ys,this.Rs=null}return c.bs=function(n){return new c(n)},Object.defineProperty(c.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ke()},enumerable:!1,configurable:!0}),c.prototype.addReference=function(n,l,p){return this.As.addReference(p,l),this.vs.delete(p.toString()),me.resolve()},c.prototype.removeReference=function(n,l,p){return this.As.removeReference(p,l),this.vs.add(p.toString()),me.resolve()},c.prototype.markPotentiallyOrphaned=function(n,l){return this.vs.add(l.toString()),me.resolve()},c.prototype.removeTarget=function(n,l){var p=this;this.As.Zn(l.targetId).forEach(function(x){return p.vs.add(x.toString())});var v=this.persistence.getTargetCache();return v.getMatchingKeysForTargetId(n,l.targetId).next(function(x){x.forEach(function(P){return p.vs.add(P.toString())})}).next(function(){return v.removeTargetData(n,l)})},c.prototype.Es=function(){this.Rs=new Set},c.prototype.Ts=function(n){var l=this,p=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.vs,function(v){var x=an.fromPath(v);return l.Ps(n,x).next(function(P){P||p.removeEntry(x)})}).next(function(){return l.Rs=null,p.apply(n)})},c.prototype.updateLimboDocument=function(n,l){var p=this;return this.Ps(n,l).next(function(v){v?p.vs.delete(l.toString()):p.vs.add(l.toString())})},c.prototype.ps=function(n){return 0},c.prototype.Ps=function(n,l){var p=this;return me.or([function(){return me.resolve(p.As.containsKey(l))},function(){return p.persistence.getTargetCache().containsKey(n,l)},function(){return p.persistence.Is(n,l)}])},c}(),Os=function(){function c(n){this.uid=n}return c.prototype.isAuthenticated=function(){return null!=this.uid},c.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},c.prototype.isEqual=function(n){return n.uid===this.uid},c}();function Uc(c,n){return"firestore_clients_"+c+"_"+n}function Go(c,n,l){var p="firestore_mutations_"+c+"_"+l;return n.isAuthenticated()&&(p+="_"+n.uid),p}function ql(c,n){return"firestore_targets_"+c+"_"+n}Os.UNAUTHENTICATED=new Os(null),Os.GOOGLE_CREDENTIALS=new Os("google-credentials-uid"),Os.FIRST_PARTY=new Os("first-party-uid");var ca=function(){function c(n,l,p,v){this.user=n,this.batchId=l,this.state=p,this.error=v}return c.Vs=function(n,l,p){var v,x=JSON.parse(p),P="object"==typeof x&&-1!==["pending","acknowledged","rejected"].indexOf(x.state)&&(void 0===x.error||"object"==typeof x.error);return P&&x.error&&(P="string"==typeof x.error.message&&"string"==typeof x.error.code)&&(v=new pe(x.error.code,x.error.message)),P?new c(n,l,x.state,v):(qe("SharedClientState","Failed to parse mutation state for ID '"+l+"': "+p),null)},c.prototype.Ss=function(){var n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)},c}(),Jc=function(){function c(n,l,p){this.targetId=n,this.state=l,this.error=p}return c.Vs=function(n,l){var p,v=JSON.parse(l),x="object"==typeof v&&-1!==["not-current","current","rejected"].indexOf(v.state)&&(void 0===v.error||"object"==typeof v.error);return x&&v.error&&(x="string"==typeof v.error.message&&"string"==typeof v.error.code)&&(p=new pe(v.error.code,v.error.message)),x?new c(n,v.state,p):(qe("SharedClientState","Failed to parse target state for ID '"+n+"': "+l),null)},c.prototype.Ss=function(){var n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)},c}(),Xc=function(){function c(n,l){this.clientId=n,this.activeTargetIds=l}return c.Vs=function(n,l){for(var p=JSON.parse(l),v="object"==typeof p&&p.activeTargetIds instanceof Array,x=ar(),P=0;v&&P<p.activeTargetIds.length;++P)v=_n(p.activeTargetIds[P]),x=x.add(p.activeTargetIds[P]);return v?new c(n,x):(qe("SharedClientState","Failed to parse client data for instance '"+n+"': "+l),null)},c}(),zo=function(){function c(n,l){this.clientId=n,this.onlineState=l}return c.Vs=function(n){var l=JSON.parse(n);return"object"==typeof l&&-1!==["Unknown","Online","Offline"].indexOf(l.onlineState)&&"string"==typeof l.clientId?new c(l.clientId,l.onlineState):(qe("SharedClientState","Failed to parse online state: "+n),null)},c}(),ks=function(){function c(){this.activeTargetIds=ar()}return c.prototype.Ds=function(n){this.activeTargetIds=this.activeTargetIds.add(n)},c.prototype.Cs=function(n){this.activeTargetIds=this.activeTargetIds.delete(n)},c.prototype.Ss=function(){var n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)},c}(),fl=function(){function c(n,l,p,v,x){this.window=n,this.Se=l,this.persistenceKey=p,this.Ns=v,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Vr(Tt),this.started=!1,this.$s=[];var P=p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=x,this.Os=Uc(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new ks),this.Ls=new RegExp("^firestore_clients_"+P+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+P+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+P+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(j){return"firestore_bundle_loaded_"+j}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return c.yt=function(n){return!(!n||!n.localStorage)},c.prototype.start=function(){return(0,d.__awaiter)(this,void 0,void 0,function(){var n,l,p,v,x,P,j,_e,Le,lt,Xt=this;return(0,d.__generator)(this,function(Fn){switch(Fn.label){case 0:return[4,this.syncEngine.fn()];case 1:for(n=Fn.sent(),l=0,p=n;l<p.length;l++)(v=p[l])!==this.Ns&&(x=this.getItem(Uc(this.persistenceKey,v)))&&(P=Xc.Vs(v,x))&&(this.ks=this.ks.insert(P.clientId,P));for(this.Qs(),(j=this.storage.getItem(this.Us))&&(_e=this.js(j))&&this.Ws(_e),Le=0,lt=this.$s;Le<lt.length;Le++)this.Fs(lt[Le]);return this.$s=[],this.window.addEventListener("pagehide",function(){return Xt.shutdown()}),this.started=!0,[2]}})})},c.prototype.writeSequenceNumber=function(n){this.setItem(this.Ms,JSON.stringify(n))},c.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},c.prototype.isActiveQueryTarget=function(n){var l=!1;return this.ks.forEach(function(p,v){v.activeTargetIds.has(n)&&(l=!0)}),l},c.prototype.addPendingMutation=function(n){this.zs(n,"pending")},c.prototype.updateMutationState=function(n,l,p){this.zs(n,l,p),this.Hs(n)},c.prototype.addLocalQueryTarget=function(n){var l="not-current";if(this.isActiveQueryTarget(n)){var p=this.storage.getItem(ql(this.persistenceKey,n));if(p){var v=Jc.Vs(n,p);v&&(l=v.state)}}return this.Js.Ds(n),this.Qs(),l},c.prototype.removeLocalQueryTarget=function(n){this.Js.Cs(n),this.Qs()},c.prototype.isLocalQueryTarget=function(n){return this.Js.activeTargetIds.has(n)},c.prototype.clearQueryState=function(n){this.removeItem(ql(this.persistenceKey,n))},c.prototype.updateQueryState=function(n,l,p){this.Ys(n,l,p)},c.prototype.handleUserChange=function(n,l,p){var v=this;l.forEach(function(x){v.Hs(x)}),this.currentUser=n,p.forEach(function(x){v.addPendingMutation(x)})},c.prototype.setOnlineState=function(n){this.Xs(n)},c.prototype.notifyBundleLoaded=function(){this.Zs()},c.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},c.prototype.getItem=function(n){var l=this.storage.getItem(n);return Q("SharedClientState","READ",n,l),l},c.prototype.setItem=function(n,l){Q("SharedClientState","SET",n,l),this.storage.setItem(n,l)},c.prototype.removeItem=function(n){Q("SharedClientState","REMOVE",n),this.storage.removeItem(n)},c.prototype.Fs=function(n){var l=this,p=n;if(p.storageArea===this.storage){if(Q("SharedClientState","EVENT",p.key,p.newValue),p.key===this.Os)return void qe("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,d.__awaiter)(l,void 0,void 0,function(){var v,x,P,j,_e,Le;return(0,d.__generator)(this,function(lt){if(this.started){if(null!==p.key)if(this.Ls.test(p.key)){if(null==p.newValue)return v=this.ti(p.key),[2,this.ei(v,null)];if(x=this.ni(p.key,p.newValue))return[2,this.ei(x.clientId,x)]}else if(this.Bs.test(p.key)){if(null!==p.newValue&&(P=this.si(p.key,p.newValue)))return[2,this.ii(P)]}else if(this.qs.test(p.key)){if(null!==p.newValue&&(j=this.ri(p.key,p.newValue)))return[2,this.oi(j)]}else if(p.key===this.Us){if(null!==p.newValue&&(_e=this.js(p.newValue)))return[2,this.Ws(_e)]}else if(p.key===this.Ms)(Le=function(Bt){var Xt=W.o;if(null!=Bt)try{var Fn=JSON.parse(Bt);Ke("number"==typeof Fn),Xt=Fn}catch(xn){qe("SharedClientState","Failed to read sequence number from WebStorage",xn)}return Xt}(p.newValue))!==W.o&&this.sequenceNumberHandler(Le);else if(p.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(p);return[2]})})})}},Object.defineProperty(c.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),c.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},c.prototype.zs=function(n,l,p){var v=new ca(this.currentUser,n,l,p),x=Go(this.persistenceKey,this.currentUser,n);this.setItem(x,v.Ss())},c.prototype.Hs=function(n){var l=Go(this.persistenceKey,this.currentUser,n);this.removeItem(l)},c.prototype.Xs=function(n){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:n}))},c.prototype.Ys=function(n,l,p){var v=ql(this.persistenceKey,n),x=new Jc(n,l,p);this.setItem(v,x.Ss())},c.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},c.prototype.ti=function(n){var l=this.Ls.exec(n);return l?l[1]:null},c.prototype.ni=function(n,l){var p=this.ti(n);return Xc.Vs(p,l)},c.prototype.si=function(n,l){var p=this.Bs.exec(n),v=Number(p[1]);return ca.Vs(new Os(void 0!==p[2]?p[2]:null),v,l)},c.prototype.ri=function(n,l){var p=this.qs.exec(n),v=Number(p[1]);return Jc.Vs(v,l)},c.prototype.js=function(n){return zo.Vs(n)},c.prototype.ii=function(n){return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(l){return n.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(n.batchId,n.state,n.error)]:(Q("SharedClientState","Ignoring mutation for non-active user "+n.user.uid),[2])})})},c.prototype.oi=function(n){return this.syncEngine.ai(n.targetId,n.state,n.error)},c.prototype.ei=function(n,l){var p=this,v=l?this.ks.insert(n,l):this.ks.remove(n),x=this.Gs(this.ks),P=this.Gs(v),j=[],_e=[];return P.forEach(function(Le){x.has(Le)||j.push(Le)}),x.forEach(function(Le){P.has(Le)||_e.push(Le)}),this.syncEngine.hi(j,_e).then(function(){p.ks=v})},c.prototype.Ws=function(n){this.ks.get(n.clientId)&&this.onlineStateHandler(n.onlineState)},c.prototype.Gs=function(n){var l=ar();return n.forEach(function(p,v){l=l.unionWith(v.activeTargetIds)}),l},c}(),pl=function(){function c(){this.li=new ks,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return c.prototype.addPendingMutation=function(n){},c.prototype.updateMutationState=function(n,l,p){},c.prototype.addLocalQueryTarget=function(n){return this.li.Ds(n),this.fi[n]||"not-current"},c.prototype.updateQueryState=function(n,l,p){this.fi[n]=l},c.prototype.removeLocalQueryTarget=function(n){this.li.Cs(n)},c.prototype.isLocalQueryTarget=function(n){return this.li.activeTargetIds.has(n)},c.prototype.clearQueryState=function(n){delete this.fi[n]},c.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},c.prototype.isActiveQueryTarget=function(n){return this.li.activeTargetIds.has(n)},c.prototype.start=function(){return this.li=new ks,Promise.resolve()},c.prototype.handleUserChange=function(n,l,p){},c.prototype.setOnlineState=function(n){},c.prototype.shutdown=function(){},c.prototype.writeSequenceNumber=function(n){},c.prototype.notifyBundleLoaded=function(){},c}(),Al=function(){function c(){}return c.prototype.di=function(n){},c.prototype.shutdown=function(){},c}(),Vc=function(){function c(){var n=this;this.wi=function(){return n._i()},this.mi=function(){return n.yi()},this.gi=[],this.pi()}return c.prototype.di=function(n){this.gi.push(n)},c.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},c.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},c.prototype._i=function(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var n=0,l=this.gi;n<l.length;n++)(0,l[n])(0)},c.prototype.yi=function(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var n=0,l=this.gi;n<l.length;n++)(0,l[n])(1)},c.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},c}(),Kl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},gl=function(){function c(n){this.Ei=n.Ei,this.Ti=n.Ti}return c.prototype.Ii=function(n){this.Ai=n},c.prototype.Ri=function(n){this.bi=n},c.prototype.onMessage=function(n){this.vi=n},c.prototype.close=function(){this.Ti()},c.prototype.send=function(n){this.Ei(n)},c.prototype.Pi=function(){this.Ai()},c.prototype.Vi=function(n){this.bi(n)},c.prototype.Si=function(n){this.vi(n)},c}(),yu=function(c){function n(l){var p=this;return(p=c.call(this,l)||this).forceLongPolling=l.forceLongPolling,p.autoDetectLongPolling=l.autoDetectLongPolling,p.useFetchStreams=l.useFetchStreams,p}return(0,d.__extends)(n,c),n.prototype.ki=function(l,p,v,x){return new Promise(function(P,j){var _e=new ee.JJ;_e.listenOnce(ee.tw.COMPLETE,function(){try{switch(_e.getLastErrorCode()){case ee.jK.NO_ERROR:var lt=_e.getResponseJson();Q("Connection","XHR received:",JSON.stringify(lt)),P(lt);break;case ee.jK.TIMEOUT:Q("Connection",'RPC "'+l+'" timed out'),j(new pe(xe.DEADLINE_EXCEEDED,"Request time out"));break;case ee.jK.HTTP_ERROR:var Bt=_e.getStatus();if(Q("Connection",'RPC "'+l+'" failed with status:',Bt,"response text:",_e.getResponseText()),Bt>0){var Xt=_e.getResponseJson().error;if(Xt&&Xt.status&&Xt.message){var Fn=(C=Xt.status.toLowerCase().replace(/_/g,"-"),Object.values(xe).indexOf(C)>=0?C:xe.UNKNOWN);j(new pe(Fn,Xt.message))}else j(new pe(xe.UNKNOWN,"Server responded with status "+_e.getStatus()))}else j(new pe(xe.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{Q("Connection",'RPC "'+l+'" completed.')}var C});var Le=JSON.stringify(x);_e.send(p,"POST",Le,v,15)})},n.prototype.Oi=function(l,p){var v=[this.Di,"/","google.firestore.v1.Firestore","/",l,"/channel"],x=(0,ee.UE)(),P=(0,ee.FJ)(),j={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(j.xmlHttpFactory=new ee.zI({})),this.Fi(j.initMessageHeaders,p),(0,_.isMobileCordova)()||(0,_.isReactNative)()||(0,_.isElectron)()||(0,_.isIE)()||(0,_.isUWP)()||(0,_.isBrowserExtension)()||(j.httpHeadersOverwriteParam="$httpHeaders");var _e=v.join("");Q("Connection","Creating WebChannel: "+_e,j);var Le=x.createWebChannel(_e,j),lt=!1,Bt=!1,Xt=new gl({Ei:function(xn){Bt?Q("Connection","Not sending because WebChannel is closed:",xn):(lt||(Q("Connection","Opening WebChannel transport."),Le.open(),lt=!0),Q("Connection","WebChannel sending:",xn),Le.send(xn))},Ti:function(){return Le.close()}}),Fn=function(xn,C,I){xn.listen(C,function(g){try{I(g)}catch(E){setTimeout(function(){throw E},0)}})};return Fn(Le,ee.ii.EventType.OPEN,function(){Bt||Q("Connection","WebChannel transport opened.")}),Fn(Le,ee.ii.EventType.CLOSE,function(){Bt||(Bt=!0,Q("Connection","WebChannel transport closed"),Xt.Vi())}),Fn(Le,ee.ii.EventType.ERROR,function(xn){Bt||(Bt=!0,je("Connection","WebChannel transport errored:",xn),Xt.Vi(new pe(xe.UNAVAILABLE,"The operation could not be completed")))}),Fn(Le,ee.ii.EventType.MESSAGE,function(xn){var C;if(!Bt){var I=xn.data[0];Ke(!!I);var E=I.error||(null===(C=I[0])||void 0===C?void 0:C.error);if(E){Q("Connection","WebChannel received error:",E);var U=E.status,he=function(yn){var Ui=Fr[yn];if(void 0!==Ui)return js(Ui)}(U),xt=E.message;void 0===he&&(he=xe.INTERNAL,xt="Unknown error status: "+U+" with message "+E.message),Bt=!0,Xt.Vi(new pe(he,xt)),Le.close()}else Q("Connection","WebChannel received:",I),Xt.Si(I)}}),Fn(P,ee.ju.STAT_EVENT,function(xn){xn.stat===ee.kN.PROXY?Q("Connection","Detected buffering proxy"):xn.stat===ee.kN.NOPROXY&&Q("Connection","Detected no buffering proxy")}),setTimeout(function(){Xt.Pi()},0),Xt},n}(function(){function c(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Di=(n.ssl?"https":"http")+"://"+n.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return c.prototype.Ni=function(n,l,p,v){var x=this.xi(n,l);Q("RestConnection","Sending: ",x,p);var P={};return this.Fi(P,v),this.ki(n,x,P,p).then(function(j){return Q("RestConnection","Received: ",j),j},function(j){throw je("RestConnection",n+" failed with error: ",j,"url: ",x,"request:",p),j})},c.prototype.$i=function(n,l,p,v){return this.Ni(n,l,p,v)},c.prototype.Fi=function(n,l){if(n["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),l)for(var p in l.authHeaders)l.authHeaders.hasOwnProperty(p)&&(n[p]=l.authHeaders[p])},c.prototype.xi=function(n,l){return this.Di+"/v1/"+l+":"+Kl[n]},c}());function Il(){return"undefined"!=typeof window?window:null}function ml(){return"undefined"!=typeof document?document:null}function Ns(c){return new or(c,!0)}var Ql=function(){function c(n,l,p,v,x){void 0===p&&(p=1e3),void 0===v&&(v=1.5),void 0===x&&(x=6e4),this.Se=n,this.timerId=l,this.Mi=p,this.Li=v,this.Bi=x,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return c.prototype.reset=function(){this.qi=0},c.prototype.Qi=function(){this.qi=this.Bi},c.prototype.ji=function(n){var l=this;this.cancel();var p=Math.floor(this.qi+this.Wi()),v=Math.max(0,Date.now()-this.Ki),x=Math.max(0,p-v);x>0&&Q("ExponentialBackoff","Backing off for "+x+" ms (base delay: "+this.qi+" ms, delay with jitter: "+p+" ms, last attempt: "+v+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,x,function(){return l.Ki=Date.now(),n()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},c.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},c.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},c.prototype.Wi=function(){return(Math.random()-.5)*this.qi},c}(),Jl=function(){function c(n,l,p,v,x,P){this.Se=n,this.zi=p,this.Hi=v,this.Ji=x,this.listener=P,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Ql(n,l)}return c.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},c.prototype.er=function(){return 2===this.state},c.prototype.start=function(){3!==this.state?this.auth():this.nr()},c.prototype.stop=function(){return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(n){switch(n.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},c.prototype.sr=function(){this.state=0,this.Zi.reset()},c.prototype.ir=function(){var n=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return n.rr()}))},c.prototype.cr=function(n){this.ur(),this.stream.send(n)},c.prototype.rr=function(){return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(n){return this.er()?[2,this.close(0)]:[2]})})},c.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},c.prototype.close=function(n,l){return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(p){switch(p.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==n?this.Zi.reset():l&&l.code===xe.RESOURCE_EXHAUSTED?(qe(l.toString()),qe("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):l&&l.code===xe.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=n,[4,this.listener.Ri(l)];case 1:return p.sent(),[2]}})})},c.prototype.ar=function(){},c.prototype.auth=function(){var n=this;this.state=1;var l=this.hr(this.Yi),p=this.Yi;this.Ji.getToken().then(function(v){n.Yi===p&&n.lr(v)},function(v){l(function(){var x=new pe(xe.UNKNOWN,"Fetching auth token failed: "+v.message);return n.dr(x)})})},c.prototype.lr=function(n){var l=this,p=this.hr(this.Yi);this.stream=this.wr(n),this.stream.Ii(function(){p(function(){return l.state=2,l.listener.Ii()})}),this.stream.Ri(function(v){p(function(){return l.dr(v)})}),this.stream.onMessage(function(v){p(function(){return l.onMessage(v)})})},c.prototype.nr=function(){var n=this;this.state=4,this.Zi.ji(function(){return(0,d.__awaiter)(n,void 0,void 0,function(){return(0,d.__generator)(this,function(l){return this.state=0,this.start(),[2]})})})},c.prototype.dr=function(n){return Q("PersistentStream","close with error: "+n),this.stream=null,this.close(3,n)},c.prototype.hr=function(n){var l=this;return function(p){l.Se.enqueueAndForget(function(){return l.Yi===n?p():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},c}(),eu=function(c){function n(l,p,v,x,P){var j=this;return(j=c.call(this,l,"listen_stream_connection_backoff","listen_stream_idle",p,v,P)||this).R=x,j}return(0,d.__extends)(n,c),n.prototype.wr=function(l){return this.Hi.Oi("Listen",l)},n.prototype.onMessage=function(l){this.Zi.reset();var p=function(x,P){var j,I;if("targetChange"in P){var _e="NO_CHANGE"===(I=P.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===I?1:"REMOVE"===I?2:"CURRENT"===I?3:"RESET"===I?4:ke(),Le=P.targetChange.targetIds||[],lt=function(I,g){return I.I?(Ke(void 0===g||"string"==typeof g),st.fromBase64String(g||"")):(Ke(void 0===g||g instanceof Uint8Array),st.fromUint8Array(g||new Uint8Array))}(x,P.targetChange.resumeToken),Bt=(Xt=P.targetChange.cause)&&function(I){var g=void 0===I.code?xe.UNKNOWN:js(I.code);return new pe(g,I.message||"")}(Xt);j=new Ut(_e,Le,lt,Bt||null)}else if("documentChange"in P){Le=no(x,(_e=P.documentChange).document.name),lt=rr(_e.document.updateTime);var Xt=new de({mapValue:{fields:_e.document.fields}}),Fn=(Bt=Ce.newFoundDocument(Le,lt,Xt),_e.targetIds||[]);j=new se(Fn,_e.removedTargetIds||[],Bt.key,Bt)}else if("documentDelete"in P)Le=no(x,(_e=P.documentDelete).document),lt=_e.readTime?rr(_e.readTime):te.min(),Xt=Ce.newNoDocument(Le,lt),j=new se([],Bt=_e.removedTargetIds||[],Xt.key,Xt);else if("documentRemove"in P)Le=no(x,(_e=P.documentRemove).document),j=new se([],lt=_e.removedTargetIds||[],Le,null);else{if(!("filter"in P))return ke();var C=P.filter;Le=new _s(_e=C.count||0),j=new ft(lt=C.targetId,Le)}return j}(this.R,l),v=function(x){if(!("targetChange"in x))return te.min();var P=x.targetChange;return P.targetIds&&P.targetIds.length?te.min():P.readTime?rr(P.readTime):te.min()}(l);return this.listener._r(p,v)},n.prototype.mr=function(l){var x,P,j,_e,p={};p.database=Jo(this.R),p.addTarget=(x=this.R,(j=Wn(_e=(P=l).target)?{documents:ot(x,_e)}:{query:Jt(x,_e)}).targetId=P.targetId,P.resumeToken.approximateByteSize()>0?j.resumeToken=po(x,P.resumeToken):P.snapshotVersion.compareTo(te.min())>0&&(j.readTime=yr(x,P.snapshotVersion.toTimestamp())),j);var v=function(x,P){var j=function(_e,Le){switch(Le){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ke()}}(0,P.purpose);return null==j?null:{"goog-listen-tags":j}}(0,l);v&&(p.labels=v),this.cr(p)},n.prototype.yr=function(l){var p={};p.database=Jo(this.R),p.removeTarget=l,this.cr(p)},n}(Jl),tu=function(c){function n(l,p,v,x,P){var j=this;return(j=c.call(this,l,"write_stream_connection_backoff","write_stream_idle",p,v,P)||this).R=x,j.gr=!1,j}return(0,d.__extends)(n,c),Object.defineProperty(n.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,c.prototype.start.call(this)},n.prototype.ar=function(){this.gr&&this.Er([])},n.prototype.wr=function(l){return this.Hi.Oi("Write",l)},n.prototype.onMessage=function(l){if(Ke(!!l.streamToken),this.lastStreamToken=l.streamToken,this.gr){this.Zi.reset();var p=(P=l.commitTime,(x=l.writeResults)&&x.length>0?(Ke(void 0!==P),x.map(function(j){return Le=P,(lt=rr((_e=j).updateTime?_e.updateTime:Le)).isEqual(te.min())&&(lt=rr(Le)),new hr(lt,_e.transformResults||[]);var _e,Le,lt})):[]),v=rr(l.commitTime);return this.listener.Tr(v,p)}var x,P;return Ke(!l.writeResults||0===l.writeResults.length),this.gr=!0,this.listener.Ir()},n.prototype.Ar=function(){var l={};l.database=Jo(this.R),this.cr(l)},n.prototype.Er=function(l){var p=this,v={streamToken:this.lastStreamToken,writes:l.map(function(x){return Fe(p.R,x)})};this.cr(v)},n}(Jl),bu=function(c){function n(l,p,v){var x=this;return(x=c.call(this)||this).credentials=l,x.Hi=p,x.R=v,x.Rr=!1,x}return(0,d.__extends)(n,c),n.prototype.br=function(){if(this.Rr)throw new pe(xe.FAILED_PRECONDITION,"The client has already been terminated.")},n.prototype.Ni=function(l,p,v){var x=this;return this.br(),this.credentials.getToken().then(function(P){return x.Hi.Ni(l,p,v,P)}).catch(function(P){throw"FirebaseError"===P.name?(P.code===xe.UNAUTHENTICATED&&x.credentials.invalidateToken(),P):new pe(xe.UNKNOWN,P.toString())})},n.prototype.$i=function(l,p,v){var x=this;return this.br(),this.credentials.getToken().then(function(P){return x.Hi.$i(l,p,v,P)}).catch(function(P){throw"FirebaseError"===P.name?(P.code===xe.UNAUTHENTICATED&&x.credentials.invalidateToken(),P):new pe(xe.UNKNOWN,P.toString())})},n.prototype.terminate=function(){this.Rr=!0},n}(function(){}),Uu=function(){function c(n,l){this.asyncQueue=n,this.onlineStateHandler=l,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return c.prototype.Sr=function(){var n=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return n.Pr=null,n.Cr("Backend didn't respond within 10 seconds."),n.Dr("Offline"),Promise.resolve()}))},c.prototype.Nr=function(n){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+n.toString()),this.Dr("Offline")))},c.prototype.set=function(n){this.Fr(),this.vr=0,"Online"===n&&(this.Vr=!1),this.Dr(n)},c.prototype.Dr=function(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))},c.prototype.Cr=function(n){var l="Could not reach Cloud Firestore backend. "+n+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(qe(l),this.Vr=!1):Q("OnlineStateTracker",l)},c.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},c}(),Xl=function(c,n,l,p,v){var x=this;this.localStore=c,this.datastore=n,this.asyncQueue=l,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=v,this.Lr.di(function(P){l.enqueueAndForget(function(){return(0,d.__awaiter)(x,void 0,void 0,function(){return(0,d.__generator)(this,function(j){switch(j.label){case 0:return pa(this)?(Q("RemoteStore","Restarting streams for network reachability change."),[4,function(_e){return(0,d.__awaiter)(this,void 0,void 0,function(){var Le;return(0,d.__generator)(this,function(lt){switch(lt.label){case 0:return(Le=dt(_e)).Or.add(4),[4,ia(Le)];case 1:return lt.sent(),Le.Br.set("Unknown"),Le.Or.delete(4),[4,Ps(Le)];case 2:return lt.sent(),[2]}})})}(this)]):[3,2];case 1:j.sent(),j.label=2;case 2:return[2]}})})})}),this.Br=new Uu(l,p)};function Ps(c){return(0,d.__awaiter)(this,void 0,void 0,function(){var n,l;return(0,d.__generator)(this,function(p){switch(p.label){case 0:if(!pa(c))return[3,4];n=0,l=c.Mr,p.label=1;case 1:return n<l.length?[4,(0,l[n])(!0)]:[3,4];case 2:p.sent(),p.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function ia(c){return(0,d.__awaiter)(this,void 0,void 0,function(){var n,l;return(0,d.__generator)(this,function(p){switch(p.label){case 0:n=0,l=c.Mr,p.label=1;case 1:return n<l.length?[4,(0,l[n])(!1)]:[3,4];case 2:p.sent(),p.label=3;case 3:return n++,[3,1];case 4:return[2]}})})}function Gs(c,n){var l=dt(c);l.$r.has(n.targetId)||(l.$r.set(n.targetId,n),es(l)?xa(l):Ma(l).er()&&ec(l,n))}function _l(c,n){var l=dt(c),p=Ma(l);l.$r.delete(n),p.er()&&bc(l,n),0===l.$r.size&&(p.er()?p.ir():pa(l)&&l.Br.set("Unknown"))}function ec(c,n){c.qr.U(n.targetId),Ma(c).mr(n)}function bc(c,n){c.qr.U(n),Ma(c).yr(n)}function xa(c){c.qr=new En({getRemoteKeysForTarget:function(n){return c.remoteSyncer.getRemoteKeysForTarget(n)},lt:function(n){return c.$r.get(n)||null}}),Ma(c).start(),c.Br.Sr()}function es(c){return pa(c)&&!Ma(c).tr()&&c.$r.size>0}function pa(c){return 0===dt(c).Or.size}function Rl(c){c.qr=void 0}function wu(c){return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(n){return c.$r.forEach(function(l,p){ec(c,l)}),[2]})})}function vl(c,n){return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(l){return Rl(c),es(c)?(c.Br.Nr(n),xa(c)):c.Br.set("Unknown"),[2]})})}function il(c,n,l){return(0,d.__awaiter)(this,void 0,void 0,function(){var p,v,x;return(0,d.__generator)(this,function(P){switch(P.label){case 0:if(c.Br.set("Online"),!(n instanceof Ut&&2===n.state&&n.cause))return[3,6];P.label=1;case 1:return P.trys.push([1,3,,5]),[4,function(j,_e){return(0,d.__awaiter)(this,void 0,void 0,function(){var Le,lt,Bt,Xt;return(0,d.__generator)(this,function(Fn){switch(Fn.label){case 0:Le=_e.cause,lt=0,Bt=_e.targetIds,Fn.label=1;case 1:return lt<Bt.length?j.$r.has(Xt=Bt[lt])?[4,j.remoteSyncer.rejectListen(Xt,Le)]:[3,3]:[3,5];case 2:Fn.sent(),j.$r.delete(Xt),j.qr.removeTarget(Xt),Fn.label=3;case 3:Fn.label=4;case 4:return lt++,[3,1];case 5:return[2]}})})}(c,n)];case 2:return P.sent(),[3,5];case 3:return p=P.sent(),Q("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),p),[4,Ol(c,p)];case 4:return P.sent(),[3,5];case 5:return[3,13];case 6:if(n instanceof se?c.qr.X(n):n instanceof ft?c.qr.rt(n):c.qr.et(n),l.isEqual(te.min()))return[3,13];P.label=7;case 7:return P.trys.push([7,11,,13]),[4,Ml(c.localStore)];case 8:return v=P.sent(),l.compareTo(v)>=0?[4,(j=c,_e=l,Le=j.qr.ut(_e),Le.targetChanges.forEach(function(lt,Bt){if(lt.resumeToken.approximateByteSize()>0){var Xt=j.$r.get(Bt);Xt&&j.$r.set(Bt,Xt.withResumeToken(lt.resumeToken,_e))}}),Le.targetMismatches.forEach(function(lt){var Bt=j.$r.get(lt);if(Bt){j.$r.set(lt,Bt.withResumeToken(st.EMPTY_BYTE_STRING,Bt.snapshotVersion)),bc(j,lt);var Xt=new Yi(Bt.target,lt,1,Bt.sequenceNumber);ec(j,Xt)}}),j.remoteSyncer.applyRemoteEvent(Le))]:[3,10];case 9:P.sent(),P.label=10;case 10:return[3,13];case 11:return Q("RemoteStore","Failed to raise snapshot:",x=P.sent()),[4,Ol(c,x)];case 12:return P.sent(),[3,13];case 13:return[2]}var j,_e,Le})})}function Ol(c,n,l){return(0,d.__awaiter)(this,void 0,void 0,function(){var p=this;return(0,d.__generator)(this,function(v){switch(v.label){case 0:if(!_t(n))throw n;return c.Or.add(1),[4,ia(c)];case 1:return v.sent(),c.Br.set("Offline"),l||(l=function(){return Ml(c.localStore)}),c.asyncQueue.enqueueRetryable(function(){return(0,d.__awaiter)(p,void 0,void 0,function(){return(0,d.__generator)(this,function(x){switch(x.label){case 0:return Q("RemoteStore","Retrying IndexedDB access"),[4,l()];case 1:return x.sent(),c.Or.delete(1),[4,Ps(c)];case 2:return x.sent(),[2]}})})}),[2]}})})}function kl(c,n){return n().catch(function(l){return Ol(c,l,n)})}function ja(c){return(0,d.__awaiter)(this,void 0,void 0,function(){var n,l,p,v,x;return(0,d.__generator)(this,function(P){switch(P.label){case 0:n=dt(c),l=ga(n),p=n.kr.length>0?n.kr[n.kr.length-1].batchId:-1,P.label=1;case 1:if(!(pa(j=n)&&j.kr.length<10))return[3,7];P.label=2;case 2:return P.trys.push([2,4,,6]),[4,Fa(n.localStore,p)];case 3:return null===(v=P.sent())?(0===n.kr.length&&l.ir(),[3,7]):(p=v.batchId,function(j,_e){j.kr.push(_e);var Le=ga(j);Le.er()&&Le.pr&&Le.Er(_e.mutations)}(n,v),[3,6]);case 4:return x=P.sent(),[4,Ol(n,x)];case 5:return P.sent(),[3,6];case 6:return[3,1];case 7:return ua(n)&&Ko(n),[2]}var j})})}function ua(c){return pa(c)&&!ga(c).tr()&&c.kr.length>0}function Ko(c){ga(c).start()}function wc(c){return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(n){return ga(c).Ar(),[2]})})}function Cu(c){return(0,d.__awaiter)(this,void 0,void 0,function(){var n,l,p;return(0,d.__generator)(this,function(x){for(n=ga(c),l=0,p=c.kr;l<p.length;l++)n.Er(p[l].mutations);return[2]})})}function Hc(c,n,l){return(0,d.__awaiter)(this,void 0,void 0,function(){var p,v;return(0,d.__generator)(this,function(x){switch(x.label){case 0:return p=c.kr.shift(),v=Rr.from(p,n,l),[4,kl(c,function(){return c.remoteSyncer.applySuccessfulWrite(v)})];case 1:return x.sent(),[4,ja(c)];case 2:return x.sent(),[2]}})})}function Nl(c,n){return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(l){switch(l.label){case 0:return n&&ga(c).pr?[4,function(p,v){return(0,d.__awaiter)(this,void 0,void 0,function(){var x,P;return(0,d.__generator)(this,function(j){switch(j.label){case 0:return Jr(P=v.code)&&P!==xe.ABORTED?(x=p.kr.shift(),ga(p).sr(),[4,kl(p,function(){return p.remoteSyncer.rejectFailedWrite(x.batchId,v)})]):[3,3];case 1:return j.sent(),[4,ja(p)];case 2:j.sent(),j.label=3;case 3:return[2]}})})}(c,n)]:[3,2];case 1:l.sent(),l.label=2;case 2:return ua(c)&&Ko(c),[2]}})})}function yl(c,n){return(0,d.__awaiter)(this,void 0,void 0,function(){var l;return(0,d.__generator)(this,function(p){switch(p.label){case 0:return l=dt(c),n?(l.Or.delete(2),[4,Ps(l)]):[3,2];case 1:return p.sent(),[3,5];case 2:return n?[3,4]:(l.Or.add(2),[4,ia(l)]);case 3:p.sent(),l.Br.set("Unknown"),p.label=4;case 4:p.label=5;case 5:return[2]}})})}function Ma(c){var l,p,v,x,n=this;return c.Ur||(c.Ur=(l=c.datastore,p=c.asyncQueue,v={Ii:wu.bind(null,c),Ri:vl.bind(null,c),_r:il.bind(null,c)},(x=dt(l)).br(),new eu(p,x.Hi,x.credentials,x.R,v)),c.Mr.push(function(l){return(0,d.__awaiter)(n,void 0,void 0,function(){return(0,d.__generator)(this,function(p){switch(p.label){case 0:return l?(c.Ur.sr(),es(c)?xa(c):c.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,c.Ur.stop()];case 2:p.sent(),Rl(c),p.label=3;case 3:return[2]}})})})),c.Ur}function ga(c){var l,p,v,x,n=this;return c.Kr||(c.Kr=(l=c.datastore,p=c.asyncQueue,v={Ii:wc.bind(null,c),Ri:Nl.bind(null,c),Ir:Cu.bind(null,c),Tr:Hc.bind(null,c)},(x=dt(l)).br(),new tu(p,x.Hi,x.credentials,x.R,v)),c.Mr.push(function(l){return(0,d.__awaiter)(n,void 0,void 0,function(){return(0,d.__generator)(this,function(p){switch(p.label){case 0:return l?(c.Kr.sr(),[4,ja(c)]):[3,2];case 1:return p.sent(),[3,4];case 2:return[4,c.Kr.stop()];case 3:p.sent(),c.kr.length>0&&(Q("RemoteStore","Stopping write stream with "+c.kr.length+" pending writes"),c.kr=[]),p.label=4;case 4:return[2]}})})})),c.Kr}var Sa=function(){function c(n,l,p,v,x){this.asyncQueue=n,this.timerId=l,this.targetTimeMs=p,this.op=v,this.removalCallback=x,this.deferred=new Po,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(P){})}return c.createAndSchedule=function(n,l,p,v,x){var P=new c(n,l,Date.now()+p,v,x);return P.start(p),P},c.prototype.start=function(n){var l=this;this.timerHandle=setTimeout(function(){return l.handleDelayElapsed()},n)},c.prototype.skipDelay=function(){return this.handleDelayElapsed()},c.prototype.cancel=function(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pe(xe.CANCELLED,"Operation cancelled"+(n?": "+n:""))))},c.prototype.handleDelayElapsed=function(){var n=this;this.asyncQueue.enqueueAndForget(function(){return null!==n.timerHandle?(n.clearTimeout(),n.op().then(function(l){return n.deferred.resolve(l)})):Promise.resolve()})},c.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},c}();function ps(c,n){if(qe("AsyncQueue",n+": "+c),_t(c))return new pe(xe.UNAVAILABLE,n+": "+c);throw c}var Ba=function(){function c(n){this.comparator=n?function(l,p){return n(l,p)||an.comparator(l.key,p.key)}:function(l,p){return an.comparator(l.key,p.key)},this.keyedMap=is(),this.sortedSet=new Vr(this.comparator)}return c.emptySet=function(n){return new c(n.comparator)},c.prototype.has=function(n){return null!=this.keyedMap.get(n)},c.prototype.get=function(n){return this.keyedMap.get(n)},c.prototype.first=function(){return this.sortedSet.minKey()},c.prototype.last=function(){return this.sortedSet.maxKey()},c.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},c.prototype.indexOf=function(n){var l=this.keyedMap.get(n);return l?this.sortedSet.indexOf(l):-1},Object.defineProperty(c.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),c.prototype.forEach=function(n){this.sortedSet.inorderTraversal(function(l,p){return n(l),!1})},c.prototype.add=function(n){var l=this.delete(n.key);return l.copy(l.keyedMap.insert(n.key,n),l.sortedSet.insert(n,null))},c.prototype.delete=function(n){var l=this.get(n);return l?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(l)):this},c.prototype.isEqual=function(n){if(!(n instanceof c)||this.size!==n.size)return!1;for(var l=this.sortedSet.getIterator(),p=n.sortedSet.getIterator();l.hasNext();){var v=l.getNext().key,x=p.getNext().key;if(!v.isEqual(x))return!1}return!0},c.prototype.toString=function(){var n=[];return this.forEach(function(l){n.push(l.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"},c.prototype.copy=function(n,l){var p=new c;return p.comparator=this.comparator,p.keyedMap=n,p.sortedSet=l,p},c}(),bl=function(){function c(){this.Qr=new Vr(an.comparator)}return c.prototype.track=function(n){var l=n.doc.key,p=this.Qr.get(l);p?0!==n.type&&3===p.type?this.Qr=this.Qr.insert(l,n):3===n.type&&1!==p.type?this.Qr=this.Qr.insert(l,{type:p.type,doc:n.doc}):2===n.type&&2===p.type?this.Qr=this.Qr.insert(l,{type:2,doc:n.doc}):2===n.type&&0===p.type?this.Qr=this.Qr.insert(l,{type:0,doc:n.doc}):1===n.type&&0===p.type?this.Qr=this.Qr.remove(l):1===n.type&&2===p.type?this.Qr=this.Qr.insert(l,{type:1,doc:p.doc}):0===n.type&&1===p.type?this.Qr=this.Qr.insert(l,{type:2,doc:n.doc}):ke():this.Qr=this.Qr.insert(l,n)},c.prototype.jr=function(){var n=[];return this.Qr.inorderTraversal(function(l,p){n.push(p)}),n},c}(),nu=function(){function c(n,l,p,v,x,P,j,_e){this.query=n,this.docs=l,this.oldDocs=p,this.docChanges=v,this.mutatedKeys=x,this.fromCache=P,this.syncStateChanged=j,this.excludesMetadataChanges=_e}return c.fromInitialDocuments=function(n,l,p,v){var x=[];return l.forEach(function(P){x.push({type:0,doc:P})}),new c(n,l,Ba.emptySet(l),x,p,v,!0,!1)},Object.defineProperty(c.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&pn(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;var l=this.docChanges,p=n.docChanges;if(l.length!==p.length)return!1;for(var v=0;v<l.length;v++)if(l[v].type!==p[v].type||!l[v].doc.isEqual(p[v].doc))return!1;return!0},c}(),ma=function(){this.Wr=void 0,this.listeners=[]},Pl=function(){this.queries=new So(function(c){return Et(c)},pn),this.onlineState="Unknown",this.Gr=new Set};function Fl(c,n){return(0,d.__awaiter)(this,void 0,void 0,function(){var l,p,v,x,P,j,_e;return(0,d.__generator)(this,function(Le){switch(Le.label){case 0:if(l=dt(c),v=!1,(x=l.queries.get(p=n.query))||(v=!0,x=new ma),!v)return[3,4];Le.label=1;case 1:return Le.trys.push([1,3,,4]),P=x,[4,l.onListen(p)];case 2:return P.Wr=Le.sent(),[3,4];case 3:return j=Le.sent(),_e=ps(j,"Initialization of query '"+ct(n.query)+"' failed"),[2,void n.onError(_e)];case 4:return l.queries.set(p,x),x.listeners.push(n),n.zr(l.onlineState),x.Wr&&n.Hr(x.Wr)&&Fs(l),[2]}})})}function ra(c,n){return(0,d.__awaiter)(this,void 0,void 0,function(){var l,p,v,x,P;return(0,d.__generator)(this,function(j){return l=dt(c),v=!1,(x=l.queries.get(p=n.query))&&(P=x.listeners.indexOf(n))>=0&&(x.listeners.splice(P,1),v=0===x.listeners.length),v?[2,(l.queries.delete(p),l.onUnlisten(p))]:[2]})})}function tc(c,n){for(var l=dt(c),p=!1,v=0,x=n;v<x.length;v++){var P=x[v],_e=l.queries.get(P.query);if(_e){for(var Le=0,lt=_e.listeners;Le<lt.length;Le++)lt[Le].Hr(P)&&(p=!0);_e.Wr=P}}p&&Fs(l)}function qs(c,n,l){var p=dt(c),v=p.queries.get(n);if(v)for(var x=0,P=v.listeners;x<P.length;x++)P[x].onError(l);p.queries.delete(n)}function Fs(c){c.Gr.forEach(function(n){n.next()})}var tr=function(){function c(n,l,p){this.query=n,this.Jr=l,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=p||{}}return c.prototype.Hr=function(n){if(!this.options.includeMetadataChanges){for(var l=[],p=0,v=n.docChanges;p<v.length;p++){var x=v[p];3!==x.type&&l.push(x)}n=new nu(n.query,n.docs,n.oldDocs,l,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}var P=!1;return this.Yr?this.Zr(n)&&(this.Jr.next(n),P=!0):this.eo(n,this.onlineState)&&(this.no(n),P=!0),this.Xr=n,P},c.prototype.onError=function(n){this.Jr.error(n)},c.prototype.zr=function(n){this.onlineState=n;var l=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,n)&&(this.no(this.Xr),l=!0),l},c.prototype.eo=function(n,l){return!n.fromCache||!(this.options.so&&"Offline"!==l||n.docs.isEmpty()&&"Offline"!==l)},c.prototype.Zr=function(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges},c.prototype.no=function(n){n=nu.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.Yr=!0,this.Jr.next(n)},c}(),oo=function(){function c(n,l){this.payload=n,this.byteLength=l}return c.prototype.io=function(){return"metadata"in this.payload},c}(),Cc=function(){function c(n){this.R=n}return c.prototype.qn=function(n){return no(this.R,n)},c.prototype.Un=function(n){return n.metadata.exists?le(this.R,n.document,!1):Ce.newNoDocument(this.qn(n.metadata.name),this.Kn(n.metadata.readTime))},c.prototype.Kn=function(n){return rr(n)},c}(),wl=function(){function c(n,l,p){this.ro=n,this.localStore=l,this.R=p,this.queries=[],this.documents=[],this.progress=Du(n)}return c.prototype.oo=function(n){this.progress.bytesLoaded+=n.byteLength;var l=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++l):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++l),l!==this.progress.documentsLoaded?(this.progress.documentsLoaded=l,Object.assign({},this.progress)):null},c.prototype.co=function(n){for(var l=new Map,p=new Cc(this.R),v=0,x=n;v<x.length;v++){var P=x[v];if(P.metadata.queries)for(var j=p.qn(P.metadata.name),_e=0,Le=P.metadata.queries;_e<Le.length;_e++){var lt=Le[_e],Bt=(l.get(lt)||Dr()).add(j);l.set(lt,Bt)}}return l},c.prototype.complete=function(){return(0,d.__awaiter)(this,void 0,void 0,function(){var n,l,p,v,x;return(0,d.__generator)(this,function(P){switch(P.label){case 0:return[4,La(this.localStore,new Cc(this.R),this.documents,this.ro.id)];case 1:n=P.sent(),l=this.co(this.documents),p=0,v=this.queries,P.label=2;case 2:return p<v.length?[4,Ta(this.localStore,x=v[p],l.get(x.name))]:[3,5];case 3:P.sent(),P.label=4;case 4:return p++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Oo(Object.assign({},this.progress),n))]}})})},c}();function Du(c){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:c.totalDocuments,totalBytes:c.totalBytes}}var rl=function(c){this.key=c},Ga=function(c){this.key=c},Aa=function(){function c(n,l){this.query=n,this.uo=l,this.ao=null,this.current=!1,this.ho=Dr(),this.mutatedKeys=Dr(),this.lo=In(n),this.fo=new Ba(this.lo)}return Object.defineProperty(c.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),c.prototype._o=function(n,l){var p=this,v=l?l.mo:new bl,x=l?l.fo:this.fo,P=l?l.mutatedKeys:this.mutatedKeys,j=x,_e=!1,Le=on(this.query)&&x.size===this.query.limit?x.last():null,lt=Sn(this.query)&&x.size===this.query.limit?x.first():null;if(n.inorderTraversal(function(Xt,Fn){var xn=x.get(Xt),C=jt(p.query,Fn)?Fn:null,I=!!xn&&p.mutatedKeys.has(xn.key),g=!!C&&(C.hasLocalMutations||p.mutatedKeys.has(C.key)&&C.hasCommittedMutations),E=!1;xn&&C?xn.data.isEqual(C.data)?I!==g&&(v.track({type:3,doc:C}),E=!0):p.yo(xn,C)||(v.track({type:2,doc:C}),E=!0,(Le&&p.lo(C,Le)>0||lt&&p.lo(C,lt)<0)&&(_e=!0)):!xn&&C?(v.track({type:0,doc:C}),E=!0):xn&&!C&&(v.track({type:1,doc:xn}),E=!0,(Le||lt)&&(_e=!0)),E&&(C?(j=j.add(C),P=g?P.add(Xt):P.delete(Xt)):(j=j.delete(Xt),P=P.delete(Xt)))}),on(this.query)||Sn(this.query))for(;j.size>this.query.limit;){var Bt=on(this.query)?j.last():j.first();j=j.delete(Bt.key),P=P.delete(Bt.key),v.track({type:1,doc:Bt})}return{fo:j,mo:v,Nn:_e,mutatedKeys:P}},c.prototype.yo=function(n,l){return n.hasLocalMutations&&l.hasCommittedMutations&&!l.hasLocalMutations},c.prototype.applyChanges=function(n,l,p){var v=this,x=this.fo;this.fo=n.fo,this.mutatedKeys=n.mutatedKeys;var P=n.mo.jr();P.sort(function(lt,Bt){return Fn=Bt.type,(xn=function(C){switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}})(lt.type)-xn(Fn)||v.lo(lt.doc,Bt.doc);var Fn,xn}),this.po(p);var j=l?this.Eo():[],_e=0===this.ho.size&&this.current?1:0,Le=_e!==this.ao;return this.ao=_e,0!==P.length||Le?{snapshot:new nu(this.query,n.fo,x,P,n.mutatedKeys,0===_e,Le,!1),To:j}:{To:j}},c.prototype.zr=function(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({fo:this.fo,mo:new bl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},c.prototype.Io=function(n){return!this.uo.has(n)&&!!this.fo.has(n)&&!this.fo.get(n).hasLocalMutations},c.prototype.po=function(n){var l=this;n&&(n.addedDocuments.forEach(function(p){return l.uo=l.uo.add(p)}),n.modifiedDocuments.forEach(function(p){}),n.removedDocuments.forEach(function(p){return l.uo=l.uo.delete(p)}),this.current=n.current)},c.prototype.Eo=function(){var n=this;if(!this.current)return[];var l=this.ho;this.ho=Dr(),this.fo.forEach(function(v){n.Io(v.key)&&(n.ho=n.ho.add(v.key))});var p=[];return l.forEach(function(v){n.ho.has(v)||p.push(new Ga(v))}),this.ho.forEach(function(v){l.has(v)||p.push(new rl(v))}),p},c.prototype.Ao=function(n){this.uo=n.Bn,this.ho=Dr();var l=this._o(n.documents);return this.applyChanges(l,!0)},c.prototype.Ro=function(){return nu.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},c}(),nd=function(c,n,l){this.query=c,this.targetId=n,this.view=l},oa=function(c){this.key=c,this.bo=!1},Dc=function(){function c(n,l,p,v,x,P){this.localStore=n,this.remoteStore=l,this.eventManager=p,this.sharedClientState=v,this.currentUser=x,this.maxConcurrentLimboResolutions=P,this.vo={},this.Po=new So(function(j){return Et(j)},pn),this.Vo=new Map,this.So=new Set,this.Do=new Vr(an.comparator),this.Co=new Map,this.No=new ys,this.xo={},this.Fo=new Map,this.ko=ai.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(c.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),c}();function Ll(c,n){return(0,d.__awaiter)(this,void 0,void 0,function(){var l,v,x,P,j;return(0,d.__generator)(this,function(_e){switch(_e.label){case 0:return l=Sc(c),(x=l.Po.get(n))?(l.sharedClientState.addLocalQueryTarget(x.targetId),v=x.view.Ro(),[3,4]):[3,1];case 1:return[4,hl(l.localStore,Zt(n))];case 2:return P=_e.sent(),j=l.sharedClientState.addLocalQueryTarget(P.targetId),[4,_a(l,n,P.targetId,"current"===j)];case 3:v=_e.sent(),l.isPrimaryClient&&Gs(l.remoteStore,P),_e.label=4;case 4:return[2,v]}})})}function _a(c,n,l,p){return(0,d.__awaiter)(this,void 0,void 0,function(){var v,x,P,j,_e,Le;return(0,d.__generator)(this,function(lt){switch(lt.label){case 0:return c.Oo=function(Bt,Xt,Fn){return function(xn,C,I,g){return(0,d.__awaiter)(this,void 0,void 0,function(){var E,U,he;return(0,d.__generator)(this,function(xt){switch(xt.label){case 0:return(E=C.view._o(I)).Nn?[4,tl(xn.localStore,C.query,!1).then(function(yn){return C.view._o(yn.documents,E)})]:[3,2];case 1:E=xt.sent(),xt.label=2;case 2:return U=g&&g.targetChanges.get(C.targetId),he=C.view.applyChanges(E,xn.isPrimaryClient,U),[2,(rc(xn,C.targetId,he.To),he.snapshot)]}})})}(c,Bt,Xt,Fn)},[4,tl(c.localStore,n,!0)];case 1:return v=lt.sent(),x=new Aa(n,v.Bn),P=x._o(v.documents),j=Te.createSynthesizedTargetChangeForCurrentChange(l,p&&"Offline"!==c.onlineState),_e=x.applyChanges(P,c.isPrimaryClient,j),rc(c,l,_e.To),Le=new nd(n,l,x),[2,(c.Po.set(n,Le),c.Vo.has(l)?c.Vo.get(l).push(n):c.Vo.set(l,[n]),_e.snapshot)]}})})}function jc(c,n){return(0,d.__awaiter)(this,void 0,void 0,function(){var l,p,v;return(0,d.__generator)(this,function(x){switch(x.label){case 0:return l=dt(c),p=l.Po.get(n),(v=l.Vo.get(p.targetId)).length>1?[2,(l.Vo.set(p.targetId,v.filter(function(P){return!pn(P,n)})),void l.Po.delete(n))]:l.isPrimaryClient?(l.sharedClientState.removeLocalQueryTarget(p.targetId),l.sharedClientState.isActiveQueryTarget(p.targetId)?[3,2]:[4,fs(l.localStore,p.targetId,!1).then(function(){l.sharedClientState.clearQueryState(p.targetId),_l(l.remoteStore,p.targetId),Ec(l,p.targetId)}).catch(Mo)]):[3,3];case 1:x.sent(),x.label=2;case 2:return[3,5];case 3:return Ec(l,p.targetId),[4,fs(l.localStore,p.targetId,!0)];case 4:x.sent(),x.label=5;case 5:return[2]}})})}function iu(c,n,l){return(0,d.__awaiter)(this,void 0,void 0,function(){var p,v,x,P;return(0,d.__generator)(this,function(j){switch(j.label){case 0:p=Cl(c),j.label=1;case 1:return j.trys.push([1,5,,6]),[4,(_e=p.localStore,Le=n,Bt=dt(_e),Xt=Pe.now(),Fn=Le.reduce(function(xn,C){return xn.add(C.key)},Dr()),Bt.persistence.runTransaction("Locally write mutations","readwrite",function(xn){return Bt.Mn.pn(xn,Fn).next(function(C){lt=C;for(var I=[],g=0,E=Le;g<E.length;g++){var U=E[g],he=qi(U,lt.get(U.key));null!=he&&I.push(new sr(U.key,he,ye(he.value.mapValue),ur.exists(!0)))}return Bt._n.addMutationBatch(xn,Xt,I,Le)})}).then(function(xn){return xn.applyToLocalDocumentSet(lt),{batchId:xn.batchId,changes:lt}}))];case 2:return v=j.sent(),p.sharedClientState.addPendingMutation(v.batchId),function(_e,Le,lt){var Bt=_e.xo[_e.currentUser.toKey()];Bt||(Bt=new Vr(Tt)),Bt=Bt.insert(Le,lt),_e.xo[_e.currentUser.toKey()]=Bt}(p,v.batchId,l),[4,sa(p,v.changes)];case 3:return j.sent(),[4,ja(p.remoteStore)];case 4:return j.sent(),[3,6];case 5:return x=j.sent(),P=ps(x,"Failed to persist write"),l.reject(P),[3,6];case 6:return[2]}var _e,Le,lt,Bt,Xt,Fn})})}function ds(c,n){return(0,d.__awaiter)(this,void 0,void 0,function(){var l,p;return(0,d.__generator)(this,function(v){switch(v.label){case 0:l=dt(c),v.label=1;case 1:return v.trys.push([1,4,,6]),[4,Di(l.localStore,n)];case 2:return p=v.sent(),n.targetChanges.forEach(function(x,P){var j=l.Co.get(P);j&&(Ke(x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size<=1),x.addedDocuments.size>0?j.bo=!0:x.modifiedDocuments.size>0?Ke(j.bo):x.removedDocuments.size>0&&(Ke(j.bo),j.bo=!1))}),[4,sa(l,p,n)];case 3:return v.sent(),[3,6];case 4:return[4,Mo(v.sent())];case 5:return v.sent(),[3,6];case 6:return[2]}})})}function Gc(c,n,l){var p=dt(c);if(p.isPrimaryClient&&0===l||!p.isPrimaryClient&&1===l){var v=[];p.Po.forEach(function(x,P){var j=P.view.zr(n);j.snapshot&&v.push(j.snapshot)}),function(x,P){var j=dt(x);j.onlineState=P;var _e=!1;j.queries.forEach(function(Le,lt){for(var Bt=0,Xt=lt.listeners;Bt<Xt.length;Bt++)Xt[Bt].zr(P)&&(_e=!0)}),_e&&Fs(j)}(p.eventManager,n),v.length&&p.vo._r(v),p.onlineState=n,p.isPrimaryClient&&p.sharedClientState.setOnlineState(n)}}function zc(c,n,l){return(0,d.__awaiter)(this,void 0,void 0,function(){var p,v,x,P,j,_e;return(0,d.__generator)(this,function(Le){switch(Le.label){case 0:return(p=dt(c)).sharedClientState.updateQueryState(n,"rejected",l),v=p.Co.get(n),(x=v&&v.key)?(P=(P=new Vr(an.comparator)).insert(x,Ce.newNoDocument(x,te.min())),j=Dr().add(x),_e=new os(te.min(),new Map,new fo(Tt),P,j),[4,ds(p,_e)]):[3,2];case 1:return Le.sent(),p.Do=p.Do.remove(x),p.Co.delete(n),Co(p),[3,4];case 2:return[4,fs(p.localStore,n,!1).then(function(){return Ec(p,n,l)}).catch(Mo)];case 3:Le.sent(),Le.label=4;case 4:return[2]}})})}function ru(c,n){return(0,d.__awaiter)(this,void 0,void 0,function(){var l,p,v;return(0,d.__generator)(this,function(x){switch(x.label){case 0:l=dt(c),p=n.batch.batchId,x.label=1;case 1:return x.trys.push([1,4,,6]),[4,Lo(l.localStore,n)];case 2:return v=x.sent(),nc(l,p,null),Qs(l,p),l.sharedClientState.updateMutationState(p,"acknowledged"),[4,sa(l,v)];case 3:return x.sent(),[3,6];case 4:return[4,Mo(x.sent())];case 5:return x.sent(),[3,6];case 6:return[2]}})})}function Ks(c,n,l){return(0,d.__awaiter)(this,void 0,void 0,function(){var p,v;return(0,d.__generator)(this,function(x){switch(x.label){case 0:p=dt(c),x.label=1;case 1:return x.trys.push([1,4,,6]),[4,(P=p.localStore,j=n,_e=dt(P),_e.persistence.runTransaction("Reject batch","readwrite-primary",function(Le){var lt;return _e._n.lookupMutationBatch(Le,j).next(function(Bt){return Ke(null!==Bt),lt=Bt.keys(),_e._n.removeMutationBatch(Le,Bt)}).next(function(){return _e._n.performConsistencyCheck(Le)}).next(function(){return _e.Mn.pn(Le,lt)})}))];case 2:return v=x.sent(),nc(p,n,l),Qs(p,n),p.sharedClientState.updateMutationState(n,"rejected",l),[4,sa(p,v)];case 3:return x.sent(),[3,6];case 4:return[4,Mo(x.sent())];case 5:return x.sent(),[3,6];case 6:return[2]}var P,j,_e})})}function za(c,n){return(0,d.__awaiter)(this,void 0,void 0,function(){var l,p,v,x,P;return(0,d.__generator)(this,function(j){switch(j.label){case 0:pa((l=dt(c)).remoteStore)||Q("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),j.label=1;case 1:return j.trys.push([1,3,,4]),[4,(_e=l.localStore,Le=dt(_e),Le.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(lt){return Le._n.getHighestUnacknowledgedBatchId(lt)}))];case 2:return-1===(p=j.sent())?[2,void n.resolve()]:((v=l.Fo.get(p)||[]).push(n),l.Fo.set(p,v),[3,4]);case 3:return x=j.sent(),P=ps(x,"Initialization of waitForPendingWrites() operation failed"),n.reject(P),[3,4];case 4:return[2]}var _e,Le})})}function Qs(c,n){(c.Fo.get(n)||[]).forEach(function(l){l.resolve()}),c.Fo.delete(n)}function nc(c,n,l){var p=dt(c),v=p.xo[p.currentUser.toKey()];if(v){var x=v.get(n);x&&(l?x.reject(l):x.resolve(),v=v.remove(n)),p.xo[p.currentUser.toKey()]=v}}function Ec(c,n,l){void 0===l&&(l=null),c.sharedClientState.removeLocalQueryTarget(n);for(var p=0,v=c.Vo.get(n);p<v.length;p++){var x=v[p];c.Po.delete(x),l&&c.vo.Mo(x,l)}c.Vo.delete(n),c.isPrimaryClient&&c.No.Zn(n).forEach(function(P){c.No.containsKey(P)||ic(c,P)})}function ic(c,n){c.So.delete(n.path.canonicalString());var l=c.Do.get(n);null!==l&&(_l(c.remoteStore,l),c.Do=c.Do.remove(n),c.Co.delete(l),Co(c))}function rc(c,n,l){for(var p=0,v=l;p<v.length;p++){var x=v[p];x instanceof rl?(c.No.addReference(x.key,n),gs(c,x)):x instanceof Ga?(Q("SyncEngine","Document no longer in limbo: "+x.key),c.No.removeReference(x.key,n),c.No.containsKey(x.key)||ic(c,x.key)):ke()}}function gs(c,n){var l=n.key,p=l.path.canonicalString();c.Do.get(l)||c.So.has(p)||(Q("SyncEngine","New document in limbo: "+l),c.So.add(p),Co(c))}function Co(c){for(;c.So.size>0&&c.Do.size<c.maxConcurrentLimboResolutions;){var n=c.So.values().next().value;c.So.delete(n);var l=new an(Ze.fromString(n)),p=c.ko.next();c.Co.set(p,new oa(l)),c.Do=c.Do.insert(l,p),Gs(c.remoteStore,new Yi(Zt(Ct(l.path)),p,2,W.o))}}function sa(c,n,l){return(0,d.__awaiter)(this,void 0,void 0,function(){var p,v,x,P;return(0,d.__generator)(this,function(j){switch(j.label){case 0:return p=dt(c),v=[],x=[],P=[],p.Po.isEmpty()?[3,3]:(p.Po.forEach(function(_e,Le){P.push(p.Oo(Le,n,l).then(function(lt){if(lt){p.isPrimaryClient&&p.sharedClientState.updateQueryState(Le.targetId,lt.fromCache?"not-current":"current"),v.push(lt);var Bt=Es.Pn(Le.targetId,lt);x.push(Bt)}}))}),[4,Promise.all(P)]);case 1:return j.sent(),p.vo._r(v),[4,function(_e,Le){return(0,d.__awaiter)(this,void 0,void 0,function(){var lt,Bt,Xt,Fn,xn,C,I,E;return(0,d.__generator)(this,function(U){switch(U.label){case 0:lt=dt(_e),U.label=1;case 1:return U.trys.push([1,3,,4]),[4,lt.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(he){return me.forEach(Le,function(xt){return me.forEach(xt.bn,function(yn){return lt.persistence.referenceDelegate.addReference(he,xt.targetId,yn)}).next(function(){return me.forEach(xt.vn,function(yn){return lt.persistence.referenceDelegate.removeReference(he,xt.targetId,yn)})})})})];case 2:return U.sent(),[3,4];case 3:if(!_t(Bt=U.sent()))throw Bt;return Q("LocalStore","Failed to update sequence numbers: "+Bt),[3,4];case 4:for(Xt=0,Fn=Le;Xt<Fn.length;Xt++)C=(xn=Fn[Xt]).targetId,xn.fromCache||(I=lt.Fn.get(C),E=I.withLastLimboFreeSnapshotVersion(I.snapshotVersion),lt.Fn=lt.Fn.insert(C,E));return[2]}})})}(p.localStore,x)];case 2:j.sent(),j.label=3;case 3:return[2]}})})}function ol(c,n){return(0,d.__awaiter)(this,void 0,void 0,function(){var l,p;return(0,d.__generator)(this,function(v){switch(v.label){case 0:return(l=dt(c)).currentUser.isEqual(n)?[3,3]:(Q("SyncEngine","User change. New user:",n.toKey()),[4,Fo(l.localStore,n)]);case 1:return p=v.sent(),l.currentUser=n,(x=l).Fo.forEach(function(j){j.forEach(function(_e){_e.reject(new pe(xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),x.Fo.clear(),l.sharedClientState.handleUserChange(n,p.removedBatchIds,p.addedBatchIds),[4,sa(l,p.Ln)];case 2:v.sent(),v.label=3;case 3:return[2]}var x})})}function Bl(c,n){var l=dt(c),p=l.Co.get(n);if(p&&p.bo)return Dr().add(p.key);var v=Dr(),x=l.Vo.get(n);if(!x)return v;for(var P=0,j=x;P<j.length;P++){var Le=l.Po.get(j[P]);v=v.unionWith(Le.view.wo)}return v}function Eu(c,n){return(0,d.__awaiter)(this,void 0,void 0,function(){var l,p,v;return(0,d.__generator)(this,function(x){switch(x.label){case 0:return[4,tl((l=dt(c)).localStore,n.query,!0)];case 1:return p=x.sent(),v=n.view.Ao(p),[2,(l.isPrimaryClient&&rc(l,n.targetId,v.To),v)]}})})}function Tc(c){return(0,d.__awaiter)(this,void 0,void 0,function(){var n;return(0,d.__generator)(this,function(l){return[2,ta((n=dt(c)).localStore).then(function(p){return sa(n,p)})]})})}function Yc(c,n,l,p){return(0,d.__awaiter)(this,void 0,void 0,function(){var v,x;return(0,d.__generator)(this,function(P){switch(P.label){case 0:return[4,(j=(v=dt(c)).localStore,_e=n,Le=dt(j),lt=dt(Le._n),Le.persistence.runTransaction("Lookup mutation documents","readonly",function(Bt){return lt.jt(Bt,_e).next(function(Xt){return Xt?Le.Mn.pn(Bt,Xt):me.resolve(null)})}))];case 1:return null===(x=P.sent())?[3,6]:"pending"!==l?[3,3]:[4,ja(v.remoteStore)];case 2:return P.sent(),[3,4];case 3:"acknowledged"===l||"rejected"===l?(nc(v,n,p||null),Qs(v,n),function(j,_e){dt(dt(j)._n).Gt(_e)}(v.localStore,n)):ke(),P.label=4;case 4:return[4,sa(v,x)];case 5:return P.sent(),[3,7];case 6:Q("SyncEngine","Cannot apply mutation batch with id: "+n),P.label=7;case 7:return[2]}var j,_e,Le,lt})})}function xc(c,n){return(0,d.__awaiter)(this,void 0,void 0,function(){var l,p,v,x,P,_e,Le;return(0,d.__generator)(this,function(lt){switch(lt.label){case 0:return Sc(l=dt(c)),Cl(l),!0!==n||!0===l.$o?[3,3]:(p=l.sharedClientState.getAllActiveQueryTargets(),[4,Ya(l,p.toArray())]);case 1:return v=lt.sent(),l.$o=!0,[4,yl(l.remoteStore,!0)];case 2:for(lt.sent(),x=0,P=v;x<P.length;x++)Gs(l.remoteStore,P[x]);return[3,7];case 3:return!1!==n||!1===l.$o?[3,7]:(_e=[],Le=Promise.resolve(),l.Vo.forEach(function(Bt,Xt){l.sharedClientState.isLocalQueryTarget(Xt)?_e.push(Xt):Le=Le.then(function(){return Ec(l,Xt),fs(l.localStore,Xt,!0)}),_l(l.remoteStore,Xt)}),[4,Le]);case 4:return lt.sent(),[4,Ya(l,_e)];case 5:return lt.sent(),(Xt=dt(l)).Co.forEach(function(Fn,xn){_l(Xt.remoteStore,xn)}),Xt.No.ts(),Xt.Co=new Map,Xt.Do=new Vr(an.comparator),l.$o=!1,[4,yl(l.remoteStore,!1)];case 6:lt.sent(),lt.label=7;case 7:return[2]}var Xt})})}function Ya(c,n,l){return(0,d.__awaiter)(this,void 0,void 0,function(){var p,v,x,P,j,_e,Le,lt,Bt,Xt,xn,C,I;return(0,d.__generator)(this,function(g){switch(g.label){case 0:p=dt(c),v=[],x=[],P=0,j=n,g.label=1;case 1:return P<j.length?(Le=void 0,(lt=p.Vo.get(_e=j[P]))&&0!==lt.length?[4,hl(p.localStore,Zt(lt[0]))]:[3,7]):[3,13];case 2:Le=g.sent(),Bt=0,Xt=lt,g.label=3;case 3:return Bt<Xt.length?(xn=p.Po.get(Xt[Bt]),[4,Eu(p,xn)]):[3,6];case 4:(C=g.sent()).snapshot&&x.push(C.snapshot),g.label=5;case 5:return Bt++,[3,3];case 6:return[3,11];case 7:return[4,nl(p.localStore,_e)];case 8:return I=g.sent(),[4,hl(p.localStore,I)];case 9:return Le=g.sent(),[4,_a(p,Mc(I),_e,!1)];case 10:g.sent(),g.label=11;case 11:v.push(Le),g.label=12;case 12:return P++,[3,1];case 13:return[2,(p.vo._r(x),v)]}})})}function Mc(c){return Be(c.path,c.collectionGroup,c.orderBy,c.filters,c.limit,"F",c.startAt,c.endAt)}function oc(c){var n=dt(c);return dt(dt(n.localStore).persistence).fn()}function sc(c,n,l,p){return(0,d.__awaiter)(this,void 0,void 0,function(){var v,x,P;return(0,d.__generator)(this,function(j){switch(j.label){case 0:return(v=dt(c)).$o?(Q("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!v.Vo.has(n))return[3,8];switch(l){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ta(v.localStore)];case 3:return x=j.sent(),P=os.createSynthesizedRemoteEventForCurrentChange(n,"current"===l),[4,sa(v,x,P)];case 4:return j.sent(),[3,8];case 5:return[4,fs(v.localStore,n,!0)];case 6:return j.sent(),Ec(v,n,p),[3,8];case 7:ke(),j.label=8;case 8:return[2]}})})}function Tu(c,n,l){return(0,d.__awaiter)(this,void 0,void 0,function(){var p,v,x,P,j,_e,Le,lt,Bt;return(0,d.__generator)(this,function(Fn){switch(Fn.label){case 0:if(!(p=Sc(c)).$o)return[3,10];v=0,x=n,Fn.label=1;case 1:return v<x.length?p.Vo.has(P=x[v])?(Q("SyncEngine","Adding an already active target "+P),[3,5]):[4,nl(p.localStore,P)]:[3,6];case 2:return j=Fn.sent(),[4,hl(p.localStore,j)];case 3:return _e=Fn.sent(),[4,_a(p,Mc(j),_e.targetId,!1)];case 4:Fn.sent(),Gs(p.remoteStore,_e),Fn.label=5;case 5:return v++,[3,1];case 6:Le=function(xn){return(0,d.__generator)(this,function(C){switch(C.label){case 0:return p.Vo.has(xn)?[4,fs(p.localStore,xn,!1).then(function(){_l(p.remoteStore,xn),Ec(p,xn)}).catch(Mo)]:[3,2];case 1:C.sent(),C.label=2;case 2:return[2]}})},lt=0,Bt=l,Fn.label=7;case 7:return lt<Bt.length?[5,Le(Bt[lt])]:[3,10];case 8:Fn.sent(),Fn.label=9;case 9:return lt++,[3,7];case 10:return[2]}})})}function Sc(c){var n=dt(c);return n.remoteStore.remoteSyncer.applyRemoteEvent=ds.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bl.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=zc.bind(null,n),n.vo._r=tc.bind(null,n.eventManager),n.vo.Mo=qs.bind(null,n.eventManager),n}function Cl(c){var n=dt(c);return n.remoteStore.remoteSyncer.applySuccessfulWrite=ru.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=Ks.bind(null,n),n}function Ul(c,n,l){var p=dt(c);(function(v,x,P){return(0,d.__awaiter)(this,void 0,void 0,function(){var j,_e,Le,lt,Bt,Xt;return(0,d.__generator)(this,function(Fn){switch(Fn.label){case 0:return Fn.trys.push([0,14,,15]),[4,x.getMetadata()];case 1:return j=Fn.sent(),[4,(xn=v.localStore,C=j,I=dt(xn),g=rr(C.createTime),I.persistence.runTransaction("hasNewerBundle","readonly",function(E){return I.Ke.getBundleMetadata(E,C.id)}).then(function(E){return!!E&&E.createTime.compareTo(g)>=0}))];case 2:return Fn.sent()?[4,x.close()]:[3,4];case 3:return[2,(Fn.sent(),void P._completeWith(function(xn){return{taskState:"Success",documentsLoaded:xn.totalDocuments,bytesLoaded:xn.totalBytes,totalDocuments:xn.totalDocuments,totalBytes:xn.totalBytes}}(j)))];case 4:return P._updateProgress(Du(j)),_e=new wl(j,v.localStore,x.R),[4,x.Lo()];case 5:Le=Fn.sent(),Fn.label=6;case 6:return Le?[4,_e.oo(Le)]:[3,10];case 7:return(lt=Fn.sent())&&P._updateProgress(lt),[4,x.Lo()];case 8:Le=Fn.sent(),Fn.label=9;case 9:return[3,6];case 10:return[4,_e.complete()];case 11:return Bt=Fn.sent(),[4,sa(v,Bt.wn,void 0)];case 12:return Fn.sent(),[4,function(xn,C){var I=dt(xn);return I.persistence.runTransaction("Save bundle","readwrite",function(g){return I.Ke.saveBundleMetadata(g,C)})}(v.localStore,j)];case 13:return Fn.sent(),P._completeWith(Bt.progress),[3,15];case 14:return je("SyncEngine","Loading bundle failed with "+(Xt=Fn.sent())),P._failWith(Xt),[3,15];case 15:return[2]}var xn,C,I,g})})})(p,n,l).then(function(){p.sharedClientState.notifyBundleLoaded()})}var Ls=function(){function c(){this.synchronizeTabs=!1}return c.prototype.initialize=function(n){return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(l){switch(l.label){case 0:return this.R=Ns(n.databaseInfo.databaseId),this.sharedClientState=this.Bo(n),this.persistence=this.qo(n),[4,this.persistence.start()];case 1:return l.sent(),this.gcScheduler=this.Uo(n),this.localStore=this.Ko(n),[2]}})})},c.prototype.Uo=function(n){return null},c.prototype.Ko=function(n){return Ea(this.persistence,new el,n.initialUser,this.R)},c.prototype.qo=function(n){return new td(Bu.bs,this.R)},c.prototype.Bo=function(n){return new pl},c.prototype.terminate=function(){return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(n){switch(n.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return n.sent(),[4,this.persistence.shutdown()];case 2:return n.sent(),[2]}})})},c}(),Ia=function(c){function n(l,p,v){var x=this;return(x=c.call(this)||this).Qo=l,x.cacheSizeBytes=p,x.forceOwnership=v,x.synchronizeTabs=!1,x}return(0,d.__extends)(n,c),n.prototype.initialize=function(l){return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(p){switch(p.label){case 0:return[4,c.prototype.initialize.call(this,l)];case 1:return p.sent(),[4,Qc(this.localStore)];case 2:return p.sent(),[4,this.Qo.initialize(this,l)];case 3:return p.sent(),[4,Cl(this.Qo.syncEngine)];case 4:return p.sent(),[4,ja(this.Qo.remoteStore)];case 5:return p.sent(),[2]}})})},n.prototype.Ko=function(l){return Ea(this.persistence,new el,l.initialUser,this.R)},n.prototype.Uo=function(l){return new Rs(this.persistence.referenceDelegate.garbageCollector,l.asyncQueue)},n.prototype.qo=function(l){var p=$i(l.databaseInfo.databaseId,l.databaseInfo.persistenceKey),v=void 0!==this.cacheSizeBytes?Li.withCacheSize(this.cacheSizeBytes):Li.DEFAULT;return new Kn(this.synchronizeTabs,p,l.clientId,v,l.asyncQueue,Il(),ml(),this.R,this.sharedClientState,!!this.forceOwnership)},n.prototype.Bo=function(l){return new pl},n}(Ls),sl=function(c){function n(l,p){var v=this;return(v=c.call(this,l,p,!1)||this).Qo=l,v.cacheSizeBytes=p,v.synchronizeTabs=!0,v}return(0,d.__extends)(n,c),n.prototype.initialize=function(l){return(0,d.__awaiter)(this,void 0,void 0,function(){var p,v=this;return(0,d.__generator)(this,function(x){switch(x.label){case 0:return[4,c.prototype.initialize.call(this,l)];case 1:return x.sent(),p=this.Qo.syncEngine,this.sharedClientState instanceof fl?(this.sharedClientState.syncEngine={ui:Yc.bind(null,p),ai:sc.bind(null,p),hi:Tu.bind(null,p),fn:oc.bind(null,p),ci:Tc.bind(null,p)},[4,this.sharedClientState.start()]):[3,3];case 2:x.sent(),x.label=3;case 3:return[4,this.persistence.He(function(P){return(0,d.__awaiter)(v,void 0,void 0,function(){return(0,d.__generator)(this,function(j){switch(j.label){case 0:return[4,xc(this.Qo.syncEngine,P)];case 1:return j.sent(),this.gcScheduler&&(P&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):P||this.gcScheduler.stop()),[2]}})})})];case 4:return x.sent(),[2]}})})},n.prototype.Bo=function(l){var p=Il();if(!fl.yt(p))throw new pe(xe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var v=$i(l.databaseInfo.databaseId,l.databaseInfo.persistenceKey);return new fl(p,l.asyncQueue,v,l.clientId,l.initialUser)},n}(Ia),Dl=function(){function c(){}return c.prototype.initialize=function(n,l){return(0,d.__awaiter)(this,void 0,void 0,function(){var p=this;return(0,d.__generator)(this,function(v){switch(v.label){case 0:return this.localStore?[3,2]:(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(l),this.remoteStore=this.createRemoteStore(l),this.eventManager=this.createEventManager(l),this.syncEngine=this.createSyncEngine(l,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(x){return Gc(p.syncEngine,x,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ol.bind(null,this.syncEngine),[4,yl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:v.sent(),v.label=2;case 2:return[2]}})})},c.prototype.createEventManager=function(n){return new Pl},c.prototype.createDatastore=function(n){var p=Ns(n.databaseInfo.databaseId),v=new yu(n.databaseInfo);return new bu(n.credentials,v,p)},c.prototype.createRemoteStore=function(n){var l,p,v,x,P,j=this;return l=this.localStore,p=this.datastore,v=n.asyncQueue,x=function(_e){return Gc(j.syncEngine,_e,0)},P=Vc.yt()?new Vc:new Al,new Xl(l,p,v,x,P)},c.prototype.createSyncEngine=function(n,l){return Le=l,lt=new Dc(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions),Le&&(lt.$o=!0),lt;var Le,lt},c.prototype.terminate=function(){return function(n){return(0,d.__awaiter)(this,void 0,void 0,function(){var l;return(0,d.__generator)(this,function(p){switch(p.label){case 0:return l=dt(n),Q("RemoteStore","RemoteStore shutting down."),l.Or.add(5),[4,ia(l)];case 1:return p.sent(),l.Lr.shutdown(),l.Br.set("Unknown"),[2]}})})}(this.remoteStore)},c}();function zs(c,n){void 0===n&&(n=10240);var l=0;return{read:function(){return(0,d.__awaiter)(this,void 0,void 0,function(){var p;return(0,d.__generator)(this,function(v){return l<c.byteLength?(p={value:c.slice(l,l+n),done:!1},[2,(l+=n,p)]):[2,{done:!0}]})})},cancel:function(){return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(p){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var va=function(){function c(n){this.observer=n,this.muted=!1}return c.prototype.next=function(n){this.observer.next&&this.jo(this.observer.next,n)},c.prototype.error=function(n){this.observer.error?this.jo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)},c.prototype.Wo=function(){this.muted=!0},c.prototype.jo=function(n,l){var p=this;this.muted||setTimeout(function(){p.muted||n(l)},0)},c}(),Ac=function(){function c(n,l){var p=this;this.Go=n,this.R=l,this.metadata=new Po,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(v){v&&v.io()?p.metadata.resolve(v.payload.metadata):p.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==v?void 0:v.payload)))},function(v){return p.metadata.reject(v)})}return c.prototype.close=function(){return this.Go.cancel()},c.prototype.getMetadata=function(){return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(n){return[2,this.metadata.promise]})})},c.prototype.Lo=function(){return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getMetadata()];case 1:return[2,(n.sent(),this.Ho())]}})})},c.prototype.Ho=function(){return(0,d.__awaiter)(this,void 0,void 0,function(){var n,l,p,v;return(0,d.__generator)(this,function(x){switch(x.label){case 0:return[4,this.Jo()];case 1:return null===(n=x.sent())?[2,null]:(l=this.zo.decode(n),p=Number(l),isNaN(p)&&this.Yo("length string ("+l+") is not valid number"),[4,this.Xo(p)]);case 2:return v=x.sent(),[2,new oo(JSON.parse(v),n.length+p)]}})})},c.prototype.Zo=function(){return this.buffer.findIndex(function(n){return n==="{".charCodeAt(0)})},c.prototype.Jo=function(){return(0,d.__awaiter)(this,void 0,void 0,function(){var n,l;return(0,d.__generator)(this,function(p){switch(p.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(p.sent())return[3,3];p.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((n=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),l=this.buffer.slice(0,n),[2,(this.buffer=this.buffer.slice(n),l)])}})})},c.prototype.Xo=function(n){return(0,d.__awaiter)(this,void 0,void 0,function(){var l;return(0,d.__generator)(this,function(p){switch(p.label){case 0:return this.buffer.length<n?[4,this.tc()]:[3,3];case 1:p.sent()&&this.Yo("Reached the end of bundle when more is expected."),p.label=2;case 2:return[3,0];case 3:return l=this.zo.decode(this.buffer.slice(0,n)),[2,(this.buffer=this.buffer.slice(n),l)]}})})},c.prototype.Yo=function(n){throw this.Go.cancel(),new Error("Invalid bundle format: "+n)},c.prototype.tc=function(){return(0,d.__awaiter)(this,void 0,void 0,function(){var n,l;return(0,d.__generator)(this,function(p){switch(p.label){case 0:return[4,this.Go.read()];case 1:return(n=p.sent()).done||((l=new Uint8Array(this.buffer.length+n.value.length)).set(this.buffer),l.set(n.value,this.buffer.length),this.buffer=l),[2,n.done]}})})},c}(),ac=function(){function c(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return c.prototype.lookup=function(n){return(0,d.__awaiter)(this,void 0,void 0,function(){var l,p=this;return(0,d.__generator)(this,function(v){switch(v.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new pe(xe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(x,P){return(0,d.__awaiter)(this,void 0,void 0,function(){var j,_e,Le,lt,Bt,Xt;return(0,d.__generator)(this,function(Fn){switch(Fn.label){case 0:return j=dt(x),_e=Jo(j.R)+"/documents",Le={documents:P.map(function(xn){return Tr(j.R,xn)})},[4,j.$i("BatchGetDocuments",_e,Le)];case 1:return lt=Fn.sent(),Bt=new Map,lt.forEach(function(xn){var I,g,C=(I=j.R,"found"in(g=xn)?function(E,U){Ke(!!U.found);var he=no(E,U.found.name),xt=rr(U.found.updateTime),yn=new de({mapValue:{fields:U.found.fields}});return Ce.newFoundDocument(he,xt,yn)}(I,g):"missing"in g?function(E,U){Ke(!!U.missing),Ke(!!U.readTime);var he=no(E,U.missing),xt=rr(U.readTime);return Ce.newNoDocument(he,xt)}(I,g):ke());Bt.set(C.key.toString(),C)}),Xt=[],[2,(P.forEach(function(xn){var C=Bt.get(xn.toString());Ke(!!C),Xt.push(C)}),Xt)]}})})}(this.datastore,n)];case 1:return[2,((l=v.sent()).forEach(function(x){return p.recordVersion(x)}),l)]}})})},c.prototype.set=function(n,l){this.write(l.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())},c.prototype.update=function(n,l){try{this.write(l.toMutation(n,this.preconditionForUpdate(n)))}catch(p){this.lastWriteError=p}this.writtenDocs.add(n.toString())},c.prototype.delete=function(n){this.write(new wo(n,this.precondition(n))),this.writtenDocs.add(n.toString())},c.prototype.commit=function(){return(0,d.__awaiter)(this,void 0,void 0,function(){var n,l=this;return(0,d.__generator)(this,function(p){switch(p.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return n=this.readVersions,this.mutations.forEach(function(v){n.delete(v.key.toString())}),n.forEach(function(v,x){var P=an.fromPath(x);l.mutations.push(new ms(P,l.precondition(P)))}),[4,function(v,x){return(0,d.__awaiter)(this,void 0,void 0,function(){var P,j,_e;return(0,d.__generator)(this,function(Le){switch(Le.label){case 0:return P=dt(v),j=Jo(P.R)+"/documents",_e={writes:x.map(function(lt){return Fe(P.R,lt)})},[4,P.Ni("Commit",j,_e)];case 1:return Le.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return p.sent(),this.committed=!0,[2]}})})},c.prototype.recordVersion=function(n){var l;if(n.isFoundDocument())l=n.version;else{if(!n.isNoDocument())throw ke();l=te.min()}var p=this.readVersions.get(n.key.toString());if(p){if(!l.isEqual(p))throw new pe(xe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),l)},c.prototype.precondition=function(n){var l=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&l?ur.updateTime(l):ur.none()},c.prototype.preconditionForUpdate=function(n){var l=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&l){if(l.isEqual(te.min()))throw new pe(xe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ur.updateTime(l)}return ur.exists(!0)},c.prototype.write=function(n){this.ensureCommitNotCalled(),this.mutations.push(n)},c.prototype.ensureCommitNotCalled=function(){},c}(),$a=function(){function c(n,l,p,v){this.asyncQueue=n,this.datastore=l,this.updateFunction=p,this.deferred=v,this.ec=5,this.Zi=new Ql(this.asyncQueue,"transaction_retry")}return c.prototype.run=function(){this.ec-=1,this.nc()},c.prototype.nc=function(){var n=this;this.Zi.ji(function(){return(0,d.__awaiter)(n,void 0,void 0,function(){var l,p,v=this;return(0,d.__generator)(this,function(x){return l=new ac(this.datastore),(p=this.sc(l))&&p.then(function(P){v.asyncQueue.enqueueAndForget(function(){return l.commit().then(function(){v.deferred.resolve(P)}).catch(function(j){v.ic(j)})})}).catch(function(P){v.ic(P)}),[2]})})})},c.prototype.sc=function(n){try{var l=this.updateFunction(n);return!Kt(l)&&l.catch&&l.then?l:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(p){return this.deferred.reject(p),null}},c.prototype.ic=function(n){var l=this;this.ec>0&&this.rc(n)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return l.nc(),Promise.resolve()})):this.deferred.reject(n)},c.prototype.rc=function(n){if("FirebaseError"===n.name){var l=n.code;return"aborted"===l||"failed-precondition"===l||!Jr(l)}return!1},c}(),lc=function(){function c(n,l,p){var v=this;this.credentials=n,this.asyncQueue=l,this.databaseInfo=p,this.user=Os.UNAUTHENTICATED,this.clientId=Dt.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(l,function(x){return(0,d.__awaiter)(v,void 0,void 0,function(){return(0,d.__generator)(this,function(P){switch(P.label){case 0:return Q("FirestoreClient","Received user=",x.uid),[4,this.credentialListener(x)];case 1:return P.sent(),this.user=x,[2]}})})})}return c.prototype.getConfiguration=function(){return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(n){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},c.prototype.setCredentialChangeListener=function(n){this.credentialListener=n},c.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new pe(xe.FAILED_PRECONDITION,"The client has already been terminated.")},c.prototype.terminate=function(){var n=this;this.asyncQueue.enterRestrictedMode();var l=new Po;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,d.__awaiter)(n,void 0,void 0,function(){var p,v;return(0,d.__generator)(this,function(x){switch(x.label){case 0:return x.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:x.sent(),x.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:x.sent(),x.label=4;case 4:return this.credentials.removeChangeListener(),l.resolve(),[3,6];case 5:return p=x.sent(),v=ps(p,"Failed to shutdown persistence"),l.reject(v),[3,6];case 6:return[2]}})})}),l.promise},c}();function al(c,n){return(0,d.__awaiter)(this,void 0,void 0,function(){var l,p,v=this;return(0,d.__generator)(this,function(x){switch(x.label){case 0:return c.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider"),[4,c.getConfiguration()];case 1:return l=x.sent(),[4,n.initialize(l)];case 2:return x.sent(),p=l.initialUser,c.setCredentialChangeListener(function(P){return(0,d.__awaiter)(v,void 0,void 0,function(){return(0,d.__generator)(this,function(j){switch(j.label){case 0:return p.isEqual(P)?[3,2]:[4,Fo(n.localStore,P)];case 1:j.sent(),p=P,j.label=2;case 2:return[2]}})})}),n.persistence.setDatabaseDeletedListener(function(){return c.terminate()}),c.offlineComponents=n,[2]}})})}function Vl(c,n){return(0,d.__awaiter)(this,void 0,void 0,function(){var l,p;return(0,d.__generator)(this,function(v){switch(v.label){case 0:return c.asyncQueue.verifyOperationInProgress(),[4,Vu(c)];case 1:return l=v.sent(),Q("FirestoreClient","Initializing OnlineComponentProvider"),[4,c.getConfiguration()];case 2:return p=v.sent(),[4,n.initialize(l,p)];case 3:return v.sent(),c.setCredentialChangeListener(function(x){return function(P,j){return(0,d.__awaiter)(this,void 0,void 0,function(){var _e,Le;return(0,d.__generator)(this,function(lt){switch(lt.label){case 0:return(_e=dt(P)).asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials"),Le=pa(_e),_e.Or.add(3),[4,ia(_e)];case 1:return lt.sent(),Le&&_e.Br.set("Unknown"),[4,_e.remoteSyncer.handleCredentialChange(j)];case 2:return lt.sent(),_e.Or.delete(3),[4,Ps(_e)];case 3:return lt.sent(),[2]}})})}(n.remoteStore,x)}),c.onlineComponents=n,[2]}})})}function Vu(c){return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(n){switch(n.label){case 0:return c.offlineComponents?[3,2]:(Q("FirestoreClient","Using default OfflineComponentProvider"),[4,al(c,new Ls)]);case 1:n.sent(),n.label=2;case 2:return[2,c.offlineComponents]}})})}function ll(c){return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(n){switch(n.label){case 0:return c.onlineComponents?[3,2]:(Q("FirestoreClient","Using default OnlineComponentProvider"),[4,Vl(c,new Dl)]);case 1:n.sent(),n.label=2;case 2:return[2,c.onlineComponents]}})})}function Hu(c){return Vu(c).then(function(n){return n.persistence})}function ou(c){return Vu(c).then(function(n){return n.localStore})}function xu(c){return ll(c).then(function(n){return n.remoteStore})}function su(c){return ll(c).then(function(n){return n.syncEngine})}function Wa(c){return(0,d.__awaiter)(this,void 0,void 0,function(){var n,l;return(0,d.__generator)(this,function(p){switch(p.label){case 0:return[4,ll(c)];case 1:return n=p.sent(),[2,((l=n.eventManager).onListen=Ll.bind(null,n.syncEngine),l.onUnlisten=jc.bind(null,n.syncEngine),l)]}})})}function Hl(c,n,l){var p=this;void 0===l&&(l={});var v=new Po;return c.asyncQueue.enqueueAndForget(function(){return(0,d.__awaiter)(p,void 0,void 0,function(){var x;return(0,d.__generator)(this,function(P){switch(P.label){case 0:return x=function(j,_e,Le,lt,Bt){var Xt=new va({next:function(xn){_e.enqueueAndForget(function(){return ra(j,Fn)});var C=xn.docs.has(Le);!C&&xn.fromCache?Bt.reject(new pe(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&xn.fromCache&&lt&&"server"===lt.source?Bt.reject(new pe(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Bt.resolve(xn)},error:function(xn){return Bt.reject(xn)}}),Fn=new tr(Ct(Le.path),Xt,{includeMetadataChanges:!0,so:!0});return Fl(j,Fn)},[4,Wa(c)];case 1:return[2,x.apply(void 0,[P.sent(),c.asyncQueue,n,l,v])]}})})}),v.promise}function $c(c,n,l){var p=this;void 0===l&&(l={});var v=new Po;return c.asyncQueue.enqueueAndForget(function(){return(0,d.__awaiter)(p,void 0,void 0,function(){var x;return(0,d.__generator)(this,function(P){switch(P.label){case 0:return x=function(j,_e,Le,lt,Bt){var Xt=new va({next:function(xn){_e.enqueueAndForget(function(){return ra(j,Fn)}),xn.fromCache&&"server"===lt.source?Bt.reject(new pe(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Bt.resolve(xn)},error:function(xn){return Bt.reject(xn)}}),Fn=new tr(Le,Xt,{includeMetadataChanges:!0,so:!0});return Fl(j,Fn)},[4,Wa(c)];case 1:return[2,x.apply(void 0,[P.sent(),c.asyncQueue,n,l,v])]}})})}),v.promise}var Ic=function(c,n,l,p,v,x,P,j){this.databaseId=c,this.appId=n,this.persistenceKey=l,this.host=p,this.ssl=v,this.forceLongPolling=x,this.autoDetectLongPolling=P,this.useFetchStreams=j},cc=function(){function c(n,l){this.projectId=n,this.database=l||"(default)"}return Object.defineProperty(c.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(n){return n instanceof c&&n.projectId===this.projectId&&n.database===this.database},c}(),Zo=new Map,jl=function(c,n){this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+c},Wc=function(){function c(){this.changeListener=null}return c.prototype.getToken=function(){return Promise.resolve(null)},c.prototype.invalidateToken=function(){},c.prototype.setChangeListener=function(n,l){this.changeListener=l,n.enqueueRetryable(function(){return l(Os.UNAUTHENTICATED)})},c.prototype.removeChangeListener=function(){this.changeListener=null},c}(),ya=function(){function c(n){this.token=n,this.changeListener=null}return c.prototype.getToken=function(){return Promise.resolve(this.token)},c.prototype.invalidateToken=function(){},c.prototype.setChangeListener=function(n,l){var p=this;this.changeListener=l,n.enqueueRetryable(function(){return l(p.token.user)})},c.prototype.removeChangeListener=function(){this.changeListener=null},c}(),Ra=function(){function c(n){var l=this;this.currentUser=Os.UNAUTHENTICATED,this.oc=new Po,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){l.cc++,l.currentUser=l.ac(),l.oc.resolve(),l.changeListener&&l.asyncQueue.enqueueRetryable(function(){return l.changeListener(l.currentUser)})};var p=function(v){Q("FirebaseCredentialsProvider","Auth detected"),l.auth=v,l.auth.addAuthTokenListener(l.uc)};n.onInit(function(v){return p(v)}),setTimeout(function(){if(!l.auth){var v=n.getImmediate({optional:!0});v?p(v):(Q("FirebaseCredentialsProvider","Auth not yet detected"),l.oc.resolve())}},0)}return c.prototype.getToken=function(){var n=this,l=this.cc,p=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(p).then(function(v){return n.cc!==l?(Q("FirebaseCredentialsProvider","getToken aborted due to token change."),n.getToken()):v?(Ke("string"==typeof v.accessToken),new jl(v.accessToken,n.currentUser)):null}):Promise.resolve(null)},c.prototype.invalidateToken=function(){this.forceRefresh=!0},c.prototype.setChangeListener=function(n,l){var p=this;this.asyncQueue=n,this.asyncQueue.enqueueRetryable(function(){return(0,d.__awaiter)(p,void 0,void 0,function(){return(0,d.__generator)(this,function(v){switch(v.label){case 0:return[4,this.oc.promise];case 1:return v.sent(),[4,l(this.currentUser)];case 2:return v.sent(),this.changeListener=l,[2]}})})})},c.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},c.prototype.ac=function(){var n=this.auth&&this.auth.getUid();return Ke(null===n||"string"==typeof n),new Os(n)},c}(),Rc=function(){function c(n,l,p){this.hc=n,this.lc=l,this.fc=p,this.type="FirstParty",this.user=Os.FIRST_PARTY}return Object.defineProperty(c.prototype,"authHeaders",{get:function(){var n={"X-Goog-AuthUser":this.lc},l=this.hc.auth.getAuthHeaderValueForFirstParty([]);return l&&(n.Authorization=l),this.fc&&(n["X-Goog-Iam-Authorization-Token"]=this.fc),n},enumerable:!1,configurable:!0}),c}(),Ys=function(){function c(n,l,p){this.hc=n,this.lc=l,this.fc=p}return c.prototype.getToken=function(){return Promise.resolve(new Rc(this.hc,this.lc,this.fc))},c.prototype.setChangeListener=function(n,l){n.enqueueRetryable(function(){return l(Os.FIRST_PARTY)})},c.prototype.removeChangeListener=function(){},c.prototype.invalidateToken=function(){},c}();function Oc(c,n,l){if(!l)throw new pe(xe.INVALID_ARGUMENT,"Function "+c+"() cannot be called with an empty "+n+".")}function ba(c,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new pe(xe.INVALID_ARGUMENT,"Invalid options passed to function "+c+'(): You cannot specify both "merge" and "mergeFields".');return n}function Oa(c,n,l,p){if(!0===n&&!0===p)throw new pe(xe.INVALID_ARGUMENT,c+" and "+l+" cannot be used together.")}function Za(c){if(!an.isDocumentKey(c))throw new pe(xe.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+c+" has "+c.length+".")}function Gl(c){if(an.isDocumentKey(c))throw new pe(xe.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+c+" has "+c.length+".")}function da(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=c.substring(0,20)+"..."),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";var n=function(l){if(l.constructor){var p=/function\s+([^\s(]+)\s*\(/.exec(l.constructor.toString());if(p&&p.length>1)return p[1]}return null}(c);return n?"a custom "+n+" object":"an object"}return"function"==typeof c?"a function":ke()}function Ar(c,n){if("_delegate"in c&&(c=c._delegate),!(c instanceof n)){if(n.name===c.constructor.name)throw new pe(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var l=da(c);throw new pe(xe.INVALID_ARGUMENT,"Expected type '"+n.name+"', but it was: "+l)}return c}function Js(c,n){if(n<=0)throw new pe(xe.INVALID_ARGUMENT,"Function "+c+"() requires a positive number, but it was: "+n+".")}var kc=function(){function c(n){var l;if(void 0===n.host){if(void 0!==n.ssl)throw new pe(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(l=n.ssl)||void 0===l||l;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new pe(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,Oa("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}return c.prototype.isEqual=function(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams},c}(),uc=function(){function c(n,l){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kc({}),this._settingsFrozen=!1,n instanceof cc?(this._databaseId=n,this._credentials=new Wc):(this._app=n,this._databaseId=function(p){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pe(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(p.options.projectId)}(n),this._credentials=new Ra(l))}return Object.defineProperty(c.prototype,"app",{get:function(){if(!this._app)throw new pe(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),c.prototype._setSettings=function(n){if(this._settingsFrozen)throw new pe(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kc(n),void 0!==n.credentials&&(this._credentials=function(l){if(!l)return new Wc;switch(l.type){case"gapi":var p=l.client;return Ke(!("object"!=typeof p||null===p||!p.auth||!p.auth.getAuthHeaderValueForFirstParty)),new Ys(p,l.sessionIndex||"0",l.iamToken||null);case"provider":return l.client;default:throw new pe(xe.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))},c.prototype._getSettings=function(){return this._settings},c.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},c.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},c.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},c.prototype._terminate=function(){return(l=Zo.get(this))&&(Q("ComponentProvider","Removing Datastore"),Zo.delete(this),l.terminate()),Promise.resolve();var l},c}(),so=function(){function c(n,l,p){this.converter=l,this._key=p,this.type="document",this.firestore=n}return Object.defineProperty(c.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"parent",{get:function(){return new qa(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),c.prototype.withConverter=function(n){return new c(this.firestore,n,this._key)},c}(),bs=function(){function c(n,l,p){this.converter=l,this._query=p,this.type="query",this.firestore=n}return c.prototype.withConverter=function(n){return new c(this.firestore,n,this._query)},c}(),qa=function(c){function n(l,p,v){var x=this;return(x=c.call(this,l,p,Ct(v))||this)._path=v,x.type="collection",x}return(0,d.__extends)(n,c),Object.defineProperty(n.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var l=this._path.popLast();return l.isEmpty()?null:new so(this.firestore,null,new an(l))},enumerable:!1,configurable:!0}),n.prototype.withConverter=function(l){return new n(this.firestore,l,this._path)},n}(bs);function au(c,n){for(var l,p=[],v=2;v<arguments.length;v++)p[v-2]=arguments[v];if(c=(0,_.getModularInstance)(c),Oc("collection","path",n),c instanceof uc)return Gl(l=Ze.fromString.apply(Ze,(0,d.__spreadArray)([n],p))),new qa(c,null,l);if(!(c instanceof so||c instanceof qa))throw new pe(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Gl(l=Ze.fromString.apply(Ze,(0,d.__spreadArray)([c.path],p)).child(Ze.fromString(n))),new qa(c.firestore,null,l)}function S(c,n){for(var l,p=[],v=2;v<arguments.length;v++)p[v-2]=arguments[v];if(c=(0,_.getModularInstance)(c),1===arguments.length&&(n=Dt.u()),Oc("doc","path",n),c instanceof uc)return Za(l=Ze.fromString.apply(Ze,(0,d.__spreadArray)([n],p))),new so(c,null,new an(l));if(!(c instanceof so||c instanceof qa))throw new pe(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Za(l=c._path.child(Ze.fromString.apply(Ze,(0,d.__spreadArray)([n],p)))),new so(c.firestore,c instanceof qa?c.converter:null,new an(l))}function k(c,n){return c=(0,_.getModularInstance)(c),n=(0,_.getModularInstance)(n),(c instanceof so||c instanceof qa)&&(n instanceof so||n instanceof qa)&&c.firestore===n.firestore&&c.path===n.path&&c.converter===n.converter}function O(c,n){return c=(0,_.getModularInstance)(c),n=(0,_.getModularInstance)(n),c instanceof bs&&n instanceof bs&&c.firestore===n.firestore&&pn(c._query,n._query)&&c.converter===n.converter}var z=function(){function c(){var n=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Ql(this,"async_queue_retry"),this.Ic=function(){var p=ml();p&&Q("AsyncQueue","Visibility state changed to "+p.visibilityState),n.Zi.Gi()};var l=ml();l&&"function"==typeof l.addEventListener&&l.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(c.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),c.prototype.enqueueAndForget=function(n){this.enqueue(n)},c.prototype.enqueueAndForgetEvenWhileRestricted=function(n){this.Ac(),this.Rc(n)},c.prototype.enterRestrictedMode=function(n){if(!this._c){this._c=!0,this.Ec=n||!1;var l=ml();l&&"function"==typeof l.removeEventListener&&l.removeEventListener("visibilitychange",this.Ic)}},c.prototype.enqueue=function(n){var l=this;if(this.Ac(),this._c)return new Promise(function(){});var p=new Po;return this.Rc(function(){return l._c&&l.Ec?Promise.resolve():(n().then(p.resolve,p.reject),p.promise)}).then(function(){return p.promise})},c.prototype.enqueueRetryable=function(n){var l=this;this.enqueueAndForget(function(){return l.wc.push(n),l.bc()})},c.prototype.bc=function(){return(0,d.__awaiter)(this,void 0,void 0,function(){var n,l=this;return(0,d.__generator)(this,function(p){switch(p.label){case 0:if(0===this.wc.length)return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return p.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!_t(n=p.sent()))throw n;return Q("AsyncQueue","Operation failed with retryable error: "+n),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return l.bc()}),p.label=5;case 5:return[2]}})})},c.prototype.Rc=function(n){var l=this,p=this.dc.then(function(){return l.gc=!0,n().catch(function(v){throw l.yc=v,l.gc=!1,qe("INTERNAL UNHANDLED ERROR: ",(P=(x=v).message||"",x.stack&&(P=x.stack.includes(x.message)?x.stack:x.message+"\n"+x.stack),P)),v;var x,P}).then(function(v){return l.gc=!1,v})});return this.dc=p,p},c.prototype.enqueueAfterDelay=function(n,l,p){var v=this;this.Ac(),this.Tc.indexOf(n)>-1&&(l=0);var x=Sa.createAndSchedule(this,n,l,p,function(P){return v.vc(P)});return this.mc.push(x),x},c.prototype.Ac=function(){this.yc&&ke()},c.prototype.verifyOperationInProgress=function(){},c.prototype.Pc=function(){return(0,d.__awaiter)(this,void 0,void 0,function(){var n;return(0,d.__generator)(this,function(l){switch(l.label){case 0:return[4,n=this.dc];case 1:l.sent(),l.label=2;case 2:if(n!==this.dc)return[3,0];l.label=3;case 3:return[2]}})})},c.prototype.Vc=function(n){for(var l=0,p=this.mc;l<p.length;l++)if(p[l].timerId===n)return!0;return!1},c.prototype.Sc=function(n){var l=this;return this.Pc().then(function(){l.mc.sort(function(P,j){return P.targetTimeMs-j.targetTimeMs});for(var p=0,v=l.mc;p<v.length;p++){var x=v[p];if(x.skipDelay(),"all"!==n&&x.timerId===n)break}return l.Pc()})},c.prototype.Dc=function(n){this.Tc.push(n)},c.prototype.vc=function(n){var l=this.mc.indexOf(n);this.mc.splice(l,1)},c}();function ce(c){return function(n,l){if("object"!=typeof n||null===n)return!1;for(var p=n,v=0,x=["next","error","complete"];v<x.length;v++){var P=x[v];if(P in p&&"function"==typeof p[P])return!0}return!1}(c)}var De=function(){function c(){this._progressObserver={},this._taskCompletionResolver=new Po,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return c.prototype.onProgress=function(n,l,p){this._progressObserver={next:n,error:l,complete:p}},c.prototype.catch=function(n){return this._taskCompletionResolver.promise.catch(n)},c.prototype.then=function(n,l){return this._taskCompletionResolver.promise.then(n,l)},c.prototype._completeWith=function(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)},c.prototype._failWith=function(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)},c.prototype._updateProgress=function(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)},c}(),At=-1,$t=function(c){function n(l,p){var v=this;return(v=c.call(this,l,p)||this).type="firestore",v._queue=new z,v._persistenceKey="name"in l?l.name:"[DEFAULT]",v}return(0,d.__extends)(n,c),n.prototype._terminate=function(){return this._firestoreClient||Hn(this),this._firestoreClient.terminate()},n}(uc);function gn(c){return c._firestoreClient||Hn(c),c._firestoreClient.verifyNotTerminated(),c._firestoreClient}function Hn(c){var n,x,j,l=c._freezeSettings(),p=(x=(null===(n=c._app)||void 0===n?void 0:n.options.appId)||"",new Ic(c._databaseId,x,c._persistenceKey,(j=l).host,j.ssl,j.experimentalForceLongPolling,j.experimentalAutoDetectLongPolling,j.useFetchStreams));c._firestoreClient=new lc(c._credentials,c._queue,p)}function Jn(c,n,l){var p=this,v=new Po;return c.asyncQueue.enqueue(function(){return(0,d.__awaiter)(p,void 0,void 0,function(){var x;return(0,d.__generator)(this,function(P){switch(P.label){case 0:return P.trys.push([0,3,,4]),[4,al(c,l)];case 1:return P.sent(),[4,Vl(c,n)];case 2:return P.sent(),v.resolve(),[3,4];case 3:if(!("FirebaseError"===(j=x=P.sent()).name?j.code===xe.FAILED_PRECONDITION||j.code===xe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&j instanceof DOMException)||22===j.code||20===j.code||11===j.code))throw x;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+x),v.reject(x),[3,4];case 4:return[2]}var j})})}).then(function(){return v.promise})}function zi(c){if(c._initialized||c._terminated)throw new pe(xe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Wi=function(){function c(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];for(var p=0;p<n.length;++p)if(0===n[p].length)throw new pe(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(n)}return c.prototype.isEqual=function(n){return this._internalPath.isEqual(n._internalPath)},c}(),Wr=function(){function c(n){this._byteString=n}return c.fromBase64String=function(n){try{return new c(st.fromBase64String(n))}catch(l){throw new pe(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+l)}},c.fromUint8Array=function(n){return new c(st.fromUint8Array(n))},c.prototype.toBase64=function(){return this._byteString.toBase64()},c.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},c.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},c.prototype.isEqual=function(n){return this._byteString.isEqual(n._byteString)},c}(),xr=function(c){this._methodName=c},Do=function(){function c(n,l){if(!isFinite(n)||n<-90||n>90)throw new pe(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(l)||l<-180||l>180)throw new pe(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+l);this._lat=n,this._long=l}return Object.defineProperty(c.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(n){return this._lat===n._lat&&this._long===n._long},c.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},c.prototype._compareTo=function(n){return Tt(this._lat,n._lat)||Tt(this._long,n._long)},c}(),Qo=/^__.*__$/,Bs=function(){function c(n,l,p){this.data=n,this.fieldMask=l,this.fieldTransforms=p}return c.prototype.toMutation=function(n,l){return null!==this.fieldMask?new sr(n,this.data,this.fieldMask,l,this.fieldTransforms):new $o(n,this.data,l,this.fieldTransforms)},c}(),ws=function(){function c(n,l,p){this.data=n,this.fieldMask=l,this.fieldTransforms=p}return c.prototype.toMutation=function(n,l){return new sr(n,this.data,this.fieldMask,l,this.fieldTransforms)},c}();function Xs(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}var ka=function(){function c(n,l,p,v,x,P){this.settings=n,this.databaseId=l,this.R=p,this.ignoreUndefinedProperties=v,void 0===x&&this.Cc(),this.fieldTransforms=x||[],this.fieldMask=P||[]}return Object.defineProperty(c.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),c.prototype.xc=function(n){return new c(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},c.prototype.Fc=function(n){var l,p=null===(l=this.path)||void 0===l?void 0:l.child(n),v=this.xc({path:p,kc:!1});return v.$c(n),v},c.prototype.Oc=function(n){var l,p=null===(l=this.path)||void 0===l?void 0:l.child(n),v=this.xc({path:p,kc:!1});return v.Cc(),v},c.prototype.Mc=function(n){return this.xc({path:void 0,kc:!0})},c.prototype.Lc=function(n){return dl(n,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},c.prototype.contains=function(n){return void 0!==this.fieldMask.find(function(l){return n.isPrefixOf(l)})||void 0!==this.fieldTransforms.find(function(l){return n.isPrefixOf(l.field)})},c.prototype.Cc=function(){if(this.path)for(var n=0;n<this.path.length;n++)this.$c(this.path.get(n))},c.prototype.$c=function(n){if(0===n.length)throw this.Lc("Document fields must not be empty");if(Xs(this.Nc)&&Qo.test(n))throw this.Lc('Document fields cannot begin and end with "__"')},c}(),Ms=function(){function c(n,l,p){this.databaseId=n,this.ignoreUndefinedProperties=l,this.R=p||Ns(n)}return c.prototype.Uc=function(n,l,p,v){return void 0===v&&(v=!1),new ka({Nc:n,methodName:l,qc:p,path:Ye.emptyPath(),kc:!1,Bc:v},this.databaseId,this.R,this.ignoreUndefinedProperties)},c}();function cl(c){var n=c._freezeSettings(),l=Ns(c._databaseId);return new Ms(c._databaseId,!!n.ignoreUndefinedProperties,l)}function as(c,n,l,p,v,x){void 0===x&&(x={});var P=c.Uc(x.merge||x.mergeFields?2:0,n,l,v);hc("Data must be an object, but it was:",P,p);var j,_e,Le=rd(p,P);if(x.merge)j=new Xe(P.fieldMask),_e=P.fieldTransforms;else if(x.mergeFields){for(var lt=[],Bt=0,Xt=x.mergeFields;Bt<Xt.length;Bt++){var Fn=cu(n,Xt[Bt],l);if(!P.contains(Fn))throw new pe(xe.INVALID_ARGUMENT,"Field '"+Fn+"' is specified in your field mask but missing from your input data.");du(lt,Fn)||lt.push(Fn)}j=new Xe(lt),_e=P.fieldTransforms.filter(function(xn){return j.covers(xn.field)})}else j=null,_e=P.fieldTransforms;return new Bs(new de(Le),j,_e)}var Ua=function(c){function n(){return null!==c&&c.apply(this,arguments)||this}return(0,d.__extends)(n,c),n.prototype._toFieldTransform=function(l){if(2!==l.Nc)throw l.Lc(1===l.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return l.fieldMask.push(l.path),null},n.prototype.isEqual=function(l){return l instanceof n},n}(xr);function El(c,n,l){return new ka({Nc:3,qc:n.settings.qc,methodName:c._methodName,kc:l},n.databaseId,n.R,n.ignoreUndefinedProperties)}var lu=function(c){function n(){return null!==c&&c.apply(this,arguments)||this}return(0,d.__extends)(n,c),n.prototype._toFieldTransform=function(l){return new Or(l.path,new Ge)},n.prototype.isEqual=function(l){return l instanceof n},n}(xr),dc=function(c){function n(l,p){var v=this;return(v=c.call(this,l)||this).Kc=p,v}return(0,d.__extends)(n,c),n.prototype._toFieldTransform=function(l){var p=El(this,l,!0),v=this.Kc.map(function(P){return aa(P,p)}),x=new Oe(v);return new Or(l.path,x)},n.prototype.isEqual=function(l){return this===l},n}(xr),ju=function(c){function n(l,p){var v=this;return(v=c.call(this,l)||this).Kc=p,v}return(0,d.__extends)(n,c),n.prototype._toFieldTransform=function(l){var p=El(this,l,!0),v=this.Kc.map(function(P){return aa(P,p)}),x=new Qt(v);return new Or(l.path,x)},n.prototype.isEqual=function(l){return this===l},n}(xr),Zc=function(c){function n(l,p){var v=this;return(v=c.call(this,l)||this).Qc=p,v}return(0,d.__extends)(n,c),n.prototype._toFieldTransform=function(l){var p=new Bn(l.R,ht(l.R,this.Qc));return new Or(l.path,p)},n.prototype.isEqual=function(l){return this===l},n}(xr);function ul(c,n,l,p){var v=c.Uc(1,n,l);hc("Data must be an object, but it was:",v,p);var x=[],P=de.empty();Mt(p,function(_e,Le){var lt=uu(n,_e,l);Le=(0,_.getModularInstance)(Le);var Bt=v.Oc(lt);if(Le instanceof Ua)x.push(lt);else{var Xt=aa(Le,Bt);null!=Xt&&(x.push(lt),P.set(lt,Xt))}});var j=new Xe(x);return new ws(P,j,v.fieldTransforms)}function Gu(c,n,l,p,v,x){var P=c.Uc(1,n,l),j=[cu(n,p,l)],_e=[v];if(x.length%2!=0)throw new pe(xe.INVALID_ARGUMENT,"Function "+n+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var Le=0;Le<x.length;Le+=2)j.push(cu(n,x[Le])),_e.push(x[Le+1]);for(var lt=[],Bt=de.empty(),Xt=j.length-1;Xt>=0;--Xt)if(!du(lt,j[Xt])){var Fn=j[Xt],xn=_e[Xt];xn=(0,_.getModularInstance)(xn);var C=P.Oc(Fn);if(xn instanceof Ua)lt.push(Fn);else{var I=aa(xn,C);null!=I&&(lt.push(Fn),Bt.set(Fn,I))}}var g=new Xe(lt);return new ws(Bt,g,P.fieldTransforms)}function id(c,n,l,p){return void 0===p&&(p=!1),aa(l,c.Uc(p?4:3,n))}function aa(c,n){if(wa(c=(0,_.getModularInstance)(c)))return hc("Unsupported field value:",n,c),rd(c,n);if(c instanceof xr)return function(l,p){if(!Xs(p.Nc))throw p.Lc(l._methodName+"() can only be used with update() and set()");if(!p.path)throw p.Lc(l._methodName+"() is not currently supported inside arrays");var v=l._toFieldTransform(p);v&&p.fieldTransforms.push(v)}(c,n),null;if(void 0===c&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),c instanceof Array){if(n.settings.kc&&4!==n.Nc)throw n.Lc("Nested arrays are not supported");return function(l,p){for(var v=[],x=0,P=0,j=l;P<j.length;P++){var _e=aa(j[P],p.Mc(x));null==_e&&(_e={nullValue:"NULL_VALUE"}),v.push(_e),x++}return{arrayValue:{values:v}}}(c,n)}return function(l,p){if(null===(l=(0,_.getModularInstance)(l)))return{nullValue:"NULL_VALUE"};if("number"==typeof l)return ht(p.R,l);if("boolean"==typeof l)return{booleanValue:l};if("string"==typeof l)return{stringValue:l};if(l instanceof Date){var v=Pe.fromDate(l);return{timestampValue:yr(p.R,v)}}if(l instanceof Pe)return v=new Pe(l.seconds,1e3*Math.floor(l.nanoseconds/1e3)),{timestampValue:yr(p.R,v)};if(l instanceof Do)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof Wr)return{bytesValue:po(p.R,l._byteString)};if(l instanceof so){var x=l.firestore._databaseId;if(!x.isEqual(v=p.databaseId))throw p.Lc("Document reference is for database "+x.projectId+"/"+x.database+" but should be for database "+v.projectId+"/"+v.database);return{referenceValue:_o(l.firestore._databaseId||p.databaseId,l._key.path)}}throw p.Lc("Unsupported field value: "+da(l))}(c,n)}function rd(c,n){var l={};return bt(c)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Mt(c,function(p,v){var x=aa(v,n.Fc(p));null!=x&&(l[p]=x)}),{mapValue:{fields:l}}}function wa(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof Pe||c instanceof Do||c instanceof Wr||c instanceof so||c instanceof xr)}function hc(c,n,l){if(!wa(l)||"object"!=typeof(v=l)||null===v||Object.getPrototypeOf(v)!==Object.prototype&&null!==Object.getPrototypeOf(v)){var p=da(l);throw n.Lc("an object"===p?c+" a custom object":c+" "+p)}var v}function cu(c,n,l){if((n=(0,_.getModularInstance)(n))instanceof Wi)return n._internalPath;if("string"==typeof n)return uu(c,n);throw dl("Field path arguments must be of type string or FieldPath.",c,!1,void 0,l)}var Mu=new RegExp("[~\\*/\\[\\]]");function uu(c,n,l){if(n.search(Mu)>=0)throw dl("Invalid field path ("+n+"). Paths must not contain '~', '*', '/', '[', or ']'",c,!1,void 0,l);try{return(new(Wi.bind.apply(Wi,(0,d.__spreadArray)([void 0],n.split(".")))))._internalPath}catch(p){throw dl("Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",c,!1,void 0,l)}}function dl(c,n,l,p,v){var x=p&&!p.isEmpty(),P=void 0!==v,j="Function "+n+"() called with invalid data";l&&(j+=" (via `toFirestore()`)");var _e="";return(x||P)&&(_e+=" (found",x&&(_e+=" in field "+p),P&&(_e+=" in document "+v),_e+=")"),new pe(xe.INVALID_ARGUMENT,(j+=". ")+c+_e)}function du(c,n){return c.some(function(l){return l.isEqual(n)})}var hu=function(){function c(n,l,p,v,x){this._firestore=n,this._userDataWriter=l,this._key=p,this._document=v,this._converter=x}return Object.defineProperty(c.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ref",{get:function(){return new so(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),c.prototype.exists=function(){return null!==this._document},c.prototype.data=function(){if(this._document){if(this._converter){var n=new pd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}},c.prototype.get=function(n){if(this._document){var l=this._document.data.field(Su("DocumentSnapshot.get",n));if(null!==l)return this._userDataWriter.convertValue(l)}},c}(),pd=function(c){function n(){return null!==c&&c.apply(this,arguments)||this}return(0,d.__extends)(n,c),n.prototype.data=function(){return c.prototype.data.call(this)},n}(hu);function Su(c,n){return"string"==typeof n?uu(c,n):n instanceof Wi?n._internalPath:n._delegate._internalPath}var qc=function(){function c(n,l){this.hasPendingWrites=n,this.fromCache=l}return c.prototype.isEqual=function(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache},c}(),Nc=function(c){function n(l,p,v,x,P,j){var _e=this;return(_e=c.call(this,l,p,v,x,j)||this)._firestore=l,_e._firestoreImpl=l,_e.metadata=P,_e}return(0,d.__extends)(n,c),n.prototype.exists=function(){return c.prototype.exists.call(this)},n.prototype.data=function(l){if(void 0===l&&(l={}),this._document){if(this._converter){var p=new fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(p,l)}return this._userDataWriter.convertValue(this._document.data.value,l.serverTimestamps)}},n.prototype.get=function(l,p){if(void 0===p&&(p={}),this._document){var v=this._document.data.field(Su("DocumentSnapshot.get",l));if(null!==v)return this._userDataWriter.convertValue(v,p.serverTimestamps)}},n}(hu),fc=function(c){function n(){return null!==c&&c.apply(this,arguments)||this}return(0,d.__extends)(n,c),n.prototype.data=function(l){return void 0===l&&(l={}),c.prototype.data.call(this,l)},n}(Nc),pc=function(){function c(n,l,p,v){this._firestore=n,this._userDataWriter=l,this._snapshot=v,this.metadata=new qc(v.hasPendingWrites,v.fromCache),this.query=p}return Object.defineProperty(c.prototype,"docs",{get:function(){var n=[];return this.forEach(function(l){return n.push(l)}),n},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),c.prototype.forEach=function(n,l){var p=this;this._snapshot.docs.forEach(function(v){n.call(l,new fc(p._firestore,p._userDataWriter,v.key,v,new qc(p._snapshot.mutatedKeys.has(v.key),p._snapshot.fromCache),p.query.converter))})},c.prototype.docChanges=function(n){void 0===n&&(n={});var l=!!n.includeMetadataChanges;if(l&&this._snapshot.excludesMetadataChanges)throw new pe(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===l||(this._cachedChanges=function(p,v){if(p._snapshot.oldDocs.isEmpty()){var x=0;return p._snapshot.docChanges.map(function(j){return{type:"added",doc:new fc(p._firestore,p._userDataWriter,j.doc.key,j.doc,new qc(p._snapshot.mutatedKeys.has(j.doc.key),p._snapshot.fromCache),p.query.converter),oldIndex:-1,newIndex:x++}})}var P=p._snapshot.oldDocs;return p._snapshot.docChanges.filter(function(j){return v||3!==j.type}).map(function(j){var _e=new fc(p._firestore,p._userDataWriter,j.doc.key,j.doc,new qc(p._snapshot.mutatedKeys.has(j.doc.key),p._snapshot.fromCache),p.query.converter),Le=-1,lt=-1;return 0!==j.type&&(Le=P.indexOf(j.doc.key),P=P.delete(j.doc.key)),1!==j.type&&(lt=(P=P.add(j.doc)).indexOf(j.doc.key)),{type:od(j.type),doc:_e,oldIndex:Le,newIndex:lt}})}(this,l),this._cachedChangesIncludeMetadataChanges=l),this._cachedChanges},c}();function od(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}function gd(c,n){return c instanceof Nc&&n instanceof Nc?c._firestore===n._firestore&&c._key.isEqual(n._key)&&(null===c._document?null===n._document:c._document.isEqual(n._document))&&c._converter===n._converter:c instanceof pc&&n instanceof pc&&c._firestore===n._firestore&&O(c.query,n.query)&&c.metadata.isEqual(n.metadata)&&c._snapshot.isEqual(n._snapshot)}function sd(c){if(Sn(c)&&0===c.explicitOrderBy.length)throw new pe(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fu=function(){};function Ka(c){for(var n=[],l=1;l<arguments.length;l++)n[l-1]=arguments[l];for(var p=0,v=n;p<v.length;p++){var x=v[p];c=x._apply(c)}return c}var md=function(c){function n(l,p,v){var x=this;return(x=c.call(this)||this).jc=l,x.Wc=p,x.Gc=v,x.type="where",x}return(0,d.__extends)(n,c),n.prototype._apply=function(l){var x,j,p=cl(l.firestore),v=function(x,P,j,_e,Le,lt,Bt){var Xt;if(Le.isKeyField()){if("array-contains"===lt||"array-contains-any"===lt)throw new pe(xe.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+lt+"' queries on FieldPath.documentId().");if("in"===lt||"not-in"===lt){ad(Bt,lt);for(var Fn=[],xn=0,C=Bt;xn<C.length;xn++)Fn.push(vd(_e,x,C[xn]));Xt={arrayValue:{values:Fn}}}else Xt=vd(_e,x,Bt)}else"in"!==lt&&"not-in"!==lt&&"array-contains-any"!==lt||ad(Bt,lt),Xt=id(j,"where",Bt,"in"===lt||"not-in"===lt);var g=Yn.create(Le,lt,Xt);return function(E,U){if(U.g()){var he=rn(E);if(null!==he&&!he.isEqual(U.field))throw new pe(xe.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+he.toString()+"' and '"+U.field.toString()+"'");var xt=bi(E);null!==xt&&ld(0,U.field,xt)}var yn=function(Ui,ho){for(var ts=0,ns=Ui.filters;ts<ns.length;ts++){var Tl=ns[ts];if(ho.indexOf(Tl.op)>=0)return Tl.op}return null}(E,function(Ui){switch(Ui){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(U.op));if(null!==yn)throw new pe(xe.INVALID_ARGUMENT,yn===U.op?"Invalid query. You cannot use more than one '"+U.op.toString()+"' filter.":"Invalid query. You cannot use '"+U.op.toString()+"' filters with '"+yn.toString()+"' filters.")}(x,g),g}(l._query,0,p,l.firestore._databaseId,this.jc,this.Wc,this.Gc);return new bs(l.firestore,l.converter,(j=(x=l._query).filters.concat([v]),new ut(x.path,x.collectionGroup,x.explicitOrderBy.slice(),j,x.limit,x.limitType,x.startAt,x.endAt)))},n}(fu),Kc=function(c){function n(l,p){var v=this;return(v=c.call(this)||this).jc=l,v.zc=p,v.type="orderBy",v}return(0,d.__extends)(n,c),n.prototype._apply=function(l){var v,P,p=function(v,x,P){if(null!==v.startAt)throw new pe(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==v.endAt)throw new pe(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var j=new ie(x,P);return function(_e,Le){if(null===bi(_e)){var lt=rn(_e);null!==lt&&ld(0,lt,Le.field)}}(v,j),j}(l._query,this.jc,this.zc);return new bs(l.firestore,l.converter,(P=(v=l._query).explicitOrderBy.concat([p]),new ut(v.path,v.collectionGroup,P,v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)))},n}(fu),Au=function(c){function n(l,p,v){var x=this;return(x=c.call(this)||this).type=l,x.Hc=p,x.Jc=v,x}return(0,d.__extends)(n,c),n.prototype._apply=function(l){return new bs(l.firestore,l.converter,Ln(l._query,this.Hc,this.Jc))},n}(fu),_d=function(c){function n(l,p,v){var x=this;return(x=c.call(this)||this).type=l,x.Yc=p,x.Xc=v,x}return(0,d.__extends)(n,c),n.prototype._apply=function(l){var v,x,p=zu(l,this.type,this.Yc,this.Xc);return new bs(l.firestore,l.converter,(x=p,new ut((v=l._query).path,v.collectionGroup,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,x,v.endAt)))},n}(fu),pu=function(c){function n(l,p,v){var x=this;return(x=c.call(this)||this).type=l,x.Yc=p,x.Xc=v,x}return(0,d.__extends)(n,c),n.prototype._apply=function(l){var v,x,p=zu(l,this.type,this.Yc,this.Xc);return new bs(l.firestore,l.converter,(x=p,new ut((v=l._query).path,v.collectionGroup,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,x)))},n}(fu);function zu(c,n,l,p){if(l[0]=(0,_.getModularInstance)(l[0]),l[0]instanceof hu)return function(x,P,j,_e,Le){if(!_e)throw new pe(xe.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+j+"().");for(var lt=[],Bt=0,Xt=yt(x);Bt<Xt.length;Bt++){var Fn=Xt[Bt];if(Fn.field.isKeyField())lt.push($n(P,_e.key));else{var xn=_e.data.field(Fn.field);if(bn(xn))throw new pe(xe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Fn.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===xn){var C=Fn.field.canonicalString();throw new pe(xe.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+C+"' (used as the orderBy) does not exist.")}lt.push(xn)}}return new vn(lt,Le)}(c._query,c.firestore._databaseId,n,l[0]._document,p);var v=cl(c.firestore);return function(x,P,j,_e,Le,lt){var Bt=x.explicitOrderBy;if(Le.length>Bt.length)throw new pe(xe.INVALID_ARGUMENT,"Too many arguments provided to "+_e+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var Xt=[],Fn=0;Fn<Le.length;Fn++){var xn=Le[Fn];if(Bt[Fn].field.isKeyField()){if("string"!=typeof xn)throw new pe(xe.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+_e+"(), but got a "+typeof xn);if(!Pt(x)&&-1!==xn.indexOf("/"))throw new pe(xe.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+_e+"() must be a plain document ID, but '"+xn+"' contains a slash.");var C=x.path.child(Ze.fromString(xn));if(!an.isDocumentKey(C))throw new pe(xe.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+_e+"() must result in a valid document path, but '"+C+"' is not because it contains an odd number of segments.");var I=new an(C);Xt.push($n(P,I))}else{var g=id(j,_e,xn);Xt.push(g)}}return new vn(Xt,lt)}(c._query,c.firestore._databaseId,v,n,l,p)}function vd(c,n,l){if("string"==typeof(l=(0,_.getModularInstance)(l))){if(""===l)throw new pe(xe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pt(n)&&-1!==l.indexOf("/"))throw new pe(xe.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+l+"' contains a '/' character.");var p=n.path.child(Ze.fromString(l));if(!an.isDocumentKey(p))throw new pe(xe.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+p+"' is not because it has an odd number of segments ("+p.length+").");return $n(c,new an(p))}if(l instanceof so)return $n(c,l._key);throw new pe(xe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+da(l)+".")}function ad(c,n){if(!Array.isArray(c)||0===c.length)throw new pe(xe.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+n.toString()+"' filters.");if(c.length>10)throw new pe(xe.INVALID_ARGUMENT,"Invalid Query. '"+n.toString()+"' filters support a maximum of 10 elements in the value array.")}function ld(c,n,l){if(!l.isEqual(n))throw new pe(xe.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+n.toString()+"' and so you must also use '"+n.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+l.toString()+"' instead.")}var gu=function(){function c(){}return c.prototype.convertValue=function(n,l){switch(void 0===l&&(l="none"),Vn(n)){case 0:return null;case 1:return n.booleanValue;case 2:return wn(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,l);case 5:return n.stringValue;case 6:return this.convertBytes(mn(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,l);case 10:return this.convertObject(n.mapValue,l);default:throw ke()}},c.prototype.convertObject=function(n,l){var p=this,v={};return Mt(n.fields,function(x,P){v[x]=p.convertValue(P,l)}),v},c.prototype.convertGeoPoint=function(n){return new Do(wn(n.latitude),wn(n.longitude))},c.prototype.convertArray=function(n,l){var p=this;return(n.values||[]).map(function(v){return p.convertValue(v,l)})},c.prototype.convertServerTimestamp=function(n,l){switch(l){case"previous":var p=zt(n);return null==p?null:this.convertValue(p,l);case"estimate":return this.convertTimestamp(qt(n));default:return null}},c.prototype.convertTimestamp=function(n){var l=fn(n);return new Pe(l.seconds,l.nanos)},c.prototype.convertDocumentKey=function(n,l){var p=Ze.fromString(n);Ke(re(p));var v=new cc(p.get(1),p.get(3)),x=new an(p.popFirst(5));return v.isEqual(l)||qe("Document "+x+" contains a document reference within a different database ("+v.projectId+"/"+v.database+") which is not supported. It will be treated as a reference in the current database ("+l.projectId+"/"+l.database+") instead."),x},c}();function mu(c,n,l){return c?l&&(l.merge||l.mergeFields)?c.toFirestore(n,l):c.toFirestore(n):n}var cd=function(c){function n(l){var p=this;return(p=c.call(this)||this).firestore=l,p}return(0,d.__extends)(n,c),n.prototype.convertBytes=function(l){return new Wr(l)},n.prototype.convertReference=function(l){var p=this.convertDocumentKey(l,this.firestore._databaseId);return new so(this.firestore,null,p)},n}(gu),gc=function(){function c(n,l){this._firestore=n,this._commitHandler=l,this._mutations=[],this._committed=!1,this._dataReader=cl(n)}return c.prototype.set=function(n,l,p){this._verifyNotCommitted();var v=zl(n,this._firestore),x=mu(v.converter,l,p),P=as(this._dataReader,"WriteBatch.set",v._key,x,null!==v.converter,p);return this._mutations.push(P.toMutation(v._key,ur.none())),this},c.prototype.update=function(n,l,p){for(var v=[],x=3;x<arguments.length;x++)v[x-3]=arguments[x];this._verifyNotCommitted();var P,j=zl(n,this._firestore);return P="string"==typeof(l=(0,_.getModularInstance)(l))||l instanceof Wi?Gu(this._dataReader,"WriteBatch.update",j._key,l,p,v):ul(this._dataReader,"WriteBatch.update",j._key,l),this._mutations.push(P.toMutation(j._key,ur.exists(!0))),this},c.prototype.delete=function(n){this._verifyNotCommitted();var l=zl(n,this._firestore);return this._mutations=this._mutations.concat(new wo(l._key,ur.none())),this},c.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},c.prototype._verifyNotCommitted=function(){if(this._committed)throw new pe(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},c}();function zl(c,n){if((c=(0,_.getModularInstance)(c)).firestore!==n)throw new pe(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return c}var Yl=function(c){function n(l){var p=this;return(p=c.call(this)||this).firestore=l,p}return(0,d.__extends)(n,c),n.prototype.convertBytes=function(l){return new Wr(l)},n.prototype.convertReference=function(l){var p=this.convertDocumentKey(l,this.firestore._databaseId);return new so(this.firestore,null,p)},n}(gu);function yd(c,n,l){for(var p=[],v=3;v<arguments.length;v++)p[v-3]=arguments[v];c=Ar(c,so);var x=Ar(c.firestore,$t),P=cl(x);return mo(x,[("string"==typeof(n=(0,_.getModularInstance)(n))||n instanceof Wi?Gu(P,"updateDoc",c._key,n,l,p):ul(P,"updateDoc",c._key,n)).toMutation(c._key,ur.exists(!0))])}function Iu(c){for(var n,l,p,v=[],x=1;x<arguments.length;x++)v[x-1]=arguments[x];c=(0,_.getModularInstance)(c);var P={includeMetadataChanges:!1},j=0;"object"!=typeof v[j]||ce(v[j])||(P=v[j],j++);var _e,Le,lt,Bt={includeMetadataChanges:P.includeMetadataChanges};if(ce(v[j])){var Xt=v[j];v[j]=null===(n=Xt.next)||void 0===n?void 0:n.bind(Xt),v[j+1]=null===(l=Xt.error)||void 0===l?void 0:l.bind(Xt),v[j+2]=null===(p=Xt.complete)||void 0===p?void 0:p.bind(Xt)}if(c instanceof so)Le=Ar(c.firestore,$t),lt=Ct(c._key.path),_e={next:function(C){v[j]&&v[j](Ru(Le,c,C))},error:v[j+1],complete:v[j+2]};else{var Fn=Ar(c,bs);Le=Ar(Fn.firestore,$t),lt=Fn._query;var xn=new Yl(Le);_e={next:function(C){v[j]&&v[j](new pc(Le,xn,Fn,C))},error:v[j+1],complete:v[j+2]},sd(c._query)}return function(C,I,g,E){var U=this,he=new va(E),xt=new tr(I,he,g);return C.asyncQueue.enqueueAndForget(function(){return(0,d.__awaiter)(U,void 0,void 0,function(){var yn;return(0,d.__generator)(this,function(Ui){switch(Ui.label){case 0:return yn=Fl,[4,Wa(C)];case 1:return[2,yn.apply(void 0,[Ui.sent(),xt])]}})})}),function(){he.Wo(),C.asyncQueue.enqueueAndForget(function(){return(0,d.__awaiter)(U,void 0,void 0,function(){var yn;return(0,d.__generator)(this,function(Ui){switch(Ui.label){case 0:return yn=ra,[4,Wa(C)];case 1:return[2,yn.apply(void 0,[Ui.sent(),xt])]}})})})}}(gn(Le),lt,Bt,_e)}function mo(c,n){return function(l,p){var v=this,x=new Po;return l.asyncQueue.enqueueAndForget(function(){return(0,d.__awaiter)(v,void 0,void 0,function(){var P;return(0,d.__generator)(this,function(j){switch(j.label){case 0:return P=iu,[4,su(l)];case 1:return[2,P.apply(void 0,[j.sent(),p,x])]}})})}),x.promise}(gn(c),n)}function Ru(c,n,l){var p=l.docs.get(n._key),v=new Yl(c);return new Nc(c,v,n._key,p,new qc(l.hasPendingWrites,l.fromCache),n.converter)}var _u=function(c){function n(l,p){var v=this;return(v=c.call(this,l,p)||this)._firestore=l,v}return(0,d.__extends)(n,c),n.prototype.get=function(l){var p=this,v=zl(l,this._firestore),x=new Yl(this._firestore);return c.prototype.get.call(this,l).then(function(P){return new Nc(p._firestore,x,v._key,P._document,new qc(!1,!1),v.converter)})},n}(function(){function c(n,l){this._firestore=n,this._transaction=l,this._dataReader=cl(n)}return c.prototype.get=function(n){var l=this,p=zl(n,this._firestore),v=new cd(this._firestore);return this._transaction.lookup([p._key]).then(function(x){if(!x||1!==x.length)return ke();var P=x[0];if(P.isFoundDocument())return new hu(l._firestore,v,P.key,P,p.converter);if(P.isNoDocument())return new hu(l._firestore,v,p._key,null,p.converter);throw ke()})},c.prototype.set=function(n,l,p){var v=zl(n,this._firestore),x=mu(v.converter,l,p),P=as(this._dataReader,"Transaction.set",v._key,x,null!==v.converter,p);return this._transaction.set(v._key,P),this},c.prototype.update=function(n,l,p){for(var v=[],x=3;x<arguments.length;x++)v[x-3]=arguments[x];var P,j=zl(n,this._firestore);return P="string"==typeof(l=(0,_.getModularInstance)(l))||l instanceof Wi?Gu(this._dataReader,"Transaction.update",j._key,l,p,v):ul(this._dataReader,"Transaction.update",j._key,l),this._transaction.update(j._key,P),this},c.prototype.delete=function(n){var l=zl(n,this._firestore);return this._transaction.delete(l._key),this},c}());function Ou(){if("undefined"==typeof Uint8Array)throw new pe(xe.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ku(){if("undefined"==typeof atob)throw new pe(xe.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var i=function(){function c(n){this._delegate=n}return c.fromBase64String=function(n){return ku(),new c(Wr.fromBase64String(n))},c.fromUint8Array=function(n){return Ou(),new c(Wr.fromUint8Array(n))},c.prototype.toBase64=function(){return ku(),this._delegate.toBase64()},c.prototype.toUint8Array=function(){return Ou(),this._delegate.toUint8Array()},c.prototype.isEqual=function(n){return this._delegate.isEqual(n._delegate)},c.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},c}(),a=function(){function c(){}return c.prototype.enableIndexedDbPersistence=function(n,l){return function(p,v){zi(p=Ar(p,$t));var x=gn(p),P=p._freezeSettings(),j=new Dl;return Jn(x,j,new Ia(j,P.cacheSizeBytes,null==v?void 0:v.forceOwnership))}(n._delegate,{forceOwnership:l})},c.prototype.enableMultiTabIndexedDbPersistence=function(n){return function(l){zi(l=Ar(l,$t));var p=gn(l),v=l._freezeSettings(),x=new Dl;return Jn(p,x,new sl(x,v.cacheSizeBytes))}(n._delegate)},c.prototype.clearIndexedDbPersistence=function(n){return function(l){var p=this;if(l._initialized&&!l._terminated)throw new pe(xe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var v=new Po;return l._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,d.__awaiter)(p,void 0,void 0,function(){var x;return(0,d.__generator)(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,function(j){return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(Le){switch(Le.label){case 0:return L.yt()?[4,L.delete(j+"main")]:[2,Promise.resolve()];case 1:return Le.sent(),[2]}})})}($i(l._databaseId,l._persistenceKey))];case 1:return P.sent(),v.resolve(),[3,3];case 2:return x=P.sent(),v.reject(x),[3,3];case 3:return[2]}})})}),v.promise}(n._delegate)},c}(),r=function(){function c(n,l,p){var v=this;this._delegate=l,this.Zc=p,this.INTERNAL={delete:function(){return v.terminate()}},n instanceof cc||(this.tu=n)}return Object.defineProperty(c.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),c.prototype.settings=function(n){var l=this._delegate._getSettings();n.merge||l.host===n.host||je("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},l),n)).merge,this._delegate._setSettings(n)},c.prototype.useEmulator=function(n,l,p){void 0===p&&(p={}),function(v,x,P,j){void 0===j&&(j={});var _e=(v=Ar(v,uc))._getSettings();if("firestore.googleapis.com"!==_e.host&&_e.host!==x&&je("Host has been set in both settings() and useEmulator(), emulator host will be used"),v._setSettings(Object.assign(Object.assign({},_e),{host:x+":"+P,ssl:!1})),j.mockUserToken){var Le=(0,_.createMockUserToken)(j.mockUserToken),lt=j.mockUserToken.sub||j.mockUserToken.user_id;if(!lt)throw new pe(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v._credentials=new ya(new jl(Le,new Os(lt)))}}(this._delegate,n,l,p)},c.prototype.enableNetwork=function(){return function(n){var l=this;return n.asyncQueue.enqueue(function(){return(0,d.__awaiter)(l,void 0,void 0,function(){var p,v;return(0,d.__generator)(this,function(x){switch(x.label){case 0:return[4,Hu(n)];case 1:return p=x.sent(),[4,xu(n)];case 2:return v=x.sent(),[2,(p.setNetworkEnabled(!0),P=v,j=dt(P),j.Or.delete(0),Ps(j))]}var P,j})})})}(gn(Ar(this._delegate,$t)))},c.prototype.disableNetwork=function(){return function(n){var l=this;return n.asyncQueue.enqueue(function(){return(0,d.__awaiter)(l,void 0,void 0,function(){var p,v;return(0,d.__generator)(this,function(x){switch(x.label){case 0:return[4,Hu(n)];case 1:return p=x.sent(),[4,xu(n)];case 2:return v=x.sent(),[2,(p.setNetworkEnabled(!1),function(P){return(0,d.__awaiter)(this,void 0,void 0,function(){var j;return(0,d.__generator)(this,function(_e){switch(_e.label){case 0:return(j=dt(P)).Or.add(0),[4,ia(j)];case 1:return _e.sent(),j.Br.set("Offline"),[2]}})})}(v))]}})})})}(gn(Ar(this._delegate,$t)))},c.prototype.enablePersistence=function(n){var l=!1,p=!1;return n&&Oa("synchronizeTabs",l=!!n.synchronizeTabs,"experimentalForceOwningTab",p=!!n.experimentalForceOwningTab),l?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,p)},c.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},c.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},c.prototype.waitForPendingWrites=function(){return function(n){var l=this,p=new Po;return n.asyncQueue.enqueueAndForget(function(){return(0,d.__awaiter)(l,void 0,void 0,function(){var v;return(0,d.__generator)(this,function(x){switch(x.label){case 0:return v=za,[4,su(n)];case 1:return[2,v.apply(void 0,[x.sent(),p])]}})})}),p.promise}(gn(Ar(this._delegate,$t)))},c.prototype.onSnapshotsInSync=function(n){return p=n,function(v,x){var P=this,j=new va(x);return v.asyncQueue.enqueueAndForget(function(){return(0,d.__awaiter)(P,void 0,void 0,function(){var _e;return(0,d.__generator)(this,function(Le){switch(Le.label){case 0:return _e=function(lt,Bt){dt(lt).Gr.add(Bt),Bt.next()},[4,Wa(v)];case 1:return[2,_e.apply(void 0,[Le.sent(),j])]}})})}),function(){j.Wo(),v.asyncQueue.enqueueAndForget(function(){return(0,d.__awaiter)(P,void 0,void 0,function(){var _e;return(0,d.__generator)(this,function(Le){switch(Le.label){case 0:return _e=function(lt,Bt){dt(lt).Gr.delete(Bt)},[4,Wa(v)];case 1:return[2,_e.apply(void 0,[Le.sent(),j])]}})})})}}(gn(Ar(this._delegate,$t)),ce(p)?p:{next:p});var p},Object.defineProperty(c.prototype,"app",{get:function(){if(!this.tu)throw new pe(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),c.prototype.collection=function(n){try{return new Ni(this,au(this._delegate,n))}catch(l){throw Ue(l,"collection()","Firestore.collection()")}},c.prototype.doc=function(n){try{return new be(this,S(this._delegate,n))}catch(l){throw Ue(l,"doc()","Firestore.doc()")}},c.prototype.collectionGroup=function(n){try{return new ri(this,function(l,p){if(l=Ar(l,uc),Oc("collectionGroup","collection id",p),p.indexOf("/")>=0)throw new pe(xe.INVALID_ARGUMENT,"Invalid collection ID '"+p+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new bs(l,null,(v=p,new ut(Ze.emptyPath(),v)));var v}(this._delegate,n))}catch(l){throw Ue(l,"collectionGroup()","Firestore.collectionGroup()")}},c.prototype.runTransaction=function(n){var p,l=this;return function(x,P){var j=this,_e=new Po;return x.asyncQueue.enqueueAndForget(function(){return(0,d.__awaiter)(j,void 0,void 0,function(){var Le;return(0,d.__generator)(this,function(lt){switch(lt.label){case 0:return[4,(Bt=x,ll(Bt).then(function(Xt){return Xt.datastore}))];case 1:return Le=lt.sent(),new $a(x.asyncQueue,Le,P,_e).run(),[2]}var Bt})})}),_e.promise}(gn(p=this._delegate),function(x){return function(p){return n(new M(l,p))}(new _u(p,x))})},c.prototype.batch=function(){var n=this;return gn(this._delegate),new V(new gc(this._delegate,function(l){return mo(n._delegate,l)}))},c.prototype.loadBundle=function(n){throw new pe(xe.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},c.prototype.namedQuery=function(n){throw new pe(xe.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},c}(),h=function(c){function n(l){var p=this;return(p=c.call(this)||this).firestore=l,p}return(0,d.__extends)(n,c),n.prototype.convertBytes=function(l){return new i(new Wr(l))},n.prototype.convertReference=function(l){var p=this.convertDocumentKey(l,this.firestore._databaseId);return be.eu(p,this.firestore,null)},n}(gu);function y(c){ze.setLogLevel(c)}var M=function(){function c(n,l){this._firestore=n,this._delegate=l,this._userDataWriter=new h(n)}return c.prototype.get=function(n){var l=this,p=ir(n);return this._delegate.get(p).then(function(v){return new dn(l._firestore,new Nc(l._firestore._delegate,l._userDataWriter,v._key,v._document,v.metadata,p.converter))})},c.prototype.set=function(n,l,p){var v=ir(n);return p?(ba("Transaction.set",p),this._delegate.set(v,l,p)):this._delegate.set(v,l),this},c.prototype.update=function(n,l,p){for(var v,x=[],P=3;P<arguments.length;P++)x[P-3]=arguments[P];var j=ir(n);return 2===arguments.length?this._delegate.update(j,l):(v=this._delegate).update.apply(v,(0,d.__spreadArray)([j,l,p],x)),this},c.prototype.delete=function(n){var l=ir(n);return this._delegate.delete(l),this},c}(),V=function(){function c(n){this._delegate=n}return c.prototype.set=function(n,l,p){var v=ir(n);return p?(ba("WriteBatch.set",p),this._delegate.set(v,l,p)):this._delegate.set(v,l),this},c.prototype.update=function(n,l,p){for(var v,x=[],P=3;P<arguments.length;P++)x[P-3]=arguments[P];var j=ir(n);return 2===arguments.length?this._delegate.update(j,l):(v=this._delegate).update.apply(v,(0,d.__spreadArray)([j,l,p],x)),this},c.prototype.delete=function(n){var l=ir(n);return this._delegate.delete(l),this},c.prototype.commit=function(){return this._delegate.commit()},c}(),ge=function(){function c(n,l,p){this._firestore=n,this._userDataWriter=l,this._delegate=p}return c.prototype.fromFirestore=function(n,l){var p=new fc(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new Rn(this._firestore,p),null!=l?l:{})},c.prototype.toFirestore=function(n,l){return l?this._delegate.toFirestore(n,l):this._delegate.toFirestore(n)},c.nu=function(n,l){var p=c.su,v=p.get(n);v||p.set(n,v=new WeakMap);var x=v.get(l);return x||(x=new c(n,new h(n),l),v.set(l,x)),x},c}();ge.su=new WeakMap;var be=function(){function c(n,l){this.firestore=n,this._delegate=l,this._userDataWriter=new h(n)}return c.iu=function(n,l,p){if(n.length%2!=0)throw new pe(xe.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n.canonicalString()+" has "+n.length);return new c(l,new so(l._delegate,p,new an(n)))},c.eu=function(n,l,p){return new c(l,new so(l._delegate,p,n))},Object.defineProperty(c.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"parent",{get:function(){return new Ni(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),c.prototype.collection=function(n){try{return new Ni(this.firestore,au(this._delegate,n))}catch(l){throw Ue(l,"collection()","DocumentReference.collection()")}},c.prototype.isEqual=function(n){return(n=(0,_.getModularInstance)(n))instanceof so&&k(this._delegate,n)},c.prototype.set=function(n,l){l=ba("DocumentReference.set",l);try{return function(p,v,x){p=Ar(p,so);var P=Ar(p.firestore,$t),j=mu(p.converter,v,x);return mo(P,[as(cl(P),"setDoc",p._key,j,null!==p.converter,x).toMutation(p._key,ur.none())])}(this._delegate,n,l)}catch(p){throw Ue(p,"setDoc()","DocumentReference.set()")}},c.prototype.update=function(n,l){for(var p=[],v=2;v<arguments.length;v++)p[v-2]=arguments[v];try{return 1===arguments.length?yd(this._delegate,n):yd.apply(void 0,(0,d.__spreadArray)([this._delegate,n,l],p))}catch(x){throw Ue(x,"updateDoc()","DocumentReference.update()")}},c.prototype.delete=function(){return mo(Ar((n=this._delegate).firestore,$t),[new wo(n._key,ur.none())]);var n},c.prototype.onSnapshot=function(){for(var n=this,l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var v=rt(l),x=tn(l,function(P){return new dn(n.firestore,new Nc(n.firestore._delegate,n._userDataWriter,P._key,P._document,P.metadata,n._delegate.converter))});return Iu(this._delegate,v,x)},c.prototype.get=function(n){var l=this;return("cache"===(null==n?void 0:n.source)?function(p){p=Ar(p,so);var v=Ar(p.firestore,$t),x=gn(v),P=new Yl(v);return function(j,_e){var Le=this,lt=new Po;return j.asyncQueue.enqueueAndForget(function(){return(0,d.__awaiter)(Le,void 0,void 0,function(){var Bt;return(0,d.__generator)(this,function(Xt){switch(Xt.label){case 0:return Bt=function(Fn,xn,C){return(0,d.__awaiter)(this,void 0,void 0,function(){var I,g;return(0,d.__generator)(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),[4,(U=Fn,he=xn,xt=dt(U),xt.persistence.runTransaction("read document","readonly",function(yn){return xt.Mn.mn(yn,he)}))];case 1:return(g=E.sent()).isFoundDocument()?C.resolve(g):g.isNoDocument()?C.resolve(null):C.reject(new pe(xe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return I=E.sent(),g=ps(I,"Failed to get document '"+xn+" from cache"),C.reject(g),[3,3];case 3:return[2]}var U,he,xt})})},[4,ou(j)];case 1:return[2,Bt.apply(void 0,[Xt.sent(),_e,lt])]}})})}),lt.promise}(x,p._key).then(function(j){return new Nc(v,P,p._key,j,new qc(null!==j&&j.hasLocalMutations,!0),p.converter)})}(this._delegate):"server"===(null==n?void 0:n.source)?function(p){p=Ar(p,so);var v=Ar(p.firestore,$t);return Hl(gn(v),p._key,{source:"server"}).then(function(x){return Ru(v,p,x)})}(this._delegate):function(p){p=Ar(p,so);var v=Ar(p.firestore,$t);return Hl(gn(v),p._key).then(function(x){return Ru(v,p,x)})}(this._delegate)).then(function(p){return new dn(l.firestore,new Nc(l.firestore._delegate,l._userDataWriter,p._key,p._document,p.metadata,l._delegate.converter))})},c.prototype.withConverter=function(n){return new c(this.firestore,this._delegate.withConverter(n?ge.nu(this.firestore,n):null))},c}();function Ue(c,n,l){return c.message=c.message.replace(n,l),c}function rt(c){for(var n=0,l=c;n<l.length;n++){var p=l[n];if("object"==typeof p&&!ce(p))return p}return{}}function tn(c,n){var l,p,v;return{next:function(x){v.next&&v.next(n(x))},error:null===(l=(v=ce(c[0])?c[0]:ce(c[1])?c[1]:"function"==typeof c[0]?{next:c[0],error:c[1],complete:c[2]}:{next:c[1],error:c[2],complete:c[3]}).error)||void 0===l?void 0:l.bind(v),complete:null===(p=v.complete)||void 0===p?void 0:p.bind(v)}}var dn=function(){function c(n,l){this._firestore=n,this._delegate=l}return Object.defineProperty(c.prototype,"ref",{get:function(){return new be(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),c.prototype.data=function(n){return this._delegate.data(n)},c.prototype.get=function(n,l){return this._delegate.get(n,l)},c.prototype.isEqual=function(n){return gd(this._delegate,n._delegate)},c}(),Rn=function(c){function n(){return null!==c&&c.apply(this,arguments)||this}return(0,d.__extends)(n,c),n.prototype.data=function(l){return this._delegate.data(l)},n}(dn),ri=function(){function c(n,l){this.firestore=n,this._delegate=l,this._userDataWriter=new h(n)}return c.prototype.where=function(n,l,p){try{return new c(this.firestore,Ka(this._delegate,(P=p,j=l,_e=Su("where",v=n),new md(_e,j,P))))}catch(v){throw Ue(v,/(orderBy|where)\(\)/,"Query.$1()")}var v,P,j,_e},c.prototype.orderBy=function(n,l){try{return new c(this.firestore,Ka(this._delegate,function(p,v){void 0===v&&(v="asc");var x=v,P=Su("orderBy",p);return new Kc(P,x)}(n,l)))}catch(p){throw Ue(p,/(orderBy|where)\(\)/,"Query.$1()")}},c.prototype.limit=function(n){try{return new c(this.firestore,Ka(this._delegate,(Js("limit",l=n),new Au("limit",l,"F"))))}catch(l){throw Ue(l,"limit()","Query.limit()")}var l},c.prototype.limitToLast=function(n){try{return new c(this.firestore,Ka(this._delegate,(Js("limitToLast",l=n),new Au("limitToLast",l,"L"))))}catch(l){throw Ue(l,"limitToLast()","Query.limitToLast()")}var l},c.prototype.startAt=function(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];try{return new c(this.firestore,Ka(this._delegate,function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];return new _d("startAt",p,!0)}.apply(void 0,n)))}catch(p){throw Ue(p,"startAt()","Query.startAt()")}},c.prototype.startAfter=function(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];try{return new c(this.firestore,Ka(this._delegate,function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];return new _d("startAfter",p,!1)}.apply(void 0,n)))}catch(p){throw Ue(p,"startAfter()","Query.startAfter()")}},c.prototype.endBefore=function(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];try{return new c(this.firestore,Ka(this._delegate,function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];return new pu("endBefore",p,!0)}.apply(void 0,n)))}catch(p){throw Ue(p,"endBefore()","Query.endBefore()")}},c.prototype.endAt=function(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];try{return new c(this.firestore,Ka(this._delegate,function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];return new pu("endAt",p,!1)}.apply(void 0,n)))}catch(p){throw Ue(p,"endAt()","Query.endAt()")}},c.prototype.isEqual=function(n){return O(this._delegate,n._delegate)},c.prototype.get=function(n){var l=this;return("cache"===(null==n?void 0:n.source)?function(p){p=Ar(p,bs);var v=Ar(p.firestore,$t),x=gn(v),P=new Yl(v);return function(j,_e){var Le=this,lt=new Po;return j.asyncQueue.enqueueAndForget(function(){return(0,d.__awaiter)(Le,void 0,void 0,function(){var Bt;return(0,d.__generator)(this,function(Xt){switch(Xt.label){case 0:return Bt=function(Fn,xn,C){return(0,d.__awaiter)(this,void 0,void 0,function(){var I,g,E,U,he;return(0,d.__generator)(this,function(xt){switch(xt.label){case 0:return xt.trys.push([0,2,,3]),[4,tl(Fn,xn,!0)];case 1:return he=xt.sent(),I=new Aa(xn,he.Bn),g=I._o(he.documents),E=I.applyChanges(g,!1),C.resolve(E.snapshot),[3,3];case 2:return U=xt.sent(),he=ps(U,"Failed to execute query '"+xn+" against cache"),C.reject(he),[3,3];case 3:return[2]}})})},[4,ou(j)];case 1:return[2,Bt.apply(void 0,[Xt.sent(),_e,lt])]}})})}),lt.promise}(x,p._query).then(function(j){return new pc(v,P,p,j)})}(this._delegate):"server"===(null==n?void 0:n.source)?function(p){p=Ar(p,bs);var v=Ar(p.firestore,$t),x=gn(v),P=new Yl(v);return $c(x,p._query,{source:"server"}).then(function(j){return new pc(v,P,p,j)})}(this._delegate):function(p){p=Ar(p,bs);var v=Ar(p.firestore,$t),x=gn(v),P=new Yl(v);return sd(p._query),$c(x,p._query).then(function(j){return new pc(v,P,p,j)})}(this._delegate)).then(function(p){return new wi(l.firestore,new pc(l.firestore._delegate,l._userDataWriter,l._delegate,p._snapshot))})},c.prototype.onSnapshot=function(){for(var n=this,l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var v=rt(l),x=tn(l,function(P){return new wi(n.firestore,new pc(n.firestore._delegate,n._userDataWriter,n._delegate,P._snapshot))});return Iu(this._delegate,v,x)},c.prototype.withConverter=function(n){return new c(this.firestore,this._delegate.withConverter(n?ge.nu(this.firestore,n):null))},c}(),ci=function(){function c(n,l){this._firestore=n,this._delegate=l}return Object.defineProperty(c.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"doc",{get:function(){return new Rn(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),c}(),wi=function(){function c(n,l){this._firestore=n,this._delegate=l}return Object.defineProperty(c.prototype,"query",{get:function(){return new ri(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"docs",{get:function(){var n=this;return this._delegate.docs.map(function(l){return new Rn(n._firestore,l)})},enumerable:!1,configurable:!0}),c.prototype.docChanges=function(n){var l=this;return this._delegate.docChanges(n).map(function(p){return new ci(l._firestore,p)})},c.prototype.forEach=function(n,l){var p=this;this._delegate.forEach(function(v){n.call(l,new Rn(p._firestore,v))})},c.prototype.isEqual=function(n){return gd(this._delegate,n._delegate)},c}(),Ni=function(c){function n(l,p){var v=this;return(v=c.call(this,l,p)||this).firestore=l,v._delegate=p,v}return(0,d.__extends)(n,c),Object.defineProperty(n.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var l=this._delegate.parent;return l?new be(this.firestore,l):null},enumerable:!1,configurable:!0}),n.prototype.doc=function(l){try{return new be(this.firestore,void 0===l?S(this._delegate):S(this._delegate,l))}catch(p){throw Ue(p,"doc()","CollectionReference.doc()")}},n.prototype.add=function(l){var v,x,P,j,_e,p=this;return(v=this._delegate,x=l,P=Ar(v.firestore,$t),j=S(v),_e=mu(v.converter,x),mo(P,[as(cl(v.firestore),"addDoc",j._key,_e,null!==v.converter,{}).toMutation(j._key,ur.exists(!1))]).then(function(){return j})).then(function(v){return new be(p.firestore,v)})},n.prototype.isEqual=function(l){return k(this._delegate,l._delegate)},n.prototype.withConverter=function(l){return new n(this.firestore,this._delegate.withConverter(l?ge.nu(this.firestore,l):null))},n}(ri);function ir(c){return Ar(c,so)}var yo=function(){function c(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];this._delegate=new(Wi.bind.apply(Wi,(0,d.__spreadArray)([void 0],n)))}return c.documentId=function(){return new c(Ye.keyField().canonicalString())},c.prototype.isEqual=function(n){return(n=(0,_.getModularInstance)(n))instanceof Wi&&this._delegate._internalPath.isEqual(n._internalPath)},c}(),Ao=function(){function c(n){this._delegate=n}return c.serverTimestamp=function(){var n=new lu("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new c(n)},c.delete=function(){var n=new Ua("deleteField");return n._methodName="FieldValue.delete",new c(n)},c.arrayUnion=function(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];var p=function(){for(var v=[],x=0;x<arguments.length;x++)v[x]=arguments[x];return new dc("arrayUnion",v)}.apply(void 0,n);return p._methodName="FieldValue.arrayUnion",new c(p)},c.arrayRemove=function(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];var p=function(){for(var v=[],x=0;x<arguments.length;x++)v[x]=arguments[x];return new ju("arrayRemove",v)}.apply(void 0,n);return p._methodName="FieldValue.arrayRemove",new c(p)},c.increment=function(n){var l=new Zc("increment",n);return l._methodName="FieldValue.increment",new c(l)},c.prototype.isEqual=function(n){return this._delegate.isEqual(n._delegate)},c}();function jr(c){return l=c,p=gn(n=Ar(n=this._delegate,$t)),v=new De,function(x,P,j,_e){var Bt,Xt,Fn,Le=this,lt=(Bt=j,Xt=Ns(P),Fn=function(Fn,xn){if(Fn instanceof Uint8Array)return zs(Fn,void 0);if(Fn instanceof ArrayBuffer)return zs(new Uint8Array(Fn),void 0);if(Fn instanceof ReadableStream)return Fn.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof Bt?(new TextEncoder).encode(Bt):Bt),new Ac(Fn,Xt));x.asyncQueue.enqueueAndForget(function(){return(0,d.__awaiter)(Le,void 0,void 0,function(){var Bt;return(0,d.__generator)(this,function(Xt){switch(Xt.label){case 0:return Bt=Ul,[4,su(x)];case 1:return Bt.apply(void 0,[Xt.sent(),lt,_e]),[2]}})})})}(p,n._databaseId,l,v),v;var n,l,p,v}function Eo(c){var n,l,p=this;return(n=this._delegate,l=c,function(v,x){var P=this;return v.asyncQueue.enqueue(function(){return(0,d.__awaiter)(P,void 0,void 0,function(){var j;return(0,d.__generator)(this,function(_e){switch(_e.label){case 0:return j=function(Le,lt){var Bt=dt(Le);return Bt.persistence.runTransaction("Get named query","readonly",function(Xt){return Bt.Ke.getNamedQuery(Xt,lt)})},[4,ou(v)];case 1:return[2,j.apply(void 0,[_e.sent(),x])]}})})})}(gn(n=Ar(n,$t)),l).then(function(v){return v?new bs(n,null,v.query):null})).then(function(v){return v?new ri(p,v):null})}},4003:(Xn,Vt,A)=>{"use strict";function d(){for(var je=0,at=0,ke=arguments.length;at<ke;at++)je+=arguments[at].length;var Ke=Array(je),dt=0;for(at=0;at<ke;at++)for(var it=arguments[at],Dt=0,Tt=it.length;Dt<Tt;Dt++,dt++)Ke[dt]=it[Dt];return Ke}A.r(Vt),A.d(Vt,{LogLevel:()=>ee,Logger:()=>Ve,setLogLevel:()=>Q,setUserLogHandler:()=>qe});var _,e=[],ee=(()=>{return(je=ee||(ee={}))[je.DEBUG=0]="DEBUG",je[je.VERBOSE=1]="VERBOSE",je[je.INFO=2]="INFO",je[je.WARN=3]="WARN",je[je.ERROR=4]="ERROR",je[je.SILENT=5]="SILENT",ee;var je})(),W={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},xe=ee.INFO,pe=((_={})[ee.DEBUG]="log",_[ee.VERBOSE]="log",_[ee.INFO]="info",_[ee.WARN]="warn",_[ee.ERROR]="error",_),ze=function(je,at){for(var ke=[],Ke=2;Ke<arguments.length;Ke++)ke[Ke-2]=arguments[Ke];if(!(at<je.logLevel)){var dt=(new Date).toISOString(),it=pe[at];if(!it)throw new Error("Attempted to log a message with an invalid logType (value: "+at+")");console[it].apply(console,d(["["+dt+"]  "+je.name+":"],ke))}},Ve=function(){function je(at){this.name=at,this._logLevel=xe,this._logHandler=ze,this._userLogHandler=null,e.push(this)}return Object.defineProperty(je.prototype,"logLevel",{get:function(){return this._logLevel},set:function(at){if(!(at in ee))throw new TypeError('Invalid value "'+at+'" assigned to `logLevel`');this._logLevel=at},enumerable:!1,configurable:!0}),je.prototype.setLogLevel=function(at){this._logLevel="string"==typeof at?W[at]:at},Object.defineProperty(je.prototype,"logHandler",{get:function(){return this._logHandler},set:function(at){if("function"!=typeof at)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=at},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(at){this._userLogHandler=at},enumerable:!1,configurable:!0}),je.prototype.debug=function(){for(var at=[],ke=0;ke<arguments.length;ke++)at[ke]=arguments[ke];this._userLogHandler&&this._userLogHandler.apply(this,d([this,ee.DEBUG],at)),this._logHandler.apply(this,d([this,ee.DEBUG],at))},je.prototype.log=function(){for(var at=[],ke=0;ke<arguments.length;ke++)at[ke]=arguments[ke];this._userLogHandler&&this._userLogHandler.apply(this,d([this,ee.VERBOSE],at)),this._logHandler.apply(this,d([this,ee.VERBOSE],at))},je.prototype.info=function(){for(var at=[],ke=0;ke<arguments.length;ke++)at[ke]=arguments[ke];this._userLogHandler&&this._userLogHandler.apply(this,d([this,ee.INFO],at)),this._logHandler.apply(this,d([this,ee.INFO],at))},je.prototype.warn=function(){for(var at=[],ke=0;ke<arguments.length;ke++)at[ke]=arguments[ke];this._userLogHandler&&this._userLogHandler.apply(this,d([this,ee.WARN],at)),this._logHandler.apply(this,d([this,ee.WARN],at))},je.prototype.error=function(){for(var at=[],ke=0;ke<arguments.length;ke++)at[ke]=arguments[ke];this._userLogHandler&&this._userLogHandler.apply(this,d([this,ee.ERROR],at)),this._logHandler.apply(this,d([this,ee.ERROR],at))},je}();function Q(je){e.forEach(function(at){at.setLogLevel(je)})}function qe(je,at){for(var ke=function(Dt){var Tt=null;at&&at.level&&(Tt=W[at.level]),Dt.userLogHandler=null===je?null:function(hn,gt){for(var Pe=[],te=2;te<arguments.length;te++)Pe[te-2]=arguments[te];var Qe=Pe.map(function(Mt){if(null==Mt)return null;if("string"==typeof Mt)return Mt;if("number"==typeof Mt||"boolean"==typeof Mt)return Mt.toString();if(Mt instanceof Error)return Mt.message;try{return JSON.stringify(Mt)}catch(bt){return null}}).filter(function(Mt){return Mt}).join(" ");gt>=(null!=Tt?Tt:hn.logLevel)&&je({level:ee[gt].toLowerCase(),message:Qe,args:Pe,type:hn.name})}},Ke=0,dt=e;Ke<dt.length;Ke++)ke(dt[Ke])}},1262:(Xn,Vt,A)=>{"use strict";var d=A(8367),_=A(655),e=A(492),ee=A(2461),W="firebasestorage.googleapis.com",xe="storageBucket",Ve=function(Te){function se(ft,Ut){var un=Te.call(this,Q(ft),"Firebase Storage: "+Ut+" ("+Q(ft)+")")||this;return un.customData={serverResponse:null},un._baseMessage=un.message,Object.setPrototypeOf(un,se.prototype),un}return(0,_.__extends)(se,Te),se.prototype._codeEquals=function(ft){return Q(ft)===this.code},Object.defineProperty(se.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(ft){this.customData.serverResponse=ft,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),se}(e.FirebaseError);function Q(Te){return"storage/"+Te}function qe(){return new Ve("unknown","An unknown error occurred, please check the error payload for server response.")}function Dt(){return new Ve("canceled","User canceled the upload/download.")}function Pe(){return new Ve("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Mt(Te){return new Ve("invalid-argument",Te)}function bt(){return new Ve("app-deleted","The Firebase app was deleted.")}function tt(Te){return new Ve("invalid-root-operation","The operation '"+Te+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ze(Te,se){return new Ve("invalid-format","String does not match format '"+Te+"': "+se)}function Ee(Te){throw new Ve("internal-error","Internal error: "+Te)}var Xe={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},st=function Te(se,ft){this.data=se,this.contentType=ft||null};function sn(Te,se){switch(Te){case Xe.RAW:return new st(fn(se));case Xe.BASE64:case Xe.BASE64URL:return new st(mn(Te,se));case Xe.DATA_URL:return new st(function zt(Te){var se=new bn(Te);return se.base64?mn(Xe.BASE64,se.rest):function wn(Te){var se;try{se=decodeURIComponent(Te)}catch(ft){throw Ze(Xe.DATA_URL,"Malformed data URL.")}return fn(se)}(se.rest)}(se),function qt(Te){return new bn(Te).contentType}(se))}throw qe()}function fn(Te){for(var se=[],ft=0;ft<Te.length;ft++){var Ut=Te.charCodeAt(ft);if(Ut<=127)se.push(Ut);else if(Ut<=2047)se.push(192|Ut>>6,128|63&Ut);else if(55296==(64512&Ut))if(ft<Te.length-1&&56320==(64512&Te.charCodeAt(ft+1))){var En=Ut,ii=Te.charCodeAt(++ft);se.push(240|(Ut=65536|(1023&En)<<10|1023&ii)>>18,128|Ut>>12&63,128|Ut>>6&63,128|63&Ut)}else se.push(239,191,189);else 56320==(64512&Ut)?se.push(239,191,189):se.push(224|Ut>>12,128|Ut>>6&63,128|63&Ut)}return new Uint8Array(se)}function mn(Te,se){switch(Te){case Xe.BASE64:var ft=-1!==se.indexOf("-"),Ut=-1!==se.indexOf("_");if(ft||Ut)throw Ze(Te,"Invalid character '"+(ft?"-":"_")+"' found: is it base64url encoded?");break;case Xe.BASE64URL:var En=-1!==se.indexOf("+"),ii=-1!==se.indexOf("/");if(En||ii)throw Ze(Te,"Invalid character '"+(En?"+":"/")+"' found: is it base64 encoded?");se=se.replace(/-/g,"+").replace(/_/g,"/")}var pi;try{pi=function Ye(Te){return atob(Te)}(se)}catch(or){throw Ze(Te,"Invalid character found")}for(var fi=new Uint8Array(pi.length),Pi=0;Pi<pi.length;Pi++)fi[Pi]=pi.charCodeAt(Pi);return fi}var bn=function Te(se){this.base64=!1,this.contentType=null;var ft=se.match(/^data:([^,]+)?,/);if(null===ft)throw Ze(Xe.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var Ut=ft[1]||null;null!=Ut&&(this.base64=function Kt(Te,se){return Te.length>=se.length&&Te.substring(Te.length-se.length)===se}(Ut,";base64"),this.contentType=this.base64?Ut.substring(0,Ut.length-7):Ut),this.rest=se.substring(se.indexOf(",")+1)},Ht={STATE_CHANGED:"state_changed"},_n={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function an(Te){switch(Te){case"running":case"pausing":case"canceling":return _n.RUNNING;case"paused":return _n.PAUSED;case"success":return _n.SUCCESS;case"canceled":return _n.CANCELED;default:return _n.ERROR}}var Vn=(()=>{return(Te=Vn||(Vn={}))[Te.NO_ERROR=0]="NO_ERROR",Te[Te.NETWORK_ERROR=1]="NETWORK_ERROR",Te[Te.ABORT=2]="ABORT",Vn;var Te})(),di=function(){function Te(){var se=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Vn.NO_ERROR,this.sendPromise_=new Promise(function(ft){se.xhr_.addEventListener("abort",function(){se.errorCode_=Vn.ABORT,ft()}),se.xhr_.addEventListener("error",function(){se.errorCode_=Vn.NETWORK_ERROR,ft()}),se.xhr_.addEventListener("load",function(){ft()})})}return Te.prototype.send=function(se,ft,Ut,un){if(this.sent_)throw Ee("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ft,se,!0),void 0!==un)for(var En in un)un.hasOwnProperty(En)&&this.xhr_.setRequestHeader(En,un[En].toString());return void 0!==Ut?this.xhr_.send(Ut):this.xhr_.send(),this.sendPromise_},Te.prototype.getErrorCode=function(){if(!this.sent_)throw Ee("cannot .getErrorCode() before sending");return this.errorCode_},Te.prototype.getStatus=function(){if(!this.sent_)throw Ee("cannot .getStatus() before sending");try{return this.xhr_.status}catch(se){return-1}},Te.prototype.getResponseText=function(){if(!this.sent_)throw Ee("cannot .getResponseText() before sending");return this.xhr_.responseText},Te.prototype.abort=function(){this.xhr_.abort()},Te.prototype.getResponseHeader=function(se){return this.xhr_.getResponseHeader(se)},Te.prototype.addUploadProgressListener=function(se){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",se)},Te.prototype.removeUploadProgressListener=function(se){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",se)},Te}(),jn=function(){function Te(){}return Te.prototype.createConnection=function(){return function Pn(){return new di}()},Te}(),wt=function(){function Te(se,ft){this.bucket=se,this.path_=ft}return Object.defineProperty(Te.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),Te.prototype.fullServerUrl=function(){var se=encodeURIComponent;return"/b/"+se(this.bucket)+"/o/"+se(this.path)},Te.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},Te.makeFromBucketSpec=function(se,ft){var Ut;try{Ut=Te.makeFromUrl(se,ft)}catch(un){return new Te(se,"")}if(""===Ut.path)return Ut;throw function hn(Te){return new Ve("invalid-default-bucket","Invalid default bucket '"+Te+"'.")}(se)},Te.makeFromUrl=function(se,ft){var Ut=null,un="([A-Za-z0-9.\\-_]+)",pi=new RegExp("^gs://"+un+"(/(.*))?$","i");function Pi(Fe){Fe.path_=decodeURIComponent(Fe.path)}for(var yr=ft.replace(/[.]/g,"\\."),vo=[{regex:pi,indices:{bucket:1,path:3},postModify:function En(Fe){"/"===Fe.path.charAt(Fe.path.length-1)&&(Fe.path_=Fe.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+yr+"/v[A-Za-z0-9_]+/b/"+un+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:Pi},{regex:new RegExp("^https?://"+(ft===W?"(?:storage.googleapis.com|storage.cloud.google.com)":ft)+"/"+un+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:Pi}],ao=0;ao<vo.length;ao++){var Jo=vo[ao],ls=Jo.regex.exec(se);if(ls){var le=ls[Jo.indices.path];le||(le=""),Ut=new Te(ls[Jo.indices.bucket],le),Jo.postModify(Ut);break}}if(null==Ut)throw function Tt(Te){return new Ve("invalid-url","Invalid URL '"+Te+"'.")}(se);return Ut},Te}(),cn=function(){function Te(se){this.promise_=Promise.reject(se)}return Te.prototype.getPromise=function(){return this.promise_},Te.prototype.cancel=function(se){},Te}();function ni(Te){return"string"==typeof Te||Te instanceof String}function Yt(Te){return q()&&Te instanceof Blob}function q(){return"undefined"!=typeof Blob}function de(Te,se,ft,Ut){if(Ut<se)throw Mt("Invalid value for '"+Te+"'. Expected "+se+" or greater.");if(Ut>ft)throw Mt("Invalid value for '"+Te+"'. Expected "+ft+" or less.")}function ye(Te,se){var ft=se.match(/^(\w+):\/\/.+/),un=se;return null==(null==ft?void 0:ft[1])&&(un="https://"+se),un+"/v0"+Te}function Ce(Te){var se=encodeURIComponent,ft="?";for(var Ut in Te)Te.hasOwnProperty(Ut)&&(ft=ft+(se(Ut)+"=")+se(Te[Ut])+"&");return ft.slice(0,-1)}var pt=function(){function Te(se,ft,Ut,un,En,ii,pi,fi,Pi,or,yr){var po=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=se,this.method_=ft,this.headers_=Ut,this.body_=un,this.successCodes_=En.slice(),this.additionalRetryCodes_=ii.slice(),this.callback_=pi,this.errorCallback_=fi,this.progressCallback_=or,this.timeout_=Pi,this.pool_=yr,this.promise_=new Promise(function(Lr,rr){po.resolve_=Lr,po.reject_=rr,po.start_()})}return Te.prototype.start_=function(){var se=this;function Ut(un,En){var ii=se.resolve_,pi=se.reject_,fi=En.connection;if(En.wasSuccessCode)try{var Pi=se.callback_(fi,fi.getResponseText());!function Vi(Te){return void 0!==Te}(Pi)?ii():ii(Pi)}catch(yr){pi(yr)}else if(null!==fi)(or=qe()).serverResponse=fi.getResponseText(),pi(se.errorCallback_?se.errorCallback_(fi,or):or);else if(En.canceled)pi(or=se.appDelete_?bt():Dt());else{var or;pi(or=function it(){return new Ve("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())}}this.canceled_?Ut(0,new Rt(!1,null,!0)):this.backoffId_=function Gn(Te,se,ft){var Ut=1,un=null,En=!1,ii=0;function pi(){return 2===ii}var fi=!1;function Pi(){for(var rr=[],_o=0;_o<arguments.length;_o++)rr[_o]=arguments[_o];fi||(fi=!0,se.apply(null,rr))}function or(rr){un=setTimeout(function(){un=null,Te(yr,pi())},rr)}function yr(rr){for(var _o=[],Er=1;Er<arguments.length;Er++)_o[Er-1]=arguments[Er];if(!fi){if(rr)return void Pi.call.apply(Pi,(0,_.__spreadArray)([null,rr],_o));var no;if(pi()||En)return void Pi.call.apply(Pi,(0,_.__spreadArray)([null,rr],_o));Ut<64&&(Ut*=2),1===ii?(ii=2,no=0):no=1e3*(Ut+Math.random()),or(no)}}var po=!1;function Lr(rr){po||(po=!0,!fi&&(null!==un?(rr||(ii=2),clearTimeout(un),or(0)):rr||(ii=1)))}return or(0),setTimeout(function(){En=!0,Lr(!0)},ft),Lr}(function ft(un,En){if(En)un(!1,new Rt(!1,null,!0));else{var ii=se.pool_.createConnection();se.pendingConnection_=ii,null!==se.progressCallback_&&ii.addUploadProgressListener(pi),ii.send(se.url_,se.method_,se.body_,se.headers_).then(function(){null!==se.progressCallback_&&ii.removeUploadProgressListener(pi),se.pendingConnection_=null;var fi=ii.getErrorCode()===Vn.NO_ERROR,Pi=ii.getStatus();if(fi&&!se.isRetryStatusCode_(Pi)){var yr=-1!==se.successCodes_.indexOf(Pi);un(!0,new Rt(yr,ii))}else{var or=ii.getErrorCode()===Vn.ABORT;un(!1,new Rt(!1,null,or))}})}function pi(fi){null!==se.progressCallback_&&se.progressCallback_(fi.loaded,fi.lengthComputable?fi.total:-1)}},Ut,this.timeout_)},Te.prototype.getPromise=function(){return this.promise_},Te.prototype.cancel=function(se){this.canceled_=!0,this.appDelete_=se||!1,null!==this.backoffId_&&function $n(Te){Te(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},Te.prototype.isRetryStatusCode_=function(se){var ft=se>=500&&se<600,un=-1!==[408,429].indexOf(se),En=-1!==this.additionalRetryCodes_.indexOf(se);return ft||un||En},Te}(),Rt=function Te(se,ft,Ut){this.wasSuccessCode=se,this.connection=ft,this.canceled=!!Ut};function hi(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Bi(){for(var Te=[],se=0;se<arguments.length;se++)Te[se]=arguments[se];var ft=hi();if(void 0!==ft){for(var Ut=new ft,un=0;un<Te.length;un++)Ut.append(Te[un]);return Ut.getBlob()}if(q())return new Blob(Te);throw new Ve("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Ei=function(){function Te(se,ft){var Ut=0,un="";Yt(se)?(this.data_=se,Ut=se.size,un=se.type):se instanceof ArrayBuffer?(ft?this.data_=new Uint8Array(se):(this.data_=new Uint8Array(se.byteLength),this.data_.set(new Uint8Array(se))),Ut=this.data_.length):se instanceof Uint8Array&&(ft?this.data_=se:(this.data_=new Uint8Array(se.length),this.data_.set(se)),Ut=se.length),this.size_=Ut,this.type_=un}return Te.prototype.size=function(){return this.size_},Te.prototype.type=function(){return this.type_},Te.prototype.slice=function(se,ft){if(Yt(this.data_)){var un=function vi(Te,se,ft){return Te.webkitSlice?Te.webkitSlice(se,ft):Te.mozSlice?Te.mozSlice(se,ft):Te.slice?Te.slice(se,ft):null}(this.data_,se,ft);return null===un?null:new Te(un)}return new Te(new Uint8Array(this.data_.buffer,se,ft-se),!0)},Te.getBlob=function(){for(var se=[],ft=0;ft<arguments.length;ft++)se[ft]=arguments[ft];if(q()){var Ut=se.map(function(fi){return fi instanceof Te?fi.data_:fi});return new Te(Bi.apply(null,Ut))}var un=se.map(function(fi){return ni(fi)?sn(Xe.RAW,fi).data:fi.data_}),En=0;un.forEach(function(fi){En+=fi.byteLength});var ii=new Uint8Array(En),pi=0;return un.forEach(function(fi){for(var Pi=0;Pi<fi.length;Pi++)ii[pi++]=fi[Pi]}),new Te(ii,!0)},Te.prototype.uploadData=function(){return this.data_},Te}();function vt(Te){var se;try{se=JSON.parse(Te)}catch(ft){return null}return function li(Te){return"object"==typeof Te&&!Array.isArray(Te)}(se)?se:null}function vn(Te){var se=Te.lastIndexOf("/",Te.length-2);return-1===se?Te:Te.slice(se+1)}function X(Te,se){return se}var ie=function Te(se,ft,Ut,un){this.server=se,this.local=ft||se,this.writable=!!Ut,this.xform=un||X},Z=null;function Me(){if(Z)return Z;var Te=[];Te.push(new ie("bucket")),Te.push(new ie("generation")),Te.push(new ie("metageneration")),Te.push(new ie("name","fullPath",!0));var ft=new ie("name");ft.xform=function se(En,ii){return function Se(Te){return!ni(Te)||Te.length<2?Te:vn(Te)}(ii)},Te.push(ft);var un=new ie("size");return un.xform=function Ut(En,ii){return void 0!==ii?Number(ii):ii},Te.push(un),Te.push(new ie("timeCreated")),Te.push(new ie("updated")),Te.push(new ie("md5Hash",null,!0)),Te.push(new ie("cacheControl",null,!0)),Te.push(new ie("contentDisposition",null,!0)),Te.push(new ie("contentEncoding",null,!0)),Te.push(new ie("contentLanguage",null,!0)),Te.push(new ie("contentType",null,!0)),Te.push(new ie("metadata","customMetadata",!0)),Z=Te}function Ct(Te,se,ft){var Ut=vt(se);return null===Ut?null:function Be(Te,se,ft){for(var Ut={type:"file"},un=ft.length,En=0;En<un;En++){var ii=ft[En];Ut[ii.local]=ii.xform(Ut,se[ii.server])}return function ut(Te,se){Object.defineProperty(Te,"ref",{get:function ft(){var En=new wt(Te.bucket,Te.fullPath);return se._makeStorageReference(En)}})}(Ut,Te),Ut}(Te,Ut,ft)}function Sn(Te,se){for(var ft={},Ut=se.length,un=0;un<Ut;un++){var En=se[un];En.writable&&(ft[En.server]=Te[En.local])}return JSON.stringify(ft)}var bi="prefixes";var Zt=function Te(se,ft,Ut,un){this.url=se,this.method=ft,this.handler=Ut,this.timeout=un,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Ln(Te){if(!Te)throw qe()}function pn(Te,se){return function ft(Ut,un){var En=Ct(Te,un,se);return Ln(null!==En),En}}function jt(Te){return function se(ft,Ut){var un;return un=401===ft.getStatus()?ft.getResponseText().includes("Firebase App Check token is invalid")?function Ke(){return new Ve("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function ke(){return new Ve("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ft.getStatus()?function at(Te){return new Ve("quota-exceeded","Quota for bucket '"+Te+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Te.bucket):403===ft.getStatus()?function dt(Te){return new Ve("unauthorized","User does not have permission to access '"+Te+"'.")}(Te.path):Ut,un.serverResponse=Ut.serverResponse,un}}function In(Te){var se=jt(Te);return function ft(Ut,un){var En=se(Ut,un);return 404===Ut.getStatus()&&(En=function je(Te){return new Ve("object-not-found","Object '"+Te+"' does not exist.")}(Te.path)),En.serverResponse=un.serverResponse,En}}function kn(Te,se,ft){var un=ye(se.fullServerUrl(),Te.host),ii=Te.maxOperationRetryTime,pi=new Zt(un,"GET",pn(Te,ft),ii);return pi.errorHandler=In(se),pi}function si(Te,se,ft,Ut,un){var En={};En.prefix=se.isRoot?"":se.path+"/",ft&&ft.length>0&&(En.delimiter=ft),Ut&&(En.pageToken=Ut),un&&(En.maxResults=un);var pi=ye(se.bucketOnlyServerUrl(),Te.host),Pi=Te.maxOperationRetryTime,or=new Zt(pi,"GET",function Et(Te,se){return function ft(Ut,un){var En=function yt(Te,se,ft){var Ut=vt(ft);return null===Ut?null:function Pt(Te,se,ft){var Ut={prefixes:[],items:[],nextPageToken:ft.nextPageToken};if(ft[bi])for(var un=0,En=ft[bi];un<En.length;un++){var pi=En[un].replace(/\/$/,""),fi=Te._makeStorageReference(new wt(se,pi));Ut.prefixes.push(fi)}if(ft.items)for(var Pi=0,or=ft.items;Pi<or.length;Pi++)fi=Te._makeStorageReference(new wt(se,or[Pi].name)),Ut.items.push(fi);return Ut}(Te,se,Ut)}(Te,se,un);return Ln(null!==En),En}}(Te,se.bucket),Pi);return or.urlParams=En,or.errorHandler=jt(se),or}function Ot(Te,se,ft){var Ut=Object.assign({},ft);return Ut.fullPath=Te.path,Ut.size=se.size(),Ut.contentType||(Ut.contentType=function Ie(Te,se){return Te&&Te.contentType||se&&se.type()||"application/octet-stream"}(null,se)),Ut}var Ge=function Te(se,ft,Ut,un){this.current=se,this.total=ft,this.finalized=!!Ut,this.metadata=un||null};function Oe(Te,se){var ft=null;try{ft=Te.getResponseHeader("X-Goog-Upload-Status")}catch(un){Ln(!1)}return Ln(!!ft&&-1!==(se||["active"]).indexOf(ft)),ft}var Ci=function Te(se,ft,Ut){var un=function Qn(Te){return"function"==typeof Te}(se)||null!=ft||null!=Ut;if(un)this.next=se,this.error=ft,this.complete=Ut;else{var En=se;this.next=En.next,this.error=En.error,this.complete=En.complete}};function ui(Te){return function(){for(var se=[],ft=0;ft<arguments.length;ft++)se[ft]=arguments[ft];Promise.resolve().then(function(){return Te.apply(void 0,se)})}}var Or=function(){function Te(se,ft,Ut){var un=this;void 0===Ut&&(Ut=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=se,this._blob=ft,this._metadata=Ut,this._mappings=Me(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(En){un._request=void 0,un._chunkMultiplier=1,En._codeEquals("canceled")?(un._needToFetchStatus=!0,un.completeTransitions_()):(un._error=En,un._transition("error"))},this._metadataErrorHandler=function(En){un._request=void 0,En._codeEquals("canceled")?un.completeTransitions_():(un._error=En,un._transition("error"))},this._promise=new Promise(function(En,ii){un._resolve=En,un._reject=ii,un._start()}),this._promise.then(null,function(){})}return Te.prototype._makeProgressCallback=function(){var se=this,ft=this._transferred;return function(Ut){return se._updateProgress(ft+Ut)}},Te.prototype._shouldDoResumable=function(se){return se.size()>262144},Te.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},Te.prototype._resolveToken=function(se){var ft=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(Ut){var un=Ut[0],En=Ut[1];switch(ft._state){case"running":se(un,En);break;case"canceling":ft._transition("canceled");break;case"pausing":ft._transition("paused")}})},Te.prototype._createResumable=function(){var se=this;this._resolveToken(function(ft,Ut){var un=function mt(Te,se,ft,Ut,un){var En=se.bucketOnlyServerUrl(),ii=Ot(se,Ut,un),pi={name:ii.fullPath},fi=ye(En,Te.host),or={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+Ut.size(),"X-Goog-Upload-Header-Content-Type":ii.contentType,"Content-Type":"application/json; charset=utf-8"},yr=Sn(ii,ft),rr=new Zt(fi,"POST",function Lr(_o){var Er;Oe(_o);try{Er=_o.getResponseHeader("X-Goog-Upload-URL")}catch(Tr){Ln(!1)}return Ln(ni(Er)),Er},Te.maxUploadRetryTime);return rr.urlParams=pi,rr.headers=or,rr.body=yr,rr.errorHandler=jt(se),rr}(se._ref.storage,se._ref._location,se._mappings,se._blob,se._metadata),En=se._ref.storage._makeRequest(un,ft,Ut);se._request=En,En.getPromise().then(function(ii){se._request=void 0,se._uploadUrl=ii,se._needToFetchStatus=!1,se.completeTransitions_()},se._errorHandler)})},Te.prototype._fetchStatus=function(){var se=this,ft=this._uploadUrl;this._resolveToken(function(Ut,un){var En=function Qt(Te,se,ft,Ut){var fi=new Zt(ft,"POST",function En(Pi){var or=Oe(Pi,["active","final"]),yr=null;try{yr=Pi.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Lr){Ln(!1)}yr||Ln(!1);var po=Number(yr);return Ln(!isNaN(po)),new Ge(po,Ut.size(),"final"===or)},Te.maxUploadRetryTime);return fi.headers={"X-Goog-Upload-Command":"query"},fi.errorHandler=jt(se),fi}(se._ref.storage,se._ref._location,ft,se._blob),ii=se._ref.storage._makeRequest(En,Ut,un);se._request=ii,ii.getPromise().then(function(pi){pi=pi,se._request=void 0,se._updateProgress(pi.current),se._needToFetchStatus=!1,pi.finalized&&(se._needToFetchMetadata=!0),se.completeTransitions_()},se._errorHandler)})},Te.prototype._continueUpload=function(){var se=this,ft=262144*this._chunkMultiplier,Ut=new Ge(this._transferred,this._blob.size()),un=this._uploadUrl;this._resolveToken(function(En,ii){var pi;try{pi=function Bn(Te,se,ft,Ut,un,En,ii,pi){var fi=new Ge(0,0);if(ii?(fi.current=ii.current,fi.total=ii.total):(fi.current=0,fi.total=Ut.size()),Ut.size()!==fi.total)throw function te(){return new Ve("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();var Pi=fi.total-fi.current,or=Pi;un>0&&(or=Math.min(or,un));var yr=fi.current,rr={"X-Goog-Upload-Command":or===Pi?"upload, finalize":"upload","X-Goog-Upload-Offset":""+fi.current},_o=Ut.slice(yr,yr+or);if(null===_o)throw Pe();var vo=new Zt(ft,"POST",function Er(ao,Jo){var Fe,ls=Oe(ao,["active","final"]),pr=fi.current+or,le=Ut.size();return Fe="final"===ls?pn(se,En)(ao,Jo):null,new Ge(pr,le,"final"===ls,Fe)},se.maxUploadRetryTime);return vo.headers=rr,vo.body=_o.uploadData(),vo.progressCallback=pi||null,vo.errorHandler=jt(Te),vo}(se._ref._location,se._ref.storage,un,se._blob,ft,se._mappings,Ut,se._makeProgressCallback())}catch(Pi){return se._error=Pi,void se._transition("error")}var fi=se._ref.storage._makeRequest(pi,En,ii);se._request=fi,fi.getPromise().then(function(Pi){se._increaseMultiplier(),se._request=void 0,se._updateProgress(Pi.current),Pi.finalized?(se._metadata=Pi.metadata,se._transition("success")):se.completeTransitions_()},se._errorHandler)})},Te.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},Te.prototype._fetchMetadata=function(){var se=this;this._resolveToken(function(ft,Ut){var un=kn(se._ref.storage,se._ref._location,se._mappings),En=se._ref.storage._makeRequest(un,ft,Ut);se._request=En,En.getPromise().then(function(ii){se._request=void 0,se._metadata=ii,se._transition("success")},se._metadataErrorHandler)})},Te.prototype._oneShotUpload=function(){var se=this;this._resolveToken(function(ft,Ut){var un=function ae(Te,se,ft,Ut,un){var En=se.bucketOnlyServerUrl(),ii={"X-Goog-Upload-Protocol":"multipart"},fi=function pi(){for(var vo="",ao=0;ao<2;ao++)vo+=Math.random().toString().slice(2);return vo}();ii["Content-Type"]="multipart/related; boundary="+fi;var Pi=Ot(se,Ut,un),or=Sn(Pi,ft),Lr=Ei.getBlob("--"+fi+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+or+"\r\n--"+fi+"\r\nContent-Type: "+Pi.contentType+"\r\n\r\n",Ut,"\r\n--"+fi+"--");if(null===Lr)throw Pe();var rr={name:Pi.fullPath},_o=ye(En,Te.host),Tr=Te.maxUploadRetryTime,no=new Zt(_o,"POST",pn(Te,ft),Tr);return no.urlParams=rr,no.headers=ii,no.body=Lr.uploadData(),no.errorHandler=jt(se),no}(se._ref.storage,se._ref._location,se._mappings,se._blob,se._metadata),En=se._ref.storage._makeRequest(un,ft,Ut);se._request=En,En.getPromise().then(function(ii){se._request=void 0,se._metadata=ii,se._updateProgress(se._blob.size()),se._transition("success")},se._errorHandler)})},Te.prototype._updateProgress=function(se){var ft=this._transferred;this._transferred=se,this._transferred!==ft&&this._notifyObservers()},Te.prototype._transition=function(se){if(this._state!==se)switch(se){case"canceling":case"pausing":this._state=se,void 0!==this._request&&this._request.cancel();break;case"running":var ft="paused"===this._state;this._state=se,ft&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=se,this._notifyObservers();break;case"canceled":this._error=Dt(),this._state=se,this._notifyObservers()}},Te.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(Te.prototype,"snapshot",{get:function(){var se=an(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:se,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),Te.prototype.on=function(se,ft,Ut,un){var En=this,ii=new Ci(ft,Ut,un);return this._addObserver(ii),function(){En._removeObserver(ii)}},Te.prototype.then=function(se,ft){return this._promise.then(se,ft)},Te.prototype.catch=function(se){return this.then(null,se)},Te.prototype._addObserver=function(se){this._observers.push(se),this._notifyObserver(se)},Te.prototype._removeObserver=function(se){var ft=this._observers.indexOf(se);-1!==ft&&this._observers.splice(ft,1)},Te.prototype._notifyObservers=function(){var se=this;this._finishPromise(),this._observers.slice().forEach(function(Ut){se._notifyObserver(Ut)})},Te.prototype._finishPromise=function(){if(void 0!==this._resolve){var se=!0;switch(an(this._state)){case _n.SUCCESS:ui(this._resolve.bind(null,this.snapshot))();break;case _n.CANCELED:case _n.ERROR:ui(this._reject.bind(null,this._error))();break;default:se=!1}se&&(this._resolve=void 0,this._reject=void 0)}},Te.prototype._notifyObserver=function(se){switch(an(this._state)){case _n.RUNNING:case _n.PAUSED:se.next&&ui(se.next.bind(se,this.snapshot))();break;case _n.SUCCESS:se.complete&&ui(se.complete.bind(se))();break;default:se.error&&ui(se.error.bind(se,this._error))()}},Te.prototype.resume=function(){var se="paused"===this._state||"pausing"===this._state;return se&&this._transition("running"),se},Te.prototype.pause=function(){var se="running"===this._state;return se&&this._transition("pausing"),se},Te.prototype.cancel=function(){var se="running"===this._state||"pausing"===this._state;return se&&this._transition("canceling"),se},Te}(),hr=function(){function Te(se,ft){this._service=se,this._location=ft instanceof wt?ft:wt.makeFromUrl(ft,se.host)}return Te.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},Te.prototype._newRef=function(se,ft){return new Te(se,ft)},Object.defineProperty(Te.prototype,"root",{get:function(){var se=new wt(this._location.bucket,"");return this._newRef(this._service,se)},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"name",{get:function(){return vn(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"parent",{get:function(){var se=function Nt(Te){if(0===Te.length)return null;var se=Te.lastIndexOf("/");return-1===se?"":Te.slice(0,se)}(this._location.path);if(null===se)return null;var ft=new wt(this._location.bucket,se);return new Te(this._service,ft)},enumerable:!1,configurable:!0}),Te.prototype._throwIfRoot=function(se){if(""===this._location.path)throw tt(se)},Te}();function mi(Te){var se={prefixes:[],items:[]};return _i(Te,se).then(function(){return se})}function _i(Te,se,ft){return(0,_.__awaiter)(this,void 0,void 0,function(){var un,En,ii;return(0,_.__generator)(this,function(pi){switch(pi.label){case 0:return[4,ji(Te,{pageToken:ft})];case 1:return un=pi.sent(),(En=se.prefixes).push.apply(En,un.prefixes),(ii=se.items).push.apply(ii,un.items),null==un.nextPageToken?[3,3]:[4,_i(Te,se,un.nextPageToken)];case 2:pi.sent(),pi.label=3;case 3:return[2]}})})}function ji(Te,se){return(0,_.__awaiter)(this,void 0,void 0,function(){var ft,Ut;return(0,_.__generator)(this,function(un){switch(un.label){case 0:return null!=se&&"number"==typeof se.maxResults&&de("options.maxResults",1,1e3,se.maxResults),Ut=si(Te.storage,Te._location,"/",(ft=se||{}).pageToken,ft.maxResults),[4,Te.storage.makeRequestWithTokens(Ut)];case 1:return[2,un.sent().getPromise()]}})})}function fr(Te){return(0,_.__awaiter)(this,void 0,void 0,function(){var se;return(0,_.__generator)(this,function(ft){switch(ft.label){case 0:return Te._throwIfRoot("getDownloadURL"),se=function Mi(Te,se,ft){var un=ye(se.fullServerUrl(),Te.host),ii=Te.maxOperationRetryTime,pi=new Zt(un,"GET",function ct(Te,se){return function ft(Ut,un){var En=Ct(Te,un,se);return Ln(null!==En),function on(Te,se,ft){var Ut=vt(se);if(null===Ut||!ni(Ut.downloadTokens))return null;var un=Ut.downloadTokens;if(0===un.length)return null;var En=encodeURIComponent;return un.split(",").map(function(fi){var or=Te.fullPath;return ye("/b/"+En(Te.bucket)+"/o/"+En(or),ft)+Ce({alt:"media",token:fi})})[0]}(En,un,Te.host)}}(Te,ft),ii);return pi.errorHandler=In(se),pi}(Te.storage,Te._location,Me()),[4,Te.storage.makeRequestWithTokens(se)];case 1:return[2,ft.sent().getPromise().then(function(Ut){if(null===Ut)throw function Qe(){return new Ve("no-download-url","The given file does not have any download URLs.")}();return Ut})]}})})}function $o(Te,se){var ft=function Ft(Te,se){var ft=se.split("/").filter(function(Ut){return Ut.length>0}).join("/");return 0===Te.length?ft:Te+"/"+ft}(Te._location.path,se),Ut=new wt(Te._location.bucket,ft);return new hr(Te.storage,Ut)}function sr(Te){return/^[A-Za-z]+:\/\//.test(Te)}function Ki(Te,se){if(Te instanceof wo){var ft=Te;if(null==ft._bucket)throw function gt(){return new Ve("no-default-bucket","No default bucket found. Did you set the '"+xe+"' property when initializing the app?")}();var Ut=new hr(ft,ft._bucket);return null!=se?Ki(Ut,se):Ut}if(void 0!==se){if(se.includes(".."))throw Mt('`path` param cannot contain ".."');return $o(Te,se)}return Te}function zr(Te,se){if(se&&sr(se)){if(Te instanceof wo)return function vr(Te,se){return new hr(Te,se)}(Te,se);throw Mt("To use ref(service, url), the first argument must be a Storage instance.")}return Ki(Te,se)}function Fr(Te,se){var ft=null==se?void 0:se[xe];return null==ft?null:wt.makeFromBucketSpec(ft,Te)}var wo=function(){function Te(se,ft,Ut,un,En,ii){this.app=se,this._authProvider=ft,this._appCheckProvider=Ut,this._pool=un,this._url=En,this._firebaseVersion=ii,this._bucket=null,this._host=W,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=En?wt.makeFromBucketSpec(En,this._host):Fr(this._host,this.app.options)}return Object.defineProperty(Te.prototype,"host",{get:function(){return this._host},set:function(se){this._host=se,this._bucket=null!=this._url?wt.makeFromBucketSpec(this._url,se):Fr(se,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(se){de("time",0,Number.POSITIVE_INFINITY,se),this._maxUploadRetryTime=se},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(se){de("time",0,Number.POSITIVE_INFINITY,se),this._maxOperationRetryTime=se},enumerable:!1,configurable:!0}),Te.prototype._getAuthToken=function(){return(0,_.__awaiter)(this,void 0,void 0,function(){var se,ft;return(0,_.__generator)(this,function(Ut){switch(Ut.label){case 0:return(se=this._authProvider.getImmediate({optional:!0}))?[4,se.getToken()]:[3,2];case 1:if(null!==(ft=Ut.sent()))return[2,ft.accessToken];Ut.label=2;case 2:return[2,null]}})})},Te.prototype._getAppCheckToken=function(){return(0,_.__awaiter)(this,void 0,void 0,function(){var se;return(0,_.__generator)(this,function(Ut){switch(Ut.label){case 0:return(se=this._appCheckProvider.getImmediate({optional:!0}))?[4,se.getToken()]:[3,2];case 1:return[2,Ut.sent().token];case 2:return[2,null]}})})},Te.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(se){return se.cancel()}),this._requests.clear()),Promise.resolve()},Te.prototype._makeStorageReference=function(se){return new hr(this,se)},Te.prototype._makeRequest=function(se,ft,Ut){var un=this;if(this._deleted)return new cn(bt());var En=function ei(Te,se,ft,Ut,un,En){var ii=Ce(Te.urlParams),pi=Te.url+ii,fi=Object.assign({},Te.headers);return function Wn(Te,se){se&&(Te["X-Firebase-GMPID"]=se)}(fi,se),function nn(Te,se){null!==se&&se.length>0&&(Te.Authorization="Firebase "+se)}(fi,ft),function On(Te,se){Te["X-Firebase-Storage-Version"]="webjs/"+(null!=se?se:"AppManager")}(fi,En),function Yn(Te,se){null!==se&&(Te["X-Firebase-AppCheck"]=se)}(fi,Ut),new pt(pi,Te.method,fi,Te.body,Te.successCodes,Te.additionalRetryCodes,Te.handler,Te.errorHandler,Te.timeout,Te.progressCallback,un)}(se,this._appId,ft,Ut,this._pool,this._firebaseVersion);return this._requests.add(En),En.getPromise().then(function(){return un._requests.delete(En)},function(){return un._requests.delete(En)}),En},Te.prototype.makeRequestWithTokens=function(se){return(0,_.__awaiter)(this,void 0,void 0,function(){var ft;return(0,_.__generator)(this,function(En){switch(En.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return ft=En.sent(),[2,this._makeRequest(se,ft[0],ft[1])]}})})},Te}();function fo(Te,se){return zr(Te=(0,e.getModularInstance)(Te),se)}var er=function(){function Te(se,ft,Ut){this._delegate=se,this.task=ft,this.ref=Ut}return Object.defineProperty(Te.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),Te}(),To=function(){function Te(se,ft){this._delegate=se,this._ref=ft,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(Te.prototype,"snapshot",{get:function(){return new er(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),Te.prototype.then=function(se,ft){var Ut=this;return this._delegate.then(function(un){if(se)return se(new er(un,Ut,Ut._ref))},ft)},Te.prototype.on=function(se,ft,Ut,un){var En=this,ii=void 0;return ft&&(ii="function"==typeof ft?function(pi){return ft(new er(pi,En,En._ref))}:{next:ft.next?function(pi){return ft.next(new er(pi,En,En._ref))}:void 0,complete:ft.complete||void 0,error:ft.error||void 0}),this._delegate.on(se,ii,Ut||void 0,un||void 0)},Te}(),is=function(){function Te(se,ft){this._delegate=se,this._service=ft}return Object.defineProperty(Te.prototype,"prefixes",{get:function(){var se=this;return this._delegate.prefixes.map(function(ft){return new Io(ft,se._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"items",{get:function(){var se=this;return this._delegate.items.map(function(ft){return new Io(ft,se._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),Te}(),Io=function(){function Te(se,ft){this._delegate=se,this.storage=ft}return Object.defineProperty(Te.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),Te.prototype.toString=function(){return this._delegate.toString()},Te.prototype.child=function(se){var ft=function vs(Te,se){return $o(Te,se)}(this._delegate,se);return new Te(ft,this.storage)},Object.defineProperty(Te.prototype,"root",{get:function(){return new Te(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"parent",{get:function(){var se=this._delegate.parent;return null==se?null:new Te(se,this.storage)},enumerable:!1,configurable:!0}),Te.prototype.put=function(se,ft){return this._throwIfRoot("put"),new To(function ms(Te,se,ft){return function ur(Te,se,ft){return Te._throwIfRoot("uploadBytesResumable"),new Or(Te,new Ei(se),ft)}(Te=(0,e.getModularInstance)(Te),se,ft)}(this._delegate,se,ft),this)},Te.prototype.putString=function(se,ft,Ut){void 0===ft&&(ft=Xe.RAW),this._throwIfRoot("putString");var un=sn(ft,se),En=(0,_.__assign)({},Ut);return null==En.contentType&&null!=un.contentType&&(En.contentType=un.contentType),new To(new Or(this._delegate,new Ei(un.data,!0),En),this)},Te.prototype.listAll=function(){var se=this;return function Vr(Te){return mi(Te=(0,e.getModularInstance)(Te))}(this._delegate).then(function(ft){return new is(ft,se.storage)})},Te.prototype.list=function(se){var ft=this;return function js(Te,se){return ji(Te=(0,e.getModularInstance)(Te),se)}(this._delegate,se||void 0).then(function(Ut){return new is(Ut,ft.storage)})},Te.prototype.getMetadata=function(){return function _s(Te){return function Hi(Te){return(0,_.__awaiter)(this,void 0,void 0,function(){var se;return(0,_.__generator)(this,function(ft){switch(ft.label){case 0:return Te._throwIfRoot("getMetadata"),se=kn(Te.storage,Te._location,Me()),[4,Te.storage.makeRequestWithTokens(se)];case 1:return[2,ft.sent().getPromise()]}})})}(Te=(0,e.getModularInstance)(Te))}(this._delegate)},Te.prototype.updateMetadata=function(se){return function Jr(Te,se){return function qi(Te,se){return(0,_.__awaiter)(this,void 0,void 0,function(){var ft;return(0,_.__generator)(this,function(Ut){switch(Ut.label){case 0:return Te._throwIfRoot("updateMetadata"),ft=function ht(Te,se,ft,Ut){var En=ye(se.fullServerUrl(),Te.host),pi=Sn(ft,Ut),Pi=Te.maxOperationRetryTime,or=new Zt(En,"PATCH",pn(Te,Ut),Pi);return or.headers={"Content-Type":"application/json; charset=utf-8"},or.body=pi,or.errorHandler=In(se),or}(Te.storage,Te._location,se,Me()),[4,Te.storage.makeRequestWithTokens(ft)];case 1:return[2,Ut.sent().getPromise()]}})})}(Te=(0,e.getModularInstance)(Te),se)}(this._delegate,se)},Te.prototype.getDownloadURL=function(){return function Ds(Te){return fr(Te=(0,e.getModularInstance)(Te))}(this._delegate)},Te.prototype.delete=function(){return this._throwIfRoot("delete"),function Wo(Te){return function Yo(Te){return(0,_.__awaiter)(this,void 0,void 0,function(){var se;return(0,_.__generator)(this,function(ft){switch(ft.label){case 0:return Te._throwIfRoot("deleteObject"),se=function An(Te,se){var Ut=ye(se.fullServerUrl(),Te.host),pi=new Zt(Ut,"DELETE",function ii(fi,Pi){},Te.maxOperationRetryTime);return pi.successCodes=[200,204],pi.errorHandler=In(se),pi}(Te.storage,Te._location),[4,Te.storage.makeRequestWithTokens(se)];case 1:return[2,ft.sent().getPromise()]}})})}(Te=(0,e.getModularInstance)(Te))}(this._delegate)},Te.prototype._throwIfRoot=function(se){if(""===this._delegate._location.path)throw tt(se)},Te}(),Uo=function(){function Te(se,ft){this.app=se,this._delegate=ft}return Object.defineProperty(Te.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),Te.prototype.ref=function(se){if(sr(se))throw Mt("ref() expected a child path but got a URL, use refFromURL instead.");return new Io(fo(this._delegate,se),this)},Te.prototype.refFromURL=function(se){if(!sr(se))throw Mt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{wt.makeFromUrl(se,this._delegate.host)}catch(ft){throw Mt("refFromUrl() expected a valid full URL but got an invalid one.")}return new Io(fo(this._delegate,se),this)},Te.prototype.setMaxUploadRetryTime=function(se){this._delegate.maxUploadRetryTime=se},Te.prototype.setMaxOperationRetryTime=function(se){this._delegate.maxOperationRetryTime=se},Te.prototype.useEmulator=function(se,ft){!function $s(Te,se,ft){!function Xi(Te,se,ft){Te.host="http://"+se+":"+ft}(Te,se,ft)}(this._delegate,se,ft)},Te}();function ar(Te,se){var ft=se.instanceIdentifier,Ut=Te.getProvider("app").getImmediate(),un=Te.getProvider("auth-internal"),En=Te.getProvider("app-check-internal");return new Uo(Ut,new wo(Ut,un,En,new jn,ft,d.default.SDK_VERSION))}!function os(Te){var se={TaskState:_n,TaskEvent:Ht,StringFormat:Xe,Storage:wo,Reference:Io};Te.INTERNAL.registerComponent(new ee.Component("storage",ar,"PUBLIC").setServiceProps(se).setMultipleInstances(!0)),Te.registerVersion("@firebase/storage","0.6.2")}(d.default)},492:(Xn,Vt,A)=>{"use strict";A.r(Vt),A.d(Vt,{CONSTANTS:()=>_,Deferred:()=>at,ErrorFactory:()=>st,FirebaseError:()=>Xe,MAX_VALUE_MILLIS:()=>Yn,RANDOM_FACTOR:()=>ei,Sha1:()=>$n,areCookiesEnabled:()=>Ze,assert:()=>e,assertionError:()=>ee,async:()=>li,base64:()=>pe,base64Decode:()=>Ve,base64Encode:()=>ze,calculateBackoffMillis:()=>hi,contains:()=>_n,createMockUserToken:()=>ke,createSubscribe:()=>Vi,decode:()=>bn,deepCopy:()=>Q,deepEqual:()=>Pn,deepExtend:()=>qe,errorPrefix:()=>de,extractQuerystring:()=>Gn,getGlobal:()=>Ee,getModularInstance:()=>Ei,getUA:()=>Ke,isAdmin:()=>Ht,isBrowser:()=>Dt,isBrowserExtension:()=>Tt,isElectron:()=>gt,isEmpty:()=>Vn,isIE:()=>Pe,isIndexedDBAvailable:()=>bt,isMobileCordova:()=>dt,isNode:()=>it,isNodeSdk:()=>Qe,isReactNative:()=>hn,isSafari:()=>Mt,isUWP:()=>te,isValidFormat:()=>Kt,isValidTimestamp:()=>zt,issuedAtTime:()=>qt,jsonEval:()=>wn,map:()=>di,ordinal:()=>Bi,querystring:()=>wt,querystringDecode:()=>cn,safeGet:()=>an,stringLength:()=>nn,stringToByteArray:()=>Rt,stringify:()=>mn,validateArgCount:()=>q,validateCallback:()=>Ce,validateContextObject:()=>pt,validateIndexedDBOpenable:()=>tt,validateNamespace:()=>ye});var d=A(655),_={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},e=function(vt,Nt){if(!vt)throw ee(Nt)},ee=function(vt){return new Error("Firebase Database ("+_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+vt)},W=function(vt){for(var Nt=[],Ft=0,vn=0;vn<vt.length;vn++){var X=vt.charCodeAt(vn);X<128?Nt[Ft++]=X:X<2048?(Nt[Ft++]=X>>6|192,Nt[Ft++]=63&X|128):55296==(64512&X)&&vn+1<vt.length&&56320==(64512&vt.charCodeAt(vn+1))?(X=65536+((1023&X)<<10)+(1023&vt.charCodeAt(++vn)),Nt[Ft++]=X>>18|240,Nt[Ft++]=X>>12&63|128,Nt[Ft++]=X>>6&63|128,Nt[Ft++]=63&X|128):(Nt[Ft++]=X>>12|224,Nt[Ft++]=X>>6&63|128,Nt[Ft++]=63&X|128)}return Nt},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(vt,Nt){if(!Array.isArray(vt))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Ft=Nt?this.byteToCharMapWebSafe_:this.byteToCharMap_,vn=[],X=0;X<vt.length;X+=3){var ie=vt[X],Z=X+1<vt.length,Se=Z?vt[X+1]:0,Me=X+2<vt.length,ut=Me?vt[X+2]:0,on=(15&Se)<<2|ut>>6,Sn=63&ut;Me||(Sn=64,Z||(on=64)),vn.push(Ft[ie>>2],Ft[(3&ie)<<4|Se>>4],Ft[on],Ft[Sn])}return vn.join("")},encodeString:function(vt,Nt){return this.HAS_NATIVE_SUPPORT&&!Nt?btoa(vt):this.encodeByteArray(W(vt),Nt)},decodeString:function(vt,Nt){return this.HAS_NATIVE_SUPPORT&&!Nt?atob(vt):function(vt){for(var Nt=[],Ft=0,vn=0;Ft<vt.length;){var X=vt[Ft++];if(X<128)Nt[vn++]=String.fromCharCode(X);else if(X>191&&X<224){var ie=vt[Ft++];Nt[vn++]=String.fromCharCode((31&X)<<6|63&ie)}else if(X>239&&X<365){var Me=((7&X)<<18|(63&(ie=vt[Ft++]))<<12|(63&(Z=vt[Ft++]))<<6|63&vt[Ft++])-65536;Nt[vn++]=String.fromCharCode(55296+(Me>>10)),Nt[vn++]=String.fromCharCode(56320+(1023&Me))}else{ie=vt[Ft++];var Z=vt[Ft++];Nt[vn++]=String.fromCharCode((15&X)<<12|(63&ie)<<6|63&Z)}}return Nt.join("")}(this.decodeStringToByteArray(vt,Nt))},decodeStringToByteArray:function(vt,Nt){this.init_();for(var Ft=Nt?this.charToByteMapWebSafe_:this.charToByteMap_,vn=[],X=0;X<vt.length;){var ie=Ft[vt.charAt(X++)],Se=X<vt.length?Ft[vt.charAt(X)]:0,ut=++X<vt.length?Ft[vt.charAt(X)]:64,Ct=++X<vt.length?Ft[vt.charAt(X)]:64;if(++X,null==ie||null==Se||null==ut||null==Ct)throw Error();vn.push(ie<<2|Se>>4),64!==ut&&(vn.push(Se<<4&240|ut>>2),64!==Ct&&vn.push(ut<<6&192|Ct))}return vn},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var vt=0;vt<this.ENCODED_VALS.length;vt++)this.byteToCharMap_[vt]=this.ENCODED_VALS.charAt(vt),this.charToByteMap_[this.byteToCharMap_[vt]]=vt,this.byteToCharMapWebSafe_[vt]=this.ENCODED_VALS_WEBSAFE.charAt(vt),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[vt]]=vt,vt>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(vt)]=vt,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(vt)]=vt)}}},ze=function(vt){var Nt=W(vt);return pe.encodeByteArray(Nt,!0)},Ve=function(vt){try{return pe.decodeString(vt,!0)}catch(Nt){console.error("base64Decode failed: ",Nt)}return null};function Q(vt){return qe(void 0,vt)}function qe(vt,Nt){if(!(Nt instanceof Object))return Nt;switch(Nt.constructor){case Date:return new Date(Nt.getTime());case Object:void 0===vt&&(vt={});break;case Array:vt=[];break;default:return Nt}for(var vn in Nt)!Nt.hasOwnProperty(vn)||!je(vn)||(vt[vn]=qe(vt[vn],Nt[vn]));return vt}function je(vt){return"__proto__"!==vt}var at=function(){function vt(){var Nt=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Ft,vn){Nt.resolve=Ft,Nt.reject=vn})}return vt.prototype.wrapCallback=function(Nt){var Ft=this;return function(vn,X){vn?Ft.reject(vn):Ft.resolve(X),"function"==typeof Nt&&(Ft.promise.catch(function(){}),1===Nt.length?Nt(vn):Nt(vn,X))}},vt}();function ke(vt,Nt){if(vt.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var vn=Nt||"demo-project",X=vt.iat||0,ie=vt.sub||vt.user_id;if(!ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Z=(0,d.__assign)({iss:"https://securetoken.google.com/"+vn,aud:vn,iat:X,exp:X+3600,auth_time:X,sub:ie,user_id:ie,firebase:{sign_in_provider:"custom",identities:{}}},vt);return[pe.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),pe.encodeString(JSON.stringify(Z),!1),""].join(".")}function Ke(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function dt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function it(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(vt){return!1}}function Dt(){return"object"==typeof self&&self.self===self}function Tt(){var vt="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof vt&&void 0!==vt.id}function hn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function gt(){return Ke().indexOf("Electron/")>=0}function Pe(){var vt=Ke();return vt.indexOf("MSIE ")>=0||vt.indexOf("Trident/")>=0}function te(){return Ke().indexOf("MSAppHost/")>=0}function Qe(){return!0===_.NODE_CLIENT||!0===_.NODE_ADMIN}function Mt(){return!it()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bt(){return"indexedDB"in self&&null!=indexedDB}function tt(){return new Promise(function(vt,Nt){try{var Ft=!0,vn="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(vn);X.onsuccess=function(){X.result.close(),Ft||self.indexedDB.deleteDatabase(vn),vt(!0)},X.onupgradeneeded=function(){Ft=!1},X.onerror=function(){var ie;Nt((null===(ie=X.error)||void 0===ie?void 0:ie.message)||"")}}catch(ie){Nt(ie)}})}function Ze(){return!(!navigator||!navigator.cookieEnabled)}function Ee(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var Xe=function(vt){function Nt(Ft,vn,X){var ie=vt.call(this,vn)||this;return ie.code=Ft,ie.customData=X,ie.name="FirebaseError",Object.setPrototypeOf(ie,Nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(ie,st.prototype.create),ie}return(0,d.__extends)(Nt,vt),Nt}(Error),st=function(){function vt(Nt,Ft,vn){this.service=Nt,this.serviceName=Ft,this.errors=vn}return vt.prototype.create=function(Nt){for(var Ft=[],vn=1;vn<arguments.length;vn++)Ft[vn-1]=arguments[vn];var X=Ft[0]||{},ie=this.service+"/"+Nt,Z=this.errors[Nt],Se=Z?sn(Z,X):"Error",Me=this.serviceName+": "+Se+" ("+ie+").",ut=new Xe(ie,Me,X);return ut},vt}();function sn(vt,Nt){return vt.replace(fn,function(Ft,vn){var X=Nt[vn];return null!=X?String(X):"<"+vn+"?>"})}var fn=/\{\$([^}]+)}/g;function wn(vt){return JSON.parse(vt)}function mn(vt){return JSON.stringify(vt)}var bn=function(vt){var Nt={},Ft={},vn={},X="";try{var ie=vt.split(".");Nt=wn(Ve(ie[0])||""),Ft=wn(Ve(ie[1])||""),X=ie[2],vn=Ft.d||{},delete Ft.d}catch(Z){}return{header:Nt,claims:Ft,data:vn,signature:X}},zt=function(vt){var Nt=bn(vt).claims,Ft=Math.floor((new Date).getTime()/1e3),vn=0,X=0;return"object"==typeof Nt&&(Nt.hasOwnProperty("nbf")?vn=Nt.nbf:Nt.hasOwnProperty("iat")&&(vn=Nt.iat),X=Nt.hasOwnProperty("exp")?Nt.exp:vn+86400),!!Ft&&!!vn&&!!X&&Ft>=vn&&Ft<=X},qt=function(vt){var Nt=bn(vt).claims;return"object"==typeof Nt&&Nt.hasOwnProperty("iat")?Nt.iat:null},Kt=function(vt){var Ft=bn(vt).claims;return!!Ft&&"object"==typeof Ft&&Ft.hasOwnProperty("iat")},Ht=function(vt){var Nt=bn(vt).claims;return"object"==typeof Nt&&!0===Nt.admin};function _n(vt,Nt){return Object.prototype.hasOwnProperty.call(vt,Nt)}function an(vt,Nt){if(Object.prototype.hasOwnProperty.call(vt,Nt))return vt[Nt]}function Vn(vt){for(var Nt in vt)if(Object.prototype.hasOwnProperty.call(vt,Nt))return!1;return!0}function di(vt,Nt,Ft){var vn={};for(var X in vt)Object.prototype.hasOwnProperty.call(vt,X)&&(vn[X]=Nt.call(Ft,vt[X],X,vt));return vn}function Pn(vt,Nt){if(vt===Nt)return!0;for(var Ft=Object.keys(vt),vn=Object.keys(Nt),X=0,ie=Ft;X<ie.length;X++){if(!vn.includes(Z=ie[X]))return!1;var Se=vt[Z],Me=Nt[Z];if(jn(Se)&&jn(Me)){if(!Pn(Se,Me))return!1}else if(Se!==Me)return!1}for(var ut=0,Be=vn;ut<Be.length;ut++){var Z;if(!Ft.includes(Z=Be[ut]))return!1}return!0}function jn(vt){return null!==vt&&"object"==typeof vt}function wt(vt){for(var Nt=[],Ft=function(Me,ut){Array.isArray(ut)?ut.forEach(function(Be){Nt.push(encodeURIComponent(Me)+"="+encodeURIComponent(Be))}):Nt.push(encodeURIComponent(Me)+"="+encodeURIComponent(ut))},vn=0,X=Object.entries(vt);vn<X.length;vn++){var ie=X[vn];Ft(ie[0],ie[1])}return Nt.length?"&"+Nt.join("&"):""}function cn(vt){var Nt={};return vt.replace(/^\?/,"").split("&").forEach(function(vn){if(vn){var X=vn.split("="),Z=X[1];Nt[decodeURIComponent(X[0])]=decodeURIComponent(Z)}}),Nt}function Gn(vt){var Nt=vt.indexOf("?");if(!Nt)return"";var Ft=vt.indexOf("#",Nt);return vt.substring(Nt,Ft>0?Ft:void 0)}var $n=function(){function vt(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var Nt=1;Nt<this.blockSize;++Nt)this.pad_[Nt]=0;this.reset()}return vt.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},vt.prototype.compress_=function(Nt,Ft){Ft||(Ft=0);var vn=this.W_;if("string"==typeof Nt)for(var X=0;X<16;X++)vn[X]=Nt.charCodeAt(Ft)<<24|Nt.charCodeAt(Ft+1)<<16|Nt.charCodeAt(Ft+2)<<8|Nt.charCodeAt(Ft+3),Ft+=4;else for(X=0;X<16;X++)vn[X]=Nt[Ft]<<24|Nt[Ft+1]<<16|Nt[Ft+2]<<8|Nt[Ft+3],Ft+=4;for(X=16;X<80;X++)vn[X]=4294967295&((ie=vn[X-3]^vn[X-8]^vn[X-14]^vn[X-16])<<1|ie>>>31);var Ct,on,Z=this.chain_[0],Se=this.chain_[1],Me=this.chain_[2],ut=this.chain_[3],Be=this.chain_[4];for(X=0;X<80;X++){X<40?X<20?(Ct=ut^Se&(Me^ut),on=1518500249):(Ct=Se^Me^ut,on=1859775393):X<60?(Ct=Se&Me|ut&(Se|Me),on=2400959708):(Ct=Se^Me^ut,on=3395469782);var ie=(Z<<5|Z>>>27)+Ct+Be+on+vn[X]&4294967295;Be=ut,ut=Me,Me=4294967295&(Se<<30|Se>>>2),Se=Z,Z=ie}this.chain_[0]=this.chain_[0]+Z&4294967295,this.chain_[1]=this.chain_[1]+Se&4294967295,this.chain_[2]=this.chain_[2]+Me&4294967295,this.chain_[3]=this.chain_[3]+ut&4294967295,this.chain_[4]=this.chain_[4]+Be&4294967295},vt.prototype.update=function(Nt,Ft){if(null!=Nt){void 0===Ft&&(Ft=Nt.length);for(var vn=Ft-this.blockSize,X=0,ie=this.buf_,Z=this.inbuf_;X<Ft;){if(0===Z)for(;X<=vn;)this.compress_(Nt,X),X+=this.blockSize;if("string"==typeof Nt){for(;X<Ft;)if(ie[Z]=Nt.charCodeAt(X),++X,++Z===this.blockSize){this.compress_(ie),Z=0;break}}else for(;X<Ft;)if(ie[Z]=Nt[X],++X,++Z===this.blockSize){this.compress_(ie),Z=0;break}}this.inbuf_=Z,this.total_+=Ft}},vt.prototype.digest=function(){var Nt=[],Ft=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var vn=this.blockSize-1;vn>=56;vn--)this.buf_[vn]=255&Ft,Ft/=256;this.compress_(this.buf_);var X=0;for(vn=0;vn<5;vn++)for(var ie=24;ie>=0;ie-=8)Nt[X]=this.chain_[vn]>>ie&255,++X;return Nt},vt}();function Vi(vt,Nt){var Ft=new Qn(vt,Nt);return Ft.subscribe.bind(Ft)}var Qn=function(){function vt(Nt,Ft){var vn=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ft,this.task.then(function(){Nt(vn)}).catch(function(X){vn.error(X)})}return vt.prototype.next=function(Nt){this.forEachObserver(function(Ft){Ft.next(Nt)})},vt.prototype.error=function(Nt){this.forEachObserver(function(Ft){Ft.error(Nt)}),this.close(Nt)},vt.prototype.complete=function(){this.forEachObserver(function(Nt){Nt.complete()}),this.close()},vt.prototype.subscribe=function(Nt,Ft,vn){var ie,X=this;if(void 0===Nt&&void 0===Ft&&void 0===vn)throw new Error("Missing Observer.");ie=function ni(vt,Nt){if("object"!=typeof vt||null===vt)return!1;for(var Ft=0,vn=Nt;Ft<vn.length;Ft++){var X=vn[Ft];if(X in vt&&"function"==typeof vt[X])return!0}return!1}(Nt,["next","error","complete"])?Nt:{next:Nt,error:Ft,complete:vn},void 0===ie.next&&(ie.next=Yt),void 0===ie.error&&(ie.error=Yt),void 0===ie.complete&&(ie.complete=Yt);var Z=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{X.finalError?ie.error(X.finalError):ie.complete()}catch(Se){}}),this.observers.push(ie),Z},vt.prototype.unsubscribeOne=function(Nt){void 0===this.observers||void 0===this.observers[Nt]||(delete this.observers[Nt],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},vt.prototype.forEachObserver=function(Nt){if(!this.finalized)for(var Ft=0;Ft<this.observers.length;Ft++)this.sendOne(Ft,Nt)},vt.prototype.sendOne=function(Nt,Ft){var vn=this;this.task.then(function(){if(void 0!==vn.observers&&void 0!==vn.observers[Nt])try{Ft(vn.observers[Nt])}catch(X){"undefined"!=typeof console&&console.error&&console.error(X)}})},vt.prototype.close=function(Nt){var Ft=this;this.finalized||(this.finalized=!0,void 0!==Nt&&(this.finalError=Nt),this.task.then(function(){Ft.observers=void 0,Ft.onNoObservers=void 0}))},vt}();function li(vt,Nt){return function(){for(var Ft=[],vn=0;vn<arguments.length;vn++)Ft[vn]=arguments[vn];Promise.resolve(!0).then(function(){vt.apply(void 0,Ft)}).catch(function(X){Nt&&Nt(X)})}}function Yt(){}var q=function(vt,Nt,Ft,vn){var X;if(vn<Nt?X="at least "+Nt:vn>Ft&&(X=0===Ft?"none":"no more than "+Ft),X)throw new Error(vt+" failed: Was called with "+vn+(1===vn?" argument.":" arguments.")+" Expects "+X+".")};function de(vt,Nt){return vt+" failed: "+Nt+" argument "}function ye(vt,Nt,Ft){if((!Ft||Nt)&&"string"!=typeof Nt)throw new Error(de(vt,"namespace")+"must be a valid firebase namespace.")}function Ce(vt,Nt,Ft,vn){if((!vn||Ft)&&"function"!=typeof Ft)throw new Error(de(vt,Nt)+"must be a valid function.")}function pt(vt,Nt,Ft,vn){if((!vn||Ft)&&("object"!=typeof Ft||null===Ft))throw new Error(de(vt,Nt)+"must be a valid context object.")}var Rt=function(vt){for(var Nt=[],Ft=0,vn=0;vn<vt.length;vn++){var X=vt.charCodeAt(vn);if(X>=55296&&X<=56319){var ie=X-55296;vn++,e(vn<vt.length,"Surrogate pair missing trail surrogate."),X=65536+(ie<<10)+(vt.charCodeAt(vn)-56320)}X<128?Nt[Ft++]=X:X<2048?(Nt[Ft++]=X>>6|192,Nt[Ft++]=63&X|128):X<65536?(Nt[Ft++]=X>>12|224,Nt[Ft++]=X>>6&63|128,Nt[Ft++]=63&X|128):(Nt[Ft++]=X>>18|240,Nt[Ft++]=X>>12&63|128,Nt[Ft++]=X>>6&63|128,Nt[Ft++]=63&X|128)}return Nt},nn=function(vt){for(var Nt=0,Ft=0;Ft<vt.length;Ft++){var vn=vt.charCodeAt(Ft);vn<128?Nt++:vn<2048?Nt+=2:vn>=55296&&vn<=56319?(Nt+=4,Ft++):Nt+=3}return Nt},Yn=144e5,ei=.5;function hi(vt,Nt,Ft){void 0===Nt&&(Nt=1e3),void 0===Ft&&(Ft=2);var vn=Nt*Math.pow(Ft,vt),X=Math.round(ei*vn*(Math.random()-.5)*2);return Math.min(Yn,vn+X)}function Bi(vt){return Number.isFinite(vt)?vt+function vi(vt){var Nt=(vt=Math.abs(vt))%100;if(Nt>=10&&Nt<=20)return"th";var Ft=vt%10;return 1===Ft?"st":2===Ft?"nd":3===Ft?"rd":"th"}(vt):""+vt}function Ei(vt){return vt&&vt._delegate?vt._delegate:vt}},670:(Xn,Vt,A)=>{"use strict";A.d(Vt,{jK:()=>Pa,ju:()=>eo,tw:()=>Ho,zI:()=>ea,kN:()=>Xo,ii:()=>Fi,JJ:()=>nr,UE:()=>Vo,FJ:()=>cs});var d=function(D,$){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(we,et){we.__proto__=et}||function(we,et){for(var kt in et)Object.prototype.hasOwnProperty.call(et,kt)&&(we[kt]=et[kt])})(D,$)};function e(D){var $="function"==typeof Symbol&&Symbol.iterator,we=$&&D[$],et=0;if(we)return we.call(D);if(D&&"number"==typeof D.length)return{next:function(){return D&&et>=D.length&&(D=void 0),{value:D&&D[et++],done:!D}}};throw new TypeError($?"Object is not iterable.":"Symbol.iterator is not defined.")}var W,ee="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xe=xe||{},pe=ee||self;function ze(){}function Ve(D){var $=typeof D;return"array"==($="object"!=$?$:D?Array.isArray(D)?"array":$:"null")||"object"==$&&"number"==typeof D.length}function Q(D){var $=typeof D;return"object"==$&&null!=D||"function"==$}var je="closure_uid_"+(1e9*Math.random()>>>0),at=0;function ke(D,$,we){return D.call.apply(D.bind,arguments)}function Ke(D,$,we){if(!D)throw Error();if(2<arguments.length){var et=Array.prototype.slice.call(arguments,2);return function(){var kt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(kt,et),D.apply($,kt)}}return function(){return D.apply($,arguments)}}function dt(D,$,we){return(dt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ke:Ke).apply(null,arguments)}function it(D,$){var we=Array.prototype.slice.call(arguments,1);return function(){var et=we.slice();return et.push.apply(et,arguments),D.apply(this,et)}}function Dt(D,$){function we(){}we.prototype=$.prototype,D.Z=$.prototype,D.prototype=new we,D.prototype.constructor=D,D.Vb=function(et,kt,Cn){for(var ai=Array(arguments.length-2),Ri=2;Ri<arguments.length;Ri++)ai[Ri-2]=arguments[Ri];return $.prototype[kt].apply(et,ai)}}function Tt(){this.s=this.s,this.o=this.o}var gt={};Tt.prototype.s=!1,Tt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var D=function qe(D){return Object.prototype.hasOwnProperty.call(D,je)&&D[je]||(D[je]=++at)}(this);delete gt[D]}},Tt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Pe=Array.prototype.indexOf?function(D,$){return Array.prototype.indexOf.call(D,$,void 0)}:function(D,$){if("string"==typeof D)return"string"!=typeof $||1!=$.length?-1:D.indexOf($,0);for(var we=0;we<D.length;we++)if(we in D&&D[we]===$)return we;return-1},te=Array.prototype.forEach?function(D,$,we){Array.prototype.forEach.call(D,$,we)}:function(D,$,we){for(var et=D.length,kt="string"==typeof D?D.split(""):D,Cn=0;Cn<et;Cn++)Cn in kt&&$.call(we,kt[Cn],Cn,D)};function Mt(D){return Array.prototype.concat.apply([],arguments)}function bt(D){var $=D.length;if(0<$){for(var we=Array($),et=0;et<$;et++)we[et]=D[et];return we}return[]}function tt(D){return/^[\s\xa0]*$/.test(D)}var Xe,Ze=String.prototype.trim?function(D){return D.trim()}:function(D){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(D)[1]};function Ee(D,$){return-1!=D.indexOf($)}function Ye(D,$){return D<$?-1:D>$?1:0}e:{var st=pe.navigator;if(st){var sn=st.userAgent;if(sn){Xe=sn;break e}}Xe=""}function fn(D,$,we){for(var et in D)$.call(we,D[et],et,D)}function wn(D){var $={};for(var we in D)$[we]=D[we];return $}var mn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bn(D,$){for(var we,et,kt=1;kt<arguments.length;kt++){for(we in et=arguments[kt])D[we]=et[we];for(var Cn=0;Cn<mn.length;Cn++)we=mn[Cn],Object.prototype.hasOwnProperty.call(et,we)&&(D[we]=et[we])}}function zt(D){return zt[" "](D),D}zt[" "]=ze;var jn,D,Kt=Ee(Xe,"Opera"),Ht=Ee(Xe,"Trident")||Ee(Xe,"MSIE"),_n=Ee(Xe,"Edge"),an=_n||Ht,Vn=Ee(Xe,"Gecko")&&!(Ee(Xe.toLowerCase(),"webkit")&&!Ee(Xe,"Edge"))&&!(Ee(Xe,"Trident")||Ee(Xe,"MSIE"))&&!Ee(Xe,"Edge"),di=Ee(Xe.toLowerCase(),"webkit")&&!Ee(Xe,"Edge");function Pn(){var D=pe.document;return D?D.documentMode:void 0}e:{var wt="",cn=(D=Xe,Vn?/rv:([^\);]+)(\)|;)/.exec(D):_n?/Edge\/([\d\.]+)/.exec(D):Ht?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(D):di?/WebKit\/(\S+)/.exec(D):Kt?/(?:Version)[ \/]?(\S+)/.exec(D):void 0);if(cn&&(wt=cn?cn[1]:""),Ht){var Gn=Pn();if(null!=Gn&&Gn>parseFloat(wt)){jn=String(Gn);break e}}jn=wt}var $n={};var ni=pe.document&&Ht&&(Pn()||parseInt(jn,10))||void 0,Yt=function(){if(!pe.addEventListener||!Object.defineProperty)return!1;var D=!1,$=Object.defineProperty({},"passive",{get:function(){D=!0}});try{pe.addEventListener("test",ze,$),pe.removeEventListener("test",ze,$)}catch(we){}return D}();function q(D,$){this.type=D,this.g=this.target=$,this.defaultPrevented=!1}function de(D,$){if(q.call(this,D?D.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,D){var we=this.type=D.type,et=D.changedTouches&&D.changedTouches.length?D.changedTouches[0]:null;if(this.target=D.target||D.srcElement,this.g=$,$=D.relatedTarget){if(Vn){e:{try{zt($.nodeName);var kt=!0;break e}catch(Cn){}kt=!1}kt||($=null)}}else"mouseover"==we?$=D.fromElement:"mouseout"==we&&($=D.toElement);this.relatedTarget=$,et?(this.clientX=void 0!==et.clientX?et.clientX:et.pageX,this.clientY=void 0!==et.clientY?et.clientY:et.pageY,this.screenX=et.screenX||0,this.screenY=et.screenY||0):(this.clientX=void 0!==D.clientX?D.clientX:D.pageX,this.clientY=void 0!==D.clientY?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0),this.button=D.button,this.key=D.key||"",this.ctrlKey=D.ctrlKey,this.altKey=D.altKey,this.shiftKey=D.shiftKey,this.metaKey=D.metaKey,this.pointerId=D.pointerId||0,this.pointerType="string"==typeof D.pointerType?D.pointerType:ye[D.pointerType]||"",this.state=D.state,this.i=D,D.defaultPrevented&&de.Z.h.call(this)}}q.prototype.h=function(){this.defaultPrevented=!0},Dt(de,q);var ye={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.Z.h.call(this);var D=this.i;D.preventDefault?D.preventDefault():D.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),pt=0;function Rt(D,$,we,et,kt){this.listener=D,this.proxy=null,this.src=$,this.type=we,this.capture=!!et,this.ia=kt,this.key=++pt,this.ca=this.fa=!1}function nn(D){D.ca=!0,D.listener=null,D.proxy=null,D.src=null,D.ia=null}function On(D){this.src=D,this.g={},this.h=0}function Wn(D,$){var we=$.type;if(we in D.g){var Cn,et=D.g[we],kt=Pe(et,$);(Cn=0<=kt)&&Array.prototype.splice.call(et,kt,1),Cn&&(nn($),0==D.g[we].length&&(delete D.g[we],D.h--))}}function Yn(D,$,we,et){for(var kt=0;kt<D.length;++kt){var Cn=D[kt];if(!Cn.ca&&Cn.listener==$&&Cn.capture==!!we&&Cn.ia==et)return kt}return-1}On.prototype.add=function(D,$,we,et,kt){var Cn=D.toString();(D=this.g[Cn])||(D=this.g[Cn]=[],this.h++);var ai=Yn(D,$,et,kt);return-1<ai?($=D[ai],we||($.fa=!1)):(($=new Rt($,this.src,Cn,!!et,kt)).fa=we,D.push($)),$};var ei="closure_lm_"+(1e6*Math.random()|0),hi={};function Bi(D,$,we,et,kt){if(et&&et.once)return vt(D,$,we,et,kt);if(Array.isArray($)){for(var Cn=0;Cn<$.length;Cn++)Bi(D,$[Cn],we,et,kt);return null}return we=Se(we),D&&D[Ce]?D.N($,we,Q(et)?!!et.capture:!!et,kt):vi(D,$,we,!1,et,kt)}function vi(D,$,we,et,kt,Cn){if(!$)throw Error("Invalid event type");var ai=Q(kt)?!!kt.capture:!!kt,Ri=ie(D);if(Ri||(D[ei]=Ri=new On(D)),(we=Ri.add($,we,et,ai,Cn)).proxy)return we;if(et=function Ei(){var $=X;return function D(we){return $.call(D.src,D.listener,we)}}(),we.proxy=et,et.src=D,et.listener=we,D.addEventListener)Yt||(kt=ai),void 0===kt&&(kt=!1),D.addEventListener($.toString(),et,kt);else if(D.attachEvent)D.attachEvent(vn($.toString()),et);else{if(!D.addListener||!D.removeListener)throw Error("addEventListener and attachEvent are unavailable.");D.addListener(et)}return we}function vt(D,$,we,et,kt){if(Array.isArray($)){for(var Cn=0;Cn<$.length;Cn++)vt(D,$[Cn],we,et,kt);return null}return we=Se(we),D&&D[Ce]?D.O($,we,Q(et)?!!et.capture:!!et,kt):vi(D,$,we,!0,et,kt)}function Nt(D,$,we,et,kt){if(Array.isArray($))for(var Cn=0;Cn<$.length;Cn++)Nt(D,$[Cn],we,et,kt);else et=Q(et)?!!et.capture:!!et,we=Se(we),D&&D[Ce]?(D=D.i,($=String($).toString())in D.g&&-1<(we=Yn(Cn=D.g[$],we,et,kt))&&(nn(Cn[we]),Array.prototype.splice.call(Cn,we,1),0==Cn.length&&(delete D.g[$],D.h--))):D&&(D=ie(D))&&($=D.g[$.toString()],D=-1,$&&(D=Yn($,we,et,kt)),(we=-1<D?$[D]:null)&&Ft(we))}function Ft(D){if("number"!=typeof D&&D&&!D.ca){var $=D.src;if($&&$[Ce])Wn($.i,D);else{var we=D.type,et=D.proxy;$.removeEventListener?$.removeEventListener(we,et,D.capture):$.detachEvent?$.detachEvent(vn(we),et):$.addListener&&$.removeListener&&$.removeListener(et),(we=ie($))?(Wn(we,D),0==we.h&&(we.src=null,$[ei]=null)):nn(D)}}}function vn(D){return D in hi?hi[D]:hi[D]="on"+D}function X(D,$){if(D.ca)D=!0;else{$=new de($,this);var we=D.listener,et=D.ia||D.src;D.fa&&Ft(D),D=we.call(et,$)}return D}function ie(D){return(D=D[ei])instanceof On?D:null}var Z="__closure_events_fn_"+(1e9*Math.random()>>>0);function Se(D){return"function"==typeof D?D:(D[Z]||(D[Z]=function($){return D.handleEvent($)}),D[Z])}function Me(){Tt.call(this),this.i=new On(this),this.P=this,this.I=null}function ut(D,$){var we,et=D.I;if(et)for(we=[];et;et=et.I)we.push(et);if(D=D.P,et=$.type||$,"string"==typeof $)$=new q($,D);else if($ instanceof q)$.target=$.target||D;else{var kt=$;bn($=new q(et,D),kt)}if(kt=!0,we)for(var Cn=we.length-1;0<=Cn;Cn--){var ai=$.g=we[Cn];kt=Be(ai,et,!0,$)&&kt}if(kt=Be(ai=$.g=D,et,!0,$)&&kt,kt=Be(ai,et,!1,$)&&kt,we)for(Cn=0;Cn<we.length;Cn++)kt=Be(ai=$.g=we[Cn],et,!1,$)&&kt}function Be(D,$,we,et){if(!($=D.i.g[String($)]))return!0;$=$.concat();for(var kt=!0,Cn=0;Cn<$.length;++Cn){var ai=$[Cn];if(ai&&!ai.ca&&ai.capture==we){var Ri=ai.listener,Cr=ai.ia||ai.src;ai.fa&&Wn(D.i,ai),kt=!1!==Ri.call(Cr,et)&&kt}}return kt&&!et.defaultPrevented}Dt(Me,Tt),Me.prototype[Ce]=!0,Me.prototype.removeEventListener=function(D,$,we,et){Nt(this,D,$,we,et)},Me.prototype.M=function(){if(Me.Z.M.call(this),this.i){var $,D=this.i;for($ in D.g){for(var we=D.g[$],et=0;et<we.length;et++)nn(we[et]);delete D.g[$],D.h--}}this.I=null},Me.prototype.N=function(D,$,we,et){return this.i.add(String(D),$,!1,we,et)},Me.prototype.O=function(D,$,we,et){return this.i.add(String(D),$,!0,we,et)};var Ct=pe.JSON.stringify;function on(){var D=Et,$=null;return D.g&&($=D.g,D.g=D.g.next,D.g||(D.h=null),$.next=null),$}var Zt,Sn=function(){function D(){this.h=this.g=null}return D.prototype.add=function($,we){var et=bi.get();et.set($,we),this.h?this.h.next=et:this.g=et,this.h=et},D}(),bi=new(function(){function D($,we){this.i=$,this.j=we,this.h=0,this.g=null}return D.prototype.get=function(){var $;return 0<this.h?(this.h--,this.g=($=this.g).next,$.next=null):$=this.i(),$},D}())(function(){return new rn},function(D){return D.reset()}),rn=function(){function D(){this.next=this.g=this.h=null}return D.prototype.set=function($,we){this.h=$,this.g=we,this.next=null},D.prototype.reset=function(){this.next=this.g=this.h=null},D}();function Pt(D){pe.setTimeout(function(){throw D},0)}function yt(D,$){Zt||function Ln(){var D=pe.Promise.resolve(void 0);Zt=function(){D.then(ct)}}(),pn||(Zt(),pn=!0),Et.add(D,$)}var pn=!1,Et=new Sn;function ct(){for(var D;D=on();){try{D.h.call(D.g)}catch(we){Pt(we)}var $=bi;$.j(D),100>$.h&&($.h++,D.next=$.g,$.g=D)}pn=!1}function jt(D,$){Me.call(this),this.h=D||1,this.g=$||pe,this.j=dt(this.kb,this),this.l=Date.now()}function In(D){D.da=!1,D.S&&(D.g.clearTimeout(D.S),D.S=null)}function kn(D,$,we){if("function"==typeof D)we&&(D=dt(D,we));else{if(!D||"function"!=typeof D.handleEvent)throw Error("Invalid listener argument");D=dt(D.handleEvent,D)}return 2147483647<Number($)?-1:pe.setTimeout(D,$||0)}function si(D){D.g=kn(function(){D.g=null,D.i&&(D.i=!1,si(D))},D.j);var $=D.h;D.h=null,D.m.apply(null,$)}Dt(jt,Me),(W=jt.prototype).da=!1,W.S=null,W.kb=function(){if(this.da){var D=Date.now()-this.l;0<D&&D<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-D):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ut(this,"tick"),this.da&&(In(this),this.start()))}},W.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},W.M=function(){jt.Z.M.call(this),In(this),delete this.g};var Mi=function(D){function $(we,et){var kt=D.call(this)||this;return kt.m=we,kt.j=et,kt.h=null,kt.i=!1,kt.g=null,kt}return function _(D,$){if("function"!=typeof $&&null!==$)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");function we(){this.constructor=D}d(D,$),D.prototype=null===$?Object.create($):(we.prototype=$.prototype,new we)}($,D),$.prototype.l=function(we){this.h=arguments,this.g?this.i=!0:si(this)},$.prototype.M=function(){D.prototype.M.call(this),this.g&&(pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},$}(Tt);function ht(D){Tt.call(this),this.h=D,this.g={}}Dt(ht,Tt);var An=[];function Ie(D,$,we,et){Array.isArray(we)||(we&&(An[0]=we.toString()),we=An);for(var kt=0;kt<we.length;kt++){var Cn=Bi($,we[kt],et||D.handleEvent,!1,D.h||D);if(!Cn)break;D.g[Cn.key]=Cn}}function Ot(D){fn(D.g,function($,we){this.g.hasOwnProperty(we)&&Ft($)},D),D.g={}}function ae(){this.g=!0}function mt(D,$,we,et){D.info(function(){return"XMLHTTP TEXT ("+$+"): "+function Mn(D,$){if(!D.g)return $;if(!$)return null;try{var we=JSON.parse($);if(we)for(D=0;D<we.length;D++)if(Array.isArray(we[D])){var et=we[D];if(!(2>et.length)){var kt=et[1];if(Array.isArray(kt)&&!(1>kt.length)){var Cn=kt[0];if("noop"!=Cn&&"stop"!=Cn&&"close"!=Cn)for(var ai=1;ai<kt.length;ai++)kt[ai]=""}}}return Ct(we)}catch(Ri){return $}}(D,we)+(et?" "+et:"")})}ht.prototype.M=function(){ht.Z.M.call(this),Ot(this)},ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ae.prototype.Aa=function(){this.g=!1},ae.prototype.info=function(){};var Bn={},Ci=null;function ui(){return Ci=Ci||new Me}function Or(D){q.call(this,Bn.Ma,D)}function hr(D){var $=ui();ut($,new Or($,D))}function ur(D,$){q.call(this,Bn.STAT_EVENT,D),this.stat=$}function mi(D){var $=ui();ut($,new ur($,D))}function _i(D,$){q.call(this,Bn.Na,D),this.size=$}function ji(D,$){if("function"!=typeof D)throw Error("Fn must not be null and must be a function");return pe.setTimeout(function(){D()},$)}Bn.Ma="serverreachability",Dt(Or,q),Bn.STAT_EVENT="statevent",Dt(ur,q),Bn.Na="timingevent",Dt(_i,q);var Hi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},qi={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function fr(){}function $o(){}fr.prototype.h=null;var zr,sr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function vr(){q.call(this,"d")}function Ki(){q.call(this,"c")}function Fr(){}function Xi(D,$,we,et){this.l=D,this.j=$,this.m=we,this.X=et||1,this.V=new ht(this),this.P=ms,this.W=new jt(D=an?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new wo}function wo(){this.i=null,this.g="",this.h=!1}Dt(vr,q),Dt(Ki,q),Dt(Fr,fr),Fr.prototype.g=function(){return new XMLHttpRequest},Fr.prototype.i=function(){return{}},zr=new Fr;var ms=45e3,_s={},Jr={};function js(D,$,we){D.K=1,D.v=fi(ft($)),D.s=we,D.U=!0,Vr(D,null)}function Vr(D,$){D.F=Date.now(),vs(D),D.A=ft(D.v);var we=D.A,et=D.X;Array.isArray(et)||(et=[String(et)]),pr(we.h,"t",et),D.C=0,we=D.l.H,D.h=new wo,D.g=Ro(D.l,we?$:null,!D.s),0<D.O&&(D.L=new Mi(dt(D.Ia,D,D.g),D.O)),Ie(D.V,D.g,"readystatechange",D.gb),$=D.H?wn(D.H):{},D.s?(D.u||(D.u="POST"),$["Content-Type"]="application/x-www-form-urlencoded",D.g.ea(D.A,D.u,D.s,$)):(D.u="GET",D.g.ea(D.A,D.u,null,$)),hr(1),function Ge(D,$,we,et,kt,Cn){D.info(function(){if(D.g)if(Cn)for(var ai="",Ri=Cn.split("&"),Cr=0;Cr<Ri.length;Cr++){var Br=Ri[Cr].split("=");if(1<Br.length){var co=Br[0];Br=Br[1];var Mo=co.split("_");ai=2<=Mo.length&&"type"==Mo[1]?ai+(co+"=")+Br+"&":ai+(co+"=redacted&")}}else ai=null;else ai=Cn;return"XMLHTTP REQ ("+et+") [attempt "+kt+"]: "+$+"\n"+we+"\n"+ai})}(D.j,D.u,D.A,D.m,D.X,D.s)}function Ds(D){return!!D.g&&"GET"==D.u&&2!=D.K&&D.l.Ba}function Wo(D,$,we){for(var kt,et=!0;!D.I&&D.C<we.length;){if((kt=fo(D,we))==Jr){4==$&&(D.o=4,mi(14),et=!1),mt(D.j,D.m,null,"[Incomplete Response]");break}if(kt==_s){D.o=4,mi(15),mt(D.j,D.m,we,"[Invalid Chunk]"),et=!1;break}mt(D.j,D.m,kt,null),Io(D,kt)}Ds(D)&&kt!=Jr&&kt!=_s&&(D.h.g="",D.C=0),4!=$||0!=we.length||D.h.h||(D.o=1,mi(16),et=!1),D.i=D.i&&et,et?0<we.length&&!D.aa&&(D.aa=!0,($=D.l).g==D&&$.$&&!$.L&&($.h.info("Great, no buffering proxy detected. Bytes received: "+we.length),xi($),$.L=!0,mi(11))):(mt(D.j,D.m,we,"[Invalid Chunked Response]"),is(D),To(D))}function fo(D,$){var we=D.C,et=$.indexOf("\n",we);return-1==et?Jr:(we=Number($.substring(we,et)),isNaN(we)?_s:(et+=1)+we>$.length?Jr:($=$.substr(et,we),D.C=et+we,$))}function vs(D){D.Y=Date.now()+D.P,$s(D,D.P)}function $s(D,$){if(null!=D.B)throw Error("WatchDog timer not null");D.B=ji(dt(D.eb,D),$)}function er(D){D.B&&(pe.clearTimeout(D.B),D.B=null)}function To(D){0==D.l.G||D.I||Rr(D.l,D)}function is(D){er(D);var $=D.L;$&&"function"==typeof $.na&&$.na(),D.L=null,In(D.W),Ot(D.V),D.g&&($=D.g,D.g=null,$.abort(),$.na())}function Io(D,$){try{var we=D.l;if(0!=we.G&&(we.g==D||Si(we.i,D)))if(we.I=D.N,!D.J&&Si(we.i,D)&&3==we.G){try{var et=we.Ca.g.parse($)}catch(Da){et=null}if(Array.isArray(et)&&3==et.length){var kt=et;if(0==kt[0])e:if(we.u)we.ta=kt[1],0<we.ta-we.U&&37500>kt[2]&&we.N&&0==we.A&&!we.v&&(we.v=ji(dt(we.ab,we),6e3));else{if(we.g){if(!(we.g.F+3e3<D.F))break e;cr(we),me(we)}qn(we),mi(18)}if(1>=Zn(we.i)&&we.ka){try{we.ka()}catch(Da){}we.ka=void 0}}else Gi(we,11)}else if((D.J||we.g==D)&&cr(we),!tt($))for(kt=we.Ca.g.parse($),$=0;$<kt.length;$++){var Cn=kt[$];if(we.U=Cn[0],Cn=Cn[1],2==we.G)if("c"==Cn[0]){we.J=Cn[1],we.la=Cn[2];var ai=Cn[3];null!=ai&&(we.ma=ai,we.h.info("VER="+we.ma));var Ri=Cn[4];null!=Ri&&(we.za=Ri,we.h.info("SVER="+we.za));var Cr=Cn[5];null!=Cr&&"number"==typeof Cr&&0<Cr&&(we.K=et=1.5*Cr,we.h.info("backChannelRequestTimeoutMs_="+et)),et=we;var Br=D.g;if(Br){var co=Br.g?Br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(co){var Mo=et.i;!Mo.g&&(Ee(co,"spdy")||Ee(co,"quic")||Ee(co,"h2"))&&(Mo.j=Mo.l,Mo.g=new Set,Mo.h&&(Zr(Mo,Mo.h),Mo.h=null))}if(et.D){var xs=Br.g?Br.g.getResponseHeader("X-HTTP-Session-Id"):null;xs&&(et.sa=xs,pi(et.F,et.D,xs))}}we.G=3,we.j&&we.j.xa(),we.$&&(we.O=Date.now()-D.F,we.h.info("Handshake RTT: "+we.O+"ms"));var Zs=D;if((et=we).oa=io(et,et.H?et.la:null,et.W),Zs.J){Ir(et.i,Zs);var Rs=Zs,Ca=et.K;Ca&&Rs.setTimeout(Ca),Rs.B&&(er(Rs),vs(Rs)),et.g=Zs}else Dn(et);0<we.l.length&&oe(we)}else"stop"!=Cn[0]&&"close"!=Cn[0]||Gi(we,7);else 3==we.G&&("stop"==Cn[0]||"close"==Cn[0]?"stop"==Cn[0]?Gi(we,7):Po(we):"noop"!=Cn[0]&&we.j&&we.j.wa(Cn),we.A=0)}hr(4)}catch(Da){}}function dr(D,$){if(D.forEach&&"function"==typeof D.forEach)D.forEach($,void 0);else if(Ve(D)||"string"==typeof D)te(D,$,void 0);else{if(D.T&&"function"==typeof D.T)var we=D.T();else if(D.R&&"function"==typeof D.R)we=void 0;else if(Ve(D)||"string"==typeof D){we=[];for(var et=D.length,kt=0;kt<et;kt++)we.push(kt)}else for(kt in we=[],et=0,D)we[et++]=kt;et=function Uo(D){if(D.R&&"function"==typeof D.R)return D.R();if("string"==typeof D)return D.split("");if(Ve(D)){for(var $=[],we=D.length,et=0;et<we;et++)$.push(D[et]);return $}for(et in $=[],we=0,D)$[we++]=D[et];return $}(D),kt=et.length;for(var Cn=0;Cn<kt;Cn++)$.call(void 0,et[Cn],we&&we[Cn],D)}}function Dr(D,$){this.h={},this.g=[],this.i=0;var we=arguments.length;if(1<we){if(we%2)throw Error("Uneven number of arguments");for(var et=0;et<we;et+=2)this.set(arguments[et],arguments[et+1])}else if(D)if(D instanceof Dr)for(we=D.T(),et=0;et<we.length;et++)this.set(we[et],D.get(we[et]));else for(et in D)this.set(et,D[et])}function ki(D){if(D.i!=D.g.length){for(var $=0,we=0;$<D.g.length;){var et=D.g[$];ar(D.h,et)&&(D.g[we++]=et),$++}D.g.length=we}if(D.i!=D.g.length){var kt={};for(we=$=0;$<D.g.length;)ar(kt,et=D.g[$])||(D.g[we++]=et,kt[et]=1),$++;D.g.length=we}}function ar(D,$){return Object.prototype.hasOwnProperty.call(D,$)}(W=Xi.prototype).setTimeout=function(D){this.P=D},W.gb=function(D){D=D.target;var $=this.L;$&&3==Hr(D)?$.l():this.Ia(D)},W.Ia=function(D){try{if(D==this.g)e:{var $=Hr(this.g),we=this.g.Da(),et=this.g.ba();if(!(3>$)&&(3!=$||an||this.g&&(this.h.h||this.g.ga()||Ws(this.g)))){this.I||4!=$||7==we||hr(8==we||0>=et?3:2),er(this);var kt=this.g.ba();this.N=kt;t:if(Ds(this)){var Cn=Ws(this.g);D="";var ai=Cn.length,Ri=4==Hr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){is(this),To(this);var Cr="";break t}this.h.i=new pe.TextDecoder}for(we=0;we<ai;we++)this.h.h=!0,D+=this.h.i.decode(Cn[we],{stream:Ri&&we==ai-1});Cn.splice(0,ai),this.h.g+=D,this.C=0,Cr=this.h.g}else Cr=this.g.ga();if(this.i=200==kt,function Oe(D,$,we,et,kt,Cn,ai){D.info(function(){return"XMLHTTP RESP ("+et+") [ attempt "+kt+"]: "+$+"\n"+we+"\n"+Cn+" "+ai})}(this.j,this.u,this.A,this.m,this.X,$,kt),this.i){if(this.$&&!this.J){t:{if(this.g){var Br,co=this.g;if((Br=co.g?co.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tt(Br)){var Mo=Br;break t}}Mo=null}if(!(kt=Mo)){this.i=!1,this.o=3,mi(12),is(this),To(this);break e}mt(this.j,this.m,kt,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Io(this,kt)}this.U?(Wo(this,$,Cr),an&&this.i&&3==$&&(Ie(this.V,this.W,"tick",this.fb),this.W.start())):(mt(this.j,this.m,Cr,null),Io(this,Cr)),4==$&&is(this),this.i&&!this.I&&(4==$?Rr(this.l,this):(this.i=!1,vs(this)))}else 400==kt&&0<Cr.indexOf("Unknown SID")?(this.o=3,mi(12)):(this.o=0,mi(13)),is(this),To(this)}}}catch(xs){}},W.fb=function(){if(this.g){var D=Hr(this.g),$=this.g.ga();this.C<$.length&&(er(this),Wo(this,D,$),this.i&&4!=D&&vs(this))}},W.cancel=function(){this.I=!0,is(this)},W.eb=function(){this.B=null;var D=Date.now();0<=D-this.Y?(function Qt(D,$){D.info(function(){return"TIMEOUT: "+$})}(this.j,this.A),2!=this.K&&(hr(3),mi(17)),is(this),this.o=2,To(this)):$s(this,this.Y-D)},(W=Dr.prototype).R=function(){ki(this);for(var D=[],$=0;$<this.g.length;$++)D.push(this.h[this.g[$]]);return D},W.T=function(){return ki(this),this.g.concat()},W.get=function(D,$){return ar(this.h,D)?this.h[D]:$},W.set=function(D,$){ar(this.h,D)||(this.i++,this.g.push(D)),this.h[D]=$},W.forEach=function(D,$){for(var we=this.T(),et=0;et<we.length;et++){var kt=we[et],Cn=this.get(kt);D.call($,Cn,kt,this)}};var os=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function se(D,$){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,D instanceof se){this.g=void 0!==$?$:D.g,Ut(this,D.j),this.s=D.s,un(this,D.i),En(this,D.m),this.l=D.l,$=D.h;var we=new vo;we.i=$.i,$.g&&(we.g=new Dr($.g),we.h=$.h),ii(this,we),this.o=D.o}else D&&(we=String(D).match(os))?(this.g=!!$,Ut(this,we[1]||"",!0),this.s=yr(we[2]||""),un(this,we[3]||"",!0),En(this,we[4]),this.l=yr(we[5]||"",!0),ii(this,we[6]||"",!0),this.o=yr(we[7]||"")):(this.g=!!$,this.h=new vo(null,this.g))}function ft(D){return new se(D)}function Ut(D,$,we){D.j=we?yr($,!0):$,D.j&&(D.j=D.j.replace(/:$/,""))}function un(D,$,we){D.i=we?yr($,!0):$}function En(D,$){if($){if($=Number($),isNaN($)||0>$)throw Error("Bad port number "+$);D.m=$}else D.m=null}function ii(D,$,we){$ instanceof vo?(D.h=$,function Fe(D,$){$&&!D.j&&(ao(D),D.i=null,D.g.forEach(function(we,et){var kt=et.toLowerCase();et!=kt&&(Jo(this,et),pr(this,kt,we))},D)),D.j=$}(D.h,D.g)):(we||($=po($,Tr)),D.h=new vo($,D.g))}function pi(D,$,we){D.h.set($,we)}function fi(D){return pi(D,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),D}function yr(D,$){return D?$?decodeURI(D.replace(/%25/g,"%2525")):decodeURIComponent(D):""}function po(D,$,we){return"string"==typeof D?(D=encodeURI(D).replace($,Lr),we&&(D=D.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D):null}function Lr(D){return"%"+((D=D.charCodeAt(0))>>4&15).toString(16)+(15&D).toString(16)}se.prototype.toString=function(){var D=[],$=this.j;$&&D.push(po($,rr,!0),":");var we=this.i;return(we||"file"==$)&&(D.push("//"),($=this.s)&&D.push(po($,rr,!0),"@"),D.push(encodeURIComponent(String(we)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(we=this.m)&&D.push(":",String(we))),(we=this.l)&&(this.i&&"/"!=we.charAt(0)&&D.push("/"),D.push(po(we,"/"==we.charAt(0)?Er:_o,!0))),(we=this.h.toString())&&D.push("?",we),(we=this.o)&&D.push("#",po(we,no)),D.join("")};var rr=/[#\/\?@]/g,_o=/[#\?:]/g,Er=/[#\?]/g,Tr=/[#\?@]/g,no=/#/g;function vo(D,$){this.h=this.g=null,this.i=D||null,this.j=!!$}function ao(D){D.g||(D.g=new Dr,D.h=0,D.i&&function Te(D,$){if(D){D=D.split("&");for(var we=0;we<D.length;we++){var et=D[we].indexOf("="),kt=null;if(0<=et){var Cn=D[we].substring(0,et);kt=D[we].substring(et+1)}else Cn=D[we];$(Cn,kt?decodeURIComponent(kt.replace(/\+/g," ")):"")}}}(D.i,function($,we){D.add(decodeURIComponent($.replace(/\+/g," ")),we)}))}function Jo(D,$){ao(D),$=le(D,$),ar(D.g.h,$)&&(D.i=null,D.h-=D.g.get($).length,ar((D=D.g).h,$)&&(delete D.h[$],D.i--,D.g.length>2*D.i&&ki(D)))}function ls(D,$){return ao(D),$=le(D,$),ar(D.g.h,$)}function pr(D,$,we){Jo(D,$),0<we.length&&(D.i=null,D.g.set(le(D,$),bt(we)),D.h+=we.length)}function le(D,$){return $=String($),D.j&&($=$.toLowerCase()),$}(W=vo.prototype).add=function(D,$){ao(this),this.i=null,D=le(this,D);var we=this.g.get(D);return we||this.g.set(D,we=[]),we.push($),this.h+=1,this},W.forEach=function(D,$){ao(this),this.g.forEach(function(we,et){te(we,function(kt){D.call($,kt,et,this)},this)},this)},W.T=function(){ao(this);for(var D=this.g.R(),$=this.g.T(),we=[],et=0;et<$.length;et++)for(var kt=D[et],Cn=0;Cn<kt.length;Cn++)we.push($[et]);return we},W.R=function(D){ao(this);var $=[];if("string"==typeof D)ls(this,D)&&($=Mt($,this.g.get(le(this,D))));else{D=this.g.R();for(var we=0;we<D.length;we++)$=Mt($,D[we])}return $},W.set=function(D,$){return ao(this),this.i=null,ls(this,D=le(this,D))&&(this.h-=this.g.get(D).length),this.g.set(D,[$]),this.h+=1,this},W.get=function(D,$){return D&&0<(D=this.R(D)).length?String(D[0]):$},W.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var D=[],$=this.g.T(),we=0;we<$.length;we++){var et=$[we],kt=encodeURIComponent(String(et));et=this.R(et);for(var Cn=0;Cn<et.length;Cn++){var ai=kt;""!==et[Cn]&&(ai+="="+encodeURIComponent(String(et[Cn]))),D.push(ai)}}return this.i=D.join("&")};var fe=function D($,we){this.h=$,this.g=we};function ot(D){this.l=D||Jt,D=pe.PerformanceNavigationTiming?0<(D=pe.performance.getEntriesByType("navigation")).length&&("hq"==D[0].nextHopProtocol||"h2"==D[0].nextHopProtocol):!!(pe.g&&pe.g.Ea&&pe.g.Ea()&&pe.g.Ea().Zb),this.j=D?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Jt=10;function Tn(D){return!!D.h||!!D.g&&D.g.size>=D.j}function Zn(D){return D.h?1:D.g?D.g.size:0}function Si(D,$){return D.h?D.h==$:!!D.g&&D.g.has($)}function Zr(D,$){D.g?D.g.add($):D.h=$}function Ir(D,$){D.h&&D.h==$?D.h=null:D.g&&D.g.has($)&&D.g.delete($)}function br(D){var $,we;if(null!=D.h)return D.i.concat(D.h.D);if(null!=D.g&&0!==D.g.size){var et=D.i;try{for(var kt=e(D.g.values()),Cn=kt.next();!Cn.done;Cn=kt.next())et=et.concat(Cn.value.D)}catch(Ri){$={error:Ri}}finally{try{Cn&&!Cn.done&&(we=kt.return)&&we.call(kt)}finally{if($)throw $.error}}return et}return bt(D.i)}function gr(){}function kr(){this.g=new gr}function lo(D,$,we){var et=we||"";try{dr(D,function(kt,Cn){var ai=kt;Q(kt)&&(ai=Ct(kt)),$.push(et+Cn+"="+encodeURIComponent(ai))})}catch(kt){throw $.push(et+"type="+encodeURIComponent("_badmap")),kt}}function ve(D,$,we,et,kt){try{$.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null,kt(et)}catch(Cn){}}function re(D){this.l=D.$b||null,this.j=D.ib||!1}function Y(D,$){Me.call(this),this.D=D,this.u=$,this.m=void 0,this.readyState=We,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ot.prototype.cancel=function(){var D,$;if(this.i=br(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var we=e(this.g.values()),et=we.next();!et.done;et=we.next())et.value.cancel()}catch(Cn){D={error:Cn}}finally{try{et&&!et.done&&($=we.return)&&$.call(we)}finally{if(D)throw D.error}}this.g.clear()}},gr.prototype.stringify=function(D){return pe.JSON.stringify(D,void 0)},gr.prototype.parse=function(D){return pe.JSON.parse(D,void 0)},Dt(re,fr),re.prototype.g=function(){return new Y(this.l,this.j)},re.prototype.i=function(D){return function(){return D}}({}),Dt(Y,Me);var We=0;function Un(D){D.j.read().then(D.Sa.bind(D)).catch(D.ha.bind(D))}function Ti(D){D.readyState=4,D.l=null,D.j=null,D.A=null,Yr(D)}function Yr(D){D.onreadystatechange&&D.onreadystatechange.call(D)}(W=Y.prototype).open=function(D,$){if(this.readyState!=We)throw this.abort(),Error("Error reopening a connection");this.C=D,this.B=$,this.readyState=1,Yr(this)},W.send=function(D){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var $={headers:this.v,method:this.C,credentials:this.m,cache:void 0};D&&($.body=D),(this.D||pe).fetch(new Request(this.B,$)).then(this.Va.bind(this),this.ha.bind(this))},W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ti(this)),this.readyState=We},W.Va=function(D){if(this.g&&(this.l=D,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=D.headers,this.readyState=2,Yr(this)),this.g&&(this.readyState=3,Yr(this),this.g)))if("arraybuffer"===this.responseType)D.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==pe.ReadableStream&&"body"in D){if(this.j=D.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Un(this)}else D.text().then(this.Ua.bind(this),this.ha.bind(this))},W.Sa=function(D){if(this.g){if(this.u&&D.value)this.response.push(D.value);else if(!this.u){var $=D.value?D.value:new Uint8Array(0);($=this.A.decode($,{stream:!D.done}))&&(this.response=this.responseText+=$)}D.done?Ti(this):Yr(this),3==this.readyState&&Un(this)}},W.Ua=function(D){this.g&&(this.response=this.responseText=D,Ti(this))},W.Ta=function(D){this.g&&(this.response=D,Ti(this))},W.ha=function(){this.g&&Ti(this)},W.setRequestHeader=function(D,$){this.v.append(D,$)},W.getResponseHeader=function(D){return this.h&&this.h.get(D.toLowerCase())||""},W.getAllResponseHeaders=function(){if(!this.h)return"";for(var D=[],$=this.h.entries(),we=$.next();!we.done;)D.push((we=we.value)[0]+": "+we[1]),we=$.next();return D.join("\r\n")},Object.defineProperty(Y.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(D){this.m=D?"include":"same-origin"}});var go=pe.JSON.parse;function qr(D){Me.call(this),this.headers=new Dr,this.u=D||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ur,this.K=this.L=!1}Dt(qr,Me);var Ur="",zn=/^https?$/i,Kr=["POST","PUT"];function Qi(D){return"content-type"==D.toLowerCase()}function Ts(D,$){D.h=!1,D.g&&(D.l=!0,D.g.abort(),D.l=!1),D.j=$,D.m=5,Nr(D),Bo(D)}function Nr(D){D.D||(D.D=!0,ut(D,"complete"),ut(D,"error"))}function $r(D){if(D.h&&void 0!==xe&&(!D.C[1]||4!=Hr(D)||2!=D.ba()))if(D.v&&4==Hr(D))kn(D.Fa,0,D);else if(ut(D,"readystatechange"),4==Hr(D)){D.h=!1;try{var et,$=D.ba();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var we=!0;break e;default:we=!1}if(!(et=we)){var kt;if(kt=0===$){var Cn=String(D.H).match(os)[1]||null;if(!Cn&&pe.self&&pe.self.location){var ai=pe.self.location.protocol;Cn=ai.substr(0,ai.length-1)}kt=!zn.test(Cn?Cn.toLowerCase():"")}et=kt}if(et)ut(D,"complete"),ut(D,"success");else{D.m=6;try{var Ri=2<Hr(D)?D.g.statusText:""}catch(Cr){Ri=""}D.j=Ri+" ["+D.ba()+"]",Nr(D)}}finally{Bo(D)}}}function Bo(D,$){if(D.g){As(D);var we=D.g,et=D.C[0]?ze:null;D.g=null,D.C=null,$||ut(D,"ready");try{we.onreadystatechange=et}catch(kt){}}}function As(D){D.g&&D.K&&(D.g.ontimeout=null),D.A&&(pe.clearTimeout(D.A),D.A=null)}function Hr(D){return D.g?D.g.readyState:0}function Ws(D){try{if(!D.g)return null;if("response"in D.g)return D.g.response;switch(D.J){case Ur:case"text":return D.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in D.g)return D.g.mozResponseArrayBuffer}return null}catch($){return null}}function Is(D,$,we){e:{for(et in we){var et=!1;break e}et=!0}et||(we=function hs(D){var $="";return fn(D,function(we,et){$+=et,$+=":",$+=we,$+="\r\n"}),$}(we),"string"==typeof D?null!=we&&encodeURIComponent(String(we)):pi(D,$,we))}function mr(D,$,we){return we&&we.internalChannelParams&&we.internalChannelParams[D]||$}function qo(D){this.za=0,this.l=[],this.h=new ae,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=mr("failFast",!1,D),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=mr("baseRetryDelayMs",5e3,D),this.$a=mr("retryDelaySeedMs",1e4,D),this.Ya=mr("forwardChannelMaxRetries",2,D),this.ra=mr("forwardChannelRequestTimeoutMs",2e4,D),this.qa=D&&D.xmlHttpFactory||void 0,this.Ba=D&&D.Yb||!1,this.K=void 0,this.H=D&&D.supportsCrossDomainXhr||!1,this.J="",this.i=new ot(D&&D.concurrentRequestLimit),this.Ca=new kr,this.ja=D&&D.fastHandshake||!1,this.Ra=D&&D.Wb||!1,D&&D.Aa&&this.h.Aa(),D&&D.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&D&&D.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!D||!1!==D.Xb}function Po(D){if(N(D),3==D.G){var $=D.V++,we=ft(D.F);pi(we,"SID",D.J),pi(we,"RID",$),pi(we,"TYPE","terminate"),Gt(D,we),($=new Xi(D,D.h,$,void 0)).K=2,$.v=fi(ft(we)),we=!1,pe.navigator&&pe.navigator.sendBeacon&&(we=pe.navigator.sendBeacon($.v.toString(),"")),!we&&pe.Image&&((new Image).src=$.v,we=!0),we||($.g=Ro($.l,null),$.g.ea($.v)),$.F=Date.now(),vs($)}Xr(D)}function me(D){D.g&&(xi(D),D.g.cancel(),D.g=null)}function N(D){me(D),D.u&&(pe.clearTimeout(D.u),D.u=null),cr(D),D.i.cancel(),D.m&&("number"==typeof D.m&&pe.clearTimeout(D.m),D.m=null)}function L(D,$){D.l.push(new fe(D.Za++,$)),3==D.G&&oe(D)}function oe(D){Tn(D.i)||D.m||(D.m=!0,yt(D.Ha,D),D.C=0)}function _t(D,$){var we;we=$?$.m:D.V++;var et=ft(D.F);pi(et,"SID",D.J),pi(et,"RID",we),pi(et,"AID",D.U),Gt(D,et),D.o&&D.s&&Is(et,D.o,D.s),we=new Xi(D,D.h,we,D.C+1),null===D.o&&(we.H=D.s),$&&(D.l=$.D.concat(D.l)),$=Lt(D,we,1e3),we.setTimeout(Math.round(.5*D.ra)+Math.round(.5*D.ra*Math.random())),Zr(D.i,we),js(we,et,$)}function Gt(D,$){D.j&&dr({},function(we,et){pi($,et,we)})}function Lt(D,$,we){we=Math.min(D.l.length,we);var et=D.j?dt(D.j.Oa,D.j,D):null;e:for(var kt=D.l,Cn=-1;;){var ai=["count="+we];-1==Cn?0<we?ai.push("ofs="+(Cn=kt[0].h)):Cn=0:ai.push("ofs="+Cn);for(var Ri=!0,Cr=0;Cr<we;Cr++){var Br=kt[Cr].h,co=kt[Cr].g;if(0>(Br-=Cn))Cn=Math.max(0,kt[Cr].h-100),Ri=!1;else try{lo(co,ai,"req"+Br+"_")}catch(Mo){et&&et(co)}}if(Ri){et=ai.join("&");break e}}return D=D.l.splice(0,we),$.D=D,et}function Dn(D){D.g||D.u||(D.Y=1,yt(D.Ga,D),D.A=0)}function qn(D){return!(D.g||D.u||3<=D.A||(D.Y++,D.u=ji(dt(D.Ga,D),Yi(D,D.A)),D.A++,0))}function xi(D){null!=D.B&&(pe.clearTimeout(D.B),D.B=null)}function Ai(D){D.g=new Xi(D,D.h,"rpc",D.Y),null===D.o&&(D.g.H=D.s),D.g.O=0;var $=ft(D.oa);pi($,"RID","rpc"),pi($,"SID",D.J),pi($,"CI",D.N?"0":"1"),pi($,"AID",D.U),Gt(D,$),pi($,"TYPE","xmlhttp"),D.o&&D.s&&Is($,D.o,D.s),D.K&&D.g.setTimeout(D.K);var we=D.g;D=D.la,we.K=1,we.v=fi(ft($)),we.s=null,we.U=!0,Vr(we,D)}function cr(D){null!=D.v&&(pe.clearTimeout(D.v),D.v=null)}function Rr(D,$){var we=null;if(D.g==$){cr(D),xi(D),D.g=null;var et=2}else{if(!Si(D.i,$))return;we=$.D,Ir(D.i,$),et=1}if(D.I=$.N,0!=D.G)if($.i)if(1==et){we=$.s?$.s.length:0,$=Date.now()-$.F;var kt=D.C;ut(et=ui(),new _i(et,we,$,kt)),oe(D)}else Dn(D);else if(3==(kt=$.o)||0==kt&&0<D.I||!(1==et&&function He(D,$){return!(Zn(D.i)>=D.i.j-(D.m?1:0)||(D.m?(D.l=$.D.concat(D.l),0):1==D.G||2==D.G||D.C>=(D.Xa?0:D.Ya)||(D.m=ji(dt(D.Ha,D,$),Yi(D,D.C)),D.C++,0)))}(D,$)||2==et&&qn(D)))switch(we&&0<we.length&&($=D.i,$.i=$.i.concat(we)),kt){case 1:Gi(D,5);break;case 4:Gi(D,10);break;case 3:Gi(D,6);break;default:Gi(D,2)}}function Yi(D,$){var we=D.Pa+Math.floor(Math.random()*D.$a);return D.j||(we*=2),we*$}function Gi(D,$){if(D.h.info("Error code "+$),2==$){var we=null;D.j&&(we=null);var et=dt(D.jb,D);we||(we=new se("//www.google.com/images/cleardot.gif"),pe.location&&"http"==pe.location.protocol||Ut(we,"https"),fi(we)),function No(D,$){var we=new ae;if(pe.Image){var et=new Image;et.onload=it(ve,we,et,"TestLoadImage: loaded",!0,$),et.onerror=it(ve,we,et,"TestLoadImage: error",!1,$),et.onabort=it(ve,we,et,"TestLoadImage: abort",!1,$),et.ontimeout=it(ve,we,et,"TestLoadImage: timeout",!1,$),pe.setTimeout(function(){et.ontimeout&&et.ontimeout()},1e4),et.src=D}else $(!1)}(we.toString(),et)}else mi(2);D.G=0,D.j&&D.j.va($),Xr(D),N(D)}function Xr(D){D.G=0,D.I=-1,D.j&&((0!=br(D.i).length||0!=D.l.length)&&(D.i.i.length=0,bt(D.l),D.l.length=0),D.j.ua())}function io(D,$,we){var et=function Pi(D){return D instanceof se?ft(D):new se(D,void 0)}(we);if(""!=et.i)$&&un(et,$+"."+et.i),En(et,et.m);else{var kt=pe.location;et=function or(D,$,we,et){var kt=new se(null,void 0);return D&&Ut(kt,D),$&&un(kt,$),we&&En(kt,we),et&&(kt.l=et),kt}(kt.protocol,$?$+"."+kt.hostname:kt.hostname,+kt.port,we)}return D.aa&&fn(D.aa,function(Cn,ai){pi(et,ai,Cn)}),we=D.sa,($=D.D)&&we&&pi(et,$,we),pi(et,"VER",D.ma),Gt(D,et),et}function Ro(D,$,we){if($&&!D.H)throw Error("Can't create secondary domain capable XhrIo object.");return($=new qr(we&&D.Ba&&!D.qa?new re({ib:!0}):D.qa)).L=D.H,$}function ss(){}function wr(){if(Ht&&!(10<=Number(ni)))throw Error("Environmental error: no available transport.")}function Pr(D,$){Me.call(this),this.g=new qo($),this.l=D,this.h=$&&$.messageUrlParams||null,D=$&&$.messageHeaders||null,$&&$.clientProtocolHeaderRequired&&(D?D["X-Client-Protocol"]="webchannel":D={"X-Client-Protocol":"webchannel"}),this.g.s=D,D=$&&$.initMessageHeaders||null,$&&$.messageContentType&&(D?D["X-WebChannel-Content-Type"]=$.messageContentType:D={"X-WebChannel-Content-Type":$.messageContentType}),$&&$.ya&&(D?D["X-WebChannel-Client-Profile"]=$.ya:D={"X-WebChannel-Client-Profile":$.ya}),this.g.P=D,(D=$&&$.httpHeadersOverwriteParam)&&!tt(D)&&(this.g.o=D),this.A=$&&$.supportsCrossDomainXhr||!1,this.v=$&&$.sendRawJson||!1,($=$&&$.httpSessionIdParam)&&!tt($)&&(this.g.D=$,null!==(D=this.h)&&$ in D&&$ in(D=this.h)&&delete D[$]),this.j=new ro(this)}function Sr(D){vr.call(this);var $=D.__sm__;if($){e:{for(var we in $){D=we;break e}D=void 0}(this.i=D)&&(D=this.i,$=null!==$&&D in $?$[D]:void 0),this.data=$}else this.data=D}function xo(){Ki.call(this),this.status=1}function ro(D){this.g=D}(W=qr.prototype).ea=function(D,$,we,et){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+D);$=$?$.toUpperCase():"GET",this.H=D,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():zr.g(),this.C=function Yo(D){return D.h||(D.h=D.i())}(this.u?this.u:zr),this.g.onreadystatechange=dt(this.Fa,this);try{this.F=!0,this.g.open($,String(D),!0),this.F=!1}catch(Cn){return void Ts(this,Cn)}D=we||"";var kt=new Dr(this.headers);et&&dr(et,function(Cn,ai){kt.set(ai,Cn)}),et=function Qe(D){e:{for(var $=Qi,we=D.length,et="string"==typeof D?D.split(""):D,kt=0;kt<we;kt++)if(kt in et&&$.call(void 0,et[kt],kt,D)){$=kt;break e}$=-1}return 0>$?null:"string"==typeof D?D.charAt($):D[$]}(kt.T()),we=pe.FormData&&D instanceof pe.FormData,!(0<=Pe(Kr,$))||et||we||kt.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),kt.forEach(function(Cn,ai){this.g.setRequestHeader(ai,Cn)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{As(this),0<this.B&&((this.K=function Ha(D){return Ht&&function Vi(){return function qt(D){var $=$n;return Object.prototype.hasOwnProperty.call($,9)?$[9]:$[9]=D(9)}(function(){for(var D=0,$=Ze(String(jn)).split("."),we=Ze("9").split("."),et=Math.max($.length,we.length),kt=0;0==D&&kt<et;kt++){var Cn=$[kt]||"",ai=we[kt]||"";do{if(Cn=/(\d*)(\D*)(.*)/.exec(Cn)||["","","",""],ai=/(\d*)(\D*)(.*)/.exec(ai)||["","","",""],0==Cn[0].length&&0==ai[0].length)break;D=Ye(0==Cn[1].length?0:parseInt(Cn[1],10),0==ai[1].length?0:parseInt(ai[1],10))||Ye(0==Cn[2].length,0==ai[2].length)||Ye(Cn[2],ai[2]),Cn=Cn[3],ai=ai[3]}while(0==D)}return 0<=D})}()&&"number"==typeof D.timeout&&void 0!==D.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dt(this.pa,this)):this.A=kn(this.pa,this.B,this)),this.v=!0,this.g.send(D),this.v=!1}catch(Cn){Ts(this,Cn)}},W.pa=function(){void 0!==xe&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ut(this,"timeout"),this.abort(8))},W.abort=function(D){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=D||7,ut(this,"complete"),ut(this,"abort"),Bo(this))},W.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bo(this,!0)),qr.Z.M.call(this)},W.Fa=function(){this.s||(this.F||this.v||this.l?$r(this):this.cb())},W.cb=function(){$r(this)},W.ba=function(){try{return 2<Hr(this)?this.g.status:-1}catch(D){return-1}},W.ga=function(){try{return this.g?this.g.responseText:""}catch(D){return""}},W.Qa=function(D){if(this.g){var $=this.g.responseText;return D&&0==$.indexOf(D)&&($=$.substring(D.length)),go($)}},W.Da=function(){return this.m},W.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(W=qo.prototype).ma=8,W.G=1,W.hb=function(D){try{this.h.info("Origin Trials invoked: "+D)}catch($){}},W.Ha=function(D){if(this.m)if(this.m=null,1==this.G){if(!D){this.V=Math.floor(1e5*Math.random()),D=this.V++;var $=new Xi(this,this.h,D,void 0),we=this.s;if(this.P&&(we?bn(we=wn(we),this.P):we=this.P),null===this.o&&($.H=we),this.ja)e:{for(var et=0,kt=0;kt<this.l.length;kt++){var Cn=this.l[kt];if(void 0===(Cn="__data__"in Cn.g&&"string"==typeof(Cn=Cn.g.__data__)?Cn.length:void 0))break;if(4096<(et+=Cn)){et=kt;break e}if(4096===et||kt===this.l.length-1){et=kt+1;break e}}et=1e3}else et=1e3;et=Lt(this,$,et),pi(kt=ft(this.F),"RID",D),pi(kt,"CVER",22),this.D&&pi(kt,"X-HTTP-Session-Id",this.D),Gt(this,kt),this.o&&we&&Is(kt,this.o,we),Zr(this.i,$),this.Ra&&pi(kt,"TYPE","init"),this.ja?(pi(kt,"$req",et),pi(kt,"SID","null"),$.$=!0,js($,kt,null)):js($,kt,et),this.G=2}}else 3==this.G&&(D?_t(this,D):0==this.l.length||Tn(this.i)||_t(this))},W.Ga=function(){if(this.u=null,Ai(this),this.$&&!(this.L||null==this.g||0>=this.O)){var D=2*this.O;this.h.info("BP detection timer enabled: "+D),this.B=ji(dt(this.bb,this),D)}},W.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,mi(10),me(this),Ai(this))},W.ab=function(){null!=this.v&&(this.v=null,me(this),qn(this),mi(19))},W.jb=function(D){D?(this.h.info("Successfully pinged google.com"),mi(2)):(this.h.info("Failed to ping google.com"),mi(1))},(W=ss.prototype).xa=function(){},W.wa=function(){},W.va=function(){},W.ua=function(){},W.Oa=function(){},wr.prototype.g=function(D,$){return new Pr(D,$)},Dt(Pr,Me),Pr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var D=this.g,$=this.l,we=this.h||void 0;D.Wa&&(D.h.info("Origin Trials enabled."),yt(dt(D.hb,D,$))),mi(0),D.W=$,D.aa=we||{},D.N=D.X,D.F=io(D,null,D.W),oe(D)},Pr.prototype.close=function(){Po(this.g)},Pr.prototype.u=function(D){if("string"==typeof D){var $={};$.__data__=D,L(this.g,$)}else this.v?(($={}).__data__=Ct(D),L(this.g,$)):L(this.g,D)},Pr.prototype.M=function(){this.g.j=null,delete this.j,Po(this.g),delete this.g,Pr.Z.M.call(this)},Dt(Sr,vr),Dt(xo,Ki),Dt(ro,ss),ro.prototype.xa=function(){ut(this.g,"a")},ro.prototype.wa=function(D){ut(this.g,new Sr(D))},ro.prototype.va=function(D){ut(this.g,new xo(D))},ro.prototype.ua=function(){ut(this.g,"b")},wr.prototype.createWebChannel=wr.prototype.g,Pr.prototype.send=Pr.prototype.u,Pr.prototype.open=Pr.prototype.m,Pr.prototype.close=Pr.prototype.close,Hi.NO_ERROR=0,Hi.TIMEOUT=8,Hi.HTTP_ERROR=6,qi.COMPLETE="complete",$o.EventType=sr,sr.OPEN="a",sr.CLOSE="b",sr.ERROR="c",sr.MESSAGE="d",Me.prototype.listen=Me.prototype.N,qr.prototype.listenOnce=qr.prototype.O,qr.prototype.getLastError=qr.prototype.La,qr.prototype.getLastErrorCode=qr.prototype.Da,qr.prototype.getStatus=qr.prototype.ba,qr.prototype.getResponseJson=qr.prototype.Qa,qr.prototype.getResponseText=qr.prototype.ga,qr.prototype.send=qr.prototype.ea;var Vo=function(){return new wr},cs=function(){return ui()},Pa=Hi,Ho=qi,eo=Bn,Xo={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ea=re,Fi=$o,nr=qr},2226:(Xn,Vt,A)=>{"use strict";A.r(Vt),A.d(Vt,{DepartmentsModule:()=>au});var d=A(9808),_=A(1402),e=A(5e3),ee=A(9182),W=A(4594),xe=A(7423),pe=A(8099),ze=A(2638),Ve=A(4834);function Q(S,k){if(1&S){const O=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){return e.CHM(O),e.oxw().toggleSideNan()}),e.TgZ(1,"mat-icon"),e._uU(2,"chevron_left"),e.qZA(),e.TgZ(3,"span")(4,"b"),e._uU(5,"Hide Toolbar"),e.qZA()()()}}function qe(S,k){if(1&S){const O=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){return e.CHM(O),e.oxw().toggleSideNan()}),e.TgZ(1,"mat-icon"),e._uU(2,"navigate_next"),e.qZA(),e.TgZ(3,"span")(4,"b"),e._uU(5,"Show Toolbar"),e.qZA()()()}}function je(S,k){1&S&&(e.TgZ(0,"nav",17)(1,"div",18),e._UZ(2,"img",19),e.TgZ(3,"button",20)(4,"button",21)(5,"mat-icon",22),e._uU(6,"menu"),e.qZA()()(),e.TgZ(7,"div",23)(8,"ul",24)(9,"li",25)(10,"a",12),e._uU(11,"Home"),e.qZA()()(),e.TgZ(12,"div",26)(13,"ul",24)(14,"li",27)(15,"a",13),e._uU(16,"Department List"),e.qZA()(),e.TgZ(17,"li",27)(18,"a",12),e._uU(19,"Add Department"),e.qZA()(),e.TgZ(20,"li",27)(21,"a",12),e._uU(22,"Set Courses"),e.qZA()(),e.TgZ(23,"li",27)(24,"a",12),e._uU(25,"Set Units"),e.qZA()(),e.TgZ(26,"li",27)(27,"a",12),e._uU(28,"Course Lists"),e.qZA()()()()()()()),2&S&&(e.xp6(10),e.Q6J("routerLink","../mttimis_dashboard"),e.xp6(5),e.Q6J("routerLink","../mtti_mis_departments"),e.xp6(3),e.Q6J("routerLink","../mtti_mis_departments/add_new_department"),e.xp6(3),e.Q6J("routerLink","../mtti_mis_departments/courses_in_department"),e.xp6(3),e.Q6J("routerLink","../mtti_mis_departments/set_unit_for_courses"),e.xp6(3),e.Q6J("routerLink","../mtti_mis_departments/list_of_courses"))}let at=(()=>{class S{constructor(){this.showTolBar=!1,this.openClose=!0}ngOnInit(){}toggleSideNan(){this.showTolBar=!this.showTolBar,this.openClose=!this.openClose}}return S.\u0275fac=function(O){return new(O||S)},S.\u0275cmp=e.Xpm({type:S,selectors:[["app-dept-layout"]],decls:63,vars:10,consts:[[1,"navbar","sticky-top"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"spacer"],[2,"margin-right","30px","color","white","font-family","Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif","font-weight","500","text-shadow","2px 3px #7D3C98"],[2,"cursor","pointer","font-size","20px"],[2,"cursor","pointer","font-size","small"],[2,"cursor","pointer","font-size","25px"],["mode","side",1,"mat-elevation-z8",3,"opened"],["src","../../../assets/logo_michuki.png",1,"avatar","mat-elevation-z8"],[1,"name"],[1,"designation"],["mat-button","",1,"menu-button"],["routerLinkActive","active","mat-nav-list-item","",1,"ln",3,"routerLink"],["routerLinkActive","active2","mat-nav-list-item","",1,"ln2",3,"routerLink"],[1,"content","mat-elevation-z8"],["class","navbar navbar-expand-lg navbar-light","style","background: #002b5c;",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"navbar","navbar-expand-lg","navbar-light",2,"background","#002b5c"],[1,"container-fluid"],["src","../../../assets/logo_michuki.png",1,"avatar2","mat-elevation-z8"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarTogglerDemo02","aria-controls","navbarTogglerDemo02","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],["mat-icon-button",""],[2,"color","white"],["id","navbarTogglerDemo02",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],[1,"d-flex"],[1,"nav-item",2,"margin","5px"]],template:function(O,z){1&O&&(e.TgZ(0,"nav",0)(1,"mat-toolbar")(2,"mat-toolbar-row"),e.YNc(3,Q,6,0,"button",1),e.YNc(4,qe,6,0,"button",1),e._UZ(5,"span",2),e.TgZ(6,"span",3),e._uU(7,"Michuki_tti_mate"),e.qZA(),e.TgZ(8,"mat-icon",4),e._uU(9,"person"),e.qZA(),e.TgZ(10,"span",5),e._uU(11," David Wangila"),e.qZA(),e.TgZ(12,"mat-icon",6),e._uU(13,"keyboard_arrow_down"),e.qZA()()()(),e.TgZ(14,"mat-sidenav-container")(15,"mat-sidenav",7),e._UZ(16,"img",8),e.TgZ(17,"h4",9),e._uU(18,"Departments | Michuki TTI"),e.qZA(),e.TgZ(19,"p",10)(20,"i"),e._uU(21,"michuki_tti_mate"),e.qZA()(),e._UZ(22,"mat-divider"),e.TgZ(23,"button",11)(24,"mat-icon"),e._uU(25,"home"),e.qZA(),e.TgZ(26,"a",12),e._uU(27,"Home"),e.qZA()(),e.TgZ(28,"button",11)(29,"mat-icon"),e._uU(30,"view_list"),e.qZA(),e.TgZ(31,"a",13),e._uU(32,"Department List"),e.qZA()(),e.TgZ(33,"button",11)(34,"mat-icon"),e._uU(35,"class"),e.qZA(),e.TgZ(36,"a",12),e._uU(37,"Add Department"),e.qZA()(),e.TgZ(38,"button",11)(39,"mat-icon"),e._uU(40,"library_books"),e.qZA(),e.TgZ(41,"a",12),e._uU(42,"Set Courses"),e.qZA()(),e.TgZ(43,"button",11)(44,"mat-icon"),e._uU(45,"description"),e.qZA(),e.TgZ(46,"a",12),e._uU(47,"Set Units"),e.qZA()(),e.TgZ(48,"button",11)(49,"mat-icon"),e._uU(50,"view_list"),e.qZA(),e.TgZ(51,"a",12),e._uU(52,"Course Lists"),e.qZA()(),e._UZ(53,"mat-divider"),e.TgZ(54,"button",11)(55,"mat-icon"),e._uU(56,"logout"),e.qZA(),e.TgZ(57,"span"),e._uU(58,"Log Out"),e.qZA()()(),e.TgZ(59,"mat-sidenav-content")(60,"div",14),e.YNc(61,je,29,6,"nav",15),e._UZ(62,"router-outlet"),e.qZA()()()),2&O&&(e.xp6(3),e.Q6J("ngIf",0==z.showTolBar),e.xp6(1),e.Q6J("ngIf",0!=z.showTolBar),e.xp6(11),e.Q6J("opened",z.openClose),e.xp6(11),e.Q6J("routerLink","../mttimis_dashboard"),e.xp6(5),e.Q6J("routerLink","../mtti_mis_departments"),e.xp6(5),e.Q6J("routerLink","../mtti_mis_departments/add_new_department"),e.xp6(5),e.Q6J("routerLink","../mtti_mis_departments/courses_in_department"),e.xp6(5),e.Q6J("routerLink","../mtti_mis_departments/set_unit_for_courses"),e.xp6(5),e.Q6J("routerLink","../mtti_mis_departments/list_of_courses"),e.xp6(10),e.Q6J("ngIf",1!=z.openClose))},directives:[ee.M2,W.Ye,W.rD,d.O5,xe.lW,pe.Hw,ze.TM,ze.JX,Ve.d,_.yS,_.Od,ze.Rh,_.lC],styles:["mat-toolbar[_ngcontent-%COMP%]{background:#004a9f;color:#fff}mat-sidenav[_ngcontent-%COMP%]{margin:10px;width:200px;border-right:none;background:#002b5c;color:#fff;border-radius:10px;padding:16px;text-align:center}.content[_ngcontent-%COMP%]{height:97%;border-radius:10px;margin:10px 10px 10px 32px;font-size:1rem}mat-sidenav-container[_ngcontent-%COMP%]{height:88%}.menu-button[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;font-size:1rem}.menu-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.avatar[_ngcontent-%COMP%]{margin-top:16px;width:100px;height:100px;border-radius:20%;background-color:#f0f8ff}.avatar2[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:20%;background-color:#f0f8ff}.name[_ngcontent-%COMP%]{margin-top:8px;font-weight:400;font-size:small}.designation[_ngcontent-%COMP%]{margin-top:2px;font-size:.7rem;color:#d3d3d3}mat-divider[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;background-color:#ffffff80}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.ln[_ngcontent-%COMP%]{color:#fff;font-size:1rem;text-decoration:none}.ln[_ngcontent-%COMP%]:hover{color:#add8e6;text-shadow:1px 2px #7D3C98}.active[_ngcontent-%COMP%]{color:orange;font-weight:bolder}.ln2[_ngcontent-%COMP%]{color:#fff;font-size:1rem;text-decoration:none}.ln2[_ngcontent-%COMP%]:hover{color:#add8e6;text-shadow:1px 2px #7D3C98}.active2[_ngcontent-%COMP%]{color:#add8e6;font-weight:bolder}.list-group2[_ngcontent-%COMP%]{padding:10px;margin:5px;background-color:#faad39;border-radius:5px}#dashboard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link:active{color:red}"]}),S})();var ke=A(8367),Dt=(A(5880),A(6089),A(9719),A(2885)),Tt=A(492),hn=A(4003);A(670),function Pe(S){S.prototype.loadBundle=Dt.c,S.prototype.namedQuery=Dt.u}(Dt.U);var te=A(655),Qe=A(2461),Mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},bt=function(S){function k(O,z,ce){var De=S.call(this,z)||this;return Object.setPrototypeOf(De,k.prototype),De.code=O,De.details=ce,De}return(0,te.__extends)(k,S),k}(Error),Ee=function(){function S(k,O){var z=this;this.auth=null,this.messaging=null,this.auth=k.getImmediate({optional:!0}),this.messaging=O.getImmediate({optional:!0}),this.auth||k.get().then(function(ce){return z.auth=ce},function(){}),this.messaging||O.get().then(function(ce){return z.messaging=ce},function(){})}return S.prototype.getAuthToken=function(){return(0,te.__awaiter)(this,void 0,void 0,function(){var k;return(0,te.__generator)(this,function(O){switch(O.label){case 0:if(!this.auth)return[2,void 0];O.label=1;case 1:return O.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(k=O.sent())?[2,k.accessToken]:[2,void 0];case 3:return O.sent(),[2,void 0];case 4:return[2]}})})},S.prototype.getInstanceIdToken=function(){return(0,te.__awaiter)(this,void 0,void 0,function(){return(0,te.__generator)(this,function(k){switch(k.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];k.label=1;case 1:return k.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,k.sent()];case 3:return k.sent(),[2,void 0];case 4:return[2]}})})},S.prototype.getContext=function(){return(0,te.__awaiter)(this,void 0,void 0,function(){var k,O;return(0,te.__generator)(this,function(z){switch(z.label){case 0:return[4,this.getAuthToken()];case 1:return k=z.sent(),[4,this.getInstanceIdToken()];case 2:return O=z.sent(),[2,{authToken:k,instanceIdToken:O}]}})})},S}();function st(S,k){var O={};for(var z in S)S.hasOwnProperty(z)&&(O[z]=k(S[z]));return O}var sn=function(){function S(){}return S.prototype.encode=function(k){var O=this;if(null==k)return null;if(k instanceof Number&&(k=k.valueOf()),"number"==typeof k&&isFinite(k)||!0===k||!1===k||"[object String]"===Object.prototype.toString.call(k))return k;if(k instanceof Date)return k.toISOString();if(Array.isArray(k))return k.map(function(z){return O.encode(z)});if("function"==typeof k||"object"==typeof k)return st(k,function(z){return O.encode(z)});throw new Error("Data cannot be encoded in JSON: "+k)},S.prototype.decode=function(k){var O=this;if(null==k)return k;if(k["@type"])switch(k["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var z=Number(k.value);if(isNaN(z))throw new Error("Data cannot be decoded from JSON: "+k);return z;default:throw new Error("Data cannot be decoded from JSON: "+k)}return Array.isArray(k)?k.map(function(ce){return O.decode(ce)}):"function"==typeof k||"object"==typeof k?st(k,function(ce){return O.decode(ce)}):k},S}(),wn=function(){function S(k,O,z,ce,De,At){var $t=this;void 0===De&&(De="us-central1"),this.app_=k,this.appCheckProvider=ce,this.fetchImpl=At,this.serializer=new sn,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve($t.deleteService())}},this.contextProvider=new Ee(O,z),this.cancelAllRequests=new Promise(function(Hn){$t.deleteService=function(){return Hn()}});try{var gn=new URL(De);this.customDomain=gn.origin,this.region="us-central1"}catch(Hn){this.customDomain=null,this.region=De}}return Object.defineProperty(S.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),S.prototype._url=function(k){var O=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+O+"/"+this.region+"/"+k:null!==this.customDomain?this.customDomain+"/"+k:"https://"+this.region+"-"+O+".cloudfunctions.net/"+k},S.prototype.useEmulator=function(k,O){this.emulatorOrigin="http://"+k+":"+O},S.prototype.useFunctionsEmulator=function(k){this.emulatorOrigin=k},S.prototype.httpsCallable=function(k,O){var z=this;return function(ce){return z.call(k,ce,O||{})}},S.prototype.postJSON=function(k,O,z){return(0,te.__awaiter)(this,void 0,void 0,function(){var ce,De,At;return(0,te.__generator)(this,function($t){switch($t.label){case 0:return z["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(ce=$t.sent())&&(z["X-Firebase-AppCheck"]=ce),$t.label=2;case 2:return $t.trys.push([2,4,,5]),[4,this.fetchImpl(k,{method:"POST",body:JSON.stringify(O),headers:z})];case 3:return De=$t.sent(),[3,5];case 4:return $t.sent(),[2,{status:0,json:null}];case 5:At=null,$t.label=6;case 6:return $t.trys.push([6,8,,9]),[4,De.json()];case 7:return At=$t.sent(),[3,9];case 8:return $t.sent(),[3,9];case 9:return[2,{status:De.status,json:At}]}})})},S.prototype.getAppCheckToken=function(){return(0,te.__awaiter)(this,void 0,void 0,function(){var k;return(0,te.__generator)(this,function(z){switch(z.label){case 0:return(k=this.appCheckProvider.getImmediate({optional:!0}))?[4,k.getToken()]:[3,2];case 1:return[2,z.sent().token];case 2:return[2,null]}})})},S.prototype.call=function(k,O,z){return(0,te.__awaiter)(this,void 0,void 0,function(){var ce,De,At,$t,Hn,Jn,zi,Wi,Wr,xr;return(0,te.__generator)(this,function(Qo){switch(Qo.label){case 0:return ce=this._url(k),O=this.serializer.encode(O),De={data:O},At={},[4,this.contextProvider.getContext()];case 1:return($t=Qo.sent()).authToken&&(At.Authorization="Bearer "+$t.authToken),$t.instanceIdToken&&(At["Firebase-Instance-ID-Token"]=$t.instanceIdToken),Hn=function fn(S){var k,O=new Promise(function(z,ce){k=setTimeout(function(){ce(new bt("deadline-exceeded","deadline-exceeded"))},S)});return{timer:k,promise:O}}(z.timeout||7e4),Jn=Hn.timer,zi=Hn.promise,[4,Promise.race([mn(Jn,this.postJSON(ce,De,At)),zi,mn(Jn,this.cancelAllRequests)])];case 2:if(!(Wi=Qo.sent()))throw new bt("cancelled","Firebase Functions instance was deleted.");if(Wr=function Ze(S,k,O){var z=function tt(S){if(S>=200&&S<300)return"ok";switch(S){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(S),ce=z,De=void 0;try{var At=k&&k.error;if(At){var $t=At.status;if("string"==typeof $t){if(!Mt[$t])return new bt("internal","internal");z=Mt[$t],ce=$t}var gn=At.message;"string"==typeof gn&&(ce=gn),void 0!==(De=At.details)&&(De=O.decode(De))}}catch(Hn){}return"ok"===z?null:new bt(z,ce,De)}(Wi.status,Wi.json,this.serializer),Wr)throw Wr;if(!Wi.json)throw new bt("internal","Response is not valid JSON object.");if(void 0===(xr=Wi.json.data)&&(xr=Wi.json.result),void 0===xr)throw new bt("internal","Response is missing data field.");return[2,{data:this.serializer.decode(xr)}]}})})},S}();function mn(S,k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O;return(0,te.__generator)(this,function(z){switch(z.label){case 0:return[4,k];case 1:return O=z.sent(),clearTimeout(S),[2,O]}})})}(function zt(S,k){var O={Functions:wn};S.INTERNAL.registerComponent(new Qe.Component("functions",function z(ce,De){var At=De.instanceIdentifier,$t=ce.getProvider("app").getImmediate(),gn=ce.getProvider("auth-internal"),Hn=ce.getProvider("app-check-internal"),Jn=ce.getProvider("messaging");return new wn($t,gn,Jn,Hn,At,k)},"PUBLIC").setServiceProps(O).setMultipleInstances(!0))})(ke.default,fetch.bind(self)),ke.default.registerVersion("@firebase/functions","0.6.14");var $n,Ht=A(2940),di="w:0.4.31",Vi=(($n={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',$n["not-registered"]="Firebase Installation is not registered.",$n["installation-not-found"]="Firebase Installation not found.",$n["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',$n["app-offline"]="Could not process request. Application offline.",$n["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",$n),Qn=new Tt.ErrorFactory("installations","Installations",Vi);function li(S){return S instanceof Tt.FirebaseError&&S.code.includes("request-failed")}function ni(S){return"https://firebaseinstallations.googleapis.com/v1/projects/"+S.projectId+"/installations"}function Yt(S){return{token:S.token,requestStatus:2,expiresIn:pt(S.expiresIn),creationTime:Date.now()}}function q(S,k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O,z;return(0,te.__generator)(this,function(ce){switch(ce.label){case 0:return[4,k.json()];case 1:return O=ce.sent(),[2,Qn.create("request-failed",{requestName:S,serverCode:(z=O.error).code,serverMessage:z.message,serverStatus:z.status})]}})})}function de(S){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey})}function ye(S,k){var O=k.refreshToken,z=de(S);return z.append("Authorization",function Rt(S){return"FIS_v2 "+S}(O)),z}function Ce(S){return(0,te.__awaiter)(this,void 0,void 0,function(){var k;return(0,te.__generator)(this,function(O){switch(O.label){case 0:return[4,S()];case 1:return(k=O.sent()).status>=500&&k.status<600?[2,S()]:[2,k]}})})}function pt(S){return Number(S.replace("s","000"))}function nn(S,k){var O=k.fid;return(0,te.__awaiter)(this,void 0,void 0,function(){var z,ce,At,$t,gn;return(0,te.__generator)(this,function(Jn){switch(Jn.label){case 0:return z=ni(S),ce=de(S),At={method:"POST",headers:ce,body:JSON.stringify({fid:O,authVersion:"FIS_v2",appId:S.appId,sdkVersion:di})},[4,Ce(function(){return fetch(z,At)})];case 1:return($t=Jn.sent()).ok?[4,$t.json()]:[3,3];case 2:return[2,{fid:(gn=Jn.sent()).fid||O,registrationStatus:2,refreshToken:gn.refreshToken,authToken:Yt(gn.authToken)}];case 3:return[4,q("Create Installation",$t)];case 4:throw Jn.sent()}})})}function On(S){return new Promise(function(k){setTimeout(k,S)})}var Yn=/^[cdef][\w-]{21}$/;function hi(){try{var S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;var O=function Bi(S){return function Wn(S){return btoa(String.fromCharCode.apply(String,(0,te.__spreadArray)([],(0,te.__read)(S)))).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return Yn.test(O)?O:""}catch(z){return""}}function vi(S){return S.appName+"!"+S.appId}var Ei=new Map;function vt(S,k){var O=vi(S);vn(O,k),function X(S,k){var O=Z();O&&O.postMessage({key:S,fid:k}),Se()}(O,k)}function vn(S,k){var O,z,ce=Ei.get(S);if(ce)try{for(var De=(0,te.__values)(ce),At=De.next();!At.done;At=De.next())(0,At.value)(k)}catch(gn){O={error:gn}}finally{try{At&&!At.done&&(z=De.return)&&z.call(De)}finally{if(O)throw O.error}}}var ie=null;function Z(){return!ie&&"BroadcastChannel"in self&&((ie=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(S){vn(S.data.key,S.data.fid)}),ie}function Se(){0===Ei.size&&ie&&(ie.close(),ie=null)}var Be="firebase-installations-store",Ct=null;function on(){return Ct||(Ct=(0,Ht.openDb)("firebase-installations-database",1,function(S){0===S.oldVersion&&S.createObjectStore(Be)})),Ct}function Sn(S,k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O,z,ce,De,At;return(0,te.__generator)(this,function($t){switch($t.label){case 0:return O=vi(S),[4,on()];case 1:return z=$t.sent(),ce=z.transaction(Be,"readwrite"),[4,(De=ce.objectStore(Be)).get(O)];case 2:return At=$t.sent(),[4,De.put(k,O)];case 3:return $t.sent(),[4,ce.complete];case 4:return $t.sent(),(!At||At.fid!==k.fid)&&vt(S,k.fid),[2,k]}})})}function bi(S){return(0,te.__awaiter)(this,void 0,void 0,function(){var k,O,z;return(0,te.__generator)(this,function(ce){switch(ce.label){case 0:return k=vi(S),[4,on()];case 1:return O=ce.sent(),[4,(z=O.transaction(Be,"readwrite")).objectStore(Be).delete(k)];case 2:return ce.sent(),[4,z.complete];case 3:return ce.sent(),[2]}})})}function rn(S,k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O,z,ce,De,At,$t;return(0,te.__generator)(this,function(gn){switch(gn.label){case 0:return O=vi(S),[4,on()];case 1:return z=gn.sent(),ce=z.transaction(Be,"readwrite"),[4,(De=ce.objectStore(Be)).get(O)];case 2:return At=gn.sent(),void 0!==($t=k(At))?[3,4]:[4,De.delete(O)];case 3:return gn.sent(),[3,6];case 4:return[4,De.put($t,O)];case 5:gn.sent(),gn.label=6;case 6:return[4,ce.complete];case 7:return gn.sent(),$t&&(!At||At.fid!==$t.fid)&&vt(S,$t.fid),[2,$t]}})})}function Pt(S){return(0,te.__awaiter)(this,void 0,void 0,function(){var k,O,z;return(0,te.__generator)(this,function(ce){switch(ce.label){case 0:return[4,rn(S,function(De){var At=function yt(S){return ct(S||{fid:hi(),registrationStatus:0})}(De),$t=function Zt(S,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(Qn.create("app-offline"))};var z={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},ce=function Ln(S,k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O,z;return(0,te.__generator)(this,function(ce){switch(ce.label){case 0:return ce.trys.push([0,2,,7]),[4,nn(S,k)];case 1:return O=ce.sent(),[2,Sn(S,O)];case 2:return li(z=ce.sent())&&409===z.customData.serverCode?[4,bi(S)]:[3,4];case 3:return ce.sent(),[3,6];case 4:return[4,Sn(S,{fid:k.fid,registrationStatus:0})];case 5:ce.sent(),ce.label=6;case 6:throw z;case 7:return[2]}})})}(S,z);return{installationEntry:z,registrationPromise:ce}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:pn(S)}:{installationEntry:k}}(S,At);return k=$t.registrationPromise,$t.installationEntry})];case 1:return""!==(O=ce.sent()).fid?[3,3]:(z={},[4,k]);case 2:return[2,(z.installationEntry=ce.sent(),z)];case 3:return[2,{installationEntry:O,registrationPromise:k}]}})})}function pn(S){return(0,te.__awaiter)(this,void 0,void 0,function(){var k,O,z,ce;return(0,te.__generator)(this,function(De){switch(De.label){case 0:return[4,Et(S)];case 1:k=De.sent(),De.label=2;case 2:return 1!==k.registrationStatus?[3,5]:[4,On(100)];case 3:return De.sent(),[4,Et(S)];case 4:return k=De.sent(),[3,2];case 5:return 0!==k.registrationStatus?[3,7]:[4,Pt(S)];case 6:return O=De.sent(),z=O.installationEntry,(ce=O.registrationPromise)?[2,ce]:[2,z];case 7:return[2,k]}})})}function Et(S){return rn(S,function(k){if(!k)throw Qn.create("installation-not-found");return ct(k)})}function ct(S){return function jt(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function In(S,k){var O=S.appConfig,z=S.platformLoggerProvider;return(0,te.__awaiter)(this,void 0,void 0,function(){var ce,De,At,gn,Hn;return(0,te.__generator)(this,function(Wi){switch(Wi.label){case 0:return ce=function kn(S,k){var O=k.fid;return ni(S)+"/"+O+"/authTokens:generate"}(O,k),De=ye(O,k),(At=z.getImmediate({optional:!0}))&&De.append("x-firebase-client",At.getPlatformInfoString()),gn={method:"POST",headers:De,body:JSON.stringify({installation:{sdkVersion:di}})},[4,Ce(function(){return fetch(ce,gn)})];case 1:return(Hn=Wi.sent()).ok?[4,Hn.json()]:[3,3];case 2:return[2,Yt(Wi.sent())];case 3:return[4,q("Generate Auth Token",Hn)];case 4:throw Wi.sent()}})})}function si(S,k){return void 0===k&&(k=!1),(0,te.__awaiter)(this,void 0,void 0,function(){var O,z,De;return(0,te.__generator)(this,function(At){switch(At.label){case 0:return[4,rn(S.appConfig,function($t){if(!Ie($t))throw Qn.create("not-registered");var gn=$t.authToken;if(!k&&function Ot(S){return 2===S.requestStatus&&!function ae(S){var k=Date.now();return k<S.creationTime||S.creationTime+S.expiresIn<k+36e5}(S)}(gn))return $t;if(1===gn.requestStatus)return O=function Mi(S,k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O,z;return(0,te.__generator)(this,function(ce){switch(ce.label){case 0:return[4,ht(S.appConfig)];case 1:O=ce.sent(),ce.label=2;case 2:return 1!==O.authToken.requestStatus?[3,5]:[4,On(100)];case 3:return ce.sent(),[4,ht(S.appConfig)];case 4:return O=ce.sent(),[3,2];case 5:return 0===(z=O.authToken).requestStatus?[2,si(S,k)]:[2,z]}})})}(S,k),$t;if(!navigator.onLine)throw Qn.create("app-offline");var Hn=function Ge(S){var k={requestStatus:1,requestTime:Date.now()};return(0,te.__assign)((0,te.__assign)({},S),{authToken:k})}($t);return O=function An(S,k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O,z,ce;return(0,te.__generator)(this,function(De){switch(De.label){case 0:return De.trys.push([0,3,,8]),[4,In(S,k)];case 1:return O=De.sent(),ce=(0,te.__assign)((0,te.__assign)({},k),{authToken:O}),[4,Sn(S.appConfig,ce)];case 2:return De.sent(),[2,O];case 3:return!li(z=De.sent())||401!==z.customData.serverCode&&404!==z.customData.serverCode?[3,5]:[4,bi(S.appConfig)];case 4:return De.sent(),[3,7];case 5:return ce=(0,te.__assign)((0,te.__assign)({},k),{authToken:{requestStatus:0}}),[4,Sn(S.appConfig,ce)];case 6:De.sent(),De.label=7;case 7:throw z;case 8:return[2]}})})}(S,Hn),Hn})];case 1:return z=At.sent(),O?[4,O]:[3,3];case 2:return De=At.sent(),[3,4];case 3:De=z.authToken,At.label=4;case 4:return[2,De]}})})}function ht(S){return rn(S,function(k){if(!Ie(k))throw Qn.create("not-registered");return function Oe(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(k.authToken)?(0,te.__assign)((0,te.__assign)({},k),{authToken:{requestStatus:0}}):k})}function Ie(S){return void 0!==S&&2===S.registrationStatus}function Mn(S){return(0,te.__awaiter)(this,void 0,void 0,function(){var k;return(0,te.__generator)(this,function(O){switch(O.label){case 0:return[4,Pt(S)];case 1:return(k=O.sent().registrationPromise)?[4,k]:[3,3];case 2:O.sent(),O.label=3;case 3:return[2]}})})}function Bn(S,k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O,z,ce,De;return(0,te.__generator)(this,function(At){switch(At.label){case 0:return O=function Ci(S,k){var O=k.fid;return ni(S)+"/"+O}(S,k),z=ye(S,k),ce={method:"DELETE",headers:z},[4,Ce(function(){return fetch(O,ce)})];case 1:return(De=At.sent()).ok?[3,3]:[4,q("Delete Installation",De)];case 2:throw At.sent();case 3:return[2]}})})}function ur(S){return Qn.create("missing-app-config-values",{valueName:S})}!function mi(S){S.INTERNAL.registerComponent(new Qe.Component("installations",function(O){var z=O.getProvider("app").getImmediate(),ce=function hr(S){var k,O;if(!S||!S.options)throw ur("App Configuration");if(!S.name)throw ur("App Name");try{for(var ce=(0,te.__values)(["projectId","apiKey","appId"]),De=ce.next();!De.done;De=ce.next()){var At=De.value;if(!S.options[At])throw ur(At)}}catch($t){k={error:$t}}finally{try{De&&!De.done&&(O=ce.return)&&O.call(ce)}finally{if(k)throw k.error}}return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(z),At={appConfig:ce,platformLoggerProvider:O.getProvider("platform-logger")},$t={app:z,getId:function(){return function mt(S){return(0,te.__awaiter)(this,void 0,void 0,function(){var k,O,z;return(0,te.__generator)(this,function(ce){switch(ce.label){case 0:return[4,Pt(S.appConfig)];case 1:return k=ce.sent(),O=k.installationEntry,(z=k.registrationPromise)?z.catch(console.error):si(S).catch(console.error),[2,O.fid]}})})}(At)},getToken:function(gn){return function Qt(S,k){return void 0===k&&(k=!1),(0,te.__awaiter)(this,void 0,void 0,function(){return(0,te.__generator)(this,function(z){switch(z.label){case 0:return[4,Mn(S.appConfig)];case 1:return z.sent(),[4,si(S,k)];case 2:return[2,z.sent().token]}})})}(At,gn)},delete:function(){return function ui(S){return(0,te.__awaiter)(this,void 0,void 0,function(){var k,O;return(0,te.__generator)(this,function(z){switch(z.label){case 0:return[4,rn(k=S.appConfig,function(ce){if(!ce||0!==ce.registrationStatus)return ce})];case 1:if(!(O=z.sent()))return[3,6];if(1!==O.registrationStatus)return[3,2];throw Qn.create("delete-pending-registration");case 2:if(2!==O.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Qn.create("app-offline");case 3:return[4,Bn(k,O)];case 4:return z.sent(),[4,bi(k)];case 5:z.sent(),z.label=6;case 6:return[2]}})})}(At)},onIdChange:function(gn){return function Or(S,k){var O=S.appConfig;return function Nt(S,k){Z();var O=vi(S),z=Ei.get(O);z||Ei.set(O,z=new Set),z.add(k)}(O,k),function(){!function Ft(S,k){var O=vi(S),z=Ei.get(O);!z||(z.delete(k),0===z.size&&Ei.delete(O),Se())}(O,k)}}(At,gn)}};return $t},"PUBLIC")),S.registerVersion("@firebase/installations","0.4.31")}(ke.default);var _i,ji=((_i={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',_i["only-available-in-window"]="This method is available in a Window context.",_i["only-available-in-sw"]="This method is available in a service worker context.",_i["permission-default"]="The notification permission was not granted and dismissed instead.",_i["permission-blocked"]="The notification permission was not granted and blocked instead.",_i["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",_i["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",_i["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",_i["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",_i["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",_i["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",_i["token-update-no-token"]="FCM returned no token when updating the user to push.",_i["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",_i["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",_i["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",_i["invalid-vapid-key"]="The public VAPID key must be a string.",_i["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",_i),Hi=new Tt.ErrorFactory("messaging","Messaging",ji),Yo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sr="FCM_MSG",zr="google.c.a.c_id",_s=(()=>{return(S=_s||(_s={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",_s;var S})();function Jr(S){var k=new Uint8Array(S);return btoa(String.fromCharCode.apply(String,(0,te.__spreadArray)([],(0,te.__read)(k)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function js(S){for(var O=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),z=atob(O),ce=new Uint8Array(z.length),De=0;De<z.length;++De)ce[De]=z.charCodeAt(De);return ce}var Vr="fcm_token_details_db",Wo="fcm_token_object_Store";function fo(S){return(0,te.__awaiter)(this,void 0,void 0,function(){var z,De=this;return(0,te.__generator)(this,function(At){switch(At.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!At.sent().map(function($t){return $t.name}).includes(Vr))return[2,null];At.label=2;case 2:return z=null,[4,(0,Ht.openDb)(Vr,5,function($t){return(0,te.__awaiter)(De,void 0,void 0,function(){var gn,Hn,Jn,zi;return(0,te.__generator)(this,function(Wi){switch(Wi.label){case 0:return $t.oldVersion<2?[2]:$t.objectStoreNames.contains(Wo)?[4,(gn=$t.transaction.objectStore(Wo)).index("fcmSenderId").get(S)]:[2];case 1:return Hn=Wi.sent(),[4,gn.clear()];case 2:if(Wi.sent(),!Hn)return[2];if(2===$t.oldVersion){if(!(Jn=Hn).auth||!Jn.p256dh||!Jn.endpoint)return[2];z={token:Jn.fcmToken,createTime:null!==(zi=Jn.createTime)&&void 0!==zi?zi:Date.now(),subscriptionOptions:{auth:Jn.auth,p256dh:Jn.p256dh,endpoint:Jn.endpoint,swScope:Jn.swScope,vapidKey:"string"==typeof Jn.vapidKey?Jn.vapidKey:Jr(Jn.vapidKey)}}}else(3===$t.oldVersion||4===$t.oldVersion)&&(z={token:(Jn=Hn).fcmToken,createTime:Jn.createTime,subscriptionOptions:{auth:Jr(Jn.auth),p256dh:Jr(Jn.p256dh),endpoint:Jn.endpoint,swScope:Jn.swScope,vapidKey:Jr(Jn.vapidKey)}});return[2]}})})})];case 3:return At.sent().close(),[4,(0,Ht.deleteDb)(Vr)];case 4:return At.sent(),[4,(0,Ht.deleteDb)("fcm_vapid_details_db")];case 5:return At.sent(),[4,(0,Ht.deleteDb)("undefined")];case 6:return At.sent(),[2,vs(z)?z:null]}})})}function vs(S){if(!S||!S.subscriptionOptions)return!1;var k=S.subscriptionOptions;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}var To="firebase-messaging-store",is=null;function Io(){return is||(is=(0,Ht.openDb)("firebase-messaging-database",1,function(S){0===S.oldVersion&&S.createObjectStore(To)})),is}function Uo(S){return(0,te.__awaiter)(this,void 0,void 0,function(){var k,z,ce;return(0,te.__generator)(this,function(De){switch(De.label){case 0:return k=ki(S),[4,Io()];case 1:return[4,De.sent().transaction(To).objectStore(To).get(k)];case 2:return(z=De.sent())?[2,z]:[3,3];case 3:return[4,fo(S.appConfig.senderId)];case 4:return(ce=De.sent())?[4,dr(S,ce)]:[3,6];case 5:return De.sent(),[2,ce];case 6:return[2]}})})}function dr(S,k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O,z,ce;return(0,te.__generator)(this,function(De){switch(De.label){case 0:return O=ki(S),[4,Io()];case 1:return z=De.sent(),[4,(ce=z.transaction(To,"readwrite")).objectStore(To).put(k,O)];case 2:return De.sent(),[4,ce.complete];case 3:return De.sent(),[2,k]}})})}function Dr(S){return(0,te.__awaiter)(this,void 0,void 0,function(){var k,O,z;return(0,te.__generator)(this,function(ce){switch(ce.label){case 0:return k=ki(S),[4,Io()];case 1:return O=ce.sent(),[4,(z=O.transaction(To,"readwrite")).objectStore(To).delete(k)];case 2:return ce.sent(),[4,z.complete];case 3:return ce.sent(),[2]}})})}function ki(S){return S.appConfig.appId}function ar(S,k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O,z,ce,De,$t;return(0,te.__generator)(this,function(Hn){switch(Hn.label){case 0:return[4,ft(S)];case 1:O=Hn.sent(),z=Ut(k),ce={method:"POST",headers:O,body:JSON.stringify(z)},Hn.label=2;case 2:return Hn.trys.push([2,5,,6]),[4,fetch(se(S.appConfig),ce)];case 3:return[4,Hn.sent().json()];case 4:return De=Hn.sent(),[3,6];case 5:throw $t=Hn.sent(),Hi.create("token-subscribe-failed",{errorInfo:$t});case 6:if(De.error)throw Hi.create("token-subscribe-failed",{errorInfo:De.error.message});if(!De.token)throw Hi.create("token-subscribe-no-token");return[2,De.token]}})})}function os(S,k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O,z,ce,De,$t;return(0,te.__generator)(this,function(Hn){switch(Hn.label){case 0:return[4,ft(S)];case 1:O=Hn.sent(),z=Ut(k.subscriptionOptions),ce={method:"PATCH",headers:O,body:JSON.stringify(z)},Hn.label=2;case 2:return Hn.trys.push([2,5,,6]),[4,fetch(se(S.appConfig)+"/"+k.token,ce)];case 3:return[4,Hn.sent().json()];case 4:return De=Hn.sent(),[3,6];case 5:throw $t=Hn.sent(),Hi.create("token-update-failed",{errorInfo:$t});case 6:if(De.error)throw Hi.create("token-update-failed",{errorInfo:De.error.message});if(!De.token)throw Hi.create("token-update-no-token");return[2,De.token]}})})}function Te(S,k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O,z,De,$t;return(0,te.__generator)(this,function(gn){switch(gn.label){case 0:return[4,ft(S)];case 1:O=gn.sent(),z={method:"DELETE",headers:O},gn.label=2;case 2:return gn.trys.push([2,5,,6]),[4,fetch(se(S.appConfig)+"/"+k,z)];case 3:return[4,gn.sent().json()];case 4:if((De=gn.sent()).error)throw Hi.create("token-unsubscribe-failed",{errorInfo:De.error.message});return[3,6];case 5:throw $t=gn.sent(),Hi.create("token-unsubscribe-failed",{errorInfo:$t});case 6:return[2]}})})}function se(S){return"https://fcmregistrations.googleapis.com/v1/projects/"+S.projectId+"/registrations"}function ft(S){var k=S.appConfig,O=S.installations;return(0,te.__awaiter)(this,void 0,void 0,function(){var z;return(0,te.__generator)(this,function(ce){switch(ce.label){case 0:return[4,O.getToken()];case 1:return z=ce.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":"FIS "+z})]}})})}function Ut(S){var ce=S.vapidKey,De={web:{endpoint:S.endpoint,auth:S.auth,p256dh:S.p256dh}};return ce!==Yo&&(De.web.applicationPubKey=ce),De}function En(S,k,O){return(0,te.__awaiter)(this,void 0,void 0,function(){var z,ce,De,At;return(0,te.__generator)(this,function($t){switch($t.label){case 0:if("granted"!==Notification.permission)throw Hi.create("permission-blocked");return[4,Pi(k,O)];case 1:return z=$t.sent(),[4,Uo(S)];case 2:return ce=$t.sent(),De={vapidKey:O,swScope:k.scope,endpoint:z.endpoint,auth:Jr(z.getKey("auth")),p256dh:Jr(z.getKey("p256dh"))},ce?[3,3]:[2,fi(S,De)];case 3:if(function or(S,k){return k.vapidKey===S.vapidKey&&k.endpoint===S.endpoint&&k.auth===S.auth&&k.p256dh===S.p256dh}(ce.subscriptionOptions,De))return[3,8];$t.label=4;case 4:return $t.trys.push([4,6,,7]),[4,Te(S,ce.token)];case 5:return $t.sent(),[3,7];case 6:return At=$t.sent(),console.warn(At),[3,7];case 7:return[2,fi(S,De)];case 8:return Date.now()>=ce.createTime+6048e5?[2,pi({token:ce.token,createTime:Date.now(),subscriptionOptions:De},S,k)]:[2,ce.token];case 9:return[2]}})})}function ii(S,k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O,z;return(0,te.__generator)(this,function(ce){switch(ce.label){case 0:return[4,Uo(S)];case 1:return(O=ce.sent())?[4,Te(S,O.token)]:[3,4];case 2:return ce.sent(),[4,Dr(S)];case 3:ce.sent(),ce.label=4;case 4:return[4,k.pushManager.getSubscription()];case 5:return(z=ce.sent())?[2,z.unsubscribe()]:[2,!0]}})})}function pi(S,k,O){return(0,te.__awaiter)(this,void 0,void 0,function(){var z,ce,De;return(0,te.__generator)(this,function(At){switch(At.label){case 0:return At.trys.push([0,3,,5]),[4,os(k,S)];case 1:return z=At.sent(),ce=(0,te.__assign)((0,te.__assign)({},S),{token:z,createTime:Date.now()}),[4,dr(k,ce)];case 2:return At.sent(),[2,z];case 3:return De=At.sent(),[4,ii(k,O)];case 4:throw At.sent(),De;case 5:return[2]}})})}function fi(S,k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O,z;return(0,te.__generator)(this,function(ce){switch(ce.label){case 0:return[4,ar(S,k)];case 1:return O=ce.sent(),z={token:O,createTime:Date.now(),subscriptionOptions:k},[4,dr(S,z)];case 2:return ce.sent(),[2,z.token]}})})}function Pi(S,k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O;return(0,te.__generator)(this,function(z){switch(z.label){case 0:return[4,S.pushManager.getSubscription()];case 1:return(O=z.sent())?[2,O]:[2,S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:js(k)})]}})})}function _o(S){return"object"==typeof S&&!!S&&zr in S}function Er(S){return new Promise(function(k){setTimeout(k,S)})}var Tr=function(){function S(k){var O=this;this.firebaseDependencies=k,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(z){z.waitUntil(O.onPush(z))}),self.addEventListener("pushsubscriptionchange",function(z){z.waitUntil(O.onSubChange(z))}),self.addEventListener("notificationclick",function(z){z.waitUntil(O.onNotificationClick(z))})}return Object.defineProperty(S.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),S.prototype.setBackgroundMessageHandler=function(k){if(this.isOnBackgroundMessageUsed=!1,!k||"function"!=typeof k)throw Hi.create("invalid-bg-handler");this.bgMessageHandler=k},S.prototype.onBackgroundMessage=function(k){var O=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=k,function(){O.bgMessageHandler=null}},S.prototype.getToken=function(){var k,O;return(0,te.__awaiter)(this,void 0,void 0,function(){var z;return(0,te.__generator)(this,function(ce){switch(ce.label){case 0:return this.vapidKey?[3,2]:[4,Uo(this.firebaseDependencies)];case 1:z=ce.sent(),this.vapidKey=null!==(O=null===(k=null==z?void 0:z.subscriptionOptions)||void 0===k?void 0:k.vapidKey)&&void 0!==O?O:Yo,ce.label=2;case 2:return[2,En(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},S.prototype.deleteToken=function(){return ii(this.firebaseDependencies,self.registration)},S.prototype.requestPermission=function(){throw Hi.create("only-available-in-window")},S.prototype.usePublicVapidKey=function(k){if(null!==this.vapidKey)throw Hi.create("use-vapid-key-after-get-token");if("string"!=typeof k||0===k.length)throw Hi.create("invalid-vapid-key");this.vapidKey=k},S.prototype.useServiceWorker=function(){throw Hi.create("only-available-in-window")},S.prototype.onMessage=function(){throw Hi.create("only-available-in-window")},S.prototype.onTokenRefresh=function(){throw Hi.create("only-available-in-window")},S.prototype.onPush=function(k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O,z,ce,De;return(0,te.__generator)(this,function(At){switch(At.label){case 0:return O=function vo(S){var k=S.data;if(!k)return null;try{return k.json()}catch(O){return null}}(k),O?[4,pr()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function Jo(S){return S.some(function(k){return"visible"===k.visibilityState&&!k.url.startsWith("chrome-extension://")})}(z=At.sent())?[2,ls(z,O)]:(ce=!1,O.notification?[4,le(no(O))]:[3,3]);case 2:At.sent(),ce=!0,At.label=3;case 3:return!0===ce&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(De=function yr(S){var k={from:S.from,collapseKey:S.collapse_key};return function po(S,k){if(k.notification){S.notification={};var O=k.notification.title;O&&(S.notification.title=O);var z=k.notification.body;z&&(S.notification.body=z);var ce=k.notification.image;ce&&(S.notification.image=ce)}}(k,S),function Lr(S,k){!k.data||(S.data=k.data)}(k,S),function rr(S,k){if(k.fcmOptions){S.fcmOptions={};var O=k.fcmOptions.link;O&&(S.fcmOptions.link=O);var z=k.fcmOptions.analytics_label;z&&(S.fcmOptions.analyticsLabel=z)}}(k,S),k}(O),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(De):this.bgMessageHandler.next(De)),[4,Er(1e3)]);case 4:return At.sent(),[2]}})})},S.prototype.onSubChange=function(k){var O,z;return(0,te.__awaiter)(this,void 0,void 0,function(){var De;return(0,te.__generator)(this,function(At){switch(At.label){case 0:return k.newSubscription?[3,2]:[4,ii(this.firebaseDependencies,self.registration)];case 1:case 5:return At.sent(),[2];case 2:return[4,Uo(this.firebaseDependencies)];case 3:return De=At.sent(),[4,ii(this.firebaseDependencies,self.registration)];case 4:return At.sent(),[4,En(this.firebaseDependencies,self.registration,null!==(z=null===(O=null==De?void 0:De.subscriptionOptions)||void 0===O?void 0:O.vapidKey)&&void 0!==z?z:Yo)]}})})},S.prototype.onNotificationClick=function(k){var O,z;return(0,te.__awaiter)(this,void 0,void 0,function(){var ce,De,At,$t,gn;return(0,te.__generator)(this,function(Hn){switch(Hn.label){case 0:return(ce=null===(z=null===(O=k.notification)||void 0===O?void 0:O.data)||void 0===z?void 0:z[sr])?k.action?[2]:(k.stopImmediatePropagation(),k.notification.close(),De=function Fe(S){var k,O,z;return(null!==(O=null===(k=S.fcmOptions)||void 0===k?void 0:k.link)&&void 0!==O?O:null===(z=S.notification)||void 0===z?void 0:z.click_action)||(_o(S.data)?self.location.origin:null)}(ce),De?(At=new URL(De,self.location.href),$t=new URL(self.location.origin),At.host!==$t.host?[2]:[4,ao(At)]):[2]):[2];case 1:return(gn=Hn.sent())?[3,4]:[4,self.clients.openWindow(De)];case 2:return gn=Hn.sent(),[4,Er(3e3)];case 3:return Hn.sent(),[3,6];case 4:return[4,gn.focus()];case 5:gn=Hn.sent(),Hn.label=6;case 6:return gn?(ce.messageType=_s.NOTIFICATION_CLICKED,ce.isFirebaseMessaging=!0,[2,gn.postMessage(ce)]):[2]}})})},S}();function no(S){var k,O=(0,te.__assign)({},S.notification);return O.data=((k={})[sr]=S,k),O}function ao(S){return(0,te.__awaiter)(this,void 0,void 0,function(){var k,O,z,ce,De,At,$t;return(0,te.__generator)(this,function(gn){switch(gn.label){case 0:return[4,pr()];case 1:k=gn.sent();try{for(O=(0,te.__values)(k),z=O.next();!z.done;z=O.next())if(ce=z.value,De=new URL(ce.url,self.location.href),S.host===De.host)return[2,ce]}catch(Hn){At={error:Hn}}finally{try{z&&!z.done&&($t=O.return)&&$t.call(O)}finally{if(At)throw At.error}}return[2,null]}})})}function ls(S,k){var O,z;k.isFirebaseMessaging=!0,k.messageType=_s.PUSH_RECEIVED;try{for(var ce=(0,te.__values)(S),De=ce.next();!De.done;De=ce.next())De.value.postMessage(k)}catch($t){O={error:$t}}finally{try{De&&!De.done&&(z=ce.return)&&z.call(ce)}finally{if(O)throw O.error}}}function pr(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function le(S){var k,O=S.actions,z=Notification.maxActions;return O&&z&&O.length>z&&console.warn("This browser only supports "+z+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(k=S.title)&&void 0!==k?k:"",S)}var fe=function(){function S(k){var O=this;this.firebaseDependencies=k,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(z){return O.messageEventListener(z)})}return Object.defineProperty(S.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),S.prototype.messageEventListener=function(k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O,z;return(0,te.__generator)(this,function(ce){switch(ce.label){case 0:return(O=k.data).isFirebaseMessaging?(this.onMessageCallback&&O.messageType===_s.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function Jt(S){return delete S.messageType,delete S.isFirebaseMessaging,S}(Object.assign({},O))):this.onMessageCallback.next(Object.assign({},O))),_o(z=O.data)&&"1"===z["google.c.a.e"]?[4,this.logEvent(O.messageType,z)]:[3,2]):[2];case 1:ce.sent(),ce.label=2;case 2:return[2]}})})},S.prototype.getVapidKey=function(){return this.vapidKey},S.prototype.getSwReg=function(){return this.swRegistration},S.prototype.getToken=function(k){return(0,te.__awaiter)(this,void 0,void 0,function(){return(0,te.__generator)(this,function(O){switch(O.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:O.sent(),O.label=2;case 2:if("granted"!==Notification.permission)throw Hi.create("permission-blocked");return[4,this.updateVapidKey(null==k?void 0:k.vapidKey)];case 3:return O.sent(),[4,this.updateSwReg(null==k?void 0:k.serviceWorkerRegistration)];case 4:return O.sent(),[2,En(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},S.prototype.updateVapidKey=function(k){return(0,te.__awaiter)(this,void 0,void 0,function(){return(0,te.__generator)(this,function(O){return k?this.vapidKey=k:this.vapidKey||(this.vapidKey=Yo),[2]})})},S.prototype.updateSwReg=function(k){return(0,te.__awaiter)(this,void 0,void 0,function(){return(0,te.__generator)(this,function(O){switch(O.label){case 0:return k||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:O.sent(),O.label=2;case 2:if(!k&&this.swRegistration)return[2];if(!(k instanceof ServiceWorkerRegistration))throw Hi.create("invalid-sw-registration");return this.swRegistration=k,[2]}})})},S.prototype.registerDefaultSw=function(){return(0,te.__awaiter)(this,void 0,void 0,function(){var k,O;return(0,te.__generator)(this,function(z){switch(z.label){case 0:return z.trys.push([0,2,,3]),k=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return k.swRegistration=z.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw O=z.sent(),Hi.create("failed-service-worker-registration",{browserErrorMessage:O.message});case 3:return[2]}})})},S.prototype.deleteToken=function(){return(0,te.__awaiter)(this,void 0,void 0,function(){return(0,te.__generator)(this,function(k){switch(k.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:k.sent(),k.label=2;case 2:return[2,ii(this.firebaseDependencies,this.swRegistration)]}})})},S.prototype.requestPermission=function(){return(0,te.__awaiter)(this,void 0,void 0,function(){var k;return(0,te.__generator)(this,function(O){switch(O.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(k=O.sent()))return[2];throw Hi.create("denied"===k?"permission-blocked":"permission-default")}})})},S.prototype.usePublicVapidKey=function(k){if(null!==this.vapidKey)throw Hi.create("use-vapid-key-after-get-token");if("string"!=typeof k||0===k.length)throw Hi.create("invalid-vapid-key");this.vapidKey=k},S.prototype.useServiceWorker=function(k){if(!(k instanceof ServiceWorkerRegistration))throw Hi.create("invalid-sw-registration");if(this.swRegistration)throw Hi.create("use-sw-after-get-token");this.swRegistration=k},S.prototype.onMessage=function(k){var O=this;return this.onMessageCallback=k,function(){O.onMessageCallback=null}},S.prototype.setBackgroundMessageHandler=function(){throw Hi.create("only-available-in-sw")},S.prototype.onBackgroundMessage=function(){throw Hi.create("only-available-in-sw")},S.prototype.onTokenRefresh=function(){return function(){}},S.prototype.logEvent=function(k,O){return(0,te.__awaiter)(this,void 0,void 0,function(){var z;return(0,te.__generator)(this,function(De){switch(De.label){case 0:return z=function ot(S){switch(S){case _s.NOTIFICATION_CLICKED:return"notification_open";case _s.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(k),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return De.sent().logEvent(z,{message_id:O[zr],message_name:O["google.c.a.c_l"],message_time:O["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},S}();function Zn(S){return Hi.create("missing-app-config-values",{valueName:S})}var Ir={isSupported:br};function br(){return self&&"ServiceWorkerGlobalScope"in self?function kr(){return"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}():function gr(){return"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}()}ke.default.INTERNAL.registerComponent(new Qe.Component("messaging",function Zr(S){var k=S.getProvider("app").getImmediate(),O=function Tn(S){var k,O;if(!S||!S.options)throw Zn("App Configuration Object");if(!S.name)throw Zn("App Name");var ce=S.options;try{for(var De=(0,te.__values)(["projectId","apiKey","appId","messagingSenderId"]),At=De.next();!At.done;At=De.next()){var $t=At.value;if(!ce[$t])throw Zn($t)}}catch(gn){k={error:gn}}finally{try{At&&!At.done&&(O=De.return)&&O.call(De)}finally{if(k)throw k.error}}return{appName:S.name,projectId:ce.projectId,apiKey:ce.apiKey,appId:ce.appId,senderId:ce.messagingSenderId}}(k),De={app:k,appConfig:O,installations:S.getProvider("installations").getImmediate(),analyticsProvider:S.getProvider("analytics-internal")};if(!br())throw Hi.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Tr(De):new fe(De)},"PUBLIC").setServiceProps(Ir)),A(1262);var Qi,Un="FB-PERF-TRACE-MEASURE",Ur="@firebase/performance/config",zn="@firebase/performance/configexpire",Ha="Performance",Ts=((Qi={})["trace started"]="Trace {$traceName} was started before.",Qi["trace stopped"]="Trace {$traceName} is not running.",Qi["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Qi["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Qi["no window"]="Window is not available.",Qi["no app id"]="App id is not available.",Qi["no project id"]="Project id is not available.",Qi["no api key"]="Api key is not available.",Qi["invalid cc log"]="Attempted to queue invalid cc event",Qi["FB not default"]="Performance can only start when Firebase app instance is the default one.",Qi["RC response not ok"]="RC response is not ok",Qi["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Qi["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Qi["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Qi["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Qi),Nr=new Tt.ErrorFactory("performance",Ha,Ts),$r=new hn.Logger(Ha);$r.logLevel=hn.LogLevel.INFO;var Bo,As,Hr=function(){function S(k){if(this.window=k,!k)throw Nr.create("no window");this.performance=k.performance,this.PerformanceObserver=k.PerformanceObserver,this.windowLocation=k.location,this.navigator=k.navigator,this.document=k.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=k.localStorage),k.perfMetrics&&k.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=k.perfMetrics.onFirstInputDelay)}return S.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},S.prototype.mark=function(k){!this.performance||!this.performance.mark||this.performance.mark(k)},S.prototype.measure=function(k,O,z){!this.performance||!this.performance.measure||this.performance.measure(k,O,z)},S.prototype.getEntriesByType=function(k){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(k):[]},S.prototype.getEntriesByName=function(k){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(k):[]},S.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},S.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,Tt.isIndexedDBAvailable)()||($r.info("IndexedDB is not supported by current browswer"),!1):($r.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},S.prototype.setupObserver=function(k,O){this.PerformanceObserver&&new this.PerformanceObserver(function(ce){for(var De=0,At=ce.getEntries();De<At.length;De++)O(At[De])}).observe({entryTypes:[k]})},S.getInstance=function(){return void 0===Bo&&(Bo=new S(As)),Bo},S}();function hs(S,k){var O=S.length-k.length;if(O<0||O>1)throw Nr.create("invalid String merger input");for(var z=[],ce=0;ce<S.length;ce++)z.push(S.charAt(ce)),k.length>ce&&z.push(k.charAt(ce));return z.join("")}var Is,qo,mr=function(){function S(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=hs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=hs("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return S.prototype.getAppId=function(){var k=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!k)throw Nr.create("no app id");return k},S.prototype.getProjectId=function(){var k=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!k)throw Nr.create("no project id");return k},S.prototype.getApiKey=function(){var k=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!k)throw Nr.create("no api key");return k},S.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},S.getInstance=function(){return void 0===Is&&(Is=new S),Is},S}();function me(){return qo}var L=(()=>{return(S=L||(L={}))[S.UNKNOWN=0]="UNKNOWN",S[S.VISIBLE=1]="VISIBLE",S[S.HIDDEN=2]="HIDDEN",L;var S})(),oe=["firebase_","google_","ga_"],He=new RegExp("^[a-zA-Z]\\w*$");function Dn(){switch(Hr.getInstance().document.visibilityState){case"visible":return L.VISIBLE;case"hidden":return L.HIDDEN;default:return L.UNKNOWN}}function qn(){var k=Hr.getInstance().navigator.connection;switch(k&&k.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var Ro="Could not fetch config, will use default configs";function wr(S){if(!S)return S;var k=mr.getInstance(),O=S.entries||{};return k.loggingEnabled=void 0===O.fpr_enabled||"true"===String(O.fpr_enabled),O.fpr_log_source&&(k.logSource=Number(O.fpr_log_source)),O.fpr_log_endpoint_url&&(k.logEndPointUrl=O.fpr_log_endpoint_url),O.fpr_log_transport_key&&(k.transportKey=O.fpr_log_transport_key),void 0!==O.fpr_vc_network_request_sampling_rate&&(k.networkRequestsSamplingRate=Number(O.fpr_vc_network_request_sampling_rate)),void 0!==O.fpr_vc_trace_sampling_rate&&(k.tracesSamplingRate=Number(O.fpr_vc_trace_sampling_rate)),k.logTraceAfterSampling=Sr(k.tracesSamplingRate),k.logNetworkAfterSampling=Sr(k.networkRequestsSamplingRate),S}function Sr(S){return Math.random()<=S}var ro,xo=1;function Vo(){return xo=2,ro=ro||function Pa(){return function Ho(){var S=Hr.getInstance().document;return new Promise(function(k){if(S&&"complete"!==S.readyState){var O=function(){"complete"===S.readyState&&(S.removeEventListener("readystatechange",O),k())};S.addEventListener("readystatechange",O)}else k()})}().then(function(){return function Po(){var S=mr.getInstance().installationsService.getId();return S.then(function(k){qo=k}),S}()}).then(function(S){return function Gi(S){var k=function Xr(){var S=Hr.getInstance().localStorage;if(S){var k=S.getItem(zn);if(k&&function Pr(S){return Number(S)>Date.now()}(k)){var O=S.getItem(Ur);if(O)try{return JSON.parse(O)}catch(ce){return}}}}();return k?(wr(k),Promise.resolve()):function ss(S){return function N(){var S=mr.getInstance().installationsService.getToken();return S.then(function(k){}),S}().then(function(k){var z="https://firebaseremoteconfig.googleapis.com/v1/projects/"+mr.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+mr.getInstance().getApiKey(),ce=new Request(z,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+k},body:JSON.stringify({app_instance_id:S,app_instance_id_token:k,app_id:mr.getInstance().getAppId(),app_version:"0.4.17",sdk_version:"0.0.1"})});return fetch(ce).then(function(De){if(De.ok)return De.json();throw Nr.create("RC response not ok")})}).catch(function(){$r.info(Ro)})}(S).then(wr).then(function(O){return function io(S){var k=Hr.getInstance().localStorage;!S||!k||(k.setItem(Ur,JSON.stringify(S)),k.setItem(zn,String(Date.now()+60*mr.getInstance().configTimeToLive*60*1e3)))}(O)},function(){})}(S)}).then(function(){return eo()},function(){return eo()})}()}function eo(){xo=3}var Cr,Li=3,Ji=[],D=!1;function we(S){setTimeout(function(){if(0!==Li){if(!Ji.length)return we(1e4);!function et(){var S=Ji.splice(0,1e3),k=S.map(function(z){return{source_extension_json_proto3:z.message,event_time_ms:String(z.eventTime)}});(function kt(S,k){return function Cn(S){var k=mr.getInstance().getFlTransportFullUrl();return fetch(k,{method:"POST",body:JSON.stringify(S)})}(S).then(function(O){return O.ok||$r.info("Call to Firebase backend failed."),O.json()}).then(function(O){var z=Number(O.nextRequestWaitMillis),ce=1e4;isNaN(z)||(ce=Math.max(z,ce));var De=O.logResponseDetails;Array.isArray(De)&&De.length>0&&"RETRY_REQUEST_LATER"===De[0].responseAction&&(Ji=(0,te.__spreadArray)((0,te.__spreadArray)([],k),Ji),$r.info("Retry transport request later.")),Li=3,we(ce)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:mr.getInstance().logSource,log_event:k},S).catch(function(){Ji=(0,te.__spreadArray)((0,te.__spreadArray)([],S),Ji),Li--,$r.info("Tries left: "+Li+"."),we(1e4)})}()}},S)}function ai(S){if(!S.eventTime||!S.message)throw Nr.create("invalid cc log");Ji=(0,te.__spreadArray)((0,te.__spreadArray)([],Ji),[S])}function Br(S,k){Cr||(Cr=function Ri(S){return function(){for(var k=[],O=0;O<arguments.length;O++)k[O]=arguments[O];ai({message:S.apply(void 0,k),eventTime:Date.now()})}}(Zs)),Cr(S,k)}function co(S){var k=mr.getInstance();!k.instrumentationEnabled&&S.isAuto||!k.dataCollectionEnabled&&!S.isAuto||!Hr.getInstance().requiredApisAvailable()||S.isAuto&&Dn()!==L.VISIBLE||(function cs(){return 3===xo}()?Mo(S):Vo().then(function(){return Mo(S)},function(){return Mo(S)}))}function Mo(S){if(me()){var k=mr.getInstance();!k.loggingEnabled||!k.logTraceAfterSampling||setTimeout(function(){return Br(S,1)},0)}}function Zs(S,k){return 0===k?function Rs(S){var k={url:S.url,http_method:S.httpMethod||0,http_response_code:200,response_payload_bytes:S.responsePayloadBytes,client_start_time_us:S.startTimeUs,time_to_response_initiated_us:S.timeToResponseInitiatedUs,time_to_response_completed_us:S.timeToResponseCompletedUs},O={application_info:Da(),network_request_metric:k};return JSON.stringify(O)}(S):function Ca(S){var k={name:S.name,is_auto:S.isAuto,client_start_time_us:S.startTimeUs,duration_us:S.durationUs};0!==Object.keys(S.counters).length&&(k.counters=S.counters);var O=S.getAttributes();0!==Object.keys(O).length&&(k.custom_attributes=O);var z={application_info:Da(),trace_metric:k};return JSON.stringify(z)}(S)}function Da(){return{google_app_id:mr.getInstance().getAppId(),app_instance_id:me(),web_app_info:{sdk_version:"0.4.17",page_url:Hr.getInstance().getUrl(),service_worker_status:(S=Hr.getInstance().navigator,"serviceWorker"in S?S.serviceWorker.controller?2:3:1),visibility_state:Dn(),effective_connection_type:qn()},application_process_state:0};var S}var Xa=["_fp","_fcp","_fid"],B=function(){function S(k,O,z){void 0===O&&(O=!1),this.name=k,this.isAuto=O,this.state=1,this.customAttributes={},this.counters={},this.api=Hr.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=z||Un+"-"+this.randomId+"-"+this.name,z&&this.calculateTraceMetrics())}return S.prototype.start=function(){if(1!==this.state)throw Nr.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},S.prototype.stop=function(){if(2!==this.state)throw Nr.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),co(this)},S.prototype.record=function(k,O,z){if(k<=0)throw Nr.create("nonpositive trace startTime",{traceName:this.name});if(O<=0)throw Nr.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*O),this.startTimeUs=Math.floor(1e3*k),z&&z.attributes&&(this.customAttributes=(0,te.__assign)({},z.attributes)),z&&z.metrics)for(var ce=0,De=Object.keys(z.metrics);ce<De.length;ce++){var At=De[ce];isNaN(Number(z.metrics[At]))||(this.counters[At]=Number(Math.floor(z.metrics[At])))}co(this)},S.prototype.incrementMetric=function(k,O){void 0===O&&(O=1),this.putMetric(k,void 0===this.counters[k]?O:this.counters[k]+O)},S.prototype.putMetric=function(k,O){if(!function K(S,k){return!(0===S.length||S.length>100)&&(k&&k.startsWith("_wt_")&&Xa.indexOf(S)>-1||!S.startsWith("_"))}(k,this.name))throw Nr.create("invalid custom metric name",{customMetricName:k});this.counters[k]=function H(S){var k=Math.floor(S);return k<S&&$r.info("Metric value should be an Integer, setting the value as : "+k+"."),k}(O)},S.prototype.getMetric=function(k){return this.counters[k]||0},S.prototype.putAttribute=function(k,O){var z=function xi(S){return!(0===S.length||S.length>40||oe.some(function(O){return S.startsWith(O)})||!S.match(He))}(k),ce=function Ai(S){return 0!==S.length&&S.length<=100}(O);if(z&&ce)this.customAttributes[k]=O;else{if(!z)throw Nr.create("invalid attribute name",{attributeName:k});if(!ce)throw Nr.create("invalid attribute value",{attributeValue:O})}},S.prototype.getAttribute=function(k){return this.customAttributes[k]},S.prototype.removeAttribute=function(k){void 0!==this.customAttributes[k]&&delete this.customAttributes[k]},S.prototype.getAttributes=function(){return(0,te.__assign)({},this.customAttributes)},S.prototype.setStartTime=function(k){this.startTimeUs=k},S.prototype.setDuration=function(k){this.durationUs=k},S.prototype.calculateTraceMetrics=function(){var k=this.api.getEntriesByName(this.traceMeasure),O=k&&k[0];O&&(this.durationUs=Math.floor(1e3*O.duration),this.startTimeUs=Math.floor(1e3*(O.startTime+this.api.getTimeOrigin())))},S.createOobTrace=function(k,O,z){var ce=Hr.getInstance().getUrl();if(ce){var De=new S("_wt_"+ce,!0),At=Math.floor(1e3*Hr.getInstance().getTimeOrigin());if(De.setStartTime(At),k&&k[0]&&(De.setDuration(Math.floor(1e3*k[0].duration)),De.putMetric("domInteractive",Math.floor(1e3*k[0].domInteractive)),De.putMetric("domContentLoadedEventEnd",Math.floor(1e3*k[0].domContentLoadedEventEnd)),De.putMetric("loadEventEnd",Math.floor(1e3*k[0].loadEventEnd))),O){var Hn=O.find(function(zi){return"first-paint"===zi.name});Hn&&Hn.startTime&&De.putMetric("_fp",Math.floor(1e3*Hn.startTime));var Jn=O.find(function(zi){return"first-contentful-paint"===zi.name});Jn&&Jn.startTime&&De.putMetric("_fcp",Math.floor(1e3*Jn.startTime)),z&&De.putMetric("_fid",Math.floor(1e3*z))}co(De)}},S.createUserTimingTrace=function(k){co(new S(k,!1,k))},S}();function ue(S){var k=S;if(k&&void 0!==k.responseStart){var O=Hr.getInstance().getTimeOrigin(),z=Math.floor(1e3*(k.startTime+O)),ce=k.responseStart?Math.floor(1e3*(k.responseStart-k.startTime)):void 0,De=Math.floor(1e3*(k.responseEnd-k.startTime));!function xs(S){var k=mr.getInstance();if(k.instrumentationEnabled){var O=S.url,z=k.logEndPointUrl.split("?")[0],ce=k.flTransportEndpointUrl.split("?")[0];O===z||O===ce||!k.loggingEnabled||!k.logNetworkAfterSampling||setTimeout(function(){return Br(S,0)},0)}}({url:k.name&&k.name.split("?")[0],responsePayloadBytes:k.transferSize,startTimeUs:z,timeToResponseInitiatedUs:ce,timeToResponseCompletedUs:De})}}function Je(){!me()||(setTimeout(function(){return function en(){var S=Hr.getInstance(),k=S.getEntriesByType("navigation"),O=S.getEntriesByType("paint");if(S.onFirstInputDelay){var z=setTimeout(function(){B.createOobTrace(k,O),z=void 0},5e3);S.onFirstInputDelay(function(ce){z&&(clearTimeout(z),B.createOobTrace(k,O,ce))})}else B.createOobTrace(k,O)}()},0),setTimeout(function(){return function It(){for(var S=Hr.getInstance(),O=0,z=S.getEntriesByType("resource");O<z.length;O++)ue(z[O]);S.setupObserver("resource",ue)}()},0),setTimeout(function(){return function Kn(){for(var S=Hr.getInstance(),O=0,z=S.getEntriesByType("measure");O<z.length;O++)Oi(z[O]);S.setupObserver("measure",Oi)}()},0))}function Oi(S){var k=S.name;k.substring(0,Un.length)!==Un&&B.createUserTimingTrace(k)}var Mr=function(){function S(k){this.app=k,Hr.getInstance().requiredApisAvailable()&&(0,Tt.validateIndexedDBOpenable)().then(function(O){O&&(function $(){D||(we(5500),D=!0)}(),Vo().then(Je,Je))}).catch(function(O){$r.info("Environment doesn't support IndexedDB: "+O)})}return S.prototype.trace=function(k){return new B(k)},Object.defineProperty(S.prototype,"instrumentationEnabled",{get:function(){return mr.getInstance().instrumentationEnabled},set:function(k){mr.getInstance().instrumentationEnabled=k},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"dataCollectionEnabled",{get:function(){return mr.getInstance().dataCollectionEnabled},set:function(k){mr.getInstance().dataCollectionEnabled=k},enumerable:!1,configurable:!0}),S}();!function Oo(S){S.INTERNAL.registerComponent(new Qe.Component("performance",function(O){return function(O,z){if("[DEFAULT]"!==O.name)throw Nr.create("FB not default");if("undefined"==typeof window)throw Nr.create("no window");return function Ws(S){As=S}(window),mr.getInstance().firebaseAppInstance=O,mr.getInstance().installationsService=z,new Mr(O)}(O.getProvider("app").getImmediate(),O.getProvider("installations").getImmediate())},"PUBLIC")),S.registerVersion("@firebase/performance","0.4.17")}(ke.default);var Ea="https://www.googletagmanager.com/gtag/js",Fo=(()=>{return(S=Fo||(Fo={})).EVENT="event",S.SET="set",S.CONFIG="config",Fo;var S})(),Lo=(()=>{return(S=Lo||(Lo={})).ADD_SHIPPING_INFO="add_shipping_info",S.ADD_PAYMENT_INFO="add_payment_info",S.ADD_TO_CART="add_to_cart",S.ADD_TO_WISHLIST="add_to_wishlist",S.BEGIN_CHECKOUT="begin_checkout",S.CHECKOUT_PROGRESS="checkout_progress",S.EXCEPTION="exception",S.GENERATE_LEAD="generate_lead",S.LOGIN="login",S.PAGE_VIEW="page_view",S.PURCHASE="purchase",S.REFUND="refund",S.REMOVE_FROM_CART="remove_from_cart",S.SCREEN_VIEW="screen_view",S.SEARCH="search",S.SELECT_CONTENT="select_content",S.SELECT_ITEM="select_item",S.SELECT_PROMOTION="select_promotion",S.SET_CHECKOUT_OPTION="set_checkout_option",S.SHARE="share",S.SIGN_UP="sign_up",S.TIMING_COMPLETE="timing_complete",S.VIEW_CART="view_cart",S.VIEW_ITEM="view_item",S.VIEW_ITEM_LIST="view_item_list",S.VIEW_PROMOTION="view_promotion",S.VIEW_SEARCH_RESULTS="view_search_results",Lo;var S})(),fs=new hn.Logger("@firebase/analytics");function ta(S,k,O,z,ce,De){return(0,te.__awaiter)(this,void 0,void 0,function(){var At,$t,gn,Hn;return(0,te.__generator)(this,function(Jn){switch(Jn.label){case 0:At=z[ce],Jn.label=1;case 1:return Jn.trys.push([1,7,,8]),At?[4,k[At]]:[3,3];case 2:return Jn.sent(),[3,6];case 3:return[4,Promise.all(O)];case 4:return $t=Jn.sent(),(gn=$t.find(function(zi){return zi.measurementId===ce}))?[4,k[gn.appId]]:[3,6];case 5:Jn.sent(),Jn.label=6;case 6:return[3,8];case 7:return Hn=Jn.sent(),fs.error(Hn),[3,8];case 8:return S(Fo.CONFIG,ce,De),[2]}})})}function Qc(S,k,O,z,ce){return(0,te.__awaiter)(this,void 0,void 0,function(){var De,At,$t,gn,Hn,Jn,Wr;return(0,te.__generator)(this,function(xr){switch(xr.label){case 0:return xr.trys.push([0,4,,5]),De=[],ce&&ce.send_to?(At=ce.send_to,Array.isArray(At)||(At=[At]),[4,Promise.all(O)]):[3,2];case 1:for($t=xr.sent(),gn=function(Do){var Qo=$t.find(function(ws){return ws.measurementId===Do}),Bs=Qo&&k[Qo.appId];if(!Bs)return De=[],"break";De.push(Bs)},Hn=0,Jn=At;Hn<Jn.length&&"break"!==gn(Jn[Hn]);Hn++);xr.label=2;case 2:return 0===De.length&&(De=Object.values(k)),[4,Promise.all(De)];case 3:return xr.sent(),S(Fo.EVENT,z,ce||{}),[3,5];case 4:return Wr=xr.sent(),fs.error(Wr),[3,5];case 5:return[2]}})})}var ys,uo=((ys={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",ys["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",ys["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",ys["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ys["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ys["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",ys["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",ys["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',ys["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',ys),na=new Tt.ErrorFactory("analytics","Analytics",uo),td=new(function(){function S(k,O){void 0===k&&(k={}),void 0===O&&(O=1e3),this.throttleMetadata=k,this.intervalMillis=O}return S.prototype.getThrottleMetadata=function(k){return this.throttleMetadata[k]},S.prototype.setThrottleMetadata=function(k,O){this.throttleMetadata[k]=O},S.prototype.deleteThrottleMetadata=function(k){delete this.throttleMetadata[k]},S}());function Lu(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function Bu(S){var k;return(0,te.__awaiter)(this,void 0,void 0,function(){var O,ce,De,At,$t,gn;return(0,te.__generator)(this,function(Hn){switch(Hn.label){case 0:return O=S.appId,ce={method:"GET",headers:Lu(S.apiKey)},De="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",O),[4,fetch(De,ce)];case 1:if(200===(At=Hn.sent()).status||304===At.status)return[3,6];$t="",Hn.label=2;case 2:return Hn.trys.push([2,4,,5]),[4,At.json()];case 3:return gn=Hn.sent(),(null===(k=gn.error)||void 0===k?void 0:k.message)&&($t=gn.error.message),[3,5];case 4:return Hn.sent(),[3,5];case 5:throw na.create("config-fetch-failed",{httpStatus:At.status,responseMessage:$t});case 6:return[2,At.json()]}})})}function Uc(S,k,O,z){var ce=k.throttleEndTimeMillis,De=k.backoffCount;return void 0===z&&(z=td),(0,te.__awaiter)(this,void 0,void 0,function(){var At,$t,gn,Hn,Jn,zi,Wi;return(0,te.__generator)(this,function(Wr){switch(Wr.label){case 0:At=S.appId,$t=S.measurementId,Wr.label=1;case 1:return Wr.trys.push([1,3,,4]),[4,Go(O,ce)];case 2:return Wr.sent(),[3,4];case 3:if(gn=Wr.sent(),$t)return fs.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+$t+' provided in the "measurementId" field in the local Firebase config. ['+gn.message+"]"),[2,{appId:At,measurementId:$t}];throw gn;case 4:return Wr.trys.push([4,6,,7]),[4,Bu(S)];case 5:return Hn=Wr.sent(),z.deleteThrottleMetadata(At),[2,Hn];case 6:if(!function ql(S){if(!(S instanceof Tt.FirebaseError&&S.customData))return!1;var k=Number(S.customData.httpStatus);return 429===k||500===k||503===k||504===k}(Jn=Wr.sent())){if(z.deleteThrottleMetadata(At),$t)return fs.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+$t+' provided in the "measurementId" field in the local Firebase config. ['+Jn.message+"]"),[2,{appId:At,measurementId:$t}];throw Jn}return zi=503===Number(Jn.customData.httpStatus)?(0,Tt.calculateBackoffMillis)(De,z.intervalMillis,30):(0,Tt.calculateBackoffMillis)(De,z.intervalMillis),Wi={throttleEndTimeMillis:Date.now()+zi,backoffCount:De+1},z.setThrottleMetadata(At,Wi),fs.debug("Calling attemptFetch again in "+zi+" millis"),[2,Uc(S,Wi,O,z)];case 7:return[2]}})})}function Go(S,k){return new Promise(function(O,z){var ce=Math.max(k-Date.now(),0),De=setTimeout(O,ce);S.addEventListener(function(){clearTimeout(De),z(na.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}var ca=function(){function S(){this.listeners=[]}return S.prototype.addEventListener=function(k){this.listeners.push(k)},S.prototype.abort=function(){this.listeners.forEach(function(k){return k()})},S}();var Vc,Kl,zo={},ks=[],fl={},pl="dataLayer",Al="gtag",gl=!1;function ml(S){if(gl)throw na.create("already-initialized");S.dataLayerName&&(pl=S.dataLayerName),S.gtagName&&(Al=S.gtagName)}function Ql(S,k){!function Ns(){var S=[];if((0,Tt.isBrowserExtension)()&&S.push("This is a browser extension environment."),(0,Tt.areCookiesEnabled)()||S.push("Cookies are not available."),S.length>0){var k=S.map(function(z,ce){return"("+(ce+1)+") "+z}).join(" "),O=na.create("invalid-analytics-context",{errorInfo:k});fs.warn(O.message)}}();var O=S.options.appId;if(!O)throw na.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw na.create("no-api-key");fs.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+S.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=zo[O])throw na.create("already-exists",{id:O});if(!gl){!function nl(S){var k=[];Array.isArray(window[S])?k=window[S]:window[S]=k}(pl);var z=function Ta(S,k,O,z,ce){var De=function(){for(var At=[],$t=0;$t<arguments.length;$t++)At[$t]=arguments[$t];window[z].push(arguments)};return window[ce]&&"function"==typeof window[ce]&&(De=window[ce]),window[ce]=function La(S,k,O,z){return function ce(De,At,$t){return(0,te.__awaiter)(this,void 0,void 0,function(){var gn;return(0,te.__generator)(this,function(Hn){switch(Hn.label){case 0:return Hn.trys.push([0,6,,7]),De!==Fo.EVENT?[3,2]:[4,Qc(S,k,O,At,$t)];case 1:return Hn.sent(),[3,5];case 2:return De!==Fo.CONFIG?[3,4]:[4,ta(S,k,O,z,At,$t)];case 3:return Hn.sent(),[3,5];case 4:S(Fo.SET,At),Hn.label=5;case 5:return[3,7];case 6:return gn=Hn.sent(),fs.error(gn),[3,7];case 7:return[2]}})})}}(De,S,k,O),{gtagCore:De,wrappedGtag:window[ce]}}(zo,ks,fl,pl,Al);Kl=z.wrappedGtag,Vc=z.gtagCore,gl=!0}zo[O]=function Xc(S,k,O,z,ce,De){return(0,te.__awaiter)(this,void 0,void 0,function(){var At,$t,gn,Hn,Jn,zi,Wi;return(0,te.__generator)(this,function(Wr){switch(Wr.label){case 0:return At=function Os(S,k,O){return void 0===k&&(k=td),(0,te.__awaiter)(this,void 0,void 0,function(){var z,ce,De,At,$t,gn,Hn=this;return(0,te.__generator)(this,function(Jn){if(De=(z=S.options).apiKey,At=z.measurementId,!(ce=z.appId))throw na.create("no-app-id");if(!De){if(At)return[2,{measurementId:At,appId:ce}];throw na.create("no-api-key")}return $t=k.getThrottleMetadata(ce)||{backoffCount:0,throttleEndTimeMillis:Date.now()},gn=new ca,setTimeout(function(){return(0,te.__awaiter)(Hn,void 0,void 0,function(){return(0,te.__generator)(this,function(zi){return gn.abort(),[2]})})},void 0!==O?O:6e4),[2,Uc({appId:ce,apiKey:De,measurementId:At},$t,gn,k)]})})}(S),At.then(function(xr){O[xr.measurementId]=xr.appId,S.options.measurementId&&xr.measurementId!==S.options.measurementId&&fs.warn("The measurement ID in the local Firebase config ("+S.options.measurementId+") does not match the measurement ID fetched from the server ("+xr.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(xr){return fs.error(xr)}),k.push(At),$t=function Jc(){return(0,te.__awaiter)(this,void 0,void 0,function(){var S;return(0,te.__generator)(this,function(k){switch(k.label){case 0:return(0,Tt.isIndexedDBAvailable)()?[3,1]:(fs.warn(na.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return k.trys.push([1,3,,4]),[4,(0,Tt.validateIndexedDBOpenable)()];case 2:return k.sent(),[3,4];case 3:return S=k.sent(),fs.warn(na.create("indexeddb-unavailable",{errorInfo:S}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(xr){if(xr)return z.getId()}),[4,Promise.all([At,$t])];case 1:return gn=Wr.sent(),Hn=gn[0],Jn=gn[1],function Bc(){for(var S=window.document.getElementsByTagName("script"),k=0,O=Object.values(S);k<O.length;k++){var z=O[k];if(z.src&&z.src.includes(Ea))return z}return null}()||function tl(S,k){var O=document.createElement("script");O.src=Ea+"?l="+S+"&id="+k,O.async=!0,document.head.appendChild(O)}(De,Hn.measurementId),ce("js",new Date),(Wi={}).origin="firebase",Wi.update=!0,zi=Wi,null!=Jn&&(zi.firebase_id=Jn),ce(Fo.CONFIG,Hn.measurementId,zi),[2,Hn.measurementId]}})})}(S,ks,fl,k,Vc,pl);var At={app:S,logEvent:function($t,gn,Hn){(function Ml(S,k,O,z,ce){return(0,te.__awaiter)(this,void 0,void 0,function(){var De,At;return(0,te.__generator)(this,function($t){switch($t.label){case 0:return ce&&ce.global?(S(Fo.EVENT,O,z),[2]):[3,1];case 1:return[4,k];case 2:De=$t.sent(),At=(0,te.__assign)((0,te.__assign)({},z),{send_to:De}),S(Fo.EVENT,O,At),$t.label=3;case 3:return[2]}})})})(Kl,zo[O],$t,gn,Hn).catch(function(Jn){return fs.error(Jn)})},setCurrentScreen:function($t,gn){(function Di(S,k,O,z){return(0,te.__awaiter)(this,void 0,void 0,function(){var ce;return(0,te.__generator)(this,function(De){switch(De.label){case 0:return z&&z.global?(S(Fo.SET,{screen_name:O}),[2,Promise.resolve()]):[3,1];case 1:return[4,k];case 2:ce=De.sent(),S(Fo.CONFIG,ce,{update:!0,screen_name:O}),De.label=3;case 3:return[2]}})})})(Kl,zo[O],$t,gn).catch(function(Hn){return fs.error(Hn)})},setUserId:function($t,gn){(function us(S,k,O,z){return(0,te.__awaiter)(this,void 0,void 0,function(){var ce;return(0,te.__generator)(this,function(De){switch(De.label){case 0:return z&&z.global?(S(Fo.SET,{user_id:O}),[2,Promise.resolve()]):[3,1];case 1:return[4,k];case 2:ce=De.sent(),S(Fo.CONFIG,ce,{update:!0,user_id:O}),De.label=3;case 3:return[2]}})})})(Kl,zo[O],$t,gn).catch(function(Hn){return fs.error(Hn)})},setUserProperties:function($t,gn){(function Fa(S,k,O,z){return(0,te.__awaiter)(this,void 0,void 0,function(){var ce,De,At,$t,gn;return(0,te.__generator)(this,function(Hn){switch(Hn.label){case 0:if(!z||!z.global)return[3,1];for(ce={},De=0,At=Object.keys(O);De<At.length;De++)ce["user_properties."+($t=At[De])]=O[$t];return S(Fo.SET,ce),[2,Promise.resolve()];case 1:return[4,k];case 2:gn=Hn.sent(),S(Fo.CONFIG,gn,{update:!0,user_properties:O}),Hn.label=3;case 3:return[2]}})})})(Kl,zo[O],$t,gn).catch(function(Hn){return fs.error(Hn)})},setAnalyticsCollectionEnabled:function($t){(function hl(S,k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O;return(0,te.__generator)(this,function(z){switch(z.label){case 0:return[4,S];case 1:return O=z.sent(),window["ga-disable-"+O]=!k,[2]}})})})(zo[O],$t).catch(function(gn){return fs.error(gn)})},INTERNAL:{delete:function(){return delete zo[O],Promise.resolve()}}};return At}var tu="analytics";function Uu(){return(0,te.__awaiter)(this,void 0,void 0,function(){return(0,te.__generator)(this,function(k){switch(k.label){case 0:if((0,Tt.isBrowserExtension)())return[2,!1];if(!(0,Tt.areCookiesEnabled)())return[2,!1];if(!(0,Tt.isIndexedDBAvailable)())return[2,!1];k.label=1;case 1:return k.trys.push([1,3,,4]),[4,(0,Tt.validateIndexedDBOpenable)()];case 2:return[2,k.sent()];case 3:return k.sent(),[2,!1];case 4:return[2]}})})}!function bu(S){S.INTERNAL.registerComponent(new Qe.Component(tu,function(O){return Ql(O.getProvider("app").getImmediate(),O.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:ml,EventName:Lo,isSupported:Uu})),S.INTERNAL.registerComponent(new Qe.Component("analytics-internal",function k(O){try{return{logEvent:O.getProvider(tu).getImmediate().logEvent}}catch(ce){throw na.create("interop-component-reg-failed",{reason:ce})}},"PRIVATE")),S.registerVersion("@firebase/analytics","0.6.17")}(ke.default);var Ps,Xl=function(){function S(k,O,z,ce){this.client=k,this.storage=O,this.storageCache=z,this.logger=ce}return S.prototype.isCachedDataFresh=function(k,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var z=Date.now()-O,ce=z<=k;return this.logger.debug("Config fetch cache check. Cache age millis: "+z+". Cache max age millis (minimumFetchIntervalMillis setting): "+k+". Is cache hit: "+ce+"."),ce},S.prototype.fetch=function(k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O,z,ce,De,At;return(0,te.__generator)(this,function($t){switch($t.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return O=$t.sent(),z=O[0],(ce=O[1])&&this.isCachedDataFresh(k.cacheMaxAgeMillis,z)?[2,ce]:(k.eTag=ce&&ce.eTag,[4,this.client.fetch(k)]);case 2:return De=$t.sent(),At=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===De.status&&At.push(this.storage.setLastSuccessfulFetchResponse(De)),[4,Promise.all(At)];case 3:return $t.sent(),[2,De]}})})},S}(),ia=((Ps={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Ps["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Ps["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Ps["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Ps["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Ps["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Ps["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Ps["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Ps["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Ps["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Ps["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Ps["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Ps["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Ps),Gs=new Tt.ErrorFactory("remoteconfig","Remote Config",ia);function ec(S){return void 0===S&&(S=navigator),S.languages&&S.languages[0]||S.language}var bc=function(){function S(k,O,z,ce,De,At){this.firebaseInstallations=k,this.sdkVersion=O,this.namespace=z,this.projectId=ce,this.apiKey=De,this.appId=At}return S.prototype.fetch=function(k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O,De,At,$t,gn,Hn,Jn,zi,Wi,Wr,xr,Do,Qo,Bs,ws,Xs,ka;return(0,te.__generator)(this,function(Ms){switch(Ms.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:O=Ms.sent(),De=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",At=De+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,$t={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},gn={sdk_version:this.sdkVersion,app_instance_id:O[0],app_instance_id_token:O[1],app_id:this.appId,language_code:ec()},Hn={method:"POST",headers:$t,body:JSON.stringify(gn)},Jn=fetch(At,Hn),zi=new Promise(function(cl,as){k.signal.addEventListener(function(){var Ua=new Error("The operation was aborted.");Ua.name="AbortError",as(Ua)})}),Ms.label=2;case 2:return Ms.trys.push([2,5,,6]),[4,Promise.race([Jn,zi])];case 3:return Ms.sent(),[4,Jn];case 4:return Wi=Ms.sent(),[3,6];case 5:throw Wr=Ms.sent(),xr="fetch-client-network","AbortError"===Wr.name&&(xr="fetch-timeout"),Gs.create(xr,{originalErrorMessage:Wr.message});case 6:if(Do=Wi.status,Qo=Wi.headers.get("ETag")||void 0,200!==Wi.status)return[3,11];Xs=void 0,Ms.label=7;case 7:return Ms.trys.push([7,9,,10]),[4,Wi.json()];case 8:return Xs=Ms.sent(),[3,10];case 9:throw ka=Ms.sent(),Gs.create("fetch-client-parse",{originalErrorMessage:ka.message});case 10:Bs=Xs.entries,ws=Xs.state,Ms.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===ws?Do=500:"NO_CHANGE"===ws?Do=304:("NO_TEMPLATE"===ws||"EMPTY_CONFIG"===ws)&&(Bs={}),304!==Do&&200!==Do)throw Gs.create("fetch-status",{httpStatus:Do});return[2,{status:Do,eTag:Qo,config:Bs}]}})})},S}(),xa=function(){function S(){this.listeners=[]}return S.prototype.addEventListener=function(k){this.listeners.push(k)},S.prototype.abort=function(){this.listeners.forEach(function(k){return k()})},S}(),wu=["1","true","t","yes","y","on"],vl=function(){function S(k,O){void 0===O&&(O=""),this._source=k,this._value=O}return S.prototype.asString=function(){return this._value},S.prototype.asBoolean=function(){return"static"!==this._source&&wu.indexOf(this._value.toLowerCase())>=0},S.prototype.asNumber=function(){if("static"===this._source)return 0;var k=Number(this._value);return isNaN(k)&&(k=0),k},S.prototype.getSource=function(){return this._source},S}(),kl=function(){function S(k,O,z,ce,De){this.app=k,this._client=O,this._storageCache=z,this._storage=ce,this._logger=De,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return S.prototype.setLogLevel=function(k){switch(k){case"debug":this._logger.logLevel=hn.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=hn.LogLevel.SILENT;break;default:this._logger.logLevel=hn.LogLevel.ERROR}},Object.defineProperty(S.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),S.prototype.activate=function(){return(0,te.__awaiter)(this,void 0,void 0,function(){var k,O,z;return(0,te.__generator)(this,function(ce){switch(ce.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return k=ce.sent(),z=k[1],(O=k[0])&&O.config&&O.eTag&&O.eTag!==z?[4,Promise.all([this._storageCache.setActiveConfig(O.config),this._storage.setActiveConfigEtag(O.eTag)])]:[2,!1];case 2:return ce.sent(),[2,!0]}})})},S.prototype.ensureInitialized=function(){var k=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){k._isInitializationComplete=!0})),this._initializePromise},S.prototype.fetch=function(){return(0,te.__awaiter)(this,void 0,void 0,function(){var k,O,z,ce=this;return(0,te.__generator)(this,function(De){switch(De.label){case 0:k=new xa,setTimeout(function(){return(0,te.__awaiter)(ce,void 0,void 0,function(){return(0,te.__generator)(this,function(At){return k.abort(),[2]})})},this.settings.fetchTimeoutMillis),De.label=1;case 1:return De.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:k})];case 2:return De.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return De.sent(),[3,6];case 4:return O=De.sent(),z=function _l(S,k){return S instanceof Tt.FirebaseError&&-1!==S.code.indexOf(k)}(O,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(z)];case 5:throw De.sent(),O;case 6:return[2]}})})},S.prototype.fetchAndActivate=function(){return(0,te.__awaiter)(this,void 0,void 0,function(){return(0,te.__generator)(this,function(k){switch(k.label){case 0:return[4,this.fetch()];case 1:return k.sent(),[2,this.activate()]}})})},S.prototype.getAll=function(){var k=this;return function ja(S,k){return void 0===S&&(S={}),void 0===k&&(k={}),Object.keys((0,te.__assign)((0,te.__assign)({},S),k))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(O,z){return O[z]=k.getValue(z),O},{})},S.prototype.getBoolean=function(k){return this.getValue(k).asBoolean()},S.prototype.getNumber=function(k){return this.getValue(k).asNumber()},S.prototype.getString=function(k){return this.getValue(k).asString()},S.prototype.getValue=function(k){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+k+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var O=this._storageCache.getActiveConfig();return O&&void 0!==O[k]?new vl("remote",O[k]):this.defaultConfig&&void 0!==this.defaultConfig[k]?new vl("default",String(this.defaultConfig[k])):(this._logger.debug('Returning static value for key "'+k+'". Define a default or remote value if this is unintentional.'),new vl("static"))},S}();function ua(S,k){var O=S.target.error||void 0;return Gs.create(k,{originalErrorMessage:O&&O.message})}var Ko="app_namespace_store",Nl=function(){function S(k,O,z,ce){void 0===ce&&(ce=function Hc(){return new Promise(function(S,k){var O=indexedDB.open("firebase_remote_config",1);O.onerror=function(z){k(ua(z,"storage-open"))},O.onsuccess=function(z){S(z.target.result)},O.onupgradeneeded=function(z){0===z.oldVersion&&z.target.result.createObjectStore(Ko,{keyPath:"compositeKey"})}})}()),this.appId=k,this.appName=O,this.namespace=z,this.openDbPromise=ce}return S.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},S.prototype.setLastFetchStatus=function(k){return this.set("last_fetch_status",k)},S.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},S.prototype.setLastSuccessfulFetchTimestampMillis=function(k){return this.set("last_successful_fetch_timestamp_millis",k)},S.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},S.prototype.setLastSuccessfulFetchResponse=function(k){return this.set("last_successful_fetch_response",k)},S.prototype.getActiveConfig=function(){return this.get("active_config")},S.prototype.setActiveConfig=function(k){return this.set("active_config",k)},S.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},S.prototype.setActiveConfigEtag=function(k){return this.set("active_config_etag",k)},S.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},S.prototype.setThrottleMetadata=function(k){return this.set("throttle_metadata",k)},S.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},S.prototype.get=function(k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O,z=this;return(0,te.__generator)(this,function(ce){switch(ce.label){case 0:return[4,this.openDbPromise];case 1:return O=ce.sent(),[2,new Promise(function(De,At){var gn=O.transaction([Ko],"readonly").objectStore(Ko),Hn=z.createCompositeKey(k);try{var Jn=gn.get(Hn);Jn.onerror=function(zi){At(ua(zi,"storage-get"))},Jn.onsuccess=function(zi){var Wi=zi.target.result;De(Wi?Wi.value:void 0)}}catch(zi){At(Gs.create("storage-get",{originalErrorMessage:zi&&zi.message}))}})]}})})},S.prototype.set=function(k,O){return(0,te.__awaiter)(this,void 0,void 0,function(){var z,ce=this;return(0,te.__generator)(this,function(De){switch(De.label){case 0:return[4,this.openDbPromise];case 1:return z=De.sent(),[2,new Promise(function(At,$t){var Hn=z.transaction([Ko],"readwrite").objectStore(Ko),Jn=ce.createCompositeKey(k);try{var zi=Hn.put({compositeKey:Jn,value:O});zi.onerror=function(Wi){$t(ua(Wi,"storage-set"))},zi.onsuccess=function(){At()}}catch(Wi){$t(Gs.create("storage-set",{originalErrorMessage:Wi&&Wi.message}))}})]}})})},S.prototype.delete=function(k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O,z=this;return(0,te.__generator)(this,function(ce){switch(ce.label){case 0:return[4,this.openDbPromise];case 1:return O=ce.sent(),[2,new Promise(function(De,At){var gn=O.transaction([Ko],"readwrite").objectStore(Ko),Hn=z.createCompositeKey(k);try{var Jn=gn.delete(Hn);Jn.onerror=function(zi){At(ua(zi,"storage-delete"))},Jn.onsuccess=function(){De()}}catch(zi){At(Gs.create("storage-delete",{originalErrorMessage:zi&&zi.message}))}})]}})})},S.prototype.createCompositeKey=function(k){return[this.appId,this.appName,this.namespace,k].join()},S}(),yl=function(){function S(k){this.storage=k}return S.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},S.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},S.prototype.getActiveConfig=function(){return this.activeConfig},S.prototype.loadFromStorage=function(){return(0,te.__awaiter)(this,void 0,void 0,function(){var k,O,z,ce,De,At;return(0,te.__generator)(this,function($t){switch($t.label){case 0:return k=this.storage.getLastFetchStatus(),O=this.storage.getLastSuccessfulFetchTimestampMillis(),z=this.storage.getActiveConfig(),[4,k];case 1:return(ce=$t.sent())&&(this.lastFetchStatus=ce),[4,O];case 2:return(De=$t.sent())&&(this.lastSuccessfulFetchTimestampMillis=De),[4,z];case 3:return(At=$t.sent())&&(this.activeConfig=At),[2]}})})},S.prototype.setLastFetchStatus=function(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)},S.prototype.setLastSuccessfulFetchTimestampMillis=function(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)},S.prototype.setActiveConfig=function(k){return this.activeConfig=k,this.storage.setActiveConfig(k)},S}();function Ma(S,k){return new Promise(function(O,z){var ce=Math.max(k-Date.now(),0),De=setTimeout(O,ce);S.addEventListener(function(){clearTimeout(De),z(Gs.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}var Sa=function(){function S(k,O){this.client=k,this.storage=O}return S.prototype.fetch=function(k){return(0,te.__awaiter)(this,void 0,void 0,function(){var O;return(0,te.__generator)(this,function(z){switch(z.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return O=z.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(k,O)]}})})},S.prototype.attemptFetch=function(k,O){var z=O.throttleEndTimeMillis,ce=O.backoffCount;return(0,te.__awaiter)(this,void 0,void 0,function(){var De,At,$t;return(0,te.__generator)(this,function(gn){switch(gn.label){case 0:return[4,Ma(k.signal,z)];case 1:gn.sent(),gn.label=2;case 2:return gn.trys.push([2,5,,7]),[4,this.client.fetch(k)];case 3:return De=gn.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return gn.sent(),[2,De];case 5:if(!function ga(S){if(!(S instanceof Tt.FirebaseError&&S.customData))return!1;var k=Number(S.customData.httpStatus);return 429===k||500===k||503===k||504===k}(At=gn.sent()))throw At;return $t={throttleEndTimeMillis:Date.now()+(0,Tt.calculateBackoffMillis)(ce),backoffCount:ce+1},[4,this.storage.setThrottleMetadata($t)];case 6:return gn.sent(),[2,this.attemptFetch(k,$t)];case 7:return[2]}})})},S}(),ps="@firebase/remote-config";!function bl(S){S.INTERNAL.registerComponent(new Qe.Component("remoteConfig",function k(O,z){var ce=z.instanceIdentifier,De=O.getProvider("app").getImmediate(),At=O.getProvider("installations").getImmediate();if("undefined"==typeof window)throw Gs.create("registration-window");var $t=De.options,gn=$t.projectId,Hn=$t.apiKey,Jn=$t.appId;if(!gn)throw Gs.create("registration-project-id");if(!Hn)throw Gs.create("registration-api-key");if(!Jn)throw Gs.create("registration-app-id");var zi=new Nl(Jn,De.name,ce=ce||"firebase"),Wi=new yl(zi),Wr=new hn.Logger(ps);Wr.logLevel=hn.LogLevel.ERROR;var xr=new bc(At,S.SDK_VERSION,ce,gn,Hn,Jn),Do=new Sa(xr,zi),Qo=new Xl(Do,zi,Wi,Wr),Bs=new kl(De,Qo,Wi,zi,Wr);return Bs.ensureInitialized(),Bs},"PUBLIC").setMultipleInstances(!0)),S.registerVersion(ps,"0.1.42")}(ke.default),A(2106),ke.default.registerVersion("firebase","8.9.1","app"),ke.default.SDK_VERSION="8.9.1",console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),ke.default.registerVersion("firebase","8.9.1");var tc=A(5895),qs=A(345),Fs=A(7440),tr=A(3075),oo=A(4999);function Cc(S,k){1&S&&(e.TgZ(0,"th",29),e._uU(1,"Department Name"),e.qZA())}function wl(S,k){if(1&S&&(e.TgZ(0,"td",30),e._uU(1),e.qZA()),2&S){const O=k.$implicit;e.xp6(1),e.Oqu(O.dept_name)}}function Du(S,k){1&S&&(e.TgZ(0,"th",29),e._uU(1,"Department Classes"),e.qZA())}function rl(S,k){if(1&S&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&S){const O=k.$implicit;e.xp6(1),e.Oqu(O.class_name)}}function Ga(S,k){if(1&S&&(e.TgZ(0,"td",30),e.ynx(1),e.TgZ(2,"ol"),e.YNc(3,rl,2,1,"li",31),e.qZA(),e.BQk(),e.qZA()),2&S){const O=k.$implicit;e.xp6(3),e.Q6J("ngForOf",O.classes)}}function Aa(S,k){1&S&&(e.TgZ(0,"th",29),e._uU(1,"operation"),e.qZA())}function nd(S,k){if(1&S){const O=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(O);const ce=e.oxw().$implicit;return e.oxw(3).deleField(ce.id)}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA(),e._uU(3,"Drop Classes"),e.qZA()}}function oa(S,k){if(1&S){const O=e.EpF();e.TgZ(0,"td",30)(1,"div",32)(2,"div",33)(3,"div",34)(4,"h5"),e._uU(5,"Edit Department"),e.qZA(),e.TgZ(6,"label")(7,"b"),e._uU(8,"Name of Department:"),e.qZA()(),e._UZ(9,"br"),e.TgZ(10,"input",35),e.NdJ("ngModelChange",function(ce){return e.CHM(O),e.oxw(3).dept_name=ce}),e.qZA(),e.TgZ(11,"input",36),e.NdJ("ngModelChange",function(ce){return e.CHM(O),e.oxw(3).chosenDept=ce}),e.qZA(),e.TgZ(12,"input",36),e.NdJ("ngModelChange",function(ce){return e.CHM(O),e.oxw(3).choseId=ce}),e.qZA()(),e.TgZ(13,"div",37)(14,"button",38),e.NdJ("click",function(){e.CHM(O);const ce=e.oxw(3);return ce.updateDepartmenty(ce.dept_name,ce.chosenDept,ce.choseId)}),e._uU(15,"Update Department"),e.qZA()(),e._UZ(16,"br"),e.qZA()(),e.TgZ(17,"div",39)(18,"div",40)(19,"div",34)(20,"h3"),e._uU(21,"Deleting Department will erase "),e._UZ(22,"br"),e._uU(23," everything about the "),e._UZ(24,"br"),e._uU(25," Department in the System"),e.qZA(),e.TgZ(26,"p"),e._uU(27,"Do you still want to delete "),e._UZ(28,"br"),e.TgZ(29,"span",41),e._uU(30),e.qZA(),e._uU(31,"?"),e.qZA()(),e.TgZ(32,"div",37)(33,"button",42),e.NdJ("click",function(){return e.CHM(O),e.oxw(3).refresh()}),e.TgZ(34,"span",43)(35,"b"),e._uU(36,"No"),e.qZA()()(),e.TgZ(37,"button",42),e.NdJ("click",function(){e.CHM(O);const ce=e.oxw(3);return ce.DelewteDepartment(ce.selectedid)}),e.TgZ(38,"span",44)(39,"b"),e._uU(40,"Yes"),e.qZA()()()(),e._UZ(41,"br"),e.qZA()(),e.TgZ(42,"button",45),e.NdJ("click",function(){const De=e.CHM(O).$implicit;return e.oxw(3).addClasses(De.id,De.dept_name,De.dept_id)}),e.TgZ(43,"mat-icon"),e._uU(44,"add_box"),e.qZA(),e._uU(45,"new classes "),e.qZA(),e.YNc(46,nd,4,0,"button",46),e.TgZ(47,"a",47)(48,"button",48),e.NdJ("click",function(){const De=e.CHM(O).$implicit;return e.oxw(3).edit(De.id,De.dept_id,De.dept_name)}),e.TgZ(49,"mat-icon",49),e._uU(50,"edit"),e.qZA(),e._uU(51," Edit "),e.qZA()(),e.TgZ(52,"a",50)(53,"button",48),e.NdJ("click",function(){const De=e.CHM(O).$implicit;return e.oxw(3).deleteDept(De.id,De.dept_name,De.dept_id)}),e.TgZ(54,"mat-icon",51),e._uU(55,"delete"),e.qZA(),e._uU(56," Delete "),e.qZA()()()}if(2&S){const O=k.$implicit,z=e.oxw(3);e.xp6(10),e.Q6J("ngModel",z.dept_name),e.xp6(1),e.Q6J("ngModel",z.chosenDept),e.xp6(1),e.Q6J("ngModel",z.choseId),e.xp6(18),e.Oqu(z.name),e.xp6(16),e.Q6J("ngIf",O.classes)}}function Dc(S,k){1&S&&e._UZ(0,"tr",53)}function Ll(S,k){if(1&S){const O=e.EpF();e.TgZ(0,"tr",54),e.NdJ("click",function(){const De=e.CHM(O).$implicit;return e.oxw(3).clickedRows.add(De)}),e.qZA()}if(2&S){const O=k.$implicit,z=e.oxw(3);e.ekj("demo-row-is-clicked",z.clickedRows.has(O))}}function _a(S,k){if(1&S&&(e.TgZ(0,"table",21),e.ynx(1,22),e.YNc(2,Cc,2,0,"th",23),e.YNc(3,wl,2,1,"td",24),e.BQk(),e.ynx(4,25),e.YNc(5,Du,2,0,"th",23),e.YNc(6,Ga,4,1,"td",24),e.BQk(),e.ynx(7,26),e.YNc(8,Aa,2,0,"th",23),e.YNc(9,oa,57,5,"td",24),e.BQk(),e.YNc(10,Dc,1,0,"tr",27),e.YNc(11,Ll,1,2,"tr",28),e.qZA()),2&S){const O=e.oxw(2);e.Q6J("dataSource",O.dataSource),e.xp6(10),e.Q6J("matHeaderRowDef",O.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",O.displayedColumns)}}function jc(S,k){if(1&S){const O=e.EpF();e.TgZ(0,"div",64)(1,"button",65),e.NdJ("click",function(){e.CHM(O);const ce=e.oxw().index;return e.oxw(2).removeClassField(ce)}),e._uU(2,"Remove"),e.qZA()()}}function iu(S,k){if(1&S&&(e.ynx(0,55)(1,56),e.TgZ(2,"div",57)(3,"h4")(4,"b"),e._uU(5),e.qZA()(),e.TgZ(6,"div",15)(7,"div",58),e._UZ(8,"input",59),e.qZA()(),e.TgZ(9,"div",15)(10,"div",60)(11,"span"),e._uU(12," Class Name:"),e.qZA()(),e.TgZ(13,"div",61),e._UZ(14,"input",62),e.qZA()()(),e.BQk(),e.TgZ(15,"div",13)(16,"div",15),e.YNc(17,jc,3,0,"div",63),e.qZA()(),e.BQk()),2&S){const O=k.index,z=e.oxw(2);e.xp6(1),e.Q6J("formGroupName",O),e.xp6(4),e.hij("Class No.",z.cal(O),""),e.xp6(12),e.Q6J("ngIf",O>0)}}function ds(S,k){if(1&S){const O=e.EpF();e.TgZ(0,"div",2)(1,"h2",3),e._uU(2,"Departments at Michuki TTI"),e.qZA(),e.YNc(3,_a,12,3,"table",4),e.TgZ(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"div",9)(9,"h3",10),e._uU(10),e.qZA(),e._UZ(11,"button",11),e.qZA(),e.TgZ(12,"div",12)(13,"div",13)(14,"form",14),e.NdJ("ngSubmit",function(){return e.CHM(O),e.oxw().postClass()}),e.TgZ(15,"div",15),e.YNc(16,iu,18,3,"ng-container",16),e.qZA(),e._UZ(17,"hr"),e.TgZ(18,"div",15)(19,"div",17)(20,"button",18),e.NdJ("click",function(){return e.CHM(O),e.oxw().addAclass()}),e._uU(21,"Add Class"),e.qZA()(),e.TgZ(22,"div",19)(23,"button",20),e._uU(24,"Submit "),e.qZA()()()()()()()()()()()}if(2&S){const O=e.oxw();e.xp6(3),e.Q6J("ngIf",O.dataSource),e.xp6(7),e.hij("Add classes for ",O.nameofClasses,""),e.xp6(4),e.Q6J("formGroup",O.form),e.xp6(2),e.Q6J("ngForOf",O.classes.controls)}}function Gc(S,k){1&S&&(e.TgZ(0,"div",66)(1,"div",67)(2,"span",68),e._uU(3,"Loading..."),e.qZA()()())}let zc=(()=>{class S{constructor(O,z,ce,De){this.deptService=O,this.afs=z,this.notification=ce,this.formBuilder=De,this.displayedColumns=["Department Name","Department Classes","operation"],this.data=[{class_name:null,class_id:Math.floor(1e5*Math.random())}],this.clickedRows=new Set}ngOnInit(){this.deptService.Departments.subscribe(O=>{this.dataSource=O}),this.form=this.formBuilder.group({classes:this.formBuilder.array(this.data.map(O=>this.formBuilder.group(O)))})}get classes(){return this.form.get("classes")}removeClassField(O){this.classes.removeAt(O)}addAclass(){this.classes.push(this.formBuilder.group({class_name:null,class_id:Math.floor(1e4*Math.random())}))}cal(O){return O+1}edit(O,z,ce){this.chosenDept=z,this.choseId=O,this.dept_name=ce}updateDepartmenty(O,z,ce){const De={dept_id:z,dept_name:O};this.afs.doc(`departments/${ce}`).update(De).then(At=>{this.notification.success("Updated Successfully")}).catch(At=>{this.notification.delete(At)})}deleteDept(O,z,ce){this.name=z,this.selectedid=O,this.dept_id=ce}refresh(){window.location.reload()}DelewteDepartment(O){let z=this.dept_id+"";this.afs.collection("categories",ce=>ce.where("dept_id","==",z)).valueChanges().subscribe(ce=>{if(ce.length>0){let De=ce[0].level;this.afs.collection("courses").doc(`departmentNo_${this.dept_id}`).collection(`${De}_${this.dept_id}`,At=>At.where("dept_id","==",z).where("level","==",De)).valueChanges().subscribe(At=>{if(At.length>0){let $t=At.length;for(let gn=0;gn<$t;gn++){let Hn=At[gn].course_name;this.afs.collection("Units").doc(`${this.dept_id}_${De}`).collection(`${Hn}_${De}`,Jn=>Jn.where("course_name","==",Hn)).valueChanges().subscribe(Jn=>{Jn.length>0?this.afs.collection("Units").doc(`${this.dept_id}_${De}`).collection(`${Hn}_${De}`,zi=>zi.where("course_name","==",Hn)).get().toPromise().then(zi=>{zi.forEach(Wi=>{Wi.ref.delete().then(Wr=>{this.afs.collection("course_type_examinationbody").doc(`foreDept_${this.dept_id}`).collection(`${this.dept_id}_${De}`,xr=>xr.where("dept_id","==",z).where("course_name","==",Hn)).valueChanges().subscribe(xr=>{if(xr.length>0)for(let Do=0;Do<xr.length;Do++){if(null==xr[Do].category_type){let Qo=xr[Do].category_type2;this.afs.collection("Monules-Non-module-Units").doc(`${De}_${this.dept_id}`).collection(`${Hn}_${Qo}`,Bs=>Bs.where("course_type","==",Qo)).valueChanges().subscribe(Bs=>{this.afs.collection("Monules-Non-module-Units").doc(`${De}_${this.dept_id}`).collection(`${Hn}_${Qo}`,ws=>ws.where("course_type","==",Qo)).get().toPromise().then(ws=>{ws.forEach(Xs=>{Xs.ref.delete().then(ka=>{this.afs.collection("courses").doc(`departmentNo_${this.dept_id}`).collection(`${De}_${this.dept_id}`,Ms=>Ms.where("dept_id","==",z).where("level","==",De)).get().toPromise().then(Ms=>{Ms.forEach(cl=>{cl.ref.delete().then(as=>{this.afs.collection("Semester_Units").doc(`${this.dept_id}_${De}`).delete(),this.afs.collection("departments").doc(`${O}`).delete().then(Ua=>{this.afs.collection("categories",El=>El.where("dept_id","==",z)).get().toPromise().then(El=>{El.forEach(lu=>{lu.ref.delete().then(dc=>{this.notification.success("Deleted Succesfully")}).catch(dc=>this.notification.delete(dc))})})}).catch(Ua=>this.notification.delete(Ua))}).catch(as=>this.notification.delete(as))})})}).catch(ka=>this.notification.delete(ka))})})})}if(null!=xr[Do].category_type){let Qo=xr[Do].category_type[Do];Qo.length>0&&this.afs.collection("Monules-Non-module-Units").doc(`${De}_${this.dept_id}`).collection(`${Hn}_${Qo}`,Bs=>Bs.where("course_type","==",Qo)).valueChanges().subscribe(Bs=>{Bs.length>0&&this.afs.collection("Monules-Non-module-Units").doc(`${De}_${this.dept_id}`).collection(`${Hn}_${Qo}`,ws=>ws.where("course_type","==",Qo)).get().toPromise().then(ws=>{ws.forEach(Xs=>{Xs.ref.delete().then(ka=>{this.afs.collection("courses").doc(`departmentNo_${this.dept_id}`).collection(`${De}_${this.dept_id}`,Ms=>Ms.where("dept_id","==",z).where("level","==",De)).get().toPromise().then(Ms=>{Ms.forEach(cl=>{cl.ref.delete().then(as=>{this.afs.collection("Semester_Units").doc(`${this.dept_id}_${De}`).delete(),this.afs.collection("departments").doc(`${O}`).delete().then(Ua=>{this.afs.collection("categories",El=>El.where("dept_id","==",z)).get().toPromise().then(El=>{El.forEach(lu=>{lu.ref.delete().then(dc=>{this.notification.success("Deleted Succesfully")}).catch(dc=>this.notification.delete(dc))})})}).catch(Ua=>this.notification.delete(Ua))}).catch(as=>this.notification.delete(as))})})}).catch(ka=>this.notification.delete(ka))})})})}}})}).catch(Wr=>this.notification.delete(Wr))})}):this.afs.collection("courses").doc(`departmentNo_${this.dept_id}`).collection(`${De}_${this.dept_id}`,zi=>zi.where("dept_id","==",z).where("level","==",De)).get().subscribe(zi=>{zi.empty?this.afs.collection("departments").doc(`${O}`).delete().then(Wi=>{this.afs.collection("categories",Wr=>Wr.where("dept_id","==",z)).get().toPromise().then(Wr=>{Wr.forEach(xr=>{xr.ref.delete().then(Do=>{this.notification.success("Deleted Succesfully")}).catch(Do=>this.notification.delete(Do))})})}).catch(Wi=>this.notification.delete(Wi)):this.afs.collection("courses").doc(`departmentNo_${this.dept_id}`).collection(`${De}_${this.dept_id}`,Wi=>Wi.where("dept_id","==",z).where("level","==",De)).get().toPromise().then(Wi=>{Wi.forEach(Wr=>{Wr.ref.delete().then(xr=>{this.afs.collection("Semester_Units").doc(`${this.dept_id}_${De}`).delete(),this.afs.collection("departments").doc(`${O}`).delete().then(Do=>{this.afs.collection("categories",Qo=>Qo.where("dept_id","==",z)).get().toPromise().then(Qo=>{Qo.forEach(Bs=>{Bs.ref.delete().then(ws=>{this.notification.success("Deleted Succesfully")}).catch(ws=>this.notification.delete(ws))})})}).catch(Do=>this.notification.delete(Do))}).catch(xr=>this.notification.delete(xr))})})})})}}else this.afs.collection("departments").doc(`${O}`).delete().then($t=>{this.afs.collection("categories",gn=>gn.where("dept_id","==",z)).get().toPromise().then(gn=>{gn.forEach(Hn=>{Hn.ref.delete().then(Jn=>{this.notification.success("Deleted Succesfully")}).catch(Jn=>this.notification.delete(Jn))})})}).catch($t=>this.notification.delete($t))})}else this.afs.collection("departments").doc(`${O}`).delete().then(De=>{this.afs.collection("categories",At=>At.where("dept_id","==",z)).get().toPromise().then(At=>{At.forEach($t=>{$t.ref.delete().then(gn=>{this.notification.success("Deleted Succesfully")}).catch(gn=>this.notification.delete(gn))})})}).catch(De=>this.notification.delete(De))})}deleField(O){this.afs.doc(`departments/${O}`).update({classes:ke.default.firestore.FieldValue.delete()}).then(De=>{this.notification.success("Classes Dropped")}).catch(De=>this.notification.delete(De))}addClasses(O,z,ce){this.nameofClasses=z,this.idToUpdate=O,this.d_idtoUpdate=ce}postClass(){const O={classes:this.form.value.classes};this.afs.doc(`departments/${this.idToUpdate}`).update(O).then(z=>{this.notification.success("Added Successfully")}).catch(z=>this.notification.delete(z))}}return S.\u0275fac=function(O){return new(O||S)(e.Y36(tc._),e.Y36(qs.ST),e.Y36(Fs.g),e.Y36(tr.qu))},S.\u0275cmp=e.Xpm({type:S,selectors:[["app-department-list"]],decls:2,vars:2,consts:[["class","container pt-4",4,"ngIf"],["class","d-flex justify-content-center pt-3",4,"ngIf"],[1,"container","pt-4"],[2,"text-align","center","font-size","large","font-family","Georgia, 'Times New Roman', Times, serif","letter-spacing","5px","color","#7D3C98","font-weight","900"],["mat-table","","class","mat-elevation-z8 demo-table","style","padding: 20px;",3,"dataSource",4,"ngIf"],[1,"container","p-4"],["id","AddClasses","tabindex","-1","aria-labelledby","AddClassesLabel","aria-hidden","true","data-mdb-backdrop","static","data-mdb-keyboard","false",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"background","#123EA4"],[1,"modal-header"],["id","AddClassesLabel",1,"modal-title",2,"color","white","font-family","'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"row"],["formArrayName","classes",4,"ngFor","ngForOf"],[1,"col-xs-6","col-sm-6","col-md-6"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"col-xs-6","col-sm-6","col-md-6",2,"justify-content","end","text-align","right"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-sm","btn-success"],["mat-table","",1,"mat-elevation-z8","demo-table",2,"padding","20px",3,"dataSource"],["matColumnDef","Department Name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Department Classes"],["matColumnDef","operation"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"demo-row-is-clicked","click",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[4,"ngFor","ngForOf"],["id","editDepartment"],["id","box"],[1,"form-group","p-1"],["type","text",1,"form-control","mt-1",3,"ngModel","ngModelChange"],["type","hidden",1,"form-control","mt-1",3,"ngModel","ngModelChange"],[1,"text-right","p-2"],["type","submit",1,"btn","btn-sm","btn-success","mx-2",3,"click"],["id","deleteDepartment"],["id","box2"],[2,"color","red"],["type","submit",1,"btn","btn-sm","mx-2",3,"click"],[1,"text-info"],[1,"text-success"],["mat-icon-button","","data-bs-toggle","modal","data-bs-target","#AddClasses",1,"mx-5",3,"click"],["class","mx-5","mat-icon-button","",3,"click",4,"ngIf"],["href","/mtti_mis_departments#editDepartment"],["mat-icon-button","",1,"mx-4",3,"click"],[2,"color","green","font-size","18px"],["href","/mtti_mis_departments#deleteDepartment"],[2,"color","red","font-size","18px"],["mat-icon-button","",1,"mx-5",3,"click"],["mat-header-row",""],["mat-row","",3,"click"],["formArrayName","classes"],[3,"formGroupName"],[1,"container","card","m-2","p-3"],[1,"col-xs-12","col-sm-12","col-md-12"],["type","hidden","formControlName","class_id"],[1,"col-xs-12","col-sm-12","col-md-3","p-2"],[1,"col-xs-12","col-sm-12","col-md-9","p-2"],["formControlName","class_name",1,"form-control"],["class","col-md-3",4,"ngIf"],[1,"col-md-3"],["mat-raised-button","",3,"click"],[1,"d-flex","justify-content-center","pt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(O,z){1&O&&(e.YNc(0,ds,25,4,"div",0),e.YNc(1,Gc,4,0,"div",1)),2&O&&(e.Q6J("ngIf",z.dataSource),e.xp6(1),e.Q6J("ngIf",!z.dataSource))},directives:[d.O5,oo.BZ,oo.w1,oo.fO,oo.ge,oo.Dz,oo.ev,d.sg,tr.Fj,tr.JJ,tr.On,xe.lW,pe.Hw,oo.as,oo.XQ,oo.nj,oo.Gk,tr._Y,tr.JL,tr.sg,tr.CE,tr.x0,tr.u],styles:[".demo-table[_ngcontent-%COMP%]{width:100%}.mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{border-bottom:1px solid transparent;border-top:1px solid transparent;cursor:pointer}.mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{border-color:currentColor}.demo-row-is-clicked[_ngcontent-%COMP%]{font-weight:700}#editDepartment[_ngcontent-%COMP%], #deleteDepartment[_ngcontent-%COMP%]{background:rgba(102,102,102,.5);width:100%;height:100%;position:absolute;top:0;left:0;display:none}#box[_ngcontent-%COMP%]{width:300px;height:200px;text-align:center;padding:5px;border:3px solid #0000cc;border-radius:10px;color:#00c;position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;background:#fff}#box2[_ngcontent-%COMP%]{width:300px;height:250px;text-align:center;padding:5px;border:3px solid #0000cc;border-radius:10px;color:#00c;position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;background:#fff}#editDepartment[_ngcontent-%COMP%]:target{display:block}#deleteDepartment[_ngcontent-%COMP%]:target{display:block}.close[_ngcontent-%COMP%]{display:inline-block;border:1px solid #0000cc;color:#00c;padding:0 12px;margin:10px;text-decoration:none;background:#f2f2f2;font-size:14pt;cursor:pointer}.close[_ngcontent-%COMP%]:hover{background:#e6e6ff}"]}),S})();var ru=A(6087),Ks=A(4847),za=A(3251),Qs=A(7322),nc=A(7531);function Ec(S,k){if(1&S){const O=e.EpF();e.TgZ(0,"div",46)(1,"button",47),e.NdJ("click",function(){e.CHM(O);const ce=e.oxw().index;return e.oxw().removeField(ce)}),e._uU(2,"Remove"),e.qZA()()}}function ic(S,k){if(1&S&&(e.ynx(0,37)(1,38),e.TgZ(2,"div",39)(3,"h5")(4,"b"),e._uU(5),e.qZA()(),e.TgZ(6,"div",23)(7,"div",40)(8,"span"),e._uU(9," Unit Code : "),e.TgZ(10,"code"),e._uU(11,"*"),e.qZA()()(),e.TgZ(12,"div",41),e._UZ(13,"input",42)(14,"input",43),e.qZA(),e.TgZ(15,"div",40)(16,"span"),e._uU(17," Unit Name: "),e.TgZ(18,"code"),e._uU(19,"*"),e.qZA()()(),e.TgZ(20,"div",41),e._UZ(21,"input",44),e.qZA()()(),e.BQk(),e.TgZ(22,"div",23),e.YNc(23,Ec,3,0,"div",45),e.qZA(),e.BQk()),2&S){const O=k.index,z=e.oxw();e.xp6(1),e.Q6J("formGroupName",O),e.xp6(4),e.hij("Unit ",z.cal2(O),"."),e.xp6(18),e.Q6J("ngIf",O>0)}}function rc(S,k){if(1&S){const O=e.EpF();e.TgZ(0,"div",54)(1,"button",55),e.NdJ("click",function(){e.CHM(O);const ce=e.oxw().index;return e.oxw().removethisfield(ce)}),e._uU(2,"Remove"),e.qZA()()}}function gs(S,k){if(1&S&&(e.ynx(0,48)(1,38),e.TgZ(2,"div",49)(3,"h4")(4,"b"),e._uU(5),e.qZA()(),e.TgZ(6,"div",23)(7,"div",50),e._UZ(8,"input",51),e.qZA()(),e.TgZ(9,"div",23)(10,"div",40)(11,"span"),e._uU(12," Course Name:"),e.qZA()(),e.TgZ(13,"div",41),e._UZ(14,"input",52),e.qZA()()(),e.BQk(),e.TgZ(15,"div",21)(16,"div",23),e.YNc(17,rc,3,0,"div",53),e.qZA()(),e.BQk()),2&S){const O=k.index,z=e.oxw();e.xp6(1),e.Q6J("formGroupName",O),e.xp6(4),e.hij("Course No.",z.cal(O),""),e.xp6(12),e.Q6J("ngIf",O>0)}}function Co(S,k){1&S&&(e.TgZ(0,"h2",56),e._uU(1," Courses at Michuki TTI"),e.qZA())}function sa(S,k){if(1&S){const O=e.EpF();e.TgZ(0,"div",62)(1,"mat-form-field",63),e.NdJ("keyup",function(ce){return e.CHM(O),e.oxw(3).applySearch(ce)}),e.TgZ(2,"mat-label"),e._uU(3,"Search for course"),e.qZA(),e._UZ(4,"input",64),e.qZA()()}}function ol(S,k){if(1&S){const O=e.EpF();e.TgZ(0,"div",65)(1,"button",66),e.NdJ("click",function(){e.CHM(O);const ce=e.oxw(3);return ce.getDetailsForCpourseToAdd(ce.dept_id_for_course_add,ce.level_code_for_course_add,ce.level_for_course_add,ce.course_id_for_check)}),e.TgZ(2,"mat-icon"),e._uU(3,"post_add"),e.qZA(),e._uU(4," Add Course "),e.qZA()()}}function Bl(S,k){1&S&&(e.TgZ(0,"th",78),e._uU(1,"Course Name"),e.qZA())}function Eu(S,k){if(1&S&&(e.TgZ(0,"td",79),e._uU(1),e.qZA()),2&S){const O=k.$implicit;e.xp6(1),e.Oqu(O.course_name)}}function Tc(S,k){1&S&&(e.TgZ(0,"th",78),e._uU(1,"level"),e.qZA())}function Yc(S,k){if(1&S&&(e.TgZ(0,"td",79),e._uU(1),e.qZA()),2&S){const O=k.$implicit;e.xp6(1),e.Oqu(O.level)}}function xc(S,k){1&S&&(e.TgZ(0,"th",78),e._uU(1,"level Code"),e.qZA())}function Ya(S,k){if(1&S&&(e.TgZ(0,"td",79),e._uU(1),e.qZA()),2&S){const O=k.$implicit;e.xp6(1),e.Oqu(O.level_code)}}function Mc(S,k){1&S&&(e.TgZ(0,"th",80),e._uU(1,"operation"),e.qZA())}function oc(S,k){if(1&S&&(e.TgZ(0,"h2",108),e._uU(1),e.qZA()),2&S){const O=e.oxw(6);e.xp6(1),e.hij(" Units for ",O.courseforunits," ")}}function sc(S,k){if(1&S){const O=e.EpF();e.TgZ(0,"div",109)(1,"mat-form-field",63),e.NdJ("keyup",function(ce){return e.CHM(O),e.oxw(6).applySearchforunits(ce)}),e.TgZ(2,"mat-label",9)(3,"button",110)(4,"mat-icon"),e._uU(5," search "),e.qZA(),e._uU(6,"Search for unit "),e.qZA()(),e._UZ(7,"input",64),e.qZA()()}}function Tu(S,k){1&S&&(e.TgZ(0,"th",80),e._uU(1,"Unit Code"),e.qZA())}function Sc(S,k){if(1&S&&(e.TgZ(0,"td",79),e._uU(1),e.qZA()),2&S){const O=k.$implicit;e.xp6(1),e.AsE(" ",O.level_code,"/",O.unit_code," ")}}function Cl(S,k){1&S&&(e.TgZ(0,"th",80),e._uU(1,"Unit Name"),e.qZA())}function Ul(S,k){if(1&S&&(e.TgZ(0,"td",79),e._uU(1),e.qZA()),2&S){const O=k.$implicit;e.xp6(1),e.hij(" ",O.unit_name,"")}}function Ls(S,k){1&S&&(e.TgZ(0,"th",80),e._uU(1,"operation"),e.qZA())}function Ia(S,k){if(1&S){const O=e.EpF();e.TgZ(0,"td",79)(1,"a",115)(2,"button",102),e.NdJ("click",function(){const De=e.CHM(O).$implicit;return e.oxw(7).GetDetailstoEditUnit(De.dept_id,De.level,De.course_name,De.course_id,De.unit_id,De.unit_name,De.unit_code)}),e.TgZ(3,"mat-icon",103),e._uU(4," edit"),e.qZA()()(),e.TgZ(5,"a",116)(6,"button",102),e.NdJ("click",function(){const De=e.CHM(O).$implicit;return e.oxw(7).getunitDetailstodelete(De.dept_id,De.level,De.course_name,De.course_id,De.unit_id,De.unit_name,De.unit_code)}),e.TgZ(7,"mat-icon",105),e._uU(8," delete"),e.qZA()()()()}}function sl(S,k){1&S&&e._UZ(0,"tr",117)}function Dl(S,k){if(1&S){const O=e.EpF();e.TgZ(0,"tr",118),e.NdJ("click",function(){const De=e.CHM(O).$implicit;return e.oxw(7).clickedRows.add(De)}),e.qZA()}if(2&S){const O=k.$implicit,z=e.oxw(7);e.ekj("demo-row-is-clicked",z.clickedRows.has(O))}}function zs(S,k){if(1&S&&(e.TgZ(0,"table",111),e.ynx(1,112),e.YNc(2,Tu,2,0,"th",75),e.YNc(3,Sc,2,2,"td",71),e.BQk(),e.ynx(4,113),e.YNc(5,Cl,2,0,"th",75),e.YNc(6,Ul,2,1,"td",71),e.BQk(),e.ynx(7,74),e.YNc(8,Ls,2,0,"th",75),e.YNc(9,Ia,9,0,"td",71),e.BQk(),e.YNc(10,sl,1,0,"tr",76),e.YNc(11,Dl,1,2,"tr",114),e.qZA()),2&S){const O=e.oxw(6);e.Q6J("dataSource",O.units_info),e.xp6(10),e.Q6J("matHeaderRowDef",O.displayedColumnsforunits),e.xp6(1),e.Q6J("matRowDefColumns",O.displayedColumnsforunits)}}function va(S,k){1&S&&(e.TgZ(0,"div",119)(1,"h2",120)(2,"b"),e._uU(3,"You have not yet regisered Units for this course!"),e.qZA()()())}function Ac(S,k){if(1&S){const O=e.EpF();e.TgZ(0,"td",79)(1,"div",81)(2,"div",82)(3,"div",8)(4,"h3"),e._uU(5,"Edit Course"),e.qZA(),e._UZ(6,"hr"),e.TgZ(7,"label")(8,"b"),e._uU(9,"Name of Course:"),e.qZA()(),e._UZ(10,"br"),e.TgZ(11,"input",10),e.NdJ("ngModelChange",function(ce){return e.CHM(O),e.oxw(5).opted_course_name=ce}),e.qZA(),e.TgZ(12,"input",11),e.NdJ("ngModelChange",function(ce){return e.CHM(O),e.oxw(5).opted_level=ce}),e.qZA(),e.TgZ(13,"input",11),e.NdJ("ngModelChange",function(ce){return e.CHM(O),e.oxw(5).opted_level_code=ce}),e.qZA()(),e.TgZ(14,"div",83)(15,"button",84),e.NdJ("click",function(){return e.CHM(O),e.oxw(5).updateCourse()}),e._uU(16,"Update Course"),e.qZA()(),e._UZ(17,"br"),e.qZA()(),e.TgZ(18,"div",85)(19,"div",86),e._UZ(20,"div",8),e.TgZ(21,"div",83)(22,"div",8)(23,"h3")(24,"b"),e._uU(25,"Delete Department"),e.qZA()(),e._UZ(26,"hr"),e.TgZ(27,"p"),e._uU(28,"Are you sure you want to delete "),e._UZ(29,"br"),e.TgZ(30,"span",87),e._uU(31),e.qZA(),e._uU(32,"?"),e.qZA()(),e.TgZ(33,"button",88),e.NdJ("click",function(){return e.CHM(O),e.oxw(5).refresh()}),e.TgZ(34,"span",89)(35,"b"),e._uU(36,"No"),e.qZA()()(),e.TgZ(37,"button",88),e.NdJ("click",function(){return e.CHM(O),e.oxw(5).deleteCourseChosen()}),e.TgZ(38,"span",90)(39,"b"),e._uU(40,"Yes"),e.qZA()()()(),e._UZ(41,"br"),e.qZA()(),e.TgZ(42,"div",91)(43,"div",92)(44,"div",93)(45,"div",4),e.YNc(46,oc,2,1,"h2",94),e._UZ(47,"button",95),e.qZA(),e.TgZ(48,"div",7),e.YNc(49,sc,8,0,"div",96),e.YNc(50,zs,12,3,"table",97),e.YNc(51,va,4,0,"div",98),e.qZA(),e.TgZ(52,"div",12)(53,"button",99),e._uU(54,"Close"),e.qZA(),e.TgZ(55,"button",100),e.NdJ("click",function(){const De=e.CHM(O).$implicit;return e.oxw(5).AddUnitQueryMethod(De.dept_id,De.level,De.course_name,De.course_id,De.unit_id,De.unit_name,De.unit_code,De.level_code)}),e._uU(56,"Add Units "),e.qZA()()()()(),e.TgZ(57,"a",101)(58,"button",102),e.NdJ("click",function(){const De=e.CHM(O).$implicit;return e.oxw(5).getDetailsForEditOperation(De.dept_id,De.course_id,De.course_name,De.level_code,De.level)}),e.TgZ(59,"mat-icon",103),e._uU(60,"edit"),e.qZA()()(),e.TgZ(61,"a",104)(62,"button",102),e.NdJ("click",function(){const De=e.CHM(O).$implicit;return e.oxw(5).getDetailsForDelete(De.course_name,De.level,De.dept_id,De.course_id)}),e.TgZ(63,"mat-icon",105),e._uU(64,"delete"),e.qZA()()(),e.TgZ(65,"a",106)(66,"button",102),e.NdJ("click",function(){const De=e.CHM(O).$implicit;return e.oxw(5).getUnits(De.course_name,De.course_id,De.dept_id,De.level,De.level_code,De.unit_id)}),e.TgZ(67,"mat-icon",107),e._uU(68,"reorder "),e.qZA(),e._uU(69," View units "),e.qZA()()()}if(2&S){const O=e.oxw(5);e.xp6(11),e.Q6J("ngModel",O.opted_course_name),e.xp6(1),e.Q6J("ngModel",O.opted_level),e.xp6(1),e.Q6J("ngModel",O.opted_level_code),e.xp6(18),e.Oqu(O.nameChosen),e.xp6(15),e.Q6J("ngIf",O.courseforunits),e.xp6(3),e.Q6J("ngIf",O.unitsLength>0),e.xp6(1),e.Q6J("ngIf",O.unitsLength>0),e.xp6(1),e.Q6J("ngIf",0==O.unitsLength)}}function ac(S,k){1&S&&e._UZ(0,"tr",117)}function $a(S,k){1&S&&e._UZ(0,"tr",121)}function lc(S,k){if(1&S&&(e.TgZ(0,"table",68),e.ynx(1,69),e.YNc(2,Bl,2,0,"th",70),e.YNc(3,Eu,2,1,"td",71),e.BQk(),e.ynx(4,72),e.YNc(5,Tc,2,0,"th",70),e.YNc(6,Yc,2,1,"td",71),e.BQk(),e.ynx(7,73),e.YNc(8,xc,2,0,"th",70),e.YNc(9,Ya,2,1,"td",71),e.BQk(),e.ynx(10,74),e.YNc(11,Mc,2,0,"th",75),e.YNc(12,Ac,70,8,"td",71),e.BQk(),e.YNc(13,ac,1,0,"tr",76),e.YNc(14,$a,1,0,"tr",77),e.qZA()),2&S){const O=e.oxw(4);e.Q6J("dataSource",O.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",O.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",O.displayedColumns)}}function al(S,k){if(1&S&&(e.ynx(0),e.YNc(1,lc,15,3,"table",67),e.BQk()),2&S){const O=e.oxw(3);e.xp6(1),e.Q6J("ngIf",O.dataSource)}}function Vl(S,k){1&S&&(e.ynx(0),e.TgZ(1,"div",119)(2,"marquee",122)(3,"h5",123)(4,"b")(5,"i"),e._uU(6,"No courses to display"),e.qZA()()()()(),e.BQk())}function Vu(S,k){if(1&S&&(e.ynx(0),e.TgZ(1,"mat-tab",57)(2,"div",58)(3,"div",23),e.YNc(4,sa,5,0,"div",59),e.YNc(5,ol,5,0,"div",60),e.qZA()(),e.YNc(6,al,2,1,"ng-container",61),e.YNc(7,Vl,7,0,"ng-container",61),e.qZA(),e.BQk()),2&S){const O=k.$implicit,z=e.oxw(2);e.xp6(1),e.s9C("label",O.level),e.xp6(3),e.Q6J("ngIf",z.length>0),e.xp6(1),e.Q6J("ngIf",z.length>0),e.xp6(1),e.Q6J("ngIf",z.length>0),e.xp6(1),e.Q6J("ngIf",0==z.deptLength||0==z.length)}}function ll(S,k){if(1&S){const O=e.EpF();e.ynx(0),e.TgZ(1,"mat-tab",57)(2,"mat-tab-group",33,34),e.NdJ("selectedTabChange",function(ce){return e.CHM(O),e.oxw().getCoursesbyCategory(ce)}),e.YNc(4,Vu,8,5,"ng-container",35),e.qZA()(),e.BQk()}if(2&S){const O=k.$implicit,z=e.oxw();e.xp6(1),e.s9C("label",O.dept_name),e.xp6(3),e.Q6J("ngForOf",z.categoryArray)}}function Hu(S,k){1&S&&(e.TgZ(0,"div",124)(1,"div",125)(2,"span",126),e._uU(3,"Loading..."),e.qZA()()())}let ou=(()=>{class S{constructor(O,z,ce,De){this.departmentService=O,this.notice=z,this.formBuilder=ce,this.afs=De,this.data2=[{course_name:null,course_id:Math.floor(1e4*Math.random())}],this.data=[{unit_name:null,unit_code:"",unit_id:Math.floor(1e5*Math.random())}],this.displayedColumns=["Course Name","level","level Code","operation"],this.displayedColumnsforunits=["Unit Code","Unit Name","operation"],this.clickedRows=new Set,this.getListOfCourses=At=>{this.departmentService.getDeptIdBasedonName(At.tab.textLabel).subscribe(gn=>{var Jn=gn[0].dept_id+"";this.ptment_id=Jn,this.departmentService.getCategorybyDepartmentID(Jn).subscribe(zi=>{this.categoryArray=zi})})}}ngOnInit(){this.departmentService.Departments.subscribe(O=>{this.departments=O,this.deptLength=O.length}),this.form=this.formBuilder.group({units:this.formBuilder.array(this.data.map(O=>this.formBuilder.group(O)))}),this.formforcourses=this.formBuilder.group({courses:this.formBuilder.array(this.data2.map(O=>this.formBuilder.group(O)))})}get units(){return this.form.get("units")}AddUnit(){this.units.push(this.formBuilder.group({unit_name:null,unit_id:Math.floor(1e5*Math.random()),unit_code:null}))}removeField(O){this.units.removeAt(O)}removethisfield(O){this.courses.removeAt(O)}cal(O){return O+1}cal2(O){return O+1}get courses(){return this.formforcourses.get("courses")}AddCourse(){this.courses.push(this.formBuilder.group({course_name:null,course_id:Math.floor(1e4*Math.random())}))}applySearch(O){this.dataSource.filter=O.target.value.trim().toLowerCase()}applySearchforunits(O){this.units_info.filter=O.target.value.trim().toLowerCase()}getCoursesbyCategory(O){this.departmentService.getcoursesBasedOnCategory(this.ptment_id,O.tab.textLabel).subscribe(At=>{this.source_info=At,this.length=At.length,this.dept_id_for_course_add=At[0].dept_id,this.level_code_for_course_add=At[0].level_code,this.level_for_course_add=At[0].level,this.course_id_for_check=At[0].course_id,this.dataSource=new oo.by(this.source_info),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}getDetailsForEditOperation(O,z,ce,De,At){this.opted_course_id=z,this.opted_course_name=ce,this.opted_level_code=De,this.opted_level=At,this.opted_deptid=O}updateCourse(){var O={course_name:this.opted_course_name,level:this.opted_level,level_code:this.opted_level_code};this.departmentService.UpdaterDelete(this.opted_deptid,this.opted_level,this.opted_course_id).update(O).then(De=>{this.notice.success("Updated successfully")}).catch(De=>this.notice.delete(De))}getDetailsForDelete(O,z,ce,De){this.nameChosen=O,this.leveltodelete=z,this.dept_idtodelete=ce,this.course_idtodelete=De}deleteCourseChosen(){let O=this.leveltodelete,z=this.dept_idtodelete,ce=this.course_idtodelete,De=this.nameChosen;console.log(z,O),this.departmentService.UpdaterDelete(z,O,ce).delete().then(At=>{this.afs.collection("Units").doc(`${z}_${O}`).collection(`${De}_${O}`).get().toPromise().then($t=>{$t.forEach(gn=>{gn.ref.delete().then(Hn=>{this.afs.collection("course_type_examinationbody").doc(`foreDept_${z}`).collection(`${z}_${O}`,Jn=>Jn.where("course_name","==",De)).get().toPromise().then(Jn=>{Jn.forEach(zi=>{zi.ref.delete().then(Wi=>{this.notice.success("Deleted successfully")}).catch(Wi=>this.notice.delete(Wi))})})}).catch(Hn=>this.notice.delete(Hn))})})}).catch(At=>this.notice.delete(At))}refresh(){window.location.reload()}getUnits(O,z,ce,De,At,$t){this.courseforunits=O,this.course_nameforqueryingunistable=O,this.course_idforqueryingunistable=z,this.dept_idforqueryingunistable=ce,this.levelforqueryingunistable=De,this.level_codeforqueryingunistable=At,this.unit_id_to_update=$t,this.departmentService.getUnitsBycourseID(ce,De,O,z).subscribe(gn=>{this.unit_source=gn,this.unitsLength=gn.length,this.units_info=new oo.by(this.unit_source),this.units_info.sort=this.sort,this.units_info.paginator=this.paginator})}GetDetailstoEditUnit(O,z,ce,De,At,$t,gn){this.dept_id_forunit=O,this.levelforunit=z,this.coursenameforunit=ce,this.course_idforunit=De,this.unit_id=At,this.unit_name=$t,this.unit_code=gn}updateUnit(){var $t={unit_name:this.unit_name,unit_code:this.unit_code};this.departmentService.EditDeletUnit(this.dept_id_forunit,this.levelforunit,this.coursenameforunit,this.course_idforunit,this.unit_id).update($t).then(gn=>[this.notice.success("Unit Update was successful")]).catch(gn=>this.notice.delete(gn))}getunitDetailstodelete(O,z,ce,De,At,$t,gn){this.dept_id_forunit=O,this.levelforunit=z,this.coursenameforunit=ce,this.course_idforunit=De,this.unit_id=At,this.unit_name=$t,this.unit_code=gn}Deleteunit(){this.departmentService.EditDeletUnit(this.dept_id_forunit,this.levelforunit,this.coursenameforunit,this.course_idforunit,this.unit_id).delete().then(gn=>[this.notice.success("Unit Deletion was successful")]).catch(gn=>this.notice.delete(gn))}AddUnitQueryMethod(O,z,ce,De,At,$t,gn,Hn){this.dept_id_forunit=O,this.levelforunit=z,this.coursenameforunit=ce,this.course_idforunit=De,this.unit_id=At,this.unit_name=$t,this.unit_code=gn,this.level_code=Hn}PostUnitsEnetred(){let O=this.form.value,z=O.units.length;for(let ce=0;ce<z;ce++){let De=O.units[ce];null!=this.dept_idforqueryingunistable&&null!=this.levelforqueryingunistable&&null!=De.unit_id&&null!=De.unit_name&&null!=De.unit_code&&null!=this.level_code?this.afs.collection("Units").doc(`${this.dept_idforqueryingunistable}_${this.levelforqueryingunistable}`).collection(`${this.course_nameforqueryingunistable}_${this.levelforqueryingunistable}`,At=>At.where("unit_name","==",De.unit_name)).get().subscribe(At=>{if(At.empty){var $t={dept_id:this.dept_idforqueryingunistable,level:this.levelforqueryingunistable,unit_id:De.unit_id,course_id:this.course_idforqueryingunistable,course_name:this.course_nameforqueryingunistable,unit_name:De.unit_name,unit_code:De.unit_code,level_code:this.level_codeforqueryingunistable};this.afs.collection("Units").doc(`${this.dept_idforqueryingunistable}_${this.levelforqueryingunistable}`).collection(`${this.course_nameforqueryingunistable}_${this.levelforqueryingunistable}`).doc(`${this.course_nameforqueryingunistable}_${De.unit_id}`).set($t).then(gn=>{this.notice.success("Units recorded successfully"),this.form.get("units").controls.forEach(Jn=>Jn.patchValue({unit_name:"",unit_code:""}))}).catch(gn=>this.notice.delete(gn))}else this.notice.delete(De.unit_name+" already exists")}):this.notice.delete("Fill all fields")}}getDetailsForCpourseToAdd(O,z,ce,De){let $t=Number(O);this.departmentService.getDepartmentByID($t).subscribe(gn=>{this.resulytingdepartforcourseadd=gn[0].dept_name})}SubMitAddedCourses(){let O=this.formforcourses.value,z=O.courses.length;for(let ce=0;ce<z;ce++){let De=O.courses[ce];null!=De.course_name&&null!=De.course_id&&null!=this.dept_id_for_course_add&&null!=this.level_for_course_add&&null!=this.level_code_for_course_add?this.afs.collection("courses").doc(`departmentNo_${this.dept_id_for_course_add}`).collection(`${this.level_for_course_add}_${this.dept_id_for_course_add}`,At=>At.where("course_name","==",De.course_name)).get().subscribe(At=>{if(At.empty){var $t={course_name:De.course_name,course_id:De.course_id,dept_id:this.dept_id_for_course_add,level:this.level_for_course_add,level_code:this.level_code_for_course_add},gn={dept_id:this.dept_id_for_course_add,level_code:this.level_code_for_course_add,level:this.level_for_course_add,check_submission:this.level_for_course_add+"_"+this.dept_id_for_course_add};this.afs.collection("categories",Hn=>Hn.where("level","==",this.level_for_course_add).where("dept_id","==",this.dept_id_for_course_add)).get().subscribe(Hn=>{Hn.empty?this.afs.collection("categories").doc(`${this.level_for_course_add}_${this.dept_id_for_course_add}`).set(gn):this.afs.collection("categories",Jn=>Jn.where("check_submission","==",this.level_for_course_add+"_"+this.dept_id_for_course_add)).get().subscribe(Jn=>{Jn.empty&&this.afs.collection("categories").doc(`${this.level_for_course_add}_${this.dept_id_for_course_add}`).set(gn)})}),this.afs.collection("courses").doc(`departmentNo_${this.dept_id_for_course_add}`).collection(`${this.level_for_course_add}_${this.dept_id_for_course_add}`).doc(`${De.course_id}`).set($t).then(Hn=>{this.notice.success("Courses Added Successfully"),this.formforcourses.get("courses").controls.forEach(zi=>zi.patchValue({course_name:""}))}).catch(Hn=>{this.notice.delete(Hn)})}else this.formforcourses.get("courses").controls.forEach(Jn=>Jn.patchValue({course_name:""})),this.notice.delete("Course(s) already exists!")}):(this.formforcourses.get("courses").controls.forEach($t=>$t.patchValue({course_name:""})),this.notice.delete("Please input all Fields!"))}}}return S.\u0275fac=function(O){return new(O||S)(e.Y36(tc._),e.Y36(Fs.g),e.Y36(tr.qu),e.Y36(qs.ST))},S.\u0275cmp=e.Xpm({type:S,selectors:[["app-departmentcourses-list"]],viewQuery:function(O,z){if(1&O&&(e.Gf(Ks.YE,7),e.Gf(ru.NW,7)),2&O){let ce;e.iGM(ce=e.CRH())&&(z.sort=ce.first),e.iGM(ce=e.CRH())&&(z.paginator=ce.first)}},decls:92,vars:16,consts:[[1,"container-fluid"],["id","exampleModal2","tabindex","-1","aria-labelledby","exampleModalLabel2","ria-hidden","true","data-mdb-backdrop","static","data-mdb-keyboard","false",1,"modal","fade","mt-5"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"background","#0000cc"],[1,"modal-header"],["id","exampleModalLabel2",1,"modal-title",2,"color","white"],["type","button","data-mdb-dismiss","modal","data-mdb-toggle","modal","data-mdb-target","#exampleModal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"form-group","p-1"],[2,"color","white"],["type","text",1,"form-control","mt-1",3,"ngModel","ngModelChange"],["type","hidden",1,"form-control","mt-1",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-mdb-toggle","modal","data-mdb-target","#exampleModal","data-mdb-dismiss","modal",1,"btn","btn-secondary","btn-sm"],["type","button","data-mdb-toggle","modal","data-mdb-target","#exampleModal",1,"btn","btn-primary","btn-sm",3,"click"],["id","deleteunit","tabindex","-1","aria-labelledby","exampleModalLabel2","ria-hidden","true","data-mdb-backdrop","static","data-mdb-keyboard","false",1,"modal","fade","mt-5"],[1,"modal-content",2,"background","#cc0011"],["type","button","data-mdb-toggle","modal","data-mdb-target","#exampleModal",1,"btn","btn-danger","btn-sm",3,"click"],["id","addUnit","tabindex","-1","aria-labelledby","exampleModalLabel2","ria-hidden","true","data-mdb-backdrop","static","data-mdb-keyboard","false",1,"modal","fade","mt-5"],[1,"modal-content","pl-2",2,"background","#7D3C98"],["id","exampleModalLabel2",1,"modal-title",2,"color","white","font-family","Georgia, 'Times New Roman', Times, serif","font-weight","500"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"row"],["formArrayName","units",4,"ngFor","ngForOf"],[1,"col-xs-6","col-sm-6","col-md-6"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],["type","submit","data-mdb-toggle","modal","data-mdb-target","#exampleModal",1,"btn","btn-sm","btn-success"],["id","AddCourses","tabindex","-1","aria-labelledby","exampleModalLabel2","ria-hidden","true","data-mdb-backdrop","static","data-mdb-keyboard","false",1,"modal","fade","mt-5"],["type","button","data-mdb-dismiss","modal","aria-label","Close",1,"btn-close","btn-light"],["formArrayName","courses",4,"ngFor","ngForOf"],["type","submit","data-mdb-dismiss","modal",1,"btn","btn-sm","btn-success"],["style","text-align:center;font-size: large;font-family: Georgia, 'Times New Roman', Times, serif;letter-spacing:5px ;color: #7D3C98;font-weight: 900;",4,"ngIf"],[3,"selectedTabChange"],["tabGroup",""],[4,"ngFor","ngForOf"],["class","d-flex justify-content-center pt-3",4,"ngIf"],["formArrayName","units"],[3,"formGroupName"],[1,"container","card","m-2","p-2"],[1,"col-xs-12","col-sm-12","col-md-3","p-2"],[1,"col-xs-12","col-sm-12","col-md-9","p-2"],["formControlName","unit_code",1,"form-control"],["formControlName","unit_id","type","hidden",1,"form-control"],["formControlName","unit_name",1,"form-control"],["class","col-md-2",4,"ngIf"],[1,"col-md-2"],[1,"btn","btn-sm","btn-primary",3,"click"],["formArrayName","courses"],[1,"container","card","m-2","p-3"],[1,"col-xs-12","col-sm-12","col-md-12"],["type","hidden","formControlName","course_id"],["formControlName","course_name",1,"form-control"],["class","col-md-3",4,"ngIf"],[1,"col-md-3"],[1,"btn","btn-sm","btn-warning",3,"click"],[2,"text-align","center","font-size","large","font-family","Georgia, 'Times New Roman', Times, serif","letter-spacing","5px","color","#7D3C98","font-weight","900"],[3,"label"],[1,"container","mt-2"],["class","col-md-6 text-right text-right ",4,"ngIf"],["class","col-md-6 pt-2","style","text-align: right;",4,"ngIf"],[4,"ngIf"],[1,"col-md-6","text-right","text-right"],["appearance","outline",2,"width","100%",3,"keyup"],["matInput","","placeholder","Type here to search"],[1,"col-md-6","pt-2",2,"text-align","right"],["data-mdb-toggle","modal","data-mdb-target","#AddCourses",1,"btn","btn-sm","btn-primary",3,"click"],["mat-table","","matSort","","class","mat-elevation-z8 demo-table","style","padding: 20px;",3,"dataSource",4,"ngIf"],["mat-table","","matSort","",1,"mat-elevation-z8","demo-table",2,"padding","20px",3,"dataSource"],["matColumnDef","Course Name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","level"],["matColumnDef","level Code"],["matColumnDef","operation"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["id","editCourse"],["id","box"],[1,"text-right","p-2"],["type","submit",1,"btn","btn-sm","btn-success","mx-2",3,"click"],["id","DeleteCourse"],["id","box2"],[2,"color","red"],["type","submit",1,"btn","btn-sm","mx-2",3,"click"],[1,"text-info"],[1,"text-success"],["id","exampleModal","tabindex","-1","data-mdb-backdrop","static","data-mdb-keyboard","false","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable","modal-lg"],[1,"modal-content",2,"background","#7D3C98"],["class","modal-title","id","exampleModalLabel","style","color: white;font-weight: 600;font-family: 'Times New Roman', Times, serif;",4,"ngIf"],["type","button","data-mdb-dismiss","modal","aria-label","Close",1,"btn-close"],["class","col-md-12 text-right text-right ",4,"ngIf"],["mat-table","","class","mat-elevation-z8 demo-table","style","padding: 20px;",3,"dataSource",4,"ngIf"],["class","container text-center",4,"ngIf"],["type","button","data-mdb-dismiss","modal",1,"btn","btn-secondary","btn-sm"],["type","button","data-mdb-toggle","modal","data-mdb-target","#addUnit",1,"btn","btn-sm","btn-success",3,"click"],["href","/mtti_mis_departments/list_of_courses#editCourse"],["mat-icon-button","",3,"click"],[2,"color","green","font-size","18px"],["href","/mtti_mis_departments/list_of_courses#DeleteCourse"],[2,"color","red","font-size","18px"],["href","/mtti_mis_departments/list_of_courses","data-mdb-toggle","modal","data-mdb-target","#exampleModal",1,"units_lst"],[1,"text-primary",2,"font-size","18px"],["id","exampleModalLabel",1,"modal-title",2,"color","white","font-weight","600","font-family","'Times New Roman', Times, serif"],[1,"col-md-12","text-right","text-right"],["mat-icon-button",""],["mat-table","",1,"mat-elevation-z8","demo-table",2,"padding","20px",3,"dataSource"],["matColumnDef","Unit Code"],["matColumnDef","Unit Name"],["mat-row","",3,"demo-row-is-clicked","click",4,"matRowDef","matRowDefColumns"],["href","/mtti_mis_departments/list_of_courses#DeleteCourse","data-mdb-toggle","modal","data-mdb-target","#exampleModal2"],["href","/mtti_mis_departments/list_of_courses#DeleteCourse","data-mdb-toggle","modal","data-mdb-target","#deleteunit"],["mat-header-row",""],["mat-row","",3,"click"],[1,"container","text-center"],[1,"text-center","text-danger"],["mat-row",""],["behavior","alternate","direction","up","scrollAmount","1px",1,"text-center"],[1,"text-center"],[1,"d-flex","justify-content-center","pt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(O,z){1&O&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6,"Edit Unit"),e.qZA(),e._UZ(7,"button",6),e.qZA(),e.TgZ(8,"div",7)(9,"div",8),e._UZ(10,"hr"),e.TgZ(11,"label",9)(12,"b"),e._uU(13,"Name of Unit:"),e.qZA()(),e._UZ(14,"br"),e.TgZ(15,"input",10),e.NdJ("ngModelChange",function(De){return z.unit_name=De}),e.qZA(),e.TgZ(16,"label",9)(17,"b"),e._uU(18,"Name of Unit_code:"),e.qZA()(),e._UZ(19,"br"),e.TgZ(20,"input",10),e.NdJ("ngModelChange",function(De){return z.unit_code=De}),e.qZA(),e.TgZ(21,"input",11),e.NdJ("ngModelChange",function(De){return z.unit_id=De}),e.qZA(),e.TgZ(22,"input",11),e.NdJ("ngModelChange",function(De){return z.levelforunit=De}),e.qZA(),e.TgZ(23,"input",11),e.NdJ("ngModelChange",function(De){return z.course_idforunit=De}),e.qZA(),e.TgZ(24,"input",11),e.NdJ("ngModelChange",function(De){return z.unit_id=De}),e.qZA()()(),e.TgZ(25,"div",12)(26,"button",13),e._uU(27," Close "),e.qZA(),e.TgZ(28,"button",14),e.NdJ("click",function(){return z.updateUnit()}),e._uU(29,"Update Unit"),e.qZA()()()()(),e.TgZ(30,"div",15)(31,"div",2)(32,"div",16)(33,"div",4)(34,"h5",5),e._uU(35,"Delete Unit"),e.qZA(),e._UZ(36,"button",6),e.qZA(),e.TgZ(37,"div",7)(38,"div",8)(39,"p",9),e._uU(40),e.qZA()()(),e.TgZ(41,"div",12)(42,"button",13),e._uU(43," No "),e.qZA(),e.TgZ(44,"button",17),e.NdJ("click",function(){return z.Deleteunit()}),e._uU(45,"Yes"),e.qZA()()()()(),e.TgZ(46,"div",18)(47,"div",2)(48,"div",19)(49,"div",4)(50,"h5",20),e._uU(51),e.qZA(),e._UZ(52,"button",6),e.qZA(),e.TgZ(53,"div",7)(54,"div",21)(55,"div",8)(56,"form",22),e.NdJ("ngSubmit",function(){return z.PostUnitsEnetred()}),e.TgZ(57,"div",23),e.YNc(58,ic,24,3,"ng-container",24),e.qZA(),e._UZ(59,"hr"),e.TgZ(60,"div",23)(61,"div",25)(62,"button",26),e.NdJ("click",function(){return z.AddUnit()}),e._uU(63,"Add Unit"),e.qZA()(),e.TgZ(64,"div",25)(65,"button",27),e._uU(66,"Submit units"),e.qZA()()()()()()()()()(),e.TgZ(67,"div",28)(68,"div",2)(69,"div",3)(70,"div",4)(71,"h5",5),e._uU(72),e.qZA(),e._UZ(73,"button",29),e.qZA(),e.TgZ(74,"div",7)(75,"form",22),e.NdJ("ngSubmit",function(){return z.SubMitAddedCourses()}),e.TgZ(76,"div",21)(77,"div",23),e.YNc(78,gs,18,3,"ng-container",30),e.qZA()(),e._UZ(79,"hr"),e.TgZ(80,"div",23)(81,"div",25)(82,"button",26),e.NdJ("click",function(){return z.AddCourse()}),e._uU(83,"Add Course"),e.qZA()(),e.TgZ(84,"div",25)(85,"button",31),e._uU(86,"Add Course(s)"),e.qZA()()()()()()()(),e.YNc(87,Co,2,0,"h2",32),e.TgZ(88,"mat-tab-group",33,34),e.NdJ("selectedTabChange",function(De){return z.getListOfCourses(De)}),e.YNc(90,ll,5,2,"ng-container",35),e.qZA()(),e.YNc(91,Hu,4,0,"div",36)),2&O&&(e.xp6(15),e.Q6J("ngModel",z.unit_name),e.xp6(5),e.Q6J("ngModel",z.unit_code),e.xp6(1),e.Q6J("ngModel",z.unit_id),e.xp6(1),e.Q6J("ngModel",z.levelforunit),e.xp6(1),e.Q6J("ngModel",z.course_idforunit),e.xp6(1),e.Q6J("ngModel",z.unit_id),e.xp6(16),e.hij("Are you sure you want to delete ",z.unit_name,"?"),e.xp6(11),e.hij("Add Units for ",z.coursenameforunit,""),e.xp6(5),e.Q6J("formGroup",z.form),e.xp6(2),e.Q6J("ngForOf",z.units.controls),e.xp6(14),e.hij("Add Course for ",z.resulytingdepartforcourseadd,""),e.xp6(3),e.Q6J("formGroup",z.formforcourses),e.xp6(3),e.Q6J("ngForOf",z.courses.controls),e.xp6(9),e.Q6J("ngIf",z.deptLength>0),e.xp6(3),e.Q6J("ngForOf",z.departments),e.xp6(1),e.Q6J("ngIf",0==z.deptLength))},directives:[tr.Fj,tr.JJ,tr.On,tr._Y,tr.JL,tr.sg,d.sg,tr.CE,tr.x0,tr.u,d.O5,za.SP,za.uX,Qs.KE,Qs.hX,nc.Nt,pe.Hw,oo.BZ,Ks.YE,oo.w1,oo.fO,oo.ge,Ks.nU,oo.Dz,oo.ev,xe.lW,oo.as,oo.XQ,oo.nj,oo.Gk],styles:[".demo-table[_ngcontent-%COMP%]{width:100%}.mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{border-bottom:1px solid transparent;border-top:1px solid transparent;cursor:pointer}.mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{border-color:currentColor}.demo-row-is-clicked[_ngcontent-%COMP%]{font-weight:700}#editCourse[_ngcontent-%COMP%], #DeleteCourse[_ngcontent-%COMP%], #unit_list[_ngcontent-%COMP%]{background:rgba(102,102,102,.5);width:100%;height:100%;position:absolute;top:0;left:0;display:none}#box[_ngcontent-%COMP%], #box2[_ngcontent-%COMP%], #EditUnit[_ngcontent-%COMP%]{width:300px;height:200px;text-align:center;padding:5px;border:3px solid #0000cc;border-radius:10px;color:#00c;position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;background:#fff}#box_unit_list[_ngcontent-%COMP%]{width:300px;height:250px;text-align:center;padding:5px;border:3px solid #0000cc;border-radius:10px;color:#00c;position:absolute;top:0;right:0;bottom:0;left:0;margin:auto auto auto 40px;background:#fff;opacity:100%}#EditUnit[_ngcontent-%COMP%]:target{display:block}#editCourse[_ngcontent-%COMP%]:target{display:block}#unit_list[_ngcontent-%COMP%]:target{display:block}#DeleteCourse[_ngcontent-%COMP%]:target{display:block}.close[_ngcontent-%COMP%]{display:inline-block;border:1px solid #0000cc;color:#00c;padding:0 12px;margin:10px;text-decoration:none;background:#f2f2f2;font-size:14pt;cursor:pointer}.close[_ngcontent-%COMP%]:hover{background:#e6e6ff}.units_lst[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),S})();function xu(S,k){1&S&&(e.TgZ(0,"th",47),e._uU(1,"Course Level Name"),e.qZA())}function su(S,k){if(1&S&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&S){const O=k.$implicit;e.xp6(1),e.Oqu(O.level)}}function Wa(S,k){1&S&&(e.TgZ(0,"th",47),e._uU(1,"operation"),e.qZA())}function Hl(S,k){if(1&S){const O=e.EpF();e.TgZ(0,"td",48)(1,"div",49)(2,"div",50)(3,"div",51)(4,"h5"),e._uU(5,"Edit Level"),e.qZA(),e.TgZ(6,"label")(7,"b"),e._uU(8,"Name of Level:"),e.qZA()(),e._UZ(9,"br"),e.TgZ(10,"input",52),e.NdJ("ngModelChange",function(ce){return e.CHM(O),e.oxw(2).leve_name=ce}),e.qZA(),e.TgZ(11,"input",53),e.NdJ("ngModelChange",function(ce){return e.CHM(O),e.oxw(2).level_id=ce}),e.qZA()(),e.TgZ(12,"div",54)(13,"button",55),e.NdJ("click",function(){e.CHM(O);const ce=e.oxw(2);return ce.updateLevel(ce.level_id,ce.leve_name)}),e._uU(14,"Update Level"),e.qZA()(),e._UZ(15,"br"),e.qZA()(),e.TgZ(16,"div",56)(17,"div",57)(18,"div",51)(19,"h5"),e._uU(20,"Delete Level"),e.qZA(),e.TgZ(21,"p"),e._uU(22,"Are you sure you want to delete "),e._UZ(23,"br"),e.TgZ(24,"span",58),e._uU(25),e.qZA(),e._uU(26,"?"),e.qZA()(),e.TgZ(27,"div",54)(28,"button",59),e.NdJ("click",function(){return e.CHM(O),e.oxw(2).refresh()}),e.TgZ(29,"span",60)(30,"b"),e._uU(31,"No"),e.qZA()()(),e.TgZ(32,"button",59),e.NdJ("click",function(){e.CHM(O);const ce=e.oxw(2);return ce.DelewteLevel(ce.level_id)}),e.TgZ(33,"span",61)(34,"b"),e._uU(35,"Yes"),e.qZA()()()(),e._UZ(36,"br"),e.qZA()(),e.TgZ(37,"a",62)(38,"button",63),e.NdJ("click",function(){const De=e.CHM(O).$implicit;return e.oxw(2).editLevel(De.id,De.level)}),e.TgZ(39,"mat-icon",64),e._uU(40,"edit"),e.qZA()()(),e.TgZ(41,"a",65)(42,"button",63),e.NdJ("click",function(){const De=e.CHM(O).$implicit;return e.oxw(2).DelDetails(De.id,De.level)}),e.TgZ(43,"mat-icon",66),e._uU(44,"delete"),e.qZA()()()()}if(2&S){const O=e.oxw(2);e.xp6(10),e.Q6J("ngModel",O.leve_name),e.xp6(1),e.Q6J("ngModel",O.level_id),e.xp6(14),e.Oqu(O.leve_name)}}function $c(S,k){1&S&&e._UZ(0,"tr",67)}function Ic(S,k){1&S&&e._UZ(0,"tr",68)}function cc(S,k){if(1&S&&(e.ynx(0),e.TgZ(1,"table",40),e.ynx(2,41),e.YNc(3,xu,2,0,"th",42),e.YNc(4,su,2,1,"td",43),e.BQk(),e.ynx(5,44),e.YNc(6,Wa,2,0,"th",42),e.YNc(7,Hl,45,3,"td",43),e.BQk(),e.YNc(8,$c,1,0,"tr",45),e.YNc(9,Ic,1,0,"tr",46),e.qZA(),e.BQk()),2&S){const O=e.oxw();e.xp6(1),e.Q6J("dataSource",O.dataSource),e.xp6(7),e.Q6J("matHeaderRowDef",O.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",O.displayedColumns)}}function Zo(S,k){if(1&S&&(e.TgZ(0,"option",69),e._uU(1),e.qZA()),2&S){const O=k.$implicit;e.s9C("value",O.dept_id),e.xp6(1),e.Oqu(O.dept_name)}}function jl(S,k){if(1&S){const O=e.EpF();e.ynx(0),e.TgZ(1,"input",70),e.NdJ("ngModelChange",function(ce){return e.CHM(O),e.oxw().selectedLevel=ce}),e.qZA(),e.TgZ(2,"label",71),e._uU(3),e.qZA(),e.BQk()}if(2&S){const O=k.$implicit,z=e.oxw();e.xp6(1),e.s9C("name",O.level),e.s9C("id",O.level),e.s9C("value",O.level),e.Q6J("ngModel",z.selectedLevel),e.xp6(1),e.s9C("for",O.level),e.xp6(1),e.hij(" ",O.level," ")}}function Wc(S,k){if(1&S){const O=e.EpF();e.TgZ(0,"div",80)(1,"button",81),e.NdJ("click",function(){e.CHM(O);const ce=e.oxw().index;return e.oxw().removeCourseField(ce)}),e._uU(2,"Remove"),e.qZA()()}}function ya(S,k){if(1&S&&(e.ynx(0,72)(1,73),e.TgZ(2,"div",74)(3,"h4")(4,"b"),e._uU(5),e.qZA()(),e.TgZ(6,"div",31)(7,"div",75),e._UZ(8,"input",76),e.qZA()(),e.TgZ(9,"div",31)(10,"div",26)(11,"span"),e._uU(12," Course Name:"),e.qZA()(),e.TgZ(13,"div",33),e._UZ(14,"input",77),e.qZA()()(),e.BQk(),e.TgZ(15,"div",78)(16,"div",31),e.YNc(17,Wc,3,0,"div",79),e.qZA()(),e.BQk()),2&S){const O=k.index,z=e.oxw();e.xp6(1),e.Q6J("formGroupName",O),e.xp6(4),e.hij("Course No.",z.cal(O),""),e.xp6(12),e.Q6J("ngIf",O>0)}}let Ra=(()=>{class S{constructor(O,z,ce,De){this.departServie=O,this.formBuilder=z,this.notice=ce,this.afs=De,this.data=[{course_name:null,course_id:Math.floor(1e5*Math.random())}],this.displayedColumns=["Course Level Name","operation"],this.title="formarray"}ngOnInit(){this.departServie.Departments.subscribe(O=>{this.depts=O}),this.form=this.formBuilder.group({courses:this.formBuilder.array(this.data.map(O=>this.formBuilder.group(O)))}),this.departServie.GetLKevels().subscribe(O=>{this.course_levels=O,this.cosllen=O.length,this.dataSource=O})}get courses(){return this.form.get("courses")}removeCourseField(O){this.courses.removeAt(O)}AddCourse(){this.courses.push(this.formBuilder.group({course_name:null,course_id:Math.floor(1e4*Math.random())}))}cal(O){return O+1}PostCourses(){let O=this.form.value,z=O.courses.length;for(let ce=0;ce<z;ce++){let De=O.courses[ce];null!=De.course_name&&null!=De.course_id&&null!=this.dept_id&&null!=this.selectedLevel&&null!=this.level_code?this.afs.collection("courses").doc(`departmentNo_${this.dept_id}`).collection(`${this.selectedLevel}_${this.dept_id}`,At=>At.where("level","==",this.selectedLevel)).get().subscribe(At=>{if(At.empty){var $t={course_name:De.course_name,course_id:De.course_id,dept_id:this.dept_id,level:this.selectedLevel,level_code:this.level_code},gn={dept_id:this.dept_id,level_code:this.level_code,level:this.selectedLevel,check_submission:this.selectedLevel+"_"+this.dept_id};this.afs.collection("categories",Hn=>Hn.where("level","==",this.selectedLevel).where("dept_id","==",this.dept_id)).get().subscribe(Hn=>{Hn.empty?this.afs.collection("categories").doc(`${this.selectedLevel}_${this.dept_id}`).set(gn):this.afs.collection("categories",Jn=>Jn.where("check_submission","==",this.selectedLevel+"_"+this.dept_id)).get().subscribe(Jn=>{Jn.empty&&this.afs.collection("categories").doc(`${this.selectedLevel}_${this.dept_id}`).set(gn)})}),this.afs.collection("courses").doc(`departmentNo_${this.dept_id}`).collection(`${this.selectedLevel}_${this.dept_id}`).doc(`${De.course_id}`).set($t).then(Hn=>{this.notice.success("Courses Added Successfully"),setTimeout(()=>window.location.reload(),1e3)}).catch(Hn=>{this.notice.delete(Hn)})}else this.notice.delete("Level Details already exists!")}):this.notice.delete("Please input all Fields!")}}CourseCatSubmisiion(){null!=this.course_level_category?this.departServie.subMitCourseLevelk({level:this.course_level_category}).then(z=>{this.notice.success("Added successfully"),this.course_level_category=""}).catch(z=>this.notice.delete(z)):this.notice.delete("Input Level")}editLevel(O,z){this.leve_name=z,this.level_id=O}DelDetails(O,z){this.leve_name=z,this.level_id=O}DelewteLevel(O){console.log(O),this.departServie.updateLevel(O).delete().then(z=>{this.notice.success("Deletion was successful")}).catch(z=>this.notice.delete(z))}refresh(){window.location.reload()}updateLevel(O,z){var ce={level:z};this.departServie.updateLevel(O).update(ce).then(De=>{this.notice.success("Update was successful")}).catch(De=>this.notice.delete(De))}}return S.\u0275fac=function(O){return new(O||S)(e.Y36(tc._),e.Y36(tr.qu),e.Y36(Fs.g),e.Y36(qs.ST))},S.\u0275cmp=e.Xpm({type:S,selectors:[["app-departmentcourses"]],decls:73,vars:8,consts:[[1,"container-fluid","p-4",2,"background-color","#5DADE2"],[1,"container-fluid","p-3"],[1,"card"],[1,"card-header"],[1,"card-title",2,"font-weight","900","font-family","'Segoe UI', Tahoma, Geneva, Verdana, sans-serif","letter-spacing","5px","color","#7D3C98","text-align","center"],["data-bs-tabs","tabs",1,"nav","nav-tabs","card-header-tabs"],[1,"nav-item"],["aria-current","true","data-bs-toggle","tab","href","#courseLevels",1,"nav-link","active"],["data-bs-toggle","tab","href","#courses",1,"nav-link"],[1,"card-body","tab-content"],["id","courseLevels",1,"tab-pane","active"],[1,"container-fluid"],[2,"color","#7D3C98","font-family","Arial, Helvetica, sans-serif","letter-spacing","5px"],[1,"form-group","mt-2"],[2,"width","100%"],["type","text","matInput","","name","","id","",3,"ngModel","ngModelChange"],[1,"container",2,"text-align","end"],[1,"btn","btn-sm","btn-success",3,"click"],[4,"ngIf"],["id","courses",1,"tab-pane"],[1,"form-group","p-3",2,"background","#004a9f","border-radius","5px","border","5px solid #7D3C98"],["for","department",2,"color","white"],["aria-label",".form-select-lg example",1,"form-select","form-select-lg","mt-3",3,"ngModel","ngModelChange"],["selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"conatiner","card","mt-2"],[1,"col-xs-12","col-sm-12","col-md-3","p-2"],[2,"font-family","'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif","color","#7D3C98","font-weight","500"],[1,"form-check-inline","p-3","mt-2"],[4,"ngFor","ngForOf"],[1,"container_fluid","mt-2","mb-2","p-2",2,"background-color","#7D3C98","border-radius","5px","border","5px solid #004a9f"],[1,"row"],[2,"color","white"],[1,"col-xs-12","col-sm-12","col-md-9","p-2"],["type","text","placeholder","e.g code for Diploma ICT is '2920'",1,"form-control",3,"ngModel","ngModelChange"],[3,"formGroup","ngSubmit"],["formArrayName","courses",4,"ngFor","ngForOf"],[1,"col-xs-6","col-sm-6","col-md-6"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],["type","submit",1,"btn","btn-sm","btn-success"],["mat-table","",1,"mat-elevation-z8","demo-table","mt-2",2,"padding","20px",3,"dataSource"],["matColumnDef","Course Level Name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","operation"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["id","editLevel"],["id","box"],[1,"form-group","p-1"],["type","text",1,"form-control","mt-1",3,"ngModel","ngModelChange"],["type","hidden",1,"form-control","mt-1",3,"ngModel","ngModelChange"],[1,"text-right","p-2"],["type","submit",1,"btn","btn-sm","btn-success","mx-2",3,"click"],["id","deleteLevel"],["id","box2"],[2,"color","red"],["type","submit",1,"btn","btn-sm","mx-2",3,"click"],[1,"text-info"],[1,"text-success"],["href","/mtti_mis_departments/courses_in_department#editLevel"],["mat-icon-button","",3,"click"],[2,"color","green","font-size","18px"],["href","/mtti_mis_departments/courses_in_department#deleteLevel"],[2,"color","red","font-size","18px"],["mat-header-row",""],["mat-row",""],[3,"value"],["type","radio",1,"form-check-input",3,"name","ngModel","id","value","ngModelChange"],[1,"form-check-label","mt-1","m-2",2,"color","#004a9f",3,"for"],["formArrayName","courses"],[3,"formGroupName"],[1,"container","card","m-2","p-3"],[1,"col-xs-12","col-sm-12","col-md-12"],["type","hidden","formControlName","course_id"],["formControlName","course_name",1,"form-control"],[1,"container"],["class","col-md-3",4,"ngIf"],[1,"col-md-3"],["mat-raised-button","",3,"click"]],template:function(O,z){1&O&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e._uU(5,"Course Details At Michuki TTI"),e.qZA(),e.TgZ(6,"ul",5)(7,"li",6)(8,"a",7),e._uU(9,"Register Course Levels"),e.qZA()(),e.TgZ(10,"li",6)(11,"a",8),e._uU(12,"Enter Courses"),e.qZA()()()(),e.TgZ(13,"div",9)(14,"div",10)(15,"div",11)(16,"h2",12)(17,"b"),e._uU(18,"Set Courses Levels"),e.qZA()(),e._UZ(19,"hr"),e.TgZ(20,"div",13)(21,"mat-form-field",14)(22,"mat-label"),e._uU(23,"Enter Course Level (e.g Diploma, Cert etc)"),e.qZA(),e.TgZ(24,"input",15),e.NdJ("ngModelChange",function(De){return z.course_level_category=De}),e.qZA()(),e.TgZ(25,"div",16)(26,"button",17),e.NdJ("click",function(){return z.CourseCatSubmisiion()}),e._uU(27,"Add Level"),e.qZA()()(),e.YNc(28,cc,10,3,"ng-container",18),e.qZA()(),e.TgZ(29,"div",19)(30,"h2",12)(31,"b"),e._uU(32,"Set Departmental Courses"),e.qZA()(),e._UZ(33,"hr"),e.TgZ(34,"div",20)(35,"label",21),e._uU(36,"Department Name "),e.TgZ(37,"code"),e._uU(38,"*"),e.qZA()(),e.TgZ(39,"select",22),e.NdJ("ngModelChange",function(De){return z.dept_id=De}),e.TgZ(40,"option",23),e._uU(41,"Choose Department"),e.qZA(),e.YNc(42,Zo,2,2,"option",24),e.qZA()(),e.TgZ(43,"div",25)(44,"div",26)(45,"span",27),e._uU(46,"Choose Course Level "),e.TgZ(47,"code"),e._uU(48,"*"),e.qZA()()(),e.TgZ(49,"div",28),e.YNc(50,jl,4,6,"ng-container",29),e.qZA()(),e.TgZ(51,"div",30)(52,"div",31)(53,"div",26)(54,"span",32),e._uU(55," Course Category Code "),e.TgZ(56,"code"),e._uU(57,"*"),e.qZA()()(),e.TgZ(58,"div",33)(59,"input",34),e.NdJ("ngModelChange",function(De){return z.level_code=De}),e.qZA()()()(),e._UZ(60,"hr"),e.TgZ(61,"div",11)(62,"form",35),e.NdJ("ngSubmit",function(){return z.PostCourses()}),e.TgZ(63,"div",31),e.YNc(64,ya,18,3,"ng-container",36),e.qZA(),e._UZ(65,"hr"),e.TgZ(66,"div",31)(67,"div",37)(68,"button",38),e.NdJ("click",function(){return z.AddCourse()}),e._uU(69,"Add Course"),e.qZA()(),e.TgZ(70,"div",37)(71,"button",39),e._uU(72,"Submit Courses"),e.qZA()()()()()()()()()()),2&O&&(e.xp6(24),e.Q6J("ngModel",z.course_level_category),e.xp6(4),e.Q6J("ngIf",z.cosllen>0),e.xp6(11),e.Q6J("ngModel",z.dept_id),e.xp6(3),e.Q6J("ngForOf",z.depts),e.xp6(8),e.Q6J("ngForOf",z.course_levels),e.xp6(9),e.Q6J("ngModel",z.level_code),e.xp6(3),e.Q6J("formGroup",z.form),e.xp6(2),e.Q6J("ngForOf",z.courses.controls))},directives:[Qs.KE,Qs.hX,nc.Nt,tr.Fj,tr.JJ,tr.On,d.O5,oo.BZ,oo.w1,oo.fO,oo.ge,oo.Dz,oo.ev,xe.lW,pe.Hw,oo.as,oo.XQ,oo.nj,oo.Gk,tr.EJ,tr.YN,tr.Kr,d.sg,tr._,tr._Y,tr.JL,tr.sg,tr.CE,tr.x0,tr.u],styles:[".demo-table[_ngcontent-%COMP%]{width:100%}.mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{border-bottom:1px solid transparent;border-top:1px solid transparent;cursor:pointer}.mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{border-color:currentColor}.demo-row-is-clicked[_ngcontent-%COMP%]{font-weight:700}#editLevel[_ngcontent-%COMP%], #deleteLevel[_ngcontent-%COMP%]{background:rgba(102,102,102,.5);width:100%;height:100%;position:absolute;top:0;left:0;display:none}#box[_ngcontent-%COMP%]{width:300px;height:200px;text-align:center;padding:5px;border:3px solid #0000cc;border-radius:10px;color:#00c;position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;background:#fff}#box2[_ngcontent-%COMP%]{width:300px;height:150px;text-align:center;padding:5px;border:3px solid #0000cc;border-radius:10px;color:#00c;position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;background:#fff}#editLevel[_ngcontent-%COMP%]:target{display:block}#deleteLevel[_ngcontent-%COMP%]:target{display:block}.close[_ngcontent-%COMP%]{display:inline-block;border:1px solid #0000cc;color:#00c;padding:0 12px;margin:10px;text-decoration:none;background:#f2f2f2;font-size:14pt;cursor:pointer}.close[_ngcontent-%COMP%]:hover{background:#e6e6ff}"]}),S})();var Rc=A(773);function Ys(S,k){if(1&S&&(e.TgZ(0,"span",21),e._uU(1),e.qZA()),2&S){const O=e.oxw();e.xp6(1),e.Oqu(O.message)}}function Oc(S,k){if(1&S&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&S){const O=e.oxw();e.xp6(1),e.Oqu(O.message)}}function ba(S,k){if(1&S){const O=e.EpF();e.TgZ(0,"div",32)(1,"button",33),e.NdJ("click",function(){e.CHM(O);const ce=e.oxw().index;return e.oxw().removeClassField(ce)}),e._uU(2,"Remove"),e.qZA()()}}function Oa(S,k){if(1&S&&(e.ynx(0,23)(1,24),e.TgZ(2,"div",25)(3,"h4")(4,"b"),e._uU(5),e.qZA()(),e.TgZ(6,"div",3)(7,"div",26),e._UZ(8,"input",27),e.qZA()(),e.TgZ(9,"div",3)(10,"div",28)(11,"span"),e._uU(12," Class Name:"),e.qZA()(),e.TgZ(13,"div",29),e._UZ(14,"input",30),e.qZA()()(),e.BQk(),e.TgZ(15,"div",5)(16,"div",3),e.YNc(17,ba,3,0,"div",31),e.qZA()(),e.BQk()),2&S){const O=k.index,z=e.oxw();e.xp6(1),e.Q6J("formGroupName",O),e.xp6(4),e.hij("Class No.",z.cal(O),""),e.xp6(12),e.Q6J("ngIf",O>0)}}function Za(S,k){1&S&&(e.TgZ(0,"div",34),e._UZ(1,"mat-spinner",35),e.qZA()),2&S&&(e.xp6(1),e.Q6J("diameter",30))}function da(S,k){if(1&S&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&S){const O=k.$implicit;e.s9C("value",O.dept_id),e.xp6(1),e.Oqu(O.dept_name)}}function Ar(S,k){if(1&S&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&S){const O=k.$implicit;e.s9C("value",O.level),e.xp6(1),e.Oqu(O.level)}}function Js(S,k){if(1&S&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&S){const O=k.$implicit;e.Q6J("ngValue",O),e.xp6(1),e.Oqu(O.course_name)}}function kc(S,k){if(1&S){const O=e.EpF();e.TgZ(0,"div",30)(1,"button",31),e.NdJ("click",function(){e.CHM(O);const ce=e.oxw().index;return e.oxw().removeField(ce)}),e._uU(2,"Remove"),e.qZA()()}}function uc(S,k){if(1&S&&(e.ynx(0,20)(1,21),e.TgZ(2,"div",22)(3,"h5")(4,"b"),e._uU(5),e.qZA()(),e.TgZ(6,"div",3)(7,"div",23)(8,"span"),e._uU(9," Unit Code : "),e.TgZ(10,"code"),e._uU(11,"*"),e.qZA()()(),e.TgZ(12,"div",24),e._UZ(13,"input",25)(14,"input",26),e.qZA(),e.TgZ(15,"div",23)(16,"span"),e._uU(17," Unit Name: "),e.TgZ(18,"code"),e._uU(19,"*"),e.qZA()()(),e.TgZ(20,"div",24),e._UZ(21,"input",27),e.qZA()()(),e.BQk(),e.TgZ(22,"div",28)(23,"div",3),e.YNc(24,kc,3,0,"div",29),e.qZA()(),e.BQk()),2&S){const O=k.index,z=e.oxw();e.xp6(1),e.Q6J("formGroupName",O),e.xp6(4),e.hij("Unit ",z.cal(O),"."),e.xp6(19),e.Q6J("ngIf",O>0)}}const bs=[{path:"",component:at,children:[{path:"",component:zc},{path:"add_new_department",component:(()=>{class S{constructor(O,z,ce){this.afs=O,this.formBuilder=z,this.notice=ce,this.data=[{class_name:null,class_id:Math.floor(1e5*Math.random())}]}ngOnInit(){this.form=this.formBuilder.group({classes:this.formBuilder.array(this.data.map(O=>this.formBuilder.group(O)))})}get classes(){return this.form.get("classes")}removeClassField(O){this.classes.removeAt(O)}addAclass(){this.classes.push(this.formBuilder.group({class_name:null,class_id:Math.floor(1e4*Math.random())}))}cal(O){return O+1}postClass(){const z={dept_id:Math.floor(2e3*Math.random()),dept_name:this.dept,classes:this.form.value.classes};null!=this.dept?this.afs.collection("departments",ce=>ce.where("dept_name","==",this.dept)).get().subscribe(ce=>{ce.empty?this.afs.collection("departments").add(z).then(De=>{this.dept="",this.notice.success("Department added successfully"),this.state=1,setTimeout(()=>window.location.reload(),2e3)}).catch(De=>{this.notice.delete(De)}):(this.state=1,setTimeout(()=>this.state=0,1e3),this.notice.delete("Department alreaduy exists!"))}):(this.state=1,setTimeout(()=>this.state=0,1e3),this.notice.delete("Please enter the Department!"))}}return S.\u0275fac=function(O){return new(O||S)(e.Y36(qs.ST),e.Y36(tr.qu),e.Y36(Fs.g))},S.\u0275cmp=e.Xpm({type:S,selectors:[["app-dept-registration"]],decls:39,vars:6,consts:[[1,"container-fluid","pt-3",2,"background","#5DADE2"],[1,"text-center",2,"color","#7D3C98","font-family","Arial, Helvetica, sans-serif","letter-spacing","5px"],[1,"container-fluid"],[1,"row"],[1,"col-md-6","col-lg-6","col-sm-12","col-xs-12"],[1,"container"],["class","text-success",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"form-group","p-4"],["type","text","placeholder","Please enter the name of the Department",1,"form-control","mt-3",3,"ngModel","ngModelChange"],[1,"container","p-4"],[3,"formGroup","ngSubmit"],["formArrayName","classes",4,"ngFor","ngForOf"],[1,"col-xs-6","col-sm-6","col-md-6"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"col-xs-6","col-sm-6","col-md-6",2,"justify-content","end","text-align","right"],["type","submit",1,"btn","btn-sm","btn-success"],["class","col-xs-3 col-sm-3 col-md-3","style","align-items: center;text-align: center;",4,"ngIf"],[1,"col-xs-9","col-sm-9","col-md-9"],[2,"font-size","small"],[1,"col-md-12","col-lg-12","colsm-12","col-12"],[1,"text-success"],[1,"text-danger"],["formArrayName","classes"],[3,"formGroupName"],[1,"container","card","m-2","p-3"],[1,"col-xs-12","col-sm-12","col-md-12"],["type","hidden","formControlName","class_id"],[1,"col-xs-12","col-sm-12","col-md-3","p-2"],[1,"col-xs-12","col-sm-12","col-md-9","p-2"],["formControlName","class_name",1,"form-control"],["class","col-md-3",4,"ngIf"],[1,"col-md-3"],["mat-raised-button","",3,"click"],[1,"col-xs-3","col-sm-3","col-md-3",2,"align-items","center","text-align","center"],[3,"diameter"]],template:function(O,z){1&O&&(e.TgZ(0,"div",0)(1,"h2",1)(2,"b"),e._uU(3,"Department Registration"),e.qZA()(),e._UZ(4,"hr"),e.TgZ(5,"div",2)(6,"div",3)(7,"div",4)(8,"div",5),e.YNc(9,Ys,2,1,"span",6),e.YNc(10,Oc,2,1,"span",7),e.TgZ(11,"div",8)(12,"label")(13,"b"),e._uU(14,"Name of Department:"),e.qZA()(),e._UZ(15,"br"),e.TgZ(16,"input",9),e.NdJ("ngModelChange",function(De){return z.dept=De}),e.qZA()()()(),e.TgZ(17,"div",4)(18,"div",10)(19,"label")(20,"b"),e._uU(21,"List of Classes:"),e.qZA()(),e._UZ(22,"br"),e.TgZ(23,"form",11),e.NdJ("ngSubmit",function(){return z.postClass()}),e.TgZ(24,"div",3),e.YNc(25,Oa,18,3,"ng-container",12),e.qZA(),e._UZ(26,"hr"),e.TgZ(27,"div",3)(28,"div",13)(29,"button",14),e.NdJ("click",function(){return z.addAclass()}),e._uU(30,"Add Class"),e.qZA()(),e.TgZ(31,"div",15)(32,"button",16)(33,"div",3),e.YNc(34,Za,2,1,"div",17),e.TgZ(35,"div",18)(36,"span",19),e._uU(37,"Submit"),e.qZA()()()()()()()()(),e._UZ(38,"div",20),e.qZA()()()),2&O&&(e.xp6(9),e.Q6J("ngIf",z.message&&1==z.state),e.xp6(1),e.Q6J("ngIf",z.message&&0==z.state),e.xp6(6),e.Q6J("ngModel",z.dept),e.xp6(7),e.Q6J("formGroup",z.form),e.xp6(2),e.Q6J("ngForOf",z.classes.controls),e.xp6(9),e.Q6J("ngIf",1==z.state))},directives:[d.O5,tr.Fj,tr.JJ,tr.On,tr._Y,tr.JL,tr.sg,d.sg,tr.CE,tr.x0,tr.u,xe.lW,Rc.Ou],styles:[""]}),S})()},{path:"courses_in_department",component:Ra},{path:"set_unit_for_courses",component:(()=>{class S{constructor(O,z,ce,De){this.departServie=O,this.notice=z,this.formBuilder=ce,this.afs=De,this.data=[{unit_name:null,unit_code:null,unit_id:Math.floor(1e5*Math.random())}]}ngOnInit(){this.departServie.Departments.subscribe(O=>{this.depts=O}),this.form=this.formBuilder.group({courses:this.formBuilder.array(this.data.map(O=>this.formBuilder.group(O)))})}get courses(){return this.form.get("courses")}AddUnit(){this.courses.push(this.formBuilder.group({unit_name:null,unit_id:Math.floor(1e5*Math.random()),unit_code:null}))}removeField(O){this.courses.removeAt(O)}cal(O){return O+1}getCourses(O){let z=null==O?void 0:O.target.value;this.selectedDept_id=z,this.departServie.getCategories(z).subscribe(ce=>{this.categories=ce})}getCourseCategories(O){this.departServie.getcoursesBasedOnCategory(this.selectedDept_id,O.target.value).subscribe(De=>{this.coursesObtained=De})}getLevelcode(O){this.level_code=this.couseObject.level_code,this.course_id=this.couseObject.course_id,this.course_name=this.couseObject.course_name}PostUnitsEnetred(){let O=this.form.value,z=O.courses.length;for(let ce=0;ce<z;ce++){let De=O.courses[ce];null!=this.dept_id&&null!=this.level&&null!=De.unit_id&&null!=De.unit_name&&null!=De.unit_code&&null!=this.level_code?this.afs.collection("Units").doc(`${this.dept_id}_${this.level}`).collection(`${this.course_name}_${this.level}`,At=>At.where("course_name","==",this.course_name)).get().subscribe(At=>{if(At.empty){var $t={dept_id:this.dept_id,level:this.level,unit_id:De.unit_id,course_id:this.course_id,course_name:this.course_name,unit_name:De.unit_name,unit_code:De.unit_code,level_code:this.level_code};this.afs.collection("Units").doc(`${this.dept_id}_${this.level}`).collection(`${this.course_name}_${this.level}`).doc(`${this.course_name}_${De.unit_id}`).set($t).then(gn=>{this.notice.success("Units recorded successfully"),setTimeout(()=>window.location.reload(),1e3)}).catch(gn=>this.notice.delete(gn))}else this.notice.delete("Units fro this course already exists!")}):this.notice.delete("Fill all fields")}}}return S.\u0275fac=function(O){return new(O||S)(e.Y36(tc._),e.Y36(Fs.g),e.Y36(tr.qu),e.Y36(qs.ST))},S.\u0275cmp=e.Xpm({type:S,selectors:[["app-set-units"]],decls:55,vars:8,consts:[[1,"container-fluid","p-4",2,"background-color","#5DADE2"],[1,"text-center",2,"color","#7D3C98","font-family","Arial, Helvetica, sans-serif","letter-spacing","5px"],[1,"container","p-4",2,"background","#7D3C98","border","5px solid #004a9f","border-radius","5px"],[1,"row"],[1,"col-sm-12","col-xs-12","col-md-4"],[1,"form-group"],["for","department",2,"color","white","font-family","'Courier New', Courier, monospace","font-weight","900"],["aria-label",".form-select-lg example",1,"form-select","form-select-lg","mb-3",3,"ngModel","ngModelChange","change"],["selected",""],[3,"value",4,"ngFor","ngForOf"],["for","course",2,"color","white","font-family","'Courier New', Courier, monospace","font-weight","900"],["for","level",2,"color","white","font-family","'Courier New', Courier, monospace","font-weight","900"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"formGroup","ngSubmit"],["formArrayName","courses",4,"ngFor","ngForOf"],[1,"col-xs-6","col-sm-6","col-md-6"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],["type","submit",1,"btn","btn-sm","btn-success"],[3,"value"],[3,"ngValue"],["formArrayName","courses"],[3,"formGroupName"],[1,"container","card","m-2","p-2"],[1,"col-xs-12","col-sm-12","col-md-3","p-2"],[1,"col-xs-12","col-sm-12","col-md-9","p-2"],["formControlName","unit_code",1,"form-control"],["formControlName","unit_id","type","hidden",1,"form-control"],["formControlName","unit_name",1,"form-control"],[1,"container"],["class","col-md-3",4,"ngIf"],[1,"col-md-3"],[1,"btn","btn-info","btn-sm",3,"click"]],template:function(O,z){1&O&&(e.TgZ(0,"div",0)(1,"h2",1)(2,"b"),e._uU(3,"Set Units for Courses"),e.qZA()(),e._UZ(4,"hr"),e.TgZ(5,"div",2)(6,"div",3)(7,"div",4)(8,"div",5)(9,"label",6),e._uU(10,"Department Name "),e.TgZ(11,"code"),e._uU(12,"*"),e.qZA()(),e._UZ(13,"br")(14,"hr"),e.TgZ(15,"select",7),e.NdJ("ngModelChange",function(De){return z.dept_id=De})("change",function(De){return z.getCourses(De)}),e.TgZ(16,"option",8),e._uU(17,"Choose Department"),e.qZA(),e.YNc(18,da,2,2,"option",9),e.qZA()()(),e.TgZ(19,"div",4)(20,"div",5)(21,"label",10),e._uU(22,"Choose Category Name "),e.TgZ(23,"code"),e._uU(24,"*"),e.qZA()(),e._UZ(25,"br")(26,"hr"),e.TgZ(27,"select",7),e.NdJ("ngModelChange",function(De){return z.level=De})("change",function(De){return z.getCourseCategories(De)}),e.TgZ(28,"option",8),e._uU(29,"Choose Category/Level"),e.qZA(),e.YNc(30,Ar,2,2,"option",9),e.qZA()()(),e.TgZ(31,"div",4)(32,"div",5)(33,"label",11),e._uU(34,"Course Name "),e.TgZ(35,"code"),e._uU(36,"*"),e.qZA()(),e._UZ(37,"br")(38,"hr"),e.TgZ(39,"select",7),e.NdJ("ngModelChange",function(De){return z.couseObject=De})("change",function(De){return z.getLevelcode(De)}),e.TgZ(40,"option",8),e._uU(41,"Choose Level"),e.qZA(),e.YNc(42,Js,2,2,"option",12),e.qZA()()()()(),e._UZ(43,"hr"),e.TgZ(44,"form",13),e.NdJ("ngSubmit",function(){return z.PostUnitsEnetred()}),e.TgZ(45,"div",3),e.YNc(46,uc,25,3,"ng-container",14),e.qZA(),e._UZ(47,"hr"),e.TgZ(48,"div",3)(49,"div",15)(50,"button",16),e.NdJ("click",function(){return z.AddUnit()}),e._uU(51,"Add Unit"),e.qZA()(),e.TgZ(52,"div",15)(53,"button",17),e._uU(54,"Submit units"),e.qZA()()()()()),2&O&&(e.xp6(15),e.Q6J("ngModel",z.dept_id),e.xp6(3),e.Q6J("ngForOf",z.depts),e.xp6(9),e.Q6J("ngModel",z.level),e.xp6(3),e.Q6J("ngForOf",z.categories),e.xp6(9),e.Q6J("ngModel",z.couseObject),e.xp6(3),e.Q6J("ngForOf",z.coursesObtained),e.xp6(2),e.Q6J("formGroup",z.form),e.xp6(2),e.Q6J("ngForOf",z.courses.controls))},directives:[tr.EJ,tr.JJ,tr.On,tr.YN,tr.Kr,d.sg,tr._Y,tr.JL,tr.sg,tr.CE,tr.x0,tr.Fj,tr.u,d.O5],styles:[""]}),S})()},{path:"list_of_courses",component:ou}]}];let qa=(()=>{class S{}return S.\u0275fac=function(O){return new(O||S)},S.\u0275mod=e.oAB({type:S}),S.\u0275inj=e.cJS({imports:[[_.Bz.forChild(bs)],_.Bz]}),S})(),au=(()=>{class S{}return S.\u0275fac=function(O){return new(O||S)},S.\u0275mod=e.oAB({type:S}),S.\u0275inj=e.cJS({imports:[[d.ez,qa,tr.UX,tr.u5]]}),S})()},5895:(Xn,Vt,A)=>{"use strict";A.d(Vt,{_:()=>ee});var d=A(4004),_=A(5e3),e=A(345);let ee=(()=>{class W{constructor(pe){this.afs=pe,this.Departments=this.afs.collection("departments").snapshotChanges().pipe((0,d.U)(ze=>ze.map(Ve=>{const Q=Ve.payload.doc.data();return Object.assign({id:Ve.payload.doc.id},Q)})))}getCategories(pe){return this.afs.collection("categories",ze=>ze.where("dept_id","==",pe)).valueChanges()}getcoursesBasedOnCategory(pe,ze){return this.afs.collection("courses").doc(`departmentNo_${pe}`).collection(`${ze}_${pe}`,Ve=>Ve.where("level","==",ze)).valueChanges()}getDeptIdBasedonName(pe){return this.afs.collection("departments",ze=>ze.where("dept_name","==",pe)).valueChanges()}getCategorybyDepartmentID(pe){return this.afs.collection("categories",ze=>ze.where("dept_id","==",pe)).valueChanges()}getCoursesbasedonCategory(pe,ze){return this.afs.collection(`coursesdepartmentNo_${pe}${ze}_${pe}`,Ve=>Ve.where("level","==",ze)).snapshotChanges().pipe((0,d.U)(Ve=>Ve.map(Q=>{const qe=Q.payload.doc.data();return qe.id=Q.payload.doc.id,Object.assign({},qe)})))}UpdaterDelete(pe,ze,Ve){return this.afs.collection("courses").doc(`departmentNo_${pe}`).collection(`${ze}_${pe}`).doc(`${Ve}`)}getUnitsBycourseID(pe,ze,Ve,Q){return this.afs.collection("Units").doc(`${pe}_${ze}`).collection(`${Ve}_${ze}`,qe=>qe.where("course_id","==",Q)).valueChanges()}EditDeletUnit(pe,ze,Ve,Q,qe){return this.afs.collection("Units").doc(`${pe}_${ze}`).collection(`${Ve}_${ze}`).doc(`${Ve}_${qe}`)}getDepartmentByID(pe){return this.afs.collection("departments",ze=>ze.where("dept_id","==",pe)).valueChanges()}subMitCourseLevelk(pe){return this.afs.collection("levelsofCourse").add(pe)}GetLKevels(){return this.afs.collection("levelsofCourse").snapshotChanges().pipe((0,d.U)(pe=>pe.map(ze=>{const Ve=ze.payload.doc.data();return Ve.id=ze.payload.doc.id,Object.assign({},Ve)})))}updateLevel(pe){return this.afs.doc(`levelsofCourse/${pe}`)}}return W.\u0275fac=function(pe){return new(pe||W)(_.LFG(e.ST))},W.\u0275prov=_.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})()},8121:(Xn,Vt,A)=>{"use strict";A.r(Vt),A.d(Vt,{ExamsModule:()=>Mi});var d=A(9808),_=A(1402),e=A(5e3),ee=A(9182),W=A(4594),xe=A(7423),pe=A(8099),ze=A(2638),Ve=A(4834);function Q(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){return e.CHM(Ie),e.oxw().toggleSideNan()}),e.TgZ(1,"mat-icon"),e._uU(2,"chevron_left"),e.qZA(),e.TgZ(3,"span")(4,"b"),e._uU(5,"Hide Toolbar"),e.qZA()()()}}function qe(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){return e.CHM(Ie),e.oxw().toggleSideNan()}),e.TgZ(1,"mat-icon"),e._uU(2,"navigate_next"),e.qZA(),e.TgZ(3,"span")(4,"b"),e._uU(5,"Show Toolbar"),e.qZA()()()}}function je(ht,An){1&ht&&(e.TgZ(0,"nav",17)(1,"div",18),e._UZ(2,"img",19),e.TgZ(3,"button",20)(4,"button",21)(5,"mat-icon",22),e._uU(6,"menu"),e.qZA()()(),e.TgZ(7,"div",23)(8,"ul",24)(9,"li",25)(10,"a",26),e._uU(11,"Home"),e.qZA()()(),e.TgZ(12,"div",27)(13,"ul",24)(14,"li",28)(15,"a",29),e._uU(16,"Set Course Type "),e.qZA()(),e.TgZ(17,"li",28)(18,"a",12),e._uU(19," Unit Allocation"),e.qZA()(),e.TgZ(20,"li",28)(21,"a",12),e._uU(22," Unit Allocation List"),e.qZA()()()()()()()),2&ht&&(e.xp6(15),e.Q6J("routerLink","../Michuki_tti_exams"),e.xp6(3),e.Q6J("routerLink","../Michuki_tti_exams/semester_unit_allocation"),e.xp6(3),e.Q6J("routerLink","../Michuki_tti_exams/unli_allocation_list"))}let at=(()=>{class ht{constructor(){this.showTolBar=!1,this.openClose=!0}ngOnInit(){}toggleSideNan(){this.showTolBar=!this.showTolBar,this.openClose=!this.openClose}}return ht.\u0275fac=function(Ie){return new(Ie||ht)},ht.\u0275cmp=e.Xpm({type:ht,selectors:[["app-exams-layout"]],decls:53,vars:8,consts:[[1,"navbar","sticky-top"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"spacer"],[2,"margin-right","30px","color","white","font-family","Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif","font-weight","500","text-shadow","2px 3px #7D3C98"],[2,"cursor","pointer","font-size","20px"],[2,"cursor","pointer","font-size","small"],[2,"cursor","pointer","font-size","25px"],["mode","side",1,"mat-elevation-z8",3,"opened"],["src","../../../assets/logo_michuki.png",1,"avatar","mat-elevation-z8"],[1,"name"],[1,"designation"],["mat-button","",1,"menu-button"],["routerLinkActive","active","mat-nav-list-item","",1,"ln",3,"routerLink"],["routerLinkActive","active2","mat-nav-list-item","",1,"ln",3,"routerLink"],[1,"content","mat-elevation-z8"],["class","navbar navbar-expand-lg navbar-light","style","background: #002b5c;",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"navbar","navbar-expand-lg","navbar-light",2,"background","#002b5c"],[1,"container-fluid"],["src","../../../assets/logo_michuki.png",1,"avatar2","mat-elevation-z8"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarTogglerDemo02","aria-controls","navbarTogglerDemo02","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],["mat-icon-button",""],[2,"color","white"],["id","navbarTogglerDemo02",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLinkActive","active","mat-nav-list-item","",1,"ln"],[1,"d-flex"],[1,"nav-item",2,"margin","5px"],["routerLinkActive","active","mat-nav-list-item","",1,"ln2",3,"routerLink"]],template:function(Ie,Ot){1&Ie&&(e.TgZ(0,"nav",0)(1,"mat-toolbar")(2,"mat-toolbar-row"),e.YNc(3,Q,6,0,"button",1),e.YNc(4,qe,6,0,"button",1),e._UZ(5,"span",2),e.TgZ(6,"span",3),e._uU(7,"Michuki_tti_mate"),e.qZA(),e.TgZ(8,"mat-icon",4),e._uU(9,"person"),e.qZA(),e.TgZ(10,"span",5),e._uU(11," David Wangila"),e.qZA(),e.TgZ(12,"mat-icon",6),e._uU(13,"keyboard_arrow_down"),e.qZA()()()(),e.TgZ(14,"mat-sidenav-container")(15,"mat-sidenav",7),e._UZ(16,"img",8),e.TgZ(17,"h4",9),e._uU(18,"Departments | Michuki TTI"),e.qZA(),e.TgZ(19,"p",10)(20,"i"),e._uU(21,"michuki_tti_mate"),e.qZA()(),e._UZ(22,"mat-divider"),e.TgZ(23,"button",11)(24,"mat-icon"),e._uU(25,"home"),e.qZA(),e.TgZ(26,"a",12),e._uU(27,"Home"),e.qZA()(),e.TgZ(28,"button",11)(29,"mat-icon"),e._uU(30,"approval"),e.qZA(),e.TgZ(31,"a",13),e._uU(32,"Set Course Type"),e.qZA()(),e.TgZ(33,"button",11)(34,"mat-icon"),e._uU(35,"where_to_vote"),e.qZA(),e.TgZ(36,"a",12),e._uU(37,"Unit Allocation"),e.qZA()(),e.TgZ(38,"button",11)(39,"mat-icon"),e._uU(40,"list"),e.qZA(),e.TgZ(41,"a",12),e._uU(42,"Allocation List"),e.qZA()(),e._UZ(43,"mat-divider"),e.TgZ(44,"button",11)(45,"mat-icon"),e._uU(46,"logout"),e.qZA(),e.TgZ(47,"span"),e._uU(48,"Log Out"),e.qZA()()(),e.TgZ(49,"mat-sidenav-content")(50,"div",14),e.YNc(51,je,23,3,"nav",15),e._UZ(52,"router-outlet"),e.qZA()()()),2&Ie&&(e.xp6(3),e.Q6J("ngIf",0==Ot.showTolBar),e.xp6(1),e.Q6J("ngIf",0!=Ot.showTolBar),e.xp6(11),e.Q6J("opened",Ot.openClose),e.xp6(11),e.Q6J("routerLink","../mttimis_dashboard"),e.xp6(5),e.Q6J("routerLink","../Michuki_tti_exams"),e.xp6(5),e.Q6J("routerLink","../Michuki_tti_exams/semester_unit_allocation"),e.xp6(5),e.Q6J("routerLink","../Michuki_tti_exams/unli_allocation_list"),e.xp6(10),e.Q6J("ngIf",1!=Ot.openClose))},directives:[ee.M2,W.Ye,W.rD,d.O5,xe.lW,pe.Hw,ze.TM,ze.JX,Ve.d,_.yS,_.Od,ze.Rh,_.lC],styles:["mat-toolbar[_ngcontent-%COMP%]{background:#004a9f;color:#fff}mat-sidenav[_ngcontent-%COMP%]{margin:10px;width:200px;border-right:none;background:#002b5c;color:#fff;border-radius:10px;padding:16px;text-align:center}.content[_ngcontent-%COMP%]{height:97%;border-radius:10px;margin:10px 10px 10px 32px;font-size:1rem}mat-sidenav-container[_ngcontent-%COMP%]{height:88%}.menu-button[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;font-size:1rem}.menu-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.avatar[_ngcontent-%COMP%]{margin-top:16px;width:100px;height:100px;border-radius:20%;background-color:#f0f8ff}.avatar2[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:20%;background-color:#f0f8ff}.name[_ngcontent-%COMP%]{margin-top:8px;font-weight:400;font-size:small}.designation[_ngcontent-%COMP%]{margin-top:2px;font-size:.7rem;color:#d3d3d3}mat-divider[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;background-color:#ffffff80}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.ln[_ngcontent-%COMP%]{color:#fff;font-size:1rem;text-decoration:none}.ln[_ngcontent-%COMP%]:hover{color:#add8e6;text-shadow:1px 2px #7D3C98}.active[_ngcontent-%COMP%]{color:orange;font-weight:bolder}.ln2[_ngcontent-%COMP%]{color:#fff;font-size:1rem;text-decoration:none}.ln2[_ngcontent-%COMP%]:hover{color:#add8e6;text-shadow:1px 2px #7D3C98}.active2[_ngcontent-%COMP%]{color:#add8e6;font-weight:bolder}.list-group2[_ngcontent-%COMP%]{padding:10px;margin:5px;background-color:#faad39;border-radius:5px}#dashboard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link:active{color:red}"]}),ht})();var ke=A(345),Ke=A(5895);let dt=(()=>{class ht{constructor(Ie){this.afs=Ie}getCoursesbyDept_id(Ie){return this.afs.collection("categories",Ot=>Ot.where("dept_id","==",Ie)).valueChanges()}GetCoursesByLevelandDept_id(Ie,Ot){return this.afs.collection("courses").doc(`departmentNo_${Ie}`).collection(`${Ot}_${Ie}`,ae=>ae.where("dept_id","==",Ie)).valueChanges()}postContentforType(Ie,Ot,ae,Ge,Oe){return this.afs.collection("course_type_examinationbody").doc(`foreDept_${Ie}`).collection(`${Ie}_${Ot}`).doc(`${Oe}_${Ge}-${ae}`)}getTypeandexam(Ie,Ot){return this.afs.collection("course_type_examinationbody").doc(`foreDept_${Ie}`).collection(`${Ie}_${Ot}`,ae=>ae.where("level","==",Ot).where("dept_id","==",Ie)).valueChanges()}deleteType(Ie,Ot,ae,Ge,Oe){return this.afs.collection("course_type_examinationbody").doc(`foreDept_${Ie}`).collection(`${Ie}_${Ot}`).doc(`${Oe}_${Ge}-${ae}`)}getCourseModules(Ie,Ot,ae){return this.afs.collection("course_type_examinationbody").doc(`foreDept_${Ie}`).collection(`${Ie}_${Ot}`,Ge=>Ge.where("course_name","==",ae).where("dept_id","==",Ie)).valueChanges()}getUnitsForModuleAllocation(Ie,Ot,ae){return this.afs.collection("Units").doc(`${Ie}_${Ot}`).collection(`${ae}_${Ot}`,Ge=>Ge.where("course_name","==",ae)).valueChanges()}}return ht.\u0275fac=function(Ie){return new(Ie||ht)(e.LFG(ke.ST))},ht.\u0275prov=e.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht})();var it=A(7440),Dt=A(3251),Tt=A(3075);function hn(ht,An){if(1&ht&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&ht){const Ie=An.$implicit;e.s9C("value",Ie.level),e.xp6(1),e.Oqu(Ie.level)}}function gt(ht,An){if(1&ht&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&ht){const Ie=An.$implicit;e.s9C("value",Ie.course_name),e.xp6(1),e.hij(" ",Ie.course_name," ")}}function Pe(ht,An){if(1&ht&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&ht){const Ie=An.$implicit,Ot=e.oxw(4);e.s9C("value",Ie),e.xp6(1),e.AsE("",Ie," - ",Ot.examBody,"")}}function te(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"select",28),e.NdJ("ngModelChange",function(ae){return e.CHM(Ie),e.oxw(3).modular_type=ae}),e.TgZ(1,"option",22),e._uU(2,"Choose Modular Level Module"),e.qZA(),e.YNc(3,Pe,2,3,"option",23),e.qZA()}if(2&ht){const Ie=e.oxw(3);e.Q6J("ngModel",Ie.modular_type),e.xp6(3),e.Q6J("ngForOf",Ie.modules[0].category_type)}}function Qe(ht,An){if(1&ht&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&ht){const Ie=An.$implicit,Ot=e.oxw(4);e.s9C("value",Ie),e.xp6(1),e.AsE("",Ie," - ",Ot.examBody,"")}}function Mt(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"select",28),e.NdJ("ngModelChange",function(ae){return e.CHM(Ie),e.oxw(3).modular_type=ae}),e.TgZ(1,"option",22),e._uU(2,"Choose Non Modular Level"),e.qZA(),e.YNc(3,Qe,2,3,"option",23),e.qZA()}if(2&ht){const Ie=e.oxw(3);e.Q6J("ngModel",Ie.modular_type),e.xp6(3),e.Q6J("ngForOf",Ie.modules2)}}function bt(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"input",29),e.NdJ("ngModelChange",function(ae){e.CHM(Ie);const Ge=e.oxw(3);return Ge.nonmodulaelist+" - "+(Ge.examBody=ae)})("ngModelChange",function(ae){return e.CHM(Ie),e.oxw(3).modular_type=ae}),e.qZA()}if(2&ht){const Ie=e.oxw(3);e.Q6J("ngModel",Ie.nonmodulaelist+" - "+Ie.examBody)("ngModel",Ie.modular_type)}}function tt(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"mat-tab",20)(1,"select",21),e.NdJ("change",function(ae){return e.CHM(Ie),e.oxw(2).getCourses(ae)}),e.TgZ(2,"option",22),e._uU(3,"choose Level"),e.qZA(),e.YNc(4,hn,2,2,"option",23),e.qZA(),e.TgZ(5,"select",24),e.NdJ("change",function(ae){return e.CHM(Ie),e.oxw(2).getModulesForCourse(ae)}),e.TgZ(6,"option",22),e._uU(7,"Choose course"),e.qZA(),e.YNc(8,gt,2,2,"option",23),e.qZA(),e.YNc(9,te,4,2,"select",25),e.YNc(10,Mt,4,2,"select",25),e.YNc(11,bt,1,2,"input",26),e.qZA()}if(2&ht){const Ie=An.$implicit,Ot=e.oxw(2);e.s9C("label",Ie.dept_name),e.xp6(4),e.Q6J("ngForOf",Ot.levels),e.xp6(4),e.Q6J("ngForOf",Ot.itemsforAllacation),e.xp6(1),e.Q6J("ngIf",Ot.modules&&"Modular"==Ot.courseelectedtype&&Ot.lengthList>0),e.xp6(1),e.Q6J("ngIf",Ot.modules2&&"Non-Modular"==Ot.courseelectedtype&&1!=Ot.state),e.xp6(1),e.Q6J("ngIf",1==Ot.state&&"Non-Modular"==Ot.courseelectedtype&&""!=Ot.nonmodulaelist)}}function Ze(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"input",35),e.NdJ("change",function(ae){return e.CHM(Ie),e.oxw(4).UnitsSelected(ae)}),e.qZA(),e.TgZ(3,"span",36),e._uU(4),e.qZA()()()}if(2&ht){const Ie=e.oxw().$implicit;e.xp6(2),e.s9C("value",Ie.unit_name),e.xp6(2),e.Oqu(Ie.unit_name)}}function Ee(ht,An){if(1&ht&&(e.ynx(0),e.YNc(1,Ze,5,2,"div",32),e.BQk()),2&ht){const Ie=e.oxw(3);e.xp6(1),e.Q6J("ngIf",Ie.units)}}function Ye(ht,An){if(1&ht&&(e.TgZ(0,"div",30),e.YNc(1,Ee,2,1,"ng-container",31),e.qZA()),2&ht){const Ie=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",Ie.units)}}function Xe(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"div",13)(1,"h2",14),e._uU(2," Unit Allocations To Course Types"),e.qZA(),e.TgZ(3,"mat-tab-group",15),e.NdJ("selectedTabChange",function(ae){return e.CHM(Ie),e.oxw().getList(ae)}),e.YNc(4,tt,12,6,"mat-tab",16),e.ALo(5,"async"),e.qZA(),e.YNc(6,Ye,2,1,"div",17),e.TgZ(7,"div",18)(8,"button",19),e.NdJ("click",function(){return e.CHM(Ie),e.oxw().SubMitUnitModules()}),e._uU(9,"Submit"),e.qZA()()()}if(2&ht){const Ie=e.oxw();e.xp6(4),e.Q6J("ngForOf",e.lcZ(5,2,Ie.deptservice.Departments)),e.xp6(2),e.Q6J("ngIf",Ie.uni_length>0)}}function st(ht,An){if(1&ht&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&ht){const Ie=An.$implicit;e.s9C("value",Ie.level),e.xp6(1),e.Oqu(Ie.level)}}function sn(ht,An){if(1&ht&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&ht){const Ie=An.$implicit;e.s9C("value",Ie.course_name),e.xp6(1),e.hij(" ",Ie.course_name," ")}}function fn(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"select",24),e.NdJ("change",function(ae){return e.CHM(Ie),e.oxw(3).getModulesForCourse(ae)}),e.TgZ(1,"option",22),e._uU(2,"Choose course"),e.qZA(),e.YNc(3,sn,2,2,"option",23),e.qZA()}if(2&ht){const Ie=e.oxw(3);e.xp6(3),e.Q6J("ngForOf",Ie.itemsforAllacation)}}function wn(ht,An){if(1&ht&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&ht){const Ie=An.$implicit;e.s9C("value",Ie.class_name),e.xp6(1),e.hij(" ",Ie.class_name," ")}}function mn(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"select",46),e.NdJ("ngModelChange",function(ae){return e.CHM(Ie),e.oxw(3).classForUnits=ae}),e.TgZ(1,"option",22),e._uU(2,"Choose class"),e.qZA(),e.YNc(3,wn,2,2,"option",23),e.qZA()}if(2&ht){const Ie=e.oxw(3);e.Q6J("ngModel",Ie.classForUnits),e.xp6(3),e.Q6J("ngForOf",Ie.classes)}}function bn(ht,An){if(1&ht&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&ht){const Ie=An.$implicit;e.s9C("value",Ie.sem),e.xp6(1),e.hij(" ",Ie.sem," ")}}function zt(ht,An){if(1&ht&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&ht){const Ie=An.$implicit;e.s9C("value",Ie),e.xp6(1),e.Oqu(Ie)}}function qt(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"input",29),e.NdJ("ngModelChange",function(ae){e.CHM(Ie);const Ge=e.oxw(3);return Ge.nonmodulaelist+" - "+(Ge.examBody=ae)})("ngModelChange",function(ae){return e.CHM(Ie),e.oxw(3).modular_type=ae}),e.qZA()}if(2&ht){const Ie=e.oxw(3);e.Q6J("ngModel",Ie.nonmodulaelist+" - "+Ie.examBody)("ngModel",Ie.modular_type)}}function Kt(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"mat-tab",20)(1,"select",21),e.NdJ("change",function(ae){return e.CHM(Ie),e.oxw(2).getCourses(ae)}),e.TgZ(2,"option",22),e._uU(3,"choose Level"),e.qZA(),e.YNc(4,st,2,2,"option",23),e.qZA(),e.TgZ(5,"div",38)(6,"div",39)(7,"div",40),e.YNc(8,fn,4,1,"select",41),e.qZA(),e.TgZ(9,"div",40),e.YNc(10,mn,4,2,"select",42),e.qZA()()(),e.TgZ(11,"div",43)(12,"div",39)(13,"div",44)(14,"label",45),e._uU(15,"Current Semester "),e.TgZ(16,"code"),e._uU(17,"*"),e.qZA()(),e.TgZ(18,"select",28),e.NdJ("ngModelChange",function(ae){return e.CHM(Ie),e.oxw(2).currSemester=ae}),e.TgZ(19,"option",22),e._uU(20,"Choose Semester"),e.qZA(),e.YNc(21,bn,2,2,"option",23),e.qZA()(),e.TgZ(22,"div",44)(23,"label",45),e._uU(24,"Current Year"),e.TgZ(25,"code"),e._uU(26,"*"),e.qZA()(),e.TgZ(27,"select",28),e.NdJ("ngModelChange",function(ae){return e.CHM(Ie),e.oxw(2).currYear=ae}),e.TgZ(28,"option",22),e._uU(29,"Select Year"),e.qZA(),e.YNc(30,zt,2,2,"option",23),e.qZA()()()(),e.YNc(31,qt,1,2,"input",26),e.qZA()}if(2&ht){const Ie=An.$implicit,Ot=e.oxw(2);e.s9C("label",Ie.dept_name),e.xp6(4),e.Q6J("ngForOf",Ot.levels),e.xp6(4),e.Q6J("ngIf",Ot.levels),e.xp6(2),e.Q6J("ngIf",Ot.classes),e.xp6(8),e.Q6J("ngModel",Ot.currSemester),e.xp6(3),e.Q6J("ngForOf",Ot.semesters),e.xp6(6),e.Q6J("ngModel",Ot.currYear),e.xp6(3),e.Q6J("ngForOf",Ot.range),e.xp6(1),e.Q6J("ngIf",1==Ot.state&&"Non-Modular"==Ot.courseelectedtype&&""!=Ot.nonmodulaelist)}}function Ht(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"input",35),e.NdJ("change",function(ae){return e.CHM(Ie),e.oxw(4).semeUnitsSelected(ae)}),e.qZA(),e.TgZ(3,"span",36),e._uU(4),e.qZA()()()}if(2&ht){const Ie=e.oxw().$implicit;e.xp6(2),e.s9C("value",Ie.unit_name),e.xp6(2),e.Oqu(Ie.unit_name)}}function _n(ht,An){if(1&ht&&(e.ynx(0),e.YNc(1,Ht,5,2,"div",32),e.BQk()),2&ht){const Ie=e.oxw(3);e.xp6(1),e.Q6J("ngIf",Ie.units)}}function an(ht,An){if(1&ht&&(e.TgZ(0,"div",30),e._UZ(1,"hr"),e.TgZ(2,"h4",47)(3,"b"),e._uU(4,"Choose Units For this Sem"),e.qZA()(),e._UZ(5,"hr"),e.YNc(6,_n,2,1,"ng-container",31),e.qZA()),2&ht){const Ie=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",Ie.units)}}function Vn(ht,An){1&ht&&(e.TgZ(0,"div",48)(1,"p",49),e._uU(2,"There are no units for this course"),e.qZA()())}function di(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"div",13)(1,"h2",14),e._uU(2," Semester Unit Allocations "),e.qZA(),e.TgZ(3,"mat-tab-group",15),e.NdJ("selectedTabChange",function(ae){return e.CHM(Ie),e.oxw().getList(ae)}),e.YNc(4,Kt,32,9,"mat-tab",16),e.ALo(5,"async"),e.qZA(),e.YNc(6,an,7,1,"div",17),e.YNc(7,Vn,3,0,"div",37),e.TgZ(8,"div",18)(9,"button",19),e.NdJ("click",function(){return e.CHM(Ie),e.oxw().SubmitUbitsForSem()}),e._uU(10,"Submit"),e.qZA()()()}if(2&ht){const Ie=e.oxw();e.xp6(4),e.Q6J("ngForOf",e.lcZ(5,3,Ie.deptservice.Departments)),e.xp6(2),e.Q6J("ngIf",Ie.uni_length>0),e.xp6(1),e.Q6J("ngIf",0==Ie.uni_length&&Ie.itemsforAllacation)}}function Pn(ht,An){1&ht&&(e.TgZ(0,"div",1)(1,"p",50),e._uU(2,"Loading...."),e.qZA()())}let jn=(()=>{class ht{constructor(Ie,Ot,ae,Ge){this.afs=Ie,this.deptservice=Ot,this.examsService=ae,this.notification=Ge,this.displayedColumns=["Name of Unit","operation"],this.name="Angular "+e.q4F.major,this.semesters=[{sem:"Jan-April"},{sem:"May-August"},{sem:"Sep-Dec"},{sem:"April Holiday"},{sem:"August Holiday"},{sem:"Dec Holiday"},{sem:"Jan-Dec"}],this.unitsArray=[],this.range=[],this.dataSource=[],this.semunitarray=[],this.getList=Oe=>{let mt=Oe.tab.textLabel;this.lenghofLevels=0,this.uni_length=0,this.nonmodulaelist="",this.modules2=[],this.lenghofLevels=this.modules2.length,this.afs.collection("departments",Qt=>Qt.where("dept_name","==",mt)).valueChanges().subscribe(Qt=>{this.classes=Qt[0].classes;var Bn=Qt[0].dept_id+"";this.Re_dept_id=Bn,this.afs.collection("categories",Ci=>Ci.where("dept_id","==",Bn)).valueChanges().subscribe(Ci=>{this.levels=Ci})})}}ngOnInit(){var Ie=(new Date).getFullYear();this.range.push(Ie);for(var Ot=1;Ot<10;Ot++)this.range.push(Ie-Ot);this.deptservice.Departments.subscribe(ae=>{this.loading=ae})}getCourses(Ie){this.level=Ie.target.value,this.examsService.getTypeandexam(this.Re_dept_id,this.level).subscribe(Ot=>{this.itemsforAllacation=Ot,this.lengthList=Ot.length})}getModulesForCourse(Ie){let Ot=Ie.target.value;this.course_name_for_unit_modules=Ot,this.examsService.getCourseModules(this.Re_dept_id,this.level,Ot).subscribe(ae=>{let Ge=ae[0].course_type;this.courseelectedtype=Ge,this.examBody=ae[0].exam_body,"Modular"==Ge&&(this.modules=ae,this.modules2=[],this.lenghofLevels=this.modules2.length),"Non-Modular"==Ge&&(ae[0].category_type&&(this.nonmodulaelist="",this.modules2=ae[0].category_type),this.nonmodulaelist="",null!=ae[0].category_type2&&(this.modules2=[],this.lenghofLevels=this.modules2.length,this.state=1,this.nonmodulaelist=ae[0].category_type2)),this.examsService.getUnitsForModuleAllocation(this.Re_dept_id,this.level,Ot).subscribe(Oe=>{this.units=Oe,this.uni_length=Oe.length})})}UnitsSelected(Ie){let Ot=this.unitsArray.indexOf(Ie.target.value);-1==Ot?this.unitsArray.push(Ie.target.value):this.unitsArray.splice(Ot,1)}SubMitUnitModules(){const Ie={units:this.unitsArray,course_name:this.course_name_for_unit_modules,dept_id:this.Re_dept_id,level:this.level,course_type:this.modular_type,entry_id:Math.floor(1e7*Math.random())};let Ot=Ie.entry_id;null!=this.modular_type&&null!=this.level&&null!=this.course_name_for_unit_modules&&0!=this.unitsArray.length?this.afs.collection("Monules-Non-module-Units").doc(`${this.level}_${this.Re_dept_id}`).collection(`${this.course_name_for_unit_modules}_${this.modular_type}`,ae=>ae.where("course_type","==",this.modular_type)).get().subscribe(ae=>{ae.empty?this.afs.collection("Monules-Non-module-Units").doc(`${this.level}_${this.Re_dept_id}`).collection(`${this.course_name_for_unit_modules}_${this.modular_type}`).doc(`${this.modular_type}_${Ot}`).set(Ie).then(Ge=>{this.notification.success("Saved Successfuly"),setTimeout(()=>window.location.reload(),1e3)}).catch(Ge=>this.notification.delete(Ge)):this.notification.delete("Units already allocated. Please Upate")}):this.notification.delete("Some details are missing")}semeUnitsSelected(Ie){let Ot=this.semunitarray.indexOf(Ie.target.value);-1==Ot?this.semunitarray.push(Ie.target.value):this.semunitarray.splice(Ot,1)}SubmitUbitsForSem(){const Ie={sem_year:this.currYear,curr_sem:this.currSemester,units_for_sem:this.semunitarray,course_name:this.course_name_for_unit_modules,level:this.level,dept_id:this.Re_dept_id,sem_unit_id:Math.floor(1e8*Math.random()),dateCreated:(new Date).getTime(),class:this.classForUnits};let Ot=Ie.sem_unit_id;null!=this.currYear&&null!=this.classForUnits&&null!=this.currSemester&&0!=this.semunitarray.length&&null!=this.course_name_for_unit_modules&&null!=this.level&&null!=this.Re_dept_id?this.afs.collection("Semester_Units").doc(`${this.Re_dept_id}_${this.level}`).collection(`${this.currSemester}_${this.currYear}`,ae=>ae.where("course_name","==",this.course_name_for_unit_modules).where("class","==",this.classForUnits)).get().subscribe(ae=>{ae.empty?this.afs.collection("Semester_Units").doc(`${this.Re_dept_id}_${this.level}`).collection(`${this.currSemester}_${this.currYear}`).doc(`${this.course_name_for_unit_modules}_${Ot}`).set(Ie).then(Ge=>{this.notification.success("Unit set for semester was succesful"),setTimeout(()=>window.location.reload(),1e3)}).catch(Ge=>this.notification.delete(Ge)):this.notification.delete("course with these units already set for semester")}):this.notification.delete("All fieds are mandatory")}getClassesForDepartment(Ie){}}return ht.\u0275fac=function(Ie){return new(Ie||ht)(e.Y36(ke.ST),e.Y36(Ke._),e.Y36(dt),e.Y36(it.g))},ht.\u0275cmp=e.Xpm({type:ht,selectors:[["app-semester-unit-allocation"]],decls:20,vars:7,consts:[[1,"container","mt-2","pt-2"],[1,"card"],[1,"card-header"],[1,"card-title"],["data-bs-tabs","tabs",1,"nav","nav-tabs","card-header-tabs"],[1,"nav-item"],["aria-current","true","data-bs-toggle","tab","href","#module-Unit-Allocation",1,"nav-link","active"],["data-bs-toggle","tab","href","#sem_unitallocations",1,"nav-link"],[1,"card-body","tab-content"],["id","module-Unit-Allocation",1,"tab-pane","active"],["class","card p-2",4,"ngIf"],["id","sem_unitallocations",1,"tab-pane"],["class","card",4,"ngIf"],[1,"card","p-2"],[2,"color","#71029E","text-align","center","font-family","'Segoe UI', Tahoma, Geneva, Verdana, sans-serif","font-weight","900","letter-spacing","5px"],[3,"selectedTabChange"],[3,"label",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],[1,"col-md-12","pt-3"],[1,"btn","btn-sm","btn-success",3,"click"],[3,"label"],["name","","id","",1,"form-control","mt-3",3,"change"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],["name","","id","",1,"form-control","mt-4",3,"change"],["name","","id","","class","form-control mt-3",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","class","form-control mt-3","readonly","",3,"ngModel","ngModelChange",4,"ngIf"],[3,"value"],["name","","id","",1,"form-control","mt-3",3,"ngModel","ngModelChange"],["type","text","readonly","",1,"form-control","mt-3",3,"ngModel","ngModelChange"],[1,"form-group"],[4,"ngFor","ngForOf"],["class","card p-1 mt-3","style","background: #814C97  ;",4,"ngIf"],[1,"card","p-1","mt-3",2,"background","#814C97"],[1,"form-check",2,"padding","10px"],["type","checkbox",1,"custom-input",3,"value","change"],[2,"color","white","font-family","'Courier New', Courier, monospace","margin-left","5px"],["class","container text-center mt-2 p-4",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col-12","col-sm-12","col-md-6","col-lg-6"],["name","","id","","class","form-control mt-4",3,"change",4,"ngIf"],["name","","id","","class","form-control mt-4",3,"ngModel","ngModelChange",4,"ngIf"],[1,"container"],[1,"col-md-6","col-xs-12","col-sm-12"],["for","",1,"mt-2"],["name","","id","",1,"form-control","mt-4",3,"ngModel","ngModelChange"],[2,"color","#71029E","text-align","center"],[1,"container","text-center","mt-2","p-4"],[2,"color","#71029E","font-family","'Courier New', Courier, monospace"],[1,"text-center"]],template:function(Ie,Ot){1&Ie&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),e._uU(4,"Network Settings"),e.qZA(),e.TgZ(5,"ul",4)(6,"li",5)(7,"a",6),e._uU(8,"Modular/Non-modular unit allocations"),e.qZA()(),e.TgZ(9,"li",5)(10,"a",7),e._uU(11,"Semester Unit Allocation"),e.qZA()()()(),e.TgZ(12,"div",8)(13,"div",9),e.YNc(14,Xe,10,4,"div",10),e.ALo(15,"async"),e.qZA(),e.TgZ(16,"div",11),e.YNc(17,di,11,5,"div",10),e.ALo(18,"async"),e.qZA()(),e.YNc(19,Pn,3,0,"div",12),e.qZA()()),2&Ie&&(e.xp6(14),e.Q6J("ngIf",e.lcZ(15,3,Ot.deptservice.Departments)),e.xp6(3),e.Q6J("ngIf",e.lcZ(18,5,Ot.deptservice.Departments)),e.xp6(2),e.Q6J("ngIf",!Ot.loading))},directives:[d.O5,Dt.SP,d.sg,Dt.uX,Tt.YN,Tt.Kr,Tt.EJ,Tt.JJ,Tt.On,Tt.Fj],pipes:[d.Ov],styles:["table[_ngcontent-%COMP%]{width:100%}div.scroll[_ngcontent-%COMP%]{margin:4px,4px;padding:4px;width:100%;overflow:auto;white-space:nowrap}"]}),ht})();var wt=A(4999);function cn(ht,An){1&ht&&(e.TgZ(0,"th",31),e._uU(1,"Name of Unit"),e.qZA())}function Gn(ht,An){if(1&ht&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&ht){const Ie=An.$implicit;e.xp6(1),e.Oqu(Ie)}}function $n(ht,An){1&ht&&(e.TgZ(0,"th",31),e._uU(1,"operation"),e.qZA())}function Vi(ht,An){1&ht&&(e.TgZ(0,"td",32)(1,"a",33)(2,"button",34)(3,"mat-icon",35),e._uU(4,"edit"),e.qZA()()(),e.TgZ(5,"a",36)(6,"button",34)(7,"mat-icon",37),e._uU(8,"delete"),e.qZA()()()())}function Qn(ht,An){1&ht&&e._UZ(0,"tr",38)}function li(ht,An){1&ht&&e._UZ(0,"tr",39)}function ni(ht,An){if(1&ht&&(e.TgZ(0,"table",24),e.ynx(1,25),e.YNc(2,cn,2,0,"th",26),e.YNc(3,Gn,2,1,"td",27),e.BQk(),e.ynx(4,28),e.YNc(5,$n,2,0,"th",26),e.YNc(6,Vi,9,0,"td",27),e.BQk(),e.YNc(7,Qn,1,0,"tr",29),e.YNc(8,li,1,0,"tr",30),e.qZA()),2&ht){const Ie=e.oxw(8);e.Q6J("dataSource",Ie.dataSource),e.xp6(7),e.Q6J("matHeaderRowDef",Ie.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",Ie.displayedColumns)}}function Yt(ht,An){if(1&ht&&(e.TgZ(0,"mat-tab",12)(1,"div",0)(2,"div",1)(3,"h5",2),e._uU(4,"Unit Listing"),e.qZA(),e.TgZ(5,"ul",3)(6,"li",4)(7,"a",15),e._uU(8,"Unit List"),e.qZA()(),e.TgZ(9,"li",4)(10,"a",16),e._uU(11,"Sem List Allocations"),e.qZA()()()(),e.TgZ(12,"div",17)(13,"div",18),e.YNc(14,ni,9,3,"table",19),e.TgZ(15,"div",20)(16,"button",21),e._uU(17,"Show more "),e.qZA()()(),e.TgZ(18,"div",22)(19,"p",23),e._uU(20,"Change Static Network settings."),e.qZA()()()()()),2&ht){const Ie=An.$implicit,Ot=e.oxw(7);e.s9C("label",Ie),e.xp6(14),e.Q6J("ngIf",Ot.dataSource)}}function q(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"mat-tab-group",10),e.NdJ("selectedTabChange",function(ae){return e.CHM(Ie),e.oxw(6).LoaddRealUnits(ae)}),e.YNc(1,Yt,21,2,"mat-tab",11),e.qZA()}if(2&ht){const Ie=e.oxw(6);e.xp6(1),e.Q6J("ngForOf",Ie.modulesforUnitsLoad)}}function de(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"mat-tab-group",10),e.NdJ("selectedTabChange",function(ae){return e.CHM(Ie),e.oxw(6).LoaddRealUnits(ae)}),e.TgZ(1,"mat-tab",12)(2,"div",0)(3,"div",1)(4,"h5",2),e._uU(5),e.qZA(),e.TgZ(6,"ul",3)(7,"li",4)(8,"a",15),e._uU(9),e.qZA()(),e.TgZ(10,"li",4)(11,"a",16),e._uU(12,"Sem List Allocations"),e.qZA()()()(),e.TgZ(13,"div",17)(14,"div",18)(15,"p",23),e._uU(16,"Change DHCP Network settings."),e.qZA()(),e.TgZ(17,"div",22)(18,"p",23),e._uU(19,"Change Static Network settings."),e.qZA()()()()()()}if(2&ht){const Ie=e.oxw(6);e.xp6(1),e.s9C("label",Ie.nomModuleForUnitList),e.xp6(4),e.hij("Unit Listings for ",Ie.nomModuleForUnitList,""),e.xp6(4),e.hij("",Ie.nomModuleForUnitList," Units")}}function ye(ht,An){if(1&ht&&(e.TgZ(0,"mat-tab",12),e.YNc(1,q,2,1,"mat-tab-group",13),e.YNc(2,de,20,3,"mat-tab-group",13),e.qZA()),2&ht){const Ie=An.$implicit,Ot=e.oxw(5);e.s9C("label",Ie.course_name),e.xp6(1),e.Q6J("ngIf",Ot.modulesforUnitsLoad),e.xp6(1),e.Q6J("ngIf",Ot.nomModuleForUnitList)}}function Ce(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"mat-tab-group",10),e.NdJ("selectedTabChange",function(ae){return e.CHM(Ie),e.oxw(4).loadUnitsForCourse(ae)}),e.YNc(1,ye,3,3,"mat-tab",11),e.qZA()}if(2&ht){const Ie=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",Ie.unitCoursesForList)}}function pt(ht,An){1&ht&&(e.TgZ(0,"div",0)(1,"p",40),e._uU(2,"There are no courses for this level"),e.qZA()())}function Rt(ht,An){if(1&ht&&(e.TgZ(0,"mat-tab",12),e.YNc(1,Ce,2,1,"mat-tab-group",13),e.YNc(2,pt,3,0,"div",14),e.qZA()),2&ht){const Ie=An.$implicit,Ot=e.oxw(3);e.s9C("label",Ie.level),e.xp6(1),e.Q6J("ngIf",Ot.unitCoursesForList),e.xp6(1),e.Q6J("ngIf",!Ot.unitCoursesForList)}}function nn(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"mat-tab",12)(1,"mat-tab-group",10),e.NdJ("selectedTabChange",function(ae){return e.CHM(Ie),e.oxw(2).getLevelsforunitlist(ae)}),e.YNc(2,Rt,3,3,"mat-tab",11),e.qZA()()}if(2&ht){const Ie=An.$implicit,Ot=e.oxw(2);e.s9C("label",Ie.dept_name),e.xp6(2),e.Q6J("ngForOf",Ot.levels)}}function On(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"div",8)(1,"h2",9),e._uU(2," Unit Allocations List"),e.qZA(),e.TgZ(3,"mat-tab-group",10),e.NdJ("selectedTabChange",function(ae){return e.CHM(Ie),e.oxw().getModuleList(ae)}),e.YNc(4,nn,3,2,"mat-tab",11),e.ALo(5,"async"),e.qZA()()}if(2&ht){const Ie=e.oxw();e.xp6(4),e.Q6J("ngForOf",e.lcZ(5,1,Ie.deptservice.Departments))}}let Wn=(()=>{class ht{constructor(Ie,Ot,ae,Ge){this.examsService=Ie,this.afs=Ot,this.deptservice=ae,this.notice=Ge,this.displayedColumns=["Name of Unit","operation"],this.dataSource=[],this.getModuleList=Oe=>{let mt=Oe.tab.textLabel;this.modules2=[],this.modulesforUnitsLoad=[],this.lenghofLevels=this.modules2.length,this.unitCoursesForList="",this.afs.collection("departments",Qt=>Qt.where("dept_name","==",mt)).valueChanges().subscribe(Qt=>{var Bn=Qt[0].dept_id+"";this.Re_dept_id=Bn,this.dept_id_for_unitload=Bn,this.afs.collection("categories",Ci=>Ci.where("dept_id","==",Bn)).valueChanges().subscribe(Ci=>{this.levels=Ci})})},this.getLevelsforunitlist=Oe=>{let mt=Oe.tab.textLabel;this.levelforunitload=mt,this.examsService.getTypeandexam(this.Re_dept_id,mt).subscribe(Qt=>{Qt.length>0&&(this.unitCoursesForList=Qt)})},this.loadUnitsForCourse=Oe=>{let mt=Oe.tab.textLabel;this.courseNameForUnitsList=mt;let Qt=this.dept_id_for_unitload,Mn=this.levelforunitload;this.afs.collection("course_type_examinationbody").doc(`foreDept_${Qt}`).collection(`${Qt}_${Mn}`,Bn=>Bn.where("course_name","==",mt)).valueChanges().subscribe(Bn=>{if(Bn.length>0){let Ci=Bn[0].course_type;"Modular"==Ci&&null!=Ci&&(this.modulesforUnitsLoad=Bn[0].category_type,this.nomModuleForUnitList=""),"Non-Modular"==Ci&&(Bn[0].category_type&&(this.modulesforUnitsLoad=Bn[0].category_type),null!=Bn[0].category_type2&&(this.modulesforUnitsLoad=[],this.nomModuleForUnitList=Bn[0].category_type2))}})},this.LoaddRealUnits=Oe=>{let mt=Oe.tab.textLabel,Qt=this.dept_id_for_unitload,Mn=this.levelforunitload;this.course_name=this.courseNameForUnitsList,this.dataSource=[],this.afs.collection("Monules-Non-module-Units").doc(`${Mn}_${Qt}`).collection(`${this.course_name}_${mt}`,Bn=>Bn.where("course_type","==",mt)).get().subscribe(Bn=>{Bn.empty?this.notice.delete("No units for this course"):this.afs.collection("Monules-Non-module-Units").doc(`${Mn}_${Qt}`).collection(`${this.course_name}_${mt}`,Ci=>Ci.where("course_type","==",mt).limit(5).orderBy("dateCreated","desc")).valueChanges().subscribe(Ci=>{Ci.length>0&&(this.dataSource=Ci[0].units)})})}}ngOnInit(){}}return ht.\u0275fac=function(Ie){return new(Ie||ht)(e.Y36(dt),e.Y36(ke.ST),e.Y36(Ke._),e.Y36(it.g))},ht.\u0275cmp=e.Xpm({type:ht,selectors:[["app-unie-allocation-list"]],decls:11,vars:3,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],["data-bs-tabs","tabs",1,"nav","nav-tabs","card-header-tabs"],[1,"nav-item"],["data-bs-toggle","tab","href","#unit_lists",1,"nav-link"],["id","unit_lists",1,"tab-pane"],["class","card p-2",4,"ngIf"],[1,"card","p-2"],[2,"color","#71029E","text-align","center","font-family","'Segoe UI', Tahoma, Geneva, Verdana, sans-serif","font-weight","900","letter-spacing","5px"],[3,"selectedTabChange"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[3,"selectedTabChange",4,"ngIf"],["class","card",4,"ngIf"],["aria-current","true","data-bs-toggle","tab","href","#modules",1,"nav-link","active"],["data-bs-toggle","tab","href","#sem",1,"nav-link"],[1,"card-body","tab-content"],["id","modules",1,"tab-pane","active"],["mat-table","","class","mat-elevation-z8 demo-table","style","padding: 20px;",3,"dataSource",4,"ngIf"],[1,"container","mt-3","text-right",2,"justify-content","end","text-align","right"],[1,"btn","btn-outline-success","btn-sm"],["id","sem",1,"tab-pane"],[1,"card-text"],["mat-table","",1,"mat-elevation-z8","demo-table",2,"padding","20px",3,"dataSource"],["matColumnDef","Name of Unit"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","operation"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["href","/mtti_mis_departments#editDepartment"],["mat-icon-button",""],[2,"color","green","font-size","18px"],["href","/mtti_mis_departments#deleteDepartment"],[2,"color","red","font-size","18px"],["mat-header-row",""],["mat-row",""],[1,"text-enter"]],template:function(Ie,Ot){1&Ie&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e._uU(3,"Network Settings"),e.qZA(),e.TgZ(4,"ul",3)(5,"li",4)(6,"a",5),e._uU(7,"Unit Allocation List"),e.qZA()()()(),e.TgZ(8,"div",6),e.YNc(9,On,6,3,"div",7),e.ALo(10,"async"),e.qZA()()),2&Ie&&(e.xp6(9),e.Q6J("ngIf",e.lcZ(10,1,Ot.deptservice.Departments)))},directives:[d.O5,Dt.SP,d.sg,Dt.uX,wt.BZ,wt.w1,wt.fO,wt.ge,wt.Dz,wt.ev,xe.lW,pe.Hw,wt.as,wt.XQ,wt.nj,wt.Gk],pipes:[d.Ov],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),ht})();var Yn=A(7322),ei=A(7531);function hi(ht,An){if(1&ht&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&ht){const Ie=An.$implicit;e.s9C("value",Ie.dept_id),e.xp6(1),e.Oqu(Ie.dept_name)}}function Bi(ht,An){if(1&ht&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&ht){const Ie=An.$implicit;e.s9C("value",Ie.level),e.xp6(1),e.Oqu(Ie.level)}}function vi(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"select",22),e.NdJ("change",function(ae){return e.CHM(Ie),e.oxw().getcoursebyLevel(ae)}),e.TgZ(1,"option",13),e._uU(2,"Select level"),e.qZA(),e.YNc(3,Bi,2,2,"option",14),e.qZA()}if(2&ht){const Ie=e.oxw();e.xp6(3),e.Q6J("ngForOf",Ie.level2)}}function Ei(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"div",25)(1,"input",26),e.NdJ("change",function(ae){const Oe=e.CHM(Ie).$implicit;return e.oxw(2).courseChanged(ae,Oe.course_name)}),e.qZA(),e._uU(2),e.qZA()}if(2&ht){const Ie=An.$implicit;e.xp6(1),e.s9C("value",Ie.course_name),e.xp6(1),e.hij(" ",Ie.course_name," ")}}function vt(ht,An){if(1&ht&&(e.TgZ(0,"div",23)(1,"h2")(2,"b"),e._uU(3,"Select Course(s)"),e.qZA()(),e.YNc(4,Ei,3,2,"div",24),e.qZA()),2&ht){const Ie=e.oxw();e.xp6(4),e.Q6J("ngForOf",Ie.checkboxesDataList)}}function Nt(ht,An){1&ht&&(e.TgZ(0,"div",23)(1,"p",27)(2,"i"),e._uU(3," No Courses for this category "),e.qZA()()())}function Ft(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"div",11)(1,"div",25)(2,"input",43),e.NdJ("change",function(ae){return e.CHM(Ie),e.oxw(3).ModuleNonModularChanged(ae)}),e.qZA(),e._uU(3," Module I "),e.qZA(),e.TgZ(4,"div",25)(5,"input",44),e.NdJ("change",function(ae){return e.CHM(Ie),e.oxw(3).ModuleNonModularChanged(ae)}),e.qZA(),e._uU(6," Module II "),e.qZA(),e.TgZ(7,"div",25)(8,"input",45),e.NdJ("change",function(ae){return e.CHM(Ie),e.oxw(3).ModuleNonModularChanged(ae)}),e.qZA(),e._uU(9," Module III "),e.qZA()()}}function vn(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"div",11),e.ynx(1),e.TgZ(2,"input",46),e.NdJ("ngModelChange",function(ae){return e.CHM(Ie),e.oxw(3).selectedNonModular=ae})("ngModelChange",function(ae){return e.CHM(Ie),e.oxw(3).deselectNonModular=ae})("change",function(ae){return e.CHM(Ie),e.oxw(3).getNonModular(ae)})("click",function(){return e.CHM(Ie),e.oxw(3).clearSecytionLevelOther()}),e.qZA(),e.TgZ(3,"label",47),e._uU(4," section "),e.qZA(),e.BQk(),e.ynx(5),e.TgZ(6,"input",48),e.NdJ("ngModelChange",function(ae){return e.CHM(Ie),e.oxw(3).selectedNonModular=ae})("ngModelChange",function(ae){return e.CHM(Ie),e.oxw(3).deselectNonModular=ae})("change",function(ae){return e.CHM(Ie),e.oxw(3).getNonModular(ae)})("click",function(){return e.CHM(Ie),e.oxw(3).clearSecytionLevelOther()}),e.qZA(),e.TgZ(7,"label",49),e._uU(8," levels "),e.qZA(),e.BQk(),e.ynx(9),e.TgZ(10,"input",50),e.NdJ("ngModelChange",function(ae){return e.CHM(Ie),e.oxw(3).selectedNonModular=ae})("ngModelChange",function(ae){return e.CHM(Ie),e.oxw(3).deselectNonModular=ae})("change",function(ae){return e.CHM(Ie),e.oxw(3).getNonModular(ae)})("click",function(){return e.CHM(Ie),e.oxw(3).clearSecytionLevelOther()}),e.qZA(),e.TgZ(11,"label",51),e._uU(12," other "),e.qZA(),e.BQk(),e.qZA()}if(2&ht){const Ie=e.oxw(3);e.xp6(2),e.Q6J("ngModel",Ie.selectedNonModular)("ngModel",Ie.deselectNonModular),e.xp6(4),e.Q6J("ngModel",Ie.selectedNonModular)("ngModel",Ie.deselectNonModular),e.xp6(4),e.Q6J("ngModel",Ie.selectedNonModular)("ngModel",Ie.deselectNonModular)}}function X(ht,An){if(1&ht&&(e.TgZ(0,"div",42),e.YNc(1,Ft,10,0,"div",38),e.YNc(2,vn,13,6,"div",38),e.qZA()),2&ht){const Ie=e.oxw(2);e.xp6(1),e.Q6J("ngIf","Modular"==Ie.ChcekType),e.xp6(1),e.Q6J("ngIf","Non-Modular"==Ie.ChcekType)}}function ie(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"div",11)(1,"div",25)(2,"input",52),e.NdJ("change",function(ae){return e.CHM(Ie),e.oxw(2).GetSectionLevelOther(ae)}),e.qZA(),e._uU(3," section I "),e.qZA(),e.TgZ(4,"div",25)(5,"input",53),e.NdJ("change",function(ae){return e.CHM(Ie),e.oxw(2).GetSectionLevelOther(ae)}),e.qZA(),e._uU(6," section II "),e.qZA(),e.TgZ(7,"div",25)(8,"input",54),e.NdJ("change",function(ae){return e.CHM(Ie),e.oxw(2).GetSectionLevelOther(ae)}),e.qZA(),e._uU(9," section III "),e.qZA(),e.TgZ(10,"div",25)(11,"input",55),e.NdJ("change",function(ae){return e.CHM(Ie),e.oxw(2).GetSectionLevelOther(ae)}),e.qZA(),e._uU(12," section IV "),e.qZA(),e.TgZ(13,"div",25)(14,"input",56),e.NdJ("change",function(ae){return e.CHM(Ie),e.oxw(2).GetSectionLevelOther(ae)}),e.qZA(),e._uU(15," section V "),e.qZA(),e.TgZ(16,"div",25)(17,"input",57),e.NdJ("change",function(ae){return e.CHM(Ie),e.oxw(2).GetSectionLevelOther(ae)}),e.qZA(),e._uU(18," section VI "),e.qZA()()}}function Z(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"div",11)(1,"div",25)(2,"input",58),e.NdJ("change",function(ae){return e.CHM(Ie),e.oxw(2).GetSectionLevelOther(ae)}),e.qZA(),e._uU(3," level I "),e.qZA(),e.TgZ(4,"div",25)(5,"input",59),e.NdJ("change",function(ae){return e.CHM(Ie),e.oxw(2).GetSectionLevelOther(ae)}),e.qZA(),e._uU(6," level II "),e.qZA(),e.TgZ(7,"div",25)(8,"input",60),e.NdJ("change",function(ae){return e.CHM(Ie),e.oxw(2).GetSectionLevelOther(ae)}),e.qZA(),e._uU(9," level III "),e.qZA()()}}function Se(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"div",11)(1,"mat-form-field",39)(2,"mat-label"),e._uU(3,"Specify other Non Modular Category"),e.qZA(),e.TgZ(4,"input",61),e.NdJ("ngModelChange",function(ae){return e.CHM(Ie),e.oxw(2).SelectedSectionLevelOther=ae})("ngModelChange",function(ae){return e.CHM(Ie),e.oxw(2).deslectSections=ae}),e.qZA()()()}if(2&ht){const Ie=e.oxw(2);e.xp6(4),e.Q6J("ngModel",Ie.SelectedSectionLevelOther)("ngModel",Ie.deslectSections)}}function Me(ht,An){if(1&ht){const Ie=e.EpF();e.ynx(0),e.TgZ(1,"div",28)(2,"div",29),e.ynx(3),e.TgZ(4,"input",30),e.NdJ("ngModelChange",function(ae){return e.CHM(Ie),e.oxw().seectedType=ae})("ngModelChange",function(ae){return e.CHM(Ie),e.oxw().deselectNonModular=ae})("ngModelChange",function(ae){return e.CHM(Ie),e.oxw().deslectSections=ae})("change",function(ae){return e.CHM(Ie),e.oxw().getvaluoftype(ae)})("click",function(){return e.CHM(Ie),e.oxw().clearSecytionLevelOther()}),e.qZA(),e.TgZ(5,"label",31),e._uU(6," Modular "),e.qZA(),e.BQk(),e.ynx(7),e.TgZ(8,"input",32),e.NdJ("ngModelChange",function(ae){return e.CHM(Ie),e.oxw().seectedType=ae})("ngModelChange",function(ae){return e.CHM(Ie),e.oxw().deslectModular=ae})("click",function(){return e.CHM(Ie),e.oxw().clearModules()})("change",function(ae){return e.CHM(Ie),e.oxw().getvaluoftype(ae)}),e.qZA(),e.TgZ(9,"label",33),e._uU(10," Non-Modular "),e.qZA(),e.BQk(),e.qZA()(),e.YNc(11,X,3,2,"div",34),e.TgZ(12,"div",35)(13,"div",36)(14,"div",37),e.YNc(15,ie,19,0,"div",38),e.YNc(16,Z,10,0,"div",38),e.YNc(17,Se,5,2,"div",38),e.qZA()()(),e.TgZ(18,"div",11)(19,"mat-form-field",39)(20,"mat-label"),e._uU(21,"Enter Examination Body(e.g KNEC, NITA etc) "),e.TgZ(22,"code"),e._uU(23,"*"),e.qZA()(),e.TgZ(24,"input",40),e.NdJ("ngModelChange",function(ae){return e.CHM(Ie),e.oxw().body=ae}),e.qZA()()(),e.TgZ(25,"button",41),e.NdJ("click",function(){return e.CHM(Ie),e.oxw().postCourseTypeExamBody()}),e._uU(26,"Save"),e.qZA(),e.BQk()}if(2&ht){const Ie=e.oxw();e.xp6(4),e.Q6J("ngModel",Ie.seectedType)("ngModel",Ie.deselectNonModular)("ngModel",Ie.deslectSections),e.xp6(4),e.Q6J("ngModel",Ie.seectedType)("ngModel",Ie.deslectModular),e.xp6(3),e.Q6J("ngIf","Non-Modular"==Ie.ChcekType||"Modular"==Ie.ChcekType),e.xp6(4),e.Q6J("ngIf","section"==Ie.selectedNonModular&&"Non-Modular"==Ie.seectedType),e.xp6(1),e.Q6J("ngIf","levels"==Ie.selectedNonModular&&"Non-Modular"==Ie.seectedType),e.xp6(1),e.Q6J("ngIf","other"==Ie.selectedNonModular&&"Non-Modular"==Ie.seectedType),e.xp6(7),e.Q6J("ngModel",Ie.body)}}function ut(ht,An){1&ht&&(e.TgZ(0,"th",76),e._uU(1,"Course Name"),e.qZA())}function Be(ht,An){if(1&ht&&(e.TgZ(0,"td",77),e._uU(1),e.qZA()),2&ht){const Ie=An.$implicit;e.xp6(1),e.Oqu(Ie.course_name)}}function Ct(ht,An){1&ht&&(e.TgZ(0,"th",76),e._uU(1,"course type"),e.qZA())}function on(ht,An){if(1&ht&&(e.TgZ(0,"td",77),e._uU(1),e.qZA()),2&ht){const Ie=An.$implicit;e.xp6(1),e.Oqu(Ie.course_type)}}function Sn(ht,An){1&ht&&(e.TgZ(0,"th",76),e._uU(1,"Examination Body"),e.qZA())}function bi(ht,An){if(1&ht&&(e.TgZ(0,"td",77),e._uU(1),e.qZA()),2&ht){const Ie=An.$implicit;e.xp6(1),e.Oqu(Ie.exam_body)}}function rn(ht,An){1&ht&&(e.TgZ(0,"th",76),e._uU(1,"operation"),e.qZA())}function Pt(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"td",77)(1,"div",78)(2,"div",79)(3,"div",80)(4,"h5"),e._uU(5,"Delete Department"),e.qZA(),e.TgZ(6,"p"),e._uU(7,"Are you sure you want to delete record for "),e._UZ(8,"br"),e.TgZ(9,"span",81),e._uU(10),e.qZA(),e._uU(11,"?"),e.qZA()(),e.TgZ(12,"div",82)(13,"button",83),e.NdJ("click",function(){return e.CHM(Ie),e.oxw(5).refresh()}),e.TgZ(14,"span",84)(15,"b"),e._uU(16,"No"),e.qZA()()(),e.TgZ(17,"button",83),e.NdJ("click",function(){e.CHM(Ie);const ae=e.oxw(5);return ae.deleteRecord(ae.courseRcord,ae.leveltodelete,ae.record_idtidelte,ae.coursetypetodelete,ae.deptidtodelte)}),e.TgZ(18,"span",85)(19,"b"),e._uU(20,"Yes"),e.qZA()()()(),e._UZ(21,"br"),e.qZA()(),e.TgZ(22,"a",86)(23,"button",87),e.NdJ("click",function(){const Ge=e.CHM(Ie).$implicit;return e.oxw(5).DeleteRecord(Ge.dept_id,Ge.level,Ge.record_id,Ge.course_name,Ge.course_type)}),e.TgZ(24,"mat-icon",88),e._uU(25,"delete"),e.qZA()()()()}if(2&ht){const Ie=e.oxw(5);e.xp6(10),e.Oqu(Ie.courseRcord)}}function yt(ht,An){1&ht&&e._UZ(0,"tr",89)}function Zt(ht,An){1&ht&&e._UZ(0,"tr",90)}function Ln(ht,An){if(1&ht&&(e.TgZ(0,"table",67),e.ynx(1,68),e.YNc(2,ut,2,0,"th",69),e.YNc(3,Be,2,1,"td",70),e.BQk(),e.ynx(4,71),e.YNc(5,Ct,2,0,"th",69),e.YNc(6,on,2,1,"td",70),e.BQk(),e.ynx(7,72),e.YNc(8,Sn,2,0,"th",69),e.YNc(9,bi,2,1,"td",70),e.BQk(),e.ynx(10,73),e.YNc(11,rn,2,0,"th",69),e.YNc(12,Pt,26,1,"td",70),e.BQk(),e.YNc(13,yt,1,0,"tr",74),e.YNc(14,Zt,1,0,"tr",75),e.qZA()),2&ht){const Ie=e.oxw(4);e.Q6J("dataSource",Ie.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",Ie.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",Ie.displayedColumns)}}function pn(ht,An){if(1&ht&&(e.TgZ(0,"div",65),e.YNc(1,Ln,15,3,"table",66),e.qZA()),2&ht){const Ie=e.oxw(3);e.xp6(1),e.Q6J("ngIf",Ie.dataSource)}}function Et(ht,An){1&ht&&(e.TgZ(0,"div",91)(1,"p")(2,"i"),e._uU(3,"No Record to show"),e.qZA()()())}function ct(ht,An){if(1&ht&&(e.TgZ(0,"mat-tab",62),e.YNc(1,pn,2,1,"div",63),e.YNc(2,Et,4,0,"div",64),e.qZA()),2&ht){const Ie=An.$implicit,Ot=e.oxw(2);e.s9C("label",Ie.level),e.xp6(1),e.Q6J("ngIf",Ot.length>0),e.xp6(1),e.Q6J("ngIf",0==Ot.length)}}function jt(ht,An){if(1&ht){const Ie=e.EpF();e.TgZ(0,"mat-tab",62)(1,"mat-tab-group",19),e.NdJ("selectedTabChange",function(ae){return e.CHM(Ie),e.oxw().getCourseByLevelSELECTEDforList(ae)}),e.YNc(2,ct,3,3,"mat-tab",20),e.qZA()()}if(2&ht){const Ie=An.$implicit,Ot=e.oxw();e.s9C("label",Ie.dept_name),e.xp6(2),e.Q6J("ngForOf",Ot.levels)}}const kn=[{path:"",component:at,children:[{path:"",component:(()=>{class ht{constructor(Ie,Ot,ae,Ge){this.deptservice=Ie,this.examsService=Ot,this.note=ae,this.afs=Ge,this.displayedColumns=["Course Name","course type","Examination Body","operation"],this.levelsSections=[],this.courses=[],this.modular=[],this.getList=Oe=>{let mt=Oe.tab.textLabel;this.afs.collection("departments",Qt=>Qt.where("dept_name","==",mt)).valueChanges().subscribe(Qt=>{var Bn=Qt[0].dept_id+"";this.Re_dept_id=Bn,this.afs.collection("categories",Ci=>Ci.where("dept_id","==",Bn)).valueChanges().subscribe(Ci=>{this.levels=Ci})})},this.getCourseByLevelSELECTEDforList=Oe=>{this.examsService.getTypeandexam(this.Re_dept_id,Oe.tab.textLabel).subscribe(Qt=>{this.dataSource=Qt,this.length=Qt.length})}}ngOnInit(){}GetCourseByDept_ID(Ie){let Ot=Ie.target.value;this.dept_id=Ot,this.examsService.getCoursesbyDept_id(Ot).subscribe(ae=>{this.level2=ae})}getcoursebyLevel(Ie){let Ot=Ie.target.value;this.level=Ot,this.examsService.GetCoursesByLevelandDept_id(this.dept_id,Ot).subscribe(ae=>{this.checkboxesDataList=ae,this.resulcheckxlen=ae.length})}getvaluoftype(Ie){this.ChcekType=Ie.target.id}courseChanged(Ie,Ot){this.course_name=Ot;let ae=this.courses.indexOf(Ie.target.value);-1==ae?this.courses.push(Ie.target.value):this.courses.splice(ae,1)}getNonModular(Ie){}clearModules(){this.modular.length=0}clearSecytionLevelOther(){this.levelsSections.length=0}ModuleNonModularChanged(Ie){let Ot=this.modular.indexOf(Ie.target.value);-1==Ot?this.modular.push(Ie.target.value):this.modular.splice(Ot,1)}GetSectionLevelOther(Ie){let Ot=this.levelsSections.indexOf(Ie.target.value);-1==Ot?this.levelsSections.push(Ie.target.value):this.levelsSections.splice(Ot,1)}postCourseTypeExamBody(){if("Modular"==this.seectedType)for(let Ie=0;Ie<this.courses.length;Ie++){const Ot=Object.assign({},this.modular);[].push(Ot);const Ge={category_type:this.modular,dept_id:this.dept_id,level:this.level,course_name:this.courses[Ie],course_type:this.seectedType,exam_body:this.body,record_id:Math.floor(1e3*Math.random())};if(null!=this.dept_id&&null!=this.level&&null!=this.body&&null!=this.seectedType){let Oe=Ge.record_id;this.afs.collection("course_type_examinationbody").doc(`foreDept_${this.dept_id}`).collection(`${this.dept_id}_${this.level}`,mt=>mt.where("course_name","==",this.courses[Ie])).get().subscribe(mt=>{mt.empty?this.examsService.postContentforType(this.dept_id,this.level,Oe,this.seectedType,this.courses[Ie]).set(Ge).then(Qt=>{this.note.success("Information has been saved"),setTimeout(()=>window.location.reload(),1e3)}).catch(Qt=>this.note.delete(Qt)):this.note.delete("Course(s) already exists")})}else this.note.delete("Fill in all fields")}if("Non-Modular"==this.seectedType)for(let Ie=0;Ie<this.courses.length;Ie++){if(this.levelsSections.length>0){const Ot=Object.assign({},this.levelsSections);[].push(Ot);const Ge={category_type:this.levelsSections,dept_id:this.dept_id,level:this.level,course_name:this.courses[Ie],course_type:this.seectedType,exam_body:this.body,record_id:Math.floor(1e3*Math.random())};if(null!=this.dept_id&&null!=this.level&&null!=this.body&&null!=this.seectedType){let Oe=Ge.record_id;this.afs.collection("course_type_examinationbody").doc(`foreDept_${this.dept_id}`).collection(`${this.dept_id}_${this.level}`,mt=>mt.where("course_name","==",this.courses[Ie])).get().subscribe(mt=>{mt.empty?this.examsService.postContentforType(this.dept_id,this.level,Oe,this.seectedType,this.courses[Ie]).set(Ge).then(Qt=>{this.note.success("Information has been saved"),setTimeout(()=>window.location.reload(),1e3)}).catch(Qt=>this.note.delete(Qt)):this.note.delete("Course(s) already exists")})}else this.note.delete("Fill in all fields")}if(0==this.levelsSections.length){const Ot={category_type2:this.SelectedSectionLevelOther,dept_id:this.dept_id,level:this.level,course_name:this.courses[Ie],course_type:this.seectedType,exam_body:this.body,record_id:Math.floor(1e3*Math.random())};if(null!=this.dept_id&&null!=this.level&&null!=this.body&&null!=this.seectedType){let ae=Ot.record_id;this.afs.collection("course_type_examinationbody").doc(`foreDept_${this.dept_id}`).collection(`${this.dept_id}_${this.level}`,Ge=>Ge.where("course_name","==",this.courses[Ie])).get().subscribe(Ge=>{Ge.empty?this.examsService.postContentforType(this.dept_id,this.level,ae,this.seectedType,this.courses[Ie]).set(Ot).then(Oe=>{this.note.success("Information has been saved"),setTimeout(()=>window.location.reload(),1e3)}).catch(Oe=>this.note.delete(Oe)):this.note.delete("Course(s) already exists")})}else this.note.delete("Fill in all fields")}}}DeleteRecord(Ie,Ot,ae,Ge,Oe){this.courseRcord=Ge,this.leveltodelete=Ot,this.record_idtidelte=ae,this.coursetypetodelete=Oe,this.deptidtodelte=Ie}deleteRecord(Ie,Ot,ae,Ge,Oe){this.examsService.deleteType(Oe,Ot,ae,Ge,Ie).delete().then(mt=>{this.note.success("Deleted successfully")}).catch(mt=>this.note.delete(mt))}refresh(){window.location.reload()}}return ht.\u0275fac=function(Ie){return new(Ie||ht)(e.Y36(Ke._),e.Y36(dt),e.Y36(it.g),e.Y36(ke.ST))},ht.\u0275cmp=e.Xpm({type:ht,selectors:[["app-unit-modules"]],decls:29,vars:10,consts:[[1,"container-fluid","p-3"],[1,"card"],[1,"card-header"],[1,"card-title",2,"font-weight","900","font-family","'Segoe UI', Tahoma, Geneva, Verdana, sans-serif","letter-spacing","5px","color","#7D3C98"],["data-bs-tabs","tabs",1,"nav","nav-tabs","card-header-tabs"],[1,"nav-item"],["aria-current","true","data-bs-toggle","tab","href","#course_type",1,"nav-link","active"],["data-bs-toggle","tab","href","#course_type_list",1,"nav-link"],[1,"card-body","tab-content"],["id","course_type",1,"tab-pane","active"],[1,"container-fluid"],[1,"form-group"],[1,"form-control",3,"change"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","form-control mt-3",3,"change",4,"ngIf"],["class","form-group mt-2",4,"ngIf"],[4,"ngIf"],["id","course_type_list",1,"tab-pane"],[3,"selectedTabChange"],[3,"label",4,"ngFor","ngForOf"],[3,"value"],[1,"form-control","mt-3",3,"change"],[1,"form-group","mt-2"],["class","form-check-inline","style","padding: 10px;",4,"ngFor","ngForOf"],[1,"form-check-inline",2,"padding","10px"],["type","checkbox",1,"custom-input",3,"value","change"],[1,"text-center"],[1,"card","mt-3"],[1,"form-check-inline","p-3"],["type","radio","name","Modular","id","Modular","value","Modular",1,"form-check-input",3,"ngModel","ngModelChange","change","click"],["for","Modular",1,"form-check-label","mt-1","m-2",2,"color","#004a9f"],["type","radio","name","Non-Modular","id","Non-Modular","value","Non-Modular",1,"form-check-input",3,"ngModel","ngModelChange","click","change"],["for","Non-Modular",1,"form-check-label","mt-1","m-2",2,"color","#004a9f"],["class","p-3 mt-3 card","style","margin-left: 20px;",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-md-12","p-2","mt-3"],["class","form-group",4,"ngIf"],[2,"width","100%"],["type","text","name","","matInput","","id","",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"p-3","mt-3","card",2,"margin-left","20px"],["type","checkbox","value","Module I",1,"custom-input",3,"change"],["type","checkbox","value","Module II",1,"custom-input",3,"change"],["type","checkbox","value","Module III",1,"custom-input",3,"change"],["type","radio","name","section","id","section","value","section",1,"form-check-input",3,"ngModel","ngModelChange","change","click"],["for","section",1,"form-check-label","mt-1","m-2",2,"color","#004a9f"],["type","radio","name","levels","id","levels","value","levels",1,"form-check-input",3,"ngModel","ngModelChange","change","click"],["for","levels",1,"form-check-label","mt-1","m-2",2,"color","#004a9f"],["type","radio","name","other","id","other","value","other",1,"form-check-input",3,"ngModel","ngModelChange","change","click"],["for","other",1,"form-check-label","mt-1","m-2",2,"color","#004a9f"],["type","checkbox","value","section I",1,"custom-input",3,"change"],["type","checkbox","value","section II",1,"custom-input",3,"change"],["type","checkbox","value","section III",1,"custom-input",3,"change"],["type","checkbox","value","section IV",1,"custom-input",3,"change"],["type","checkbox","value","section V",1,"custom-input",3,"change"],["type","checkbox","value","section VI",1,"custom-input",3,"change"],["type","checkbox","value","level I",1,"custom-input",3,"change"],["type","checkbox","value","level II",1,"custom-input",3,"change"],["type","checkbox","value","level III",1,"custom-input",3,"change"],["type","text","matInput","","name","","id","",3,"ngModel","ngModelChange"],[3,"label"],["class","container-fluid mt-2",4,"ngIf"],["class","container text-center",4,"ngIf"],[1,"container-fluid","mt-2"],["mat-table","","class","mat-elevation-z8 demo-table","style","padding: 20px;",3,"dataSource",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","demo-table",2,"padding","20px",3,"dataSource"],["matColumnDef","Course Name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","course type"],["matColumnDef","Examination Body"],["matColumnDef","operation"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["id","deleteDepartment"],["id","box2"],[1,"form-group","p-1"],[2,"color","red"],[1,"text-right","p-2"],["type","submit",1,"btn","btn-sm","mx-2",3,"click"],[1,"text-info"],[1,"text-success"],["href","/Michuki_tti_exams#deleteDepartment"],["mat-icon-button","",3,"click"],[2,"color","red","font-size","18px"],["mat-header-row",""],["mat-row",""],[1,"container","text-center"]],template:function(Ie,Ot){1&Ie&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4," Course Type Entry"),e.qZA(),e.TgZ(5,"ul",4)(6,"li",5)(7,"a",6),e._uU(8,"Course Type/Examination Body"),e.qZA()(),e.TgZ(9,"li",5)(10,"a",7),e._uU(11,"Course Type/Examination Body List"),e.qZA()()()(),e.TgZ(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"select",12),e.NdJ("change",function(Ge){return Ot.GetCourseByDept_ID(Ge)}),e.TgZ(17,"option",13),e._uU(18,"Choose Department"),e.qZA(),e.YNc(19,hi,2,2,"option",14),e.ALo(20,"async"),e.qZA(),e.YNc(21,vi,4,1,"select",15),e.qZA(),e.YNc(22,vt,5,1,"div",16),e.YNc(23,Nt,4,0,"div",16),e.YNc(24,Me,27,10,"ng-container",17),e.qZA()(),e.TgZ(25,"div",18)(26,"mat-tab-group",19),e.NdJ("selectedTabChange",function(Ge){return Ot.getList(Ge)}),e.YNc(27,jt,3,2,"mat-tab",20),e.ALo(28,"async"),e.qZA()()()()()),2&Ie&&(e.xp6(19),e.Q6J("ngForOf",e.lcZ(20,6,Ot.deptservice.Departments)),e.xp6(2),e.Q6J("ngIf",Ot.level2),e.xp6(1),e.Q6J("ngIf",Ot.resulcheckxlen>0),e.xp6(1),e.Q6J("ngIf",0==Ot.resulcheckxlen),e.xp6(1),e.Q6J("ngIf",Ot.resulcheckxlen>0),e.xp6(3),e.Q6J("ngForOf",e.lcZ(28,8,Ot.deptservice.Departments)))},directives:[Tt.YN,Tt.Kr,d.sg,d.O5,Tt._,Tt.Fj,Tt.JJ,Tt.On,Yn.KE,Yn.hX,ei.Nt,Dt.SP,Dt.uX,wt.BZ,wt.w1,wt.fO,wt.ge,wt.Dz,wt.ev,xe.lW,pe.Hw,wt.as,wt.XQ,wt.nj,wt.Gk],pipes:[d.Ov],styles:[".demo-table[_ngcontent-%COMP%]{width:100%}.mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{border-bottom:1px solid transparent;border-top:1px solid transparent;cursor:pointer}.mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{border-color:currentColor}.demo-row-is-clicked[_ngcontent-%COMP%]{font-weight:700}#editDepartment[_ngcontent-%COMP%], #deleteDepartment[_ngcontent-%COMP%]{background:rgba(102,102,102,.5);width:100%;height:100%;position:absolute;top:0;left:0;display:none}#box[_ngcontent-%COMP%]{width:300px;height:200px;text-align:center;padding:5px;border:3px solid #0000cc;border-radius:10px;color:#00c;position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;background:#fff}#box2[_ngcontent-%COMP%]{width:300px;height:150px;text-align:center;padding:5px;border:3px solid #0000cc;border-radius:10px;color:#00c;position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;background:#fff}#editDepartment[_ngcontent-%COMP%]:target{display:block}#deleteDepartment[_ngcontent-%COMP%]:target{display:block}.close[_ngcontent-%COMP%]{display:inline-block;border:1px solid #0000cc;color:#00c;padding:0 12px;margin:10px;text-decoration:none;background:#f2f2f2;font-size:14pt;cursor:pointer}.close[_ngcontent-%COMP%]:hover{background:#e6e6ff}"]}),ht})()},{path:"semester_unit_allocation",component:jn},{path:"unli_allocation_list",component:Wn}]}];let si=(()=>{class ht{}return ht.\u0275fac=function(Ie){return new(Ie||ht)},ht.\u0275mod=e.oAB({type:ht}),ht.\u0275inj=e.cJS({imports:[[_.Bz.forChild(kn)],_.Bz]}),ht})(),Mi=(()=>{class ht{}return ht.\u0275fac=function(Ie){return new(Ie||ht)},ht.\u0275mod=e.oAB({type:ht}),ht.\u0275inj=e.cJS({imports:[[d.ez,_.Bz,si]]}),ht})()},7440:(Xn,Vt,A)=>{"use strict";A.d(Vt,{g:()=>e});var d=A(5e3),_=A(7261);let e=(()=>{class ee{constructor(xe){this.notify=xe,this.config={duration:5e3,horizontalPosition:"center",verticalPosition:"bottom"}}success(xe){this.config.panelClass=["notification","success"],this.notify.open(xe,"",this.config)}delete(xe){this.config.panelClass=["notification2","delete"],this.notify.open(xe,"",this.config)}}return ee.\u0275fac=function(xe){return new(xe||ee)(d.LFG(_.ux))},ee.\u0275prov=d.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})()},3490:(Xn,Vt,A)=>{"use strict";var d=A(2313),_=A(5e3),e=A(1402),ee=A(9182),W=A(4594),xe=A(9808),pe=A(7423),ze=A(8099),Ve=A(2638),Q=A(4834);function qe(C,I){if(1&C){const g=_.EpF();_.TgZ(0,"button",16),_.NdJ("click",function(){return _.CHM(g),_.oxw().toggleSideNan()}),_.TgZ(1,"mat-icon"),_._uU(2,"chevron_left"),_.qZA(),_.TgZ(3,"span")(4,"b"),_._uU(5,"Hide Toolbar"),_.qZA()()()}}function je(C,I){if(1&C){const g=_.EpF();_.TgZ(0,"button",16),_.NdJ("click",function(){return _.CHM(g),_.oxw().toggleSideNan()}),_.TgZ(1,"mat-icon"),_._uU(2,"navigate_next"),_.qZA(),_.TgZ(3,"span")(4,"b"),_._uU(5,"Show Toolbar"),_.qZA()()()}}function at(C,I){1&C&&(_.TgZ(0,"nav",17)(1,"div",18),_._UZ(2,"img",19),_.TgZ(3,"button",20)(4,"button",21)(5,"mat-icon",22),_._uU(6,"menu"),_.qZA()()(),_.TgZ(7,"div",23)(8,"ul",24)(9,"li",25)(10,"a",26),_._uU(11,"Home"),_.qZA()()(),_.TgZ(12,"div",27)(13,"ul",24)(14,"li",28)(15,"a",29),_._uU(16,"Departments"),_.qZA()(),_.TgZ(17,"li",28)(18,"a",12),_._uU(19,"Students"),_.qZA()(),_.TgZ(20,"li",28)(21,"a",12),_._uU(22,"Exams"),_.qZA()(),_.TgZ(23,"li",28)(24,"a",12),_._uU(25,"Attachments"),_.qZA()()()()()()()),2&C&&(_.xp6(18),_.Q6J("routerLink","../mtti_mis_departments/add_new_department"),_.xp6(3),_.Q6J("routerLink","../mtti_mis_departments/add_new_department"),_.xp6(3),_.Q6J("routerLink","../mtti_mis_departments/add_new_department"))}const Ke=[{path:"mttimis_dashboard",component:(()=>{class C{constructor(){this.showTolBar=!1,this.openClose=!0}ngOnInit(){}toggleSideNan(){this.showTolBar=!this.showTolBar,this.openClose=!this.openClose}}return C.\u0275fac=function(g){return new(g||C)},C.\u0275cmp=_.Xpm({type:C,selectors:[["app-dashboard"]],decls:63,vars:9,consts:[[1,"navbar","sticky-top"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"spacer"],[2,"margin-right","30px","color","white","font-family","Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif","font-weight","500","text-shadow","2px 3px #7D3C98"],[2,"cursor","pointer","font-size","20px"],[2,"cursor","pointer","font-size","small"],[2,"cursor","pointer","font-size","25px"],["mode","side",1,"mat-elevation-z8",3,"opened"],["src","../../../assets/logo_michuki.png",1,"avatar","mat-elevation-z8"],[1,"name"],[1,"designation"],["mat-button","",1,"menu-button"],["routerLinkActive","active","mat-nav-list-item","",1,"ln",3,"routerLink"],["routerLinkActive","active2","mat-nav-list-item","",1,"ln2",3,"routerLink"],[1,"content","mat-elevation-z8"],["class","navbar navbar-expand-lg navbar-light","style","background: #002b5c;",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"navbar","navbar-expand-lg","navbar-light",2,"background","#002b5c"],[1,"container-fluid"],["src","../../../assets/logo_michuki.png",1,"avatar2","mat-elevation-z8"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarTogglerDemo02","aria-controls","navbarTogglerDemo02","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],["mat-icon-button",""],[2,"color","white"],["id","navbarTogglerDemo02",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLinkActive","active","mat-nav-list-item","",1,"ln"],[1,"d-flex"],[1,"nav-item",2,"margin","5px"],["routerLinkActive","active2","mat-nav-list-item","",1,"ln2"]],template:function(g,E){1&g&&(_.TgZ(0,"nav",0)(1,"mat-toolbar")(2,"mat-toolbar-row"),_.YNc(3,qe,6,0,"button",1),_.YNc(4,je,6,0,"button",1),_._UZ(5,"span",2),_.TgZ(6,"span",3),_._uU(7,"Michuki_tti_mate"),_.qZA(),_.TgZ(8,"mat-icon",4),_._uU(9,"person"),_.qZA(),_.TgZ(10,"span",5),_._uU(11," David Wangila"),_.qZA(),_.TgZ(12,"mat-icon",6),_._uU(13,"keyboard_arrow_down"),_.qZA()()()(),_.TgZ(14,"mat-sidenav-container")(15,"mat-sidenav",7),_._UZ(16,"img",8),_.TgZ(17,"h4",9),_._uU(18,"Departments | Michuki TTI"),_.qZA(),_.TgZ(19,"p",10)(20,"i"),_._uU(21,"michuki_tti_mate"),_.qZA()(),_._UZ(22,"mat-divider"),_.TgZ(23,"button",11)(24,"mat-icon"),_._uU(25,"home"),_.qZA(),_.TgZ(26,"a",12),_._uU(27,"Home"),_.qZA()(),_.TgZ(28,"button",11)(29,"mat-icon"),_._uU(30,"article"),_.qZA(),_.TgZ(31,"a",13),_._uU(32,"Departments"),_.qZA()(),_.TgZ(33,"button",11)(34,"mat-icon"),_._uU(35,"groups"),_.qZA(),_.TgZ(36,"a",12),_._uU(37,"Students"),_.qZA()(),_.TgZ(38,"button",11)(39,"mat-icon"),_._uU(40,"analytics"),_.qZA(),_.TgZ(41,"a",12),_._uU(42,"Exams"),_.qZA()(),_.TgZ(43,"button",11)(44,"mat-icon"),_._uU(45,"cast_for_education"),_.qZA(),_.TgZ(46,"a",12),_._uU(47,"Attachment"),_.qZA()(),_.TgZ(48,"button",11)(49,"mat-icon"),_._uU(50,"library_books"),_.qZA(),_.TgZ(51,"span"),_._uU(52,"Courses"),_.qZA()(),_._UZ(53,"mat-divider"),_.TgZ(54,"button",11)(55,"mat-icon"),_._uU(56,"logout"),_.qZA(),_.TgZ(57,"span"),_._uU(58,"Log Out"),_.qZA()()(),_.TgZ(59,"mat-sidenav-content")(60,"div",14),_.YNc(61,at,26,3,"nav",15),_._UZ(62,"router-outlet"),_.qZA()()()),2&g&&(_.xp6(3),_.Q6J("ngIf",0==E.showTolBar),_.xp6(1),_.Q6J("ngIf",0!=E.showTolBar),_.xp6(11),_.Q6J("opened",E.openClose),_.xp6(11),_.Q6J("routerLink","../mttimis_dashboard"),_.xp6(5),_.Q6J("routerLink","../mtti_mis_departments"),_.xp6(5),_.Q6J("routerLink","../mtti_mis_departments/add_new_department"),_.xp6(5),_.Q6J("routerLink","../Michuki_tti_exams"),_.xp6(5),_.Q6J("routerLink","../mtti_mis_departments/add_new_department"),_.xp6(15),_.Q6J("ngIf",1!=E.openClose))},directives:[ee.M2,W.Ye,W.rD,xe.O5,pe.lW,ze.Hw,Ve.TM,Ve.JX,Q.d,e.yS,e.Od,Ve.Rh,e.lC],styles:["mat-toolbar[_ngcontent-%COMP%]{background:#004a9f;color:#fff}mat-sidenav[_ngcontent-%COMP%]{margin:10px;width:200px;border-right:none;background:#002b5c;color:#fff;border-radius:10px;padding:16px;text-align:center}.content[_ngcontent-%COMP%]{height:97%;border-radius:10px;margin:10px 10px 10px 32px;font-size:1rem}mat-sidenav-container[_ngcontent-%COMP%]{height:88%}.menu-button[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;font-size:1rem}.menu-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.avatar[_ngcontent-%COMP%]{margin-top:16px;width:100px;height:100px;border-radius:20%;background-color:#f0f8ff}.avatar2[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:20%;background-color:#f0f8ff}.name[_ngcontent-%COMP%]{margin-top:8px;font-weight:400;font-size:small}.designation[_ngcontent-%COMP%]{margin-top:2px;font-size:.7rem;color:#d3d3d3}mat-divider[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;background-color:#ffffff80}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.ln[_ngcontent-%COMP%]{color:#fff;font-size:1rem;text-decoration:none}.ln[_ngcontent-%COMP%]:hover{color:#add8e6;text-shadow:1px 2px #7D3C98}.active[_ngcontent-%COMP%]{color:orange;font-weight:bolder}.ln2[_ngcontent-%COMP%]{color:#fff;font-size:1rem;text-decoration:none}.ln2[_ngcontent-%COMP%]:hover{color:#add8e6;text-shadow:1px 2px #7D3C98}.active2[_ngcontent-%COMP%]{color:#add8e6;font-weight:bolder}.list-group2[_ngcontent-%COMP%]{padding:10px;margin:5px;background-color:#faad39;border-radius:5px}#dashboard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link:active{color:red}"]}),C})()},{path:"",redirectTo:"mttimis_dashboard",pathMatch:"full"},{path:"mtti_mis_departments",loadChildren:()=>Promise.resolve().then(A.bind(A,2226)).then(C=>C.DepartmentsModule)},{path:"Michuki_tti_exams",loadChildren:()=>Promise.resolve().then(A.bind(A,8121)).then(C=>C.ExamsModule)}];let dt=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({imports:[[e.Bz.forRoot(Ke)],e.Bz]}),C})(),it=(()=>{class C{constructor(){this.title="michukittimis"}}return C.\u0275fac=function(g){return new(g||C)},C.\u0275cmp=_.Xpm({type:C,selectors:[["app-root"]],decls:11,vars:0,consts:[[1,"navbar","navbar-default","navbar-fixed-bottom",2,"background-color","#7D3C98"],[1,"container","text-center"]],template:function(g,E){1&g&&(_._UZ(0,"router-outlet"),_.TgZ(1,"nav",0)(2,"div",1)(3,"p"),_._uU(4,"Michuki TTI Mnagment Infromation System | "),_.TgZ(5,"i")(6,"b"),_._uU(7,"Michuki_tti_mate"),_.qZA()(),_._uU(8," \xa92022, "),_.TgZ(9,"i"),_._uU(10,"All rights Reserved"),_.qZA()()()())},directives:[e.lC,ee.M2],styles:[""]}),C})();var Dt=A(6360);const Tt=[];let hn=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({imports:[[e.Bz.forChild(Tt)],e.Bz]}),C})(),gt=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({imports:[[xe.ez,hn]]}),C})();var Pe=A(2226);const te=[];let Qe=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({imports:[[e.Bz.forChild(te)],e.Bz]}),C})(),Mt=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({imports:[[xe.ez,Qe]]}),C})();var bt=A(1777),tt=A(508),Ze=A(9776),Ee=A(925),Ye=A(8962);const ni={provide:new _.OlP("mat-menu-scroll-strategy"),deps:[Ze.aV],useFactory:function li(C){return()=>C.scrollStrategies.reposition()}};let Ce=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({providers:[ni],imports:[[xe.ez,tt.BQ,tt.si,Ze.U8],Ye.ZD,tt.BQ]}),C})();var pt=A(7429),Rt=A(226),nn=A(7579),On=A(9770),Wn=A(9646),Yn=A(9300),ei=A(5698),hi=A(8675),Bi=A(5664),vi=A(1159);function Ei(C,I){}class vt{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Nt={dialogContainer:(0,bt.X$)("dialogContainer",[(0,bt.SB)("void, exit",(0,bt.oB)({opacity:0,transform:"scale(0.7)"})),(0,bt.SB)("enter",(0,bt.oB)({transform:"none"})),(0,bt.eR)("* => enter",(0,bt.ru)([(0,bt.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,bt.oB)({transform:"none",opacity:1})),(0,bt.IO)("@*",(0,bt.pV)(),{optional:!0})])),(0,bt.eR)("* => void, * => exit",(0,bt.ru)([(0,bt.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,bt.oB)({opacity:0})),(0,bt.IO)("@*",(0,bt.pV)(),{optional:!0})]))])};let vn=(()=>{class C extends pt.en{constructor(g,E,U,he,xt,yn,Ui,ho){super(),this._elementRef=g,this._focusTrapFactory=E,this._changeDetectorRef=U,this._config=xt,this._interactivityChecker=yn,this._ngZone=Ui,this._focusMonitor=ho,this._animationStateChanged=new _.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=ts=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(ts)),this._ariaLabelledBy=xt.ariaLabelledBy||null,this._document=he}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,Ee.ht)())}attachComponentPortal(g){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(g)}attachTemplatePortal(g){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(g)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(g,E){this._interactivityChecker.isFocusable(g)||(g.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const U=()=>{g.removeEventListener("blur",U),g.removeEventListener("mousedown",U),g.removeAttribute("tabindex")};g.addEventListener("blur",U),g.addEventListener("mousedown",U)})),g.focus(E)}_focusByCssSelector(g,E){let U=this._elementRef.nativeElement.querySelector(g);U&&this._forceFocus(U,E)}_trapFocus(){const g=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||g.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(E=>{E||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const g=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&g&&"function"==typeof g.focus){const E=(0,Ee.ht)(),U=this._elementRef.nativeElement;(!E||E===this._document.body||E===U||U.contains(E))&&(this._focusMonitor?(this._focusMonitor.focusVia(g,this._closeInteractionType),this._closeInteractionType=null):g.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const g=this._elementRef.nativeElement,E=(0,Ee.ht)();return g===E||g.contains(E)}}return C.\u0275fac=function(g){return new(g||C)(_.Y36(_.SBq),_.Y36(Bi.qV),_.Y36(_.sBO),_.Y36(xe.K0,8),_.Y36(vt),_.Y36(Bi.ic),_.Y36(_.R0b),_.Y36(Bi.tE))},C.\u0275dir=_.lG2({type:C,viewQuery:function(g,E){if(1&g&&_.Gf(pt.Pl,7),2&g){let U;_.iGM(U=_.CRH())&&(E._portalOutlet=U.first)}},features:[_.qOj]}),C})(),X=(()=>{class C extends vn{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:g,totalTime:E}){"enter"===g?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:E})):"exit"===g&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:E}))}_onAnimationStart({toState:g,totalTime:E}){"enter"===g?this._animationStateChanged.next({state:"opening",totalTime:E}):("exit"===g||"void"===g)&&this._animationStateChanged.next({state:"closing",totalTime:E})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return C.\u0275fac=function(){let I;return function(E){return(I||(I=_.n5z(C)))(E||C)}}(),C.\u0275cmp=_.Xpm({type:C,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(g,E){1&g&&_.WFA("@dialogContainer.start",function(he){return E._onAnimationStart(he)})("@dialogContainer.done",function(he){return E._onAnimationDone(he)}),2&g&&(_.Ikx("id",E._id),_.uIk("role",E._config.role)("aria-labelledby",E._config.ariaLabel?null:E._ariaLabelledBy)("aria-label",E._config.ariaLabel)("aria-describedby",E._config.ariaDescribedBy||null),_.d8E("@dialogContainer",E._state))},features:[_.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(g,E){1&g&&_.YNc(0,Ei,0,0,"ng-template",0)},directives:[pt.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Nt.dialogContainer]}}),C})(),ie=0;class Z{constructor(I,g,E="mat-dialog-"+ie++){this._overlayRef=I,this._containerInstance=g,this.id=E,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new nn.x,this._afterClosed=new nn.x,this._beforeClosed=new nn.x,this._state=0,g._id=E,g._animationStateChanged.pipe((0,Yn.h)(U=>"opened"===U.state),(0,ei.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),g._animationStateChanged.pipe((0,Yn.h)(U=>"closed"===U.state),(0,ei.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),I.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),I.keydownEvents().pipe((0,Yn.h)(U=>U.keyCode===vi.hY&&!this.disableClose&&!(0,vi.Vb)(U))).subscribe(U=>{U.preventDefault(),Se(this,"keyboard")}),I.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Se(this,"mouse")})}close(I){this._result=I,this._containerInstance._animationStateChanged.pipe((0,Yn.h)(g=>"closing"===g.state),(0,ei.q)(1)).subscribe(g=>{this._beforeClosed.next(I),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),g.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(I){let g=this._getPositionStrategy();return I&&(I.left||I.right)?I.left?g.left(I.left):g.right(I.right):g.centerHorizontally(),I&&(I.top||I.bottom)?I.top?g.top(I.top):g.bottom(I.bottom):g.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(I="",g=""){return this._overlayRef.updateSize({width:I,height:g}),this._overlayRef.updatePosition(),this}addPanelClass(I){return this._overlayRef.addPanelClass(I),this}removePanelClass(I){return this._overlayRef.removePanelClass(I),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Se(C,I,g){return void 0!==C._containerInstance&&(C._containerInstance._closeInteractionType=I),C.close(g)}const Me=new _.OlP("MatDialogData"),ut=new _.OlP("mat-dialog-default-options"),Be=new _.OlP("mat-dialog-scroll-strategy"),Sn={provide:Be,deps:[Ze.aV],useFactory:function on(C){return()=>C.scrollStrategies.block()}};let bi=(()=>{class C{constructor(g,E,U,he,xt,yn,Ui,ho,ts,ns){this._overlay=g,this._injector=E,this._defaultOptions=U,this._parentDialog=he,this._overlayContainer=xt,this._dialogRefConstructor=Ui,this._dialogContainerType=ho,this._dialogDataToken=ts,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new nn.x,this._afterOpenedAtThisLevel=new nn.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,On.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,hi.O)(void 0))),this._scrollStrategy=yn}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const g=this._parentDialog;return g?g._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(g,E){E=function Pt(C,I){return Object.assign(Object.assign({},I),C)}(E,this._defaultOptions||new vt),E.id&&this.getDialogById(E.id);const U=this._createOverlay(E),he=this._attachDialogContainer(U,E),xt=this._attachDialogContent(g,he,U,E);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(xt),xt.afterClosed().subscribe(()=>this._removeOpenDialog(xt)),this.afterOpened.next(xt),he._initializeWithAttachedContent(),xt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(g){return this.openDialogs.find(E=>E.id===g)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(g){const E=this._getOverlayConfig(g);return this._overlay.create(E)}_getOverlayConfig(g){const E=new Ze.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:g.scrollStrategy||this._scrollStrategy(),panelClass:g.panelClass,hasBackdrop:g.hasBackdrop,direction:g.direction,minWidth:g.minWidth,minHeight:g.minHeight,maxWidth:g.maxWidth,maxHeight:g.maxHeight,disposeOnNavigation:g.closeOnNavigation});return g.backdropClass&&(E.backdropClass=g.backdropClass),E}_attachDialogContainer(g,E){const he=_.zs3.create({parent:E&&E.viewContainerRef&&E.viewContainerRef.injector||this._injector,providers:[{provide:vt,useValue:E}]}),xt=new pt.C5(this._dialogContainerType,E.viewContainerRef,he,E.componentFactoryResolver);return g.attach(xt).instance}_attachDialogContent(g,E,U,he){const xt=new this._dialogRefConstructor(U,E,he.id);if(g instanceof _.Rgc)E.attachTemplatePortal(new pt.UE(g,null,{$implicit:he.data,dialogRef:xt}));else{const yn=this._createInjector(he,xt,E),Ui=E.attachComponentPortal(new pt.C5(g,he.viewContainerRef,yn,he.componentFactoryResolver));xt.componentInstance=Ui.instance}return xt.updateSize(he.width,he.height).updatePosition(he.position),xt}_createInjector(g,E,U){const he=g&&g.viewContainerRef&&g.viewContainerRef.injector,xt=[{provide:this._dialogContainerType,useValue:U},{provide:this._dialogDataToken,useValue:g.data},{provide:this._dialogRefConstructor,useValue:E}];return g.direction&&(!he||!he.get(Rt.Is,null,_.XFs.Optional))&&xt.push({provide:Rt.Is,useValue:{value:g.direction,change:(0,Wn.of)()}}),_.zs3.create({parent:he||this._injector,providers:xt})}_removeOpenDialog(g){const E=this.openDialogs.indexOf(g);E>-1&&(this.openDialogs.splice(E,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((U,he)=>{U?he.setAttribute("aria-hidden",U):he.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const g=this._overlayContainer.getContainerElement();if(g.parentElement){const E=g.parentElement.children;for(let U=E.length-1;U>-1;U--){let he=E[U];he!==g&&"SCRIPT"!==he.nodeName&&"STYLE"!==he.nodeName&&!he.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(he,he.getAttribute("aria-hidden")),he.setAttribute("aria-hidden","true"))}}}_closeDialogs(g){let E=g.length;for(;E--;)g[E].close()}}return C.\u0275fac=function(g){_.$Z()},C.\u0275dir=_.lG2({type:C}),C})(),rn=(()=>{class C extends bi{constructor(g,E,U,he,xt,yn,Ui,ho){super(g,E,he,yn,Ui,xt,Z,X,Me,ho)}}return C.\u0275fac=function(g){return new(g||C)(_.LFG(Ze.aV),_.LFG(_.zs3),_.LFG(xe.Ye,8),_.LFG(ut,8),_.LFG(Be),_.LFG(C,12),_.LFG(Ze.Xj),_.LFG(Dt.Qb,8))},C.\u0275prov=_.Yz7({token:C,factory:C.\u0275fac}),C})(),jt=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({providers:[rn,Sn],imports:[[Ze.U8,pt.eL,tt.BQ],tt.BQ]}),C})();var In=A(7238),ht=(A(3191),A(2722),A(449),A(3075));let vr=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({imports:[[tt.uc,tt.si,tt.BQ,tt.us,xe.ez],tt.uc,tt.BQ,tt.us,Q.t]}),C})();var Ki=A(7322),zr=A(7531);let ar=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({imports:[[tt.uc,tt.BQ],tt.uc,tt.BQ]}),C})();A(727);let zn=(()=>{class C{constructor(){this.changes=new nn.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(g,E){return`${g} \u2013 ${E}`}}return C.\u0275fac=function(g){return new(g||C)},C.\u0275prov=_.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const As={provide:new _.OlP("mat-datepicker-scroll-strategy"),deps:[Ze.aV],useFactory:function Bo(C){return()=>C.scrollStrategies.reposition()}};let Xr=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({providers:[zn,As],imports:[[xe.ez,pe.ot,Ze.U8,Bi.rt,pt.eL,tt.BQ],Ye.ZD]}),C})();var io=A(4107),ss=(A(1135),A(8306));A(6451),A(8505);const Fi={provide:_.tb,useFactory:function ea(C,I){return()=>{if((0,xe.NF)(I)){const g=Array.from(C.querySelectorAll(`[class*=${nr}]`)),E=/\bflex-layout-.+?\b/g;g.forEach(U=>{U.classList.contains(`${nr}ssr`)&&U.parentNode?U.parentNode.removeChild(U):U.className.replace(E,"")})}}},deps:[xe.K0,_.Lbi],multi:!0},nr="flex-layout-";let Li=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({providers:[Fi]}),C})();const $={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},we=new _.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>$}),et=new _.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),kt=new _.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});let eu=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({imports:[[Li]]}),C})(),sa=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({imports:[[Li,Rt.vT]]}),C})(),hc=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({imports:[[Li]]}),C})(),Mu=(()=>{class C{constructor(g,E){(0,xe.PM)(E)&&!g&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(g,E=[]){return{ngModule:C,providers:g.serverLoaded?[{provide:we,useValue:Object.assign(Object.assign({},$),g)},{provide:kt,useValue:E,multi:!0},{provide:et,useValue:!0}]:[{provide:we,useValue:Object.assign(Object.assign({},$),g)},{provide:kt,useValue:E,multi:!0}]}}}return C.\u0275fac=function(g){return new(g||C)(_.LFG(et),_.LFG(_.Lbi))},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({imports:[[sa,eu,hc],sa,eu,hc]}),C})();A(4968);var dl=A(3900),du=A(4004);A(1005);const Kc={provide:new _.OlP("mat-autocomplete-scroll-strategy"),deps:[Ze.aV],useFactory:function md(C){return()=>C.scrollStrategies.reposition()}};let ld=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({providers:[Kc],imports:[[Ze.U8,tt.Ng,tt.BQ,xe.ez],Ye.ZD,tt.Ng,tt.BQ]}),C})();var gu=A(4999),mu=A(4847),cd=A(6087),gc=A(7261),zl=A(773),Yl=A(3251);let be=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({imports:[[tt.si,tt.BQ],tt.BQ]}),C})();const Ue=[ze.Ps,Ve.SJ,Xr,W.g0,Q.t,Ce,Mu,pe.ot,In.AV,vr,ee.IJ,Ki.lN,zr.c,ar,io.LD,ld,jt,gu.p0,mu.JX,cd.TU,gc.ZX,zl.Cq,Yl.Nh,be];let rt=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({imports:[[xe.ez,Dt.PW,Ue],ze.Ps,Ve.SJ,Xr,W.g0,Q.t,Ce,Mu,pe.ot,In.AV,vr,ee.IJ,Ki.lN,zr.c,ar,io.LD,ld,jt,gu.p0,mu.JX,cd.TU,gc.ZX,zl.Cq,Yl.Nh,be]}),C})(),tn=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({imports:[[xe.ez,e.Bz,rt]]}),C})(),dn=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({imports:[[xe.ez,e.Bz,rt,ht.UX,ht.u5]]}),C})(),Rn=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({imports:[[xe.ez,rt,e.Bz]]}),C})();const ri_firebaseConfig={apiKey:"AIzaSyCRsaE0KF6IoehhqRLfYdFIpStTzZATFiY",authDomain:"mttimis.firebaseapp.com",projectId:"mttimis",storageBucket:"mttimis.appspot.com",messagingSenderId:"639759840505",appId:"1:639759840505:web:73be905a27481317b21e28"};var ci=A(2816),wi=A(345),Ni=A(8996),ir=A(8372),yo=A(5363);function Eo(C){const I=function jr(C){return new ss.y(I=>{const g=xt=>I.next(xt);g(C.snapshot);const he=C.on("state_changed",g);return C.then(xt=>{g(xt),I.complete()},xt=>{g(C.snapshot),(xt=>{I.error(xt)})(xt)}),function(){he()}}).pipe((0,ir.b)(0))}(C);return{task:C,then:C.then.bind(C),catch:C.catch.bind(C),pause:C.pause.bind(C),cancel:C.cancel.bind(C),resume:C.resume.bind(C),snapshotChanges:()=>I,percentageChanges:()=>I.pipe((0,du.U)(g=>g.bytesTransferred/g.totalBytes*100))}}function c(C,I,g){return{getDownloadURL:()=>(0,Wn.of)(void 0).pipe((0,yo.Q)(I.outsideAngular),(0,dl.w)(()=>C.getDownloadURL()),g),getMetadata:()=>(0,Wn.of)(void 0).pipe((0,yo.Q)(I.outsideAngular),(0,dl.w)(()=>C.getMetadata()),g),delete:()=>(0,Ni.D)(C.delete()),child:E=>c(C.child(E),I,g),updateMetadata:E=>(0,Ni.D)(C.updateMetadata(E)),put:(E,U)=>Eo(C.put(E,U)),putString:(E,U,he)=>Eo(C.putString(E,U,he)),listAll:()=>(0,Ni.D)(C.listAll())}}A(1262);const n=new _.OlP("angularfire2.storageBucket"),l=new _.OlP("angularfire2.storage.maxUploadRetryTime"),p=new _.OlP("angularfire2.storage.maxOperationRetryTime");let v=(()=>{class C{constructor(g,E,U,he,xt,yn,Ui){this.schedulers=new ci.HU(xt),this.keepUnstableUntilFirst=(0,ci.ss)(this.schedulers);const ho=(0,ci.on)(g,xt,E);this.storage=(0,ci.sI)(`${ho.name}.storage.${U}`,"AngularFireStorage",ho,()=>{const ts=xt.runOutsideAngular(()=>ho.storage(U||void 0));return yn&&ts.setMaxUploadRetryTime(yn),Ui&&ts.setMaxOperationRetryTime(Ui),ts},[yn,Ui])}ref(g){return c(this.storage.ref(g),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(g){return c(this.storage.refFromURL(g),this.schedulers,this.keepUnstableUntilFirst)}upload(g,E,U){return c(this.storage.ref(g),this.schedulers,this.keepUnstableUntilFirst).put(E,U)}}return C.\u0275fac=function(g){return new(g||C)(_.LFG(ci.Dh),_.LFG(ci.xv,8),_.LFG(n,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(l,8),_.LFG(p,8))},C.\u0275prov=_.Yz7({factory:function(){return new C(_.LFG(ci.Dh),_.LFG(ci.xv,8),_.LFG(n,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(l,8),_.LFG(p,8))},token:C,providedIn:"any"}),C})(),P=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({}),C})(),j=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({providers:[v],imports:[P]}),C})();var _e=A(4283);let Le=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({imports:[[xe.ez,e.Bz,ht.u5,ht.UX,rt]]}),C})();var lt=A(8121);let Bt=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({imports:[[xe.ez]]}),C})();const Xt=[];let Fn=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({imports:[[e.Bz.forChild(Xt)],e.Bz]}),C})(),xn=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=_.oAB({type:C,bootstrap:[it]}),C.\u0275inj=_.cJS({providers:[],imports:[[d.b2,dt,Dt.PW,ee.IJ,gt,Pe.DepartmentsModule,rt,Mt,e.Bz,tn,dn,Rn,ci.hO.initializeApp(ri_firebaseConfig),j,wi.yb,_e.ww,ci.hO,Le,lt.ExamsModule,Bt,Fn]]}),C})();(0,_.G48)(),d.q6().bootstrapModule(xn).catch(C=>console.error(C))},5867:(Xn,Vt,A)=>{"use strict";A.d(Vt,{Z:()=>d.default});var d=A(8367),e="8.9.1";d.default.registerVersion("firebase",e,"app"),d.default.SDK_VERSION=e},2940:function(Xn,Vt){!function(A){"use strict";function d(it){return Array.prototype.slice.call(it)}function _(it){return new Promise(function(Dt,Tt){it.onsuccess=function(){Dt(it.result)},it.onerror=function(){Tt(it.error)}})}function e(it,Dt,Tt){var hn,gt=new Promise(function(Pe,te){_(hn=it[Dt].apply(it,Tt)).then(Pe,te)});return gt.request=hn,gt}function ee(it,Dt,Tt){var hn=e(it,Dt,Tt);return hn.then(function(gt){if(gt)return new Q(gt,hn.request)})}function W(it,Dt,Tt){Tt.forEach(function(hn){Object.defineProperty(it.prototype,hn,{get:function(){return this[Dt][hn]},set:function(gt){this[Dt][hn]=gt}})})}function xe(it,Dt,Tt,hn){hn.forEach(function(gt){gt in Tt.prototype&&(it.prototype[gt]=function(){return e(this[Dt],gt,arguments)})})}function pe(it,Dt,Tt,hn){hn.forEach(function(gt){gt in Tt.prototype&&(it.prototype[gt]=function(){return this[Dt][gt].apply(this[Dt],arguments)})})}function ze(it,Dt,Tt,hn){hn.forEach(function(gt){gt in Tt.prototype&&(it.prototype[gt]=function(){return ee(this[Dt],gt,arguments)})})}function Ve(it){this._index=it}function Q(it,Dt){this._cursor=it,this._request=Dt}function qe(it){this._store=it}function je(it){this._tx=it,this.complete=new Promise(function(Dt,Tt){it.oncomplete=function(){Dt()},it.onerror=function(){Tt(it.error)},it.onabort=function(){Tt(it.error)}})}function at(it,Dt,Tt){this._db=it,this.oldVersion=Dt,this.transaction=new je(Tt)}function ke(it){this._db=it}W(Ve,"_index",["name","keyPath","multiEntry","unique"]),xe(Ve,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ze(Ve,"_index",IDBIndex,["openCursor","openKeyCursor"]),W(Q,"_cursor",["direction","key","primaryKey","value"]),xe(Q,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(it){it in IDBCursor.prototype&&(Q.prototype[it]=function(){var Dt=this,Tt=arguments;return Promise.resolve().then(function(){return Dt._cursor[it].apply(Dt._cursor,Tt),_(Dt._request).then(function(hn){if(hn)return new Q(hn,Dt._request)})})})}),qe.prototype.createIndex=function(){return new Ve(this._store.createIndex.apply(this._store,arguments))},qe.prototype.index=function(){return new Ve(this._store.index.apply(this._store,arguments))},W(qe,"_store",["name","keyPath","indexNames","autoIncrement"]),xe(qe,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ze(qe,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),pe(qe,"_store",IDBObjectStore,["deleteIndex"]),je.prototype.objectStore=function(){return new qe(this._tx.objectStore.apply(this._tx,arguments))},W(je,"_tx",["objectStoreNames","mode"]),pe(je,"_tx",IDBTransaction,["abort"]),at.prototype.createObjectStore=function(){return new qe(this._db.createObjectStore.apply(this._db,arguments))},W(at,"_db",["name","version","objectStoreNames"]),pe(at,"_db",IDBDatabase,["deleteObjectStore","close"]),ke.prototype.transaction=function(){return new je(this._db.transaction.apply(this._db,arguments))},W(ke,"_db",["name","version","objectStoreNames"]),pe(ke,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(it){[qe,Ve].forEach(function(Dt){it in Dt.prototype&&(Dt.prototype[it.replace("open","iterate")]=function(){var Tt=d(arguments),hn=Tt[Tt.length-1],gt=this._store||this._index,Pe=gt[it].apply(gt,Tt.slice(0,-1));Pe.onsuccess=function(){hn(Pe.result)}})})}),[Ve,qe].forEach(function(it){it.prototype.getAll||(it.prototype.getAll=function(Dt,Tt){var hn=this,gt=[];return new Promise(function(Pe){hn.iterateCursor(Dt,function(te){te?(gt.push(te.value),void 0===Tt||gt.length!=Tt?te.continue():Pe(gt)):Pe(gt)})})})}),A.openDb=function Ke(it,Dt,Tt){var hn=e(indexedDB,"open",[it,Dt]),gt=hn.request;return gt&&(gt.onupgradeneeded=function(Pe){Tt&&Tt(new at(gt.result,Pe.oldVersion,gt.transaction))}),hn.then(function(Pe){return new ke(Pe)})},A.deleteDb=function dt(it){return e(indexedDB,"deleteDatabase",[it])},Object.defineProperty(A,"__esModule",{value:!0})}(Vt)},1135:(Xn,Vt,A)=>{"use strict";A.d(Vt,{X:()=>_});var d=A(7579);class _ extends d.x{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const W=super._subscribe(ee);return!W.closed&&ee.next(this._value),W}getValue(){const{hasError:ee,thrownError:W,_value:xe}=this;if(ee)throw W;return this._throwIfClosed(),xe}next(ee){super.next(this._value=ee)}}},8306:(Xn,Vt,A)=>{"use strict";A.d(Vt,{y:()=>Q});var d=A(930),_=A(727),e=A(8822),ee=A(4671);var pe=A(2416),ze=A(576),Ve=A(2806);let Q=(()=>{class ke{constructor(dt){dt&&(this._subscribe=dt)}lift(dt){const it=new ke;return it.source=this,it.operator=dt,it}subscribe(dt,it,Dt){const Tt=function at(ke){return ke&&ke instanceof d.Lv||function je(ke){return ke&&(0,ze.m)(ke.next)&&(0,ze.m)(ke.error)&&(0,ze.m)(ke.complete)}(ke)&&(0,_.Nn)(ke)}(dt)?dt:new d.Hp(dt,it,Dt);return(0,Ve.x)(()=>{const{operator:hn,source:gt}=this;Tt.add(hn?hn.call(Tt,gt):gt?this._subscribe(Tt):this._trySubscribe(Tt))}),Tt}_trySubscribe(dt){try{return this._subscribe(dt)}catch(it){dt.error(it)}}forEach(dt,it){return new(it=qe(it))((Dt,Tt)=>{const hn=new d.Hp({next:gt=>{try{dt(gt)}catch(Pe){Tt(Pe),hn.unsubscribe()}},error:Tt,complete:Dt});this.subscribe(hn)})}_subscribe(dt){var it;return null===(it=this.source)||void 0===it?void 0:it.subscribe(dt)}[e.L](){return this}pipe(...dt){return function xe(ke){return 0===ke.length?ee.y:1===ke.length?ke[0]:function(dt){return ke.reduce((it,Dt)=>Dt(it),dt)}}(dt)(this)}toPromise(dt){return new(dt=qe(dt))((it,Dt)=>{let Tt;this.subscribe(hn=>Tt=hn,hn=>Dt(hn),()=>it(Tt))})}}return ke.create=Ke=>new ke(Ke),ke})();function qe(ke){var Ke;return null!==(Ke=null!=ke?ke:pe.v.Promise)&&void 0!==Ke?Ke:Promise}},7579:(Xn,Vt,A)=>{"use strict";A.d(Vt,{x:()=>pe});var d=A(8306),_=A(727);const ee=(0,A(3888).d)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var W=A(8737),xe=A(2806);let pe=(()=>{class Ve extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(qe){const je=new ze(this,this);return je.operator=qe,je}_throwIfClosed(){if(this.closed)throw new ee}next(qe){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const je of this.currentObservers)je.next(qe)}})}error(qe){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=qe;const{observers:je}=this;for(;je.length;)je.shift().error(qe)}})}complete(){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:qe}=this;for(;qe.length;)qe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var qe;return(null===(qe=this.observers)||void 0===qe?void 0:qe.length)>0}_trySubscribe(qe){return this._throwIfClosed(),super._trySubscribe(qe)}_subscribe(qe){return this._throwIfClosed(),this._checkFinalizedStatuses(qe),this._innerSubscribe(qe)}_innerSubscribe(qe){const{hasError:je,isStopped:at,observers:ke}=this;return je||at?_.Lc:(this.currentObservers=null,ke.push(qe),new _.w0(()=>{this.currentObservers=null,(0,W.P)(ke,qe)}))}_checkFinalizedStatuses(qe){const{hasError:je,thrownError:at,isStopped:ke}=this;je?qe.error(at):ke&&qe.complete()}asObservable(){const qe=new d.y;return qe.source=this,qe}}return Ve.create=(Q,qe)=>new ze(Q,qe),Ve})();class ze extends pe{constructor(Q,qe){super(),this.destination=Q,this.source=qe}next(Q){var qe,je;null===(je=null===(qe=this.destination)||void 0===qe?void 0:qe.next)||void 0===je||je.call(qe,Q)}error(Q){var qe,je;null===(je=null===(qe=this.destination)||void 0===qe?void 0:qe.error)||void 0===je||je.call(qe,Q)}complete(){var Q,qe;null===(qe=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===qe||qe.call(Q)}_subscribe(Q){var qe,je;return null!==(je=null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(Q))&&void 0!==je?je:_.Lc}}},930:(Xn,Vt,A)=>{"use strict";A.d(Vt,{Hp:()=>dt,Lv:()=>je});var d=A(576),_=A(727),e=A(2416),ee=A(7849),W=A(5032);const xe=Ve("C",void 0,void 0);function Ve(gt,Pe,te){return{kind:gt,value:Pe,error:te}}var Q=A(3410),qe=A(2806);class je extends _.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,_.Nn)(Pe)&&Pe.add(this)):this.destination=hn}static create(Pe,te,Qe){return new dt(Pe,te,Qe)}next(Pe){this.isStopped?Tt(function ze(gt){return Ve("N",gt,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?Tt(function pe(gt){return Ve("E",void 0,gt)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?Tt(xe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const at=Function.prototype.bind;function ke(gt,Pe){return at.call(gt,Pe)}class Ke{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:te}=this;if(te.next)try{te.next(Pe)}catch(Qe){it(Qe)}}error(Pe){const{partialObserver:te}=this;if(te.error)try{te.error(Pe)}catch(Qe){it(Qe)}else it(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(te){it(te)}}}class dt extends je{constructor(Pe,te,Qe){let Mt;if(super(),(0,d.m)(Pe)||!Pe)Mt={next:null!=Pe?Pe:void 0,error:null!=te?te:void 0,complete:null!=Qe?Qe:void 0};else{let bt;this&&e.v.useDeprecatedNextContext?(bt=Object.create(Pe),bt.unsubscribe=()=>this.unsubscribe(),Mt={next:Pe.next&&ke(Pe.next,bt),error:Pe.error&&ke(Pe.error,bt),complete:Pe.complete&&ke(Pe.complete,bt)}):Mt=Pe}this.destination=new Ke(Mt)}}function it(gt){e.v.useDeprecatedSynchronousErrorHandling?(0,qe.O)(gt):(0,ee.h)(gt)}function Tt(gt,Pe){const{onStoppedNotification:te}=e.v;te&&Q.z.setTimeout(()=>te(gt,Pe))}const hn={closed:!0,next:W.Z,error:function Dt(gt){throw gt},complete:W.Z}},727:(Xn,Vt,A)=>{"use strict";A.d(Vt,{Lc:()=>xe,w0:()=>W,Nn:()=>pe});var d=A(576);const e=(0,A(3888).d)(Ve=>function(qe){Ve(this),this.message=qe?`${qe.length} errors occurred during unsubscription:\n${qe.map((je,at)=>`${at+1}) ${je.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=qe});var ee=A(8737);class W{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:qe}=this;if(qe)if(this._parentage=null,Array.isArray(qe))for(const ke of qe)ke.remove(this);else qe.remove(this);const{initialTeardown:je}=this;if((0,d.m)(je))try{je()}catch(ke){Q=ke instanceof e?ke.errors:[ke]}const{_finalizers:at}=this;if(at){this._finalizers=null;for(const ke of at)try{ze(ke)}catch(Ke){Q=null!=Q?Q:[],Ke instanceof e?Q=[...Q,...Ke.errors]:Q.push(Ke)}}if(Q)throw new e(Q)}}add(Q){var qe;if(Q&&Q!==this)if(this.closed)ze(Q);else{if(Q instanceof W){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._finalizers=null!==(qe=this._finalizers)&&void 0!==qe?qe:[]).push(Q)}}_hasParent(Q){const{_parentage:qe}=this;return qe===Q||Array.isArray(qe)&&qe.includes(Q)}_addParent(Q){const{_parentage:qe}=this;this._parentage=Array.isArray(qe)?(qe.push(Q),qe):qe?[qe,Q]:Q}_removeParent(Q){const{_parentage:qe}=this;qe===Q?this._parentage=null:Array.isArray(qe)&&(0,ee.P)(qe,Q)}remove(Q){const{_finalizers:qe}=this;qe&&(0,ee.P)(qe,Q),Q instanceof W&&Q._removeParent(this)}}W.EMPTY=(()=>{const Ve=new W;return Ve.closed=!0,Ve})();const xe=W.EMPTY;function pe(Ve){return Ve instanceof W||Ve&&"closed"in Ve&&(0,d.m)(Ve.remove)&&(0,d.m)(Ve.add)&&(0,d.m)(Ve.unsubscribe)}function ze(Ve){(0,d.m)(Ve)?Ve():Ve.unsubscribe()}},2416:(Xn,Vt,A)=>{"use strict";A.d(Vt,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Xn,Vt,A)=>{"use strict";A.d(Vt,{a:()=>Q});var d=A(8306),_=A(4742),e=A(8996),ee=A(4671),W=A(3268),xe=A(3269),pe=A(1810),ze=A(5403),Ve=A(9672);function Q(...at){const ke=(0,xe.yG)(at),Ke=(0,xe.jO)(at),{args:dt,keys:it}=(0,_.D)(at);if(0===dt.length)return(0,e.D)([],ke);const Dt=new d.y(function qe(at,ke,Ke=ee.y){return dt=>{je(ke,()=>{const{length:it}=at,Dt=new Array(it);let Tt=it,hn=it;for(let gt=0;gt<it;gt++)je(ke,()=>{const Pe=(0,e.D)(at[gt],ke);let te=!1;Pe.subscribe((0,ze.x)(dt,Qe=>{Dt[gt]=Qe,te||(te=!0,hn--),hn||dt.next(Ke(Dt.slice()))},()=>{--Tt||dt.complete()}))},dt)},dt)}}(dt,ke,it?Tt=>(0,pe.n)(it,Tt):ee.y));return Ke?Dt.pipe((0,W.Z)(Ke)):Dt}function je(at,ke,Ke){at?(0,Ve.f)(Ke,at,ke):ke()}},7272:(Xn,Vt,A)=>{"use strict";A.d(Vt,{z:()=>W});var d=A(8189),e=A(3269),ee=A(8996);function W(...xe){return function _(){return(0,d.J)(1)}()((0,ee.D)(xe,(0,e.yG)(xe)))}},9770:(Xn,Vt,A)=>{"use strict";A.d(Vt,{P:()=>e});var d=A(8306),_=A(8421);function e(ee){return new d.y(W=>{(0,_.Xf)(ee()).subscribe(W)})}},515:(Xn,Vt,A)=>{"use strict";A.d(Vt,{E:()=>_});const _=new(A(8306).y)(W=>W.complete())},4128:(Xn,Vt,A)=>{"use strict";A.d(Vt,{D:()=>ze});var d=A(8306),_=A(4742),e=A(8421),ee=A(3269),W=A(5403),xe=A(3268),pe=A(1810);function ze(...Ve){const Q=(0,ee.jO)(Ve),{args:qe,keys:je}=(0,_.D)(Ve),at=new d.y(ke=>{const{length:Ke}=qe;if(!Ke)return void ke.complete();const dt=new Array(Ke);let it=Ke,Dt=Ke;for(let Tt=0;Tt<Ke;Tt++){let hn=!1;(0,e.Xf)(qe[Tt]).subscribe((0,W.x)(ke,gt=>{hn||(hn=!0,Dt--),dt[Tt]=gt},()=>it--,void 0,()=>{(!it||!hn)&&(Dt||ke.next(je?(0,pe.n)(je,dt):dt),ke.complete())}))}});return Q?at.pipe((0,xe.Z)(Q)):at}},8996:(Xn,Vt,A)=>{"use strict";A.d(Vt,{D:()=>Pe});var d=A(8421),_=A(5363),e=A(9468),xe=A(8306),ze=A(2202),Ve=A(576),Q=A(9672);function je(te,Qe){if(!te)throw new Error("Iterable cannot be null");return new xe.y(Mt=>{(0,Q.f)(Mt,Qe,()=>{const bt=te[Symbol.asyncIterator]();(0,Q.f)(Mt,Qe,()=>{bt.next().then(tt=>{tt.done?Mt.complete():Mt.next(tt.value)})},0,!0)})})}var at=A(3670),ke=A(8239),Ke=A(1144),dt=A(6495),it=A(2206),Dt=A(4532),Tt=A(3260);function Pe(te,Qe){return Qe?function gt(te,Qe){if(null!=te){if((0,at.c)(te))return function ee(te,Qe){return(0,d.Xf)(te).pipe((0,e.R)(Qe),(0,_.Q)(Qe))}(te,Qe);if((0,Ke.z)(te))return function pe(te,Qe){return new xe.y(Mt=>{let bt=0;return Qe.schedule(function(){bt===te.length?Mt.complete():(Mt.next(te[bt++]),Mt.closed||this.schedule())})})}(te,Qe);if((0,ke.t)(te))return function W(te,Qe){return(0,d.Xf)(te).pipe((0,e.R)(Qe),(0,_.Q)(Qe))}(te,Qe);if((0,it.D)(te))return je(te,Qe);if((0,dt.T)(te))return function qe(te,Qe){return new xe.y(Mt=>{let bt;return(0,Q.f)(Mt,Qe,()=>{bt=te[ze.h](),(0,Q.f)(Mt,Qe,()=>{let tt,Ze;try{({value:tt,done:Ze}=bt.next())}catch(Ee){return void Mt.error(Ee)}Ze?Mt.complete():Mt.next(tt)},0,!0)}),()=>(0,Ve.m)(null==bt?void 0:bt.return)&&bt.return()})}(te,Qe);if((0,Tt.L)(te))return function hn(te,Qe){return je((0,Tt.Q)(te),Qe)}(te,Qe)}throw(0,Dt.z)(te)}(te,Qe):(0,d.Xf)(te)}},4968:(Xn,Vt,A)=>{"use strict";A.d(Vt,{R:()=>Q});var d=A(8421),_=A(8306),e=A(5577),ee=A(1144),W=A(576),xe=A(3268);const pe=["addListener","removeListener"],ze=["addEventListener","removeEventListener"],Ve=["on","off"];function Q(Ke,dt,it,Dt){if((0,W.m)(it)&&(Dt=it,it=void 0),Dt)return Q(Ke,dt,it).pipe((0,xe.Z)(Dt));const[Tt,hn]=function ke(Ke){return(0,W.m)(Ke.addEventListener)&&(0,W.m)(Ke.removeEventListener)}(Ke)?ze.map(gt=>Pe=>Ke[gt](dt,Pe,it)):function je(Ke){return(0,W.m)(Ke.addListener)&&(0,W.m)(Ke.removeListener)}(Ke)?pe.map(qe(Ke,dt)):function at(Ke){return(0,W.m)(Ke.on)&&(0,W.m)(Ke.off)}(Ke)?Ve.map(qe(Ke,dt)):[];if(!Tt&&(0,ee.z)(Ke))return(0,e.z)(gt=>Q(gt,dt,it))((0,d.Xf)(Ke));if(!Tt)throw new TypeError("Invalid event target");return new _.y(gt=>{const Pe=(...te)=>gt.next(1<te.length?te:te[0]);return Tt(Pe),()=>hn(Pe)})}function qe(Ke,dt){return it=>Dt=>Ke[it](dt,Dt)}},8421:(Xn,Vt,A)=>{"use strict";A.d(Vt,{Xf:()=>at});var d=A(655),_=A(1144),e=A(8239),ee=A(8306),W=A(3670),xe=A(2206),pe=A(4532),ze=A(6495),Ve=A(3260),Q=A(576),qe=A(7849),je=A(8822);function at(gt){if(gt instanceof ee.y)return gt;if(null!=gt){if((0,W.c)(gt))return function ke(gt){return new ee.y(Pe=>{const te=gt[je.L]();if((0,Q.m)(te.subscribe))return te.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(gt);if((0,_.z)(gt))return function Ke(gt){return new ee.y(Pe=>{for(let te=0;te<gt.length&&!Pe.closed;te++)Pe.next(gt[te]);Pe.complete()})}(gt);if((0,e.t)(gt))return function dt(gt){return new ee.y(Pe=>{gt.then(te=>{Pe.closed||(Pe.next(te),Pe.complete())},te=>Pe.error(te)).then(null,qe.h)})}(gt);if((0,xe.D)(gt))return Dt(gt);if((0,ze.T)(gt))return function it(gt){return new ee.y(Pe=>{for(const te of gt)if(Pe.next(te),Pe.closed)return;Pe.complete()})}(gt);if((0,Ve.L)(gt))return function Tt(gt){return Dt((0,Ve.Q)(gt))}(gt)}throw(0,pe.z)(gt)}function Dt(gt){return new ee.y(Pe=>{(function hn(gt,Pe){var te,Qe,Mt,bt;return(0,d.__awaiter)(this,void 0,void 0,function*(){try{for(te=(0,d.__asyncValues)(gt);!(Qe=yield te.next()).done;)if(Pe.next(Qe.value),Pe.closed)return}catch(tt){Mt={error:tt}}finally{try{Qe&&!Qe.done&&(bt=te.return)&&(yield bt.call(te))}finally{if(Mt)throw Mt.error}}Pe.complete()})})(gt,Pe).catch(te=>Pe.error(te))})}},6451:(Xn,Vt,A)=>{"use strict";A.d(Vt,{T:()=>xe});var d=A(8189),_=A(8421),e=A(515),ee=A(3269),W=A(8996);function xe(...pe){const ze=(0,ee.yG)(pe),Ve=(0,ee._6)(pe,1/0),Q=pe;return Q.length?1===Q.length?(0,_.Xf)(Q[0]):(0,d.J)(Ve)((0,W.D)(Q,ze)):e.E}},9646:(Xn,Vt,A)=>{"use strict";A.d(Vt,{of:()=>e});var d=A(3269),_=A(8996);function e(...ee){const W=(0,d.yG)(ee);return(0,_.D)(ee,W)}},2843:(Xn,Vt,A)=>{"use strict";A.d(Vt,{_:()=>e});var d=A(8306),_=A(576);function e(ee,W){const xe=(0,_.m)(ee)?ee:()=>ee,pe=ze=>ze.error(xe());return new d.y(W?ze=>W.schedule(pe,0,ze):pe)}},5963:(Xn,Vt,A)=>{"use strict";A.d(Vt,{H:()=>W});var d=A(8306),_=A(4986),e=A(3532);function W(xe=0,pe,ze=_.P){let Ve=-1;return null!=pe&&((0,e.K)(pe)?ze=pe:Ve=pe),new d.y(Q=>{let qe=function ee(xe){return xe instanceof Date&&!isNaN(xe)}(xe)?+xe-ze.now():xe;qe<0&&(qe=0);let je=0;return ze.schedule(function(){Q.closed||(Q.next(je++),0<=Ve?this.schedule(void 0,Ve):Q.complete())},qe)})}},5403:(Xn,Vt,A)=>{"use strict";A.d(Vt,{x:()=>_});var d=A(930);function _(ee,W,xe,pe,ze){return new e(ee,W,xe,pe,ze)}class e extends d.Lv{constructor(W,xe,pe,ze,Ve,Q){super(W),this.onFinalize=Ve,this.shouldUnsubscribe=Q,this._next=xe?function(qe){try{xe(qe)}catch(je){W.error(je)}}:super._next,this._error=ze?function(qe){try{ze(qe)}catch(je){W.error(je)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(qe){W.error(qe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var W;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:xe}=this;super.unsubscribe(),!xe&&(null===(W=this.onFinalize)||void 0===W||W.call(this))}}}},262:(Xn,Vt,A)=>{"use strict";A.d(Vt,{K:()=>ee});var d=A(8421),_=A(5403),e=A(4482);function ee(W){return(0,e.e)((xe,pe)=>{let Q,ze=null,Ve=!1;ze=xe.subscribe((0,_.x)(pe,void 0,void 0,qe=>{Q=(0,d.Xf)(W(qe,ee(W)(xe))),ze?(ze.unsubscribe(),ze=null,Q.subscribe(pe)):Ve=!0})),Ve&&(ze.unsubscribe(),ze=null,Q.subscribe(pe))})}},4351:(Xn,Vt,A)=>{"use strict";A.d(Vt,{b:()=>e});var d=A(5577),_=A(576);function e(ee,W){return(0,_.m)(W)?(0,d.z)(ee,W,1):(0,d.z)(ee,1)}},8372:(Xn,Vt,A)=>{"use strict";A.d(Vt,{b:()=>ee});var d=A(4986),_=A(4482),e=A(5403);function ee(W,xe=d.z){return(0,_.e)((pe,ze)=>{let Ve=null,Q=null,qe=null;const je=()=>{if(Ve){Ve.unsubscribe(),Ve=null;const ke=Q;Q=null,ze.next(ke)}};function at(){const ke=qe+W,Ke=xe.now();if(Ke<ke)return Ve=this.schedule(void 0,ke-Ke),void ze.add(Ve);je()}pe.subscribe((0,e.x)(ze,ke=>{Q=ke,qe=xe.now(),Ve||(Ve=xe.schedule(at,W),ze.add(Ve))},()=>{je(),ze.complete()},void 0,()=>{Q=Ve=null}))})}},6590:(Xn,Vt,A)=>{"use strict";A.d(Vt,{d:()=>e});var d=A(4482),_=A(5403);function e(ee){return(0,d.e)((W,xe)=>{let pe=!1;W.subscribe((0,_.x)(xe,ze=>{pe=!0,xe.next(ze)},()=>{pe||xe.next(ee),xe.complete()}))})}},1005:(Xn,Vt,A)=>{"use strict";A.d(Vt,{g:()=>je});var d=A(4986),_=A(7272),e=A(5698),ee=A(4482),W=A(5403),xe=A(5032),ze=A(9718),Ve=A(5577);function Q(at,ke){return ke?Ke=>(0,_.z)(ke.pipe((0,e.q)(1),function pe(){return(0,ee.e)((at,ke)=>{at.subscribe((0,W.x)(ke,xe.Z))})}()),Ke.pipe(Q(at))):(0,Ve.z)((Ke,dt)=>at(Ke,dt).pipe((0,e.q)(1),(0,ze.h)(Ke)))}var qe=A(5963);function je(at,ke=d.z){const Ke=(0,qe.H)(at,ke);return Q(()=>Ke)}},1884:(Xn,Vt,A)=>{"use strict";A.d(Vt,{x:()=>ee});var d=A(4671),_=A(4482),e=A(5403);function ee(xe,pe=d.y){return xe=null!=xe?xe:W,(0,_.e)((ze,Ve)=>{let Q,qe=!0;ze.subscribe((0,e.x)(Ve,je=>{const at=pe(je);(qe||!xe(Q,at))&&(qe=!1,Q=at,Ve.next(je))}))})}function W(xe,pe){return xe===pe}},9300:(Xn,Vt,A)=>{"use strict";A.d(Vt,{h:()=>e});var d=A(4482),_=A(5403);function e(ee,W){return(0,d.e)((xe,pe)=>{let ze=0;xe.subscribe((0,_.x)(pe,Ve=>ee.call(W,Ve,ze++)&&pe.next(Ve)))})}},8746:(Xn,Vt,A)=>{"use strict";A.d(Vt,{x:()=>_});var d=A(4482);function _(e){return(0,d.e)((ee,W)=>{try{ee.subscribe(W)}finally{W.add(e)}})}},590:(Xn,Vt,A)=>{"use strict";A.d(Vt,{P:()=>pe});var d=A(6805),_=A(9300),e=A(5698),ee=A(6590),W=A(8068),xe=A(4671);function pe(ze,Ve){const Q=arguments.length>=2;return qe=>qe.pipe(ze?(0,_.h)((je,at)=>ze(je,at,qe)):xe.y,(0,e.q)(1),Q?(0,ee.d)(Ve):(0,W.T)(()=>new d.K))}},4004:(Xn,Vt,A)=>{"use strict";A.d(Vt,{U:()=>e});var d=A(4482),_=A(5403);function e(ee,W){return(0,d.e)((xe,pe)=>{let ze=0;xe.subscribe((0,_.x)(pe,Ve=>{pe.next(ee.call(W,Ve,ze++))}))})}},9718:(Xn,Vt,A)=>{"use strict";A.d(Vt,{h:()=>_});var d=A(4004);function _(e){return(0,d.U)(()=>e)}},8189:(Xn,Vt,A)=>{"use strict";A.d(Vt,{J:()=>e});var d=A(5577),_=A(4671);function e(ee=1/0){return(0,d.z)(_.y,ee)}},5577:(Xn,Vt,A)=>{"use strict";A.d(Vt,{z:()=>ze});var d=A(4004),_=A(8421),e=A(4482),ee=A(9672),W=A(5403),pe=A(576);function ze(Ve,Q,qe=1/0){return(0,pe.m)(Q)?ze((je,at)=>(0,d.U)((ke,Ke)=>Q(je,ke,at,Ke))((0,_.Xf)(Ve(je,at))),qe):("number"==typeof Q&&(qe=Q),(0,e.e)((je,at)=>function xe(Ve,Q,qe,je,at,ke,Ke,dt){const it=[];let Dt=0,Tt=0,hn=!1;const gt=()=>{hn&&!it.length&&!Dt&&Q.complete()},Pe=Qe=>Dt<je?te(Qe):it.push(Qe),te=Qe=>{ke&&Q.next(Qe),Dt++;let Mt=!1;(0,_.Xf)(qe(Qe,Tt++)).subscribe((0,W.x)(Q,bt=>{null==at||at(bt),ke?Pe(bt):Q.next(bt)},()=>{Mt=!0},void 0,()=>{if(Mt)try{for(Dt--;it.length&&Dt<je;){const bt=it.shift();Ke?(0,ee.f)(Q,Ke,()=>te(bt)):te(bt)}gt()}catch(bt){Q.error(bt)}}))};return Ve.subscribe((0,W.x)(Q,Pe,()=>{hn=!0,gt()})),()=>{null==dt||dt()}}(je,at,Ve,qe)))}},5363:(Xn,Vt,A)=>{"use strict";A.d(Vt,{Q:()=>ee});var d=A(9672),_=A(4482),e=A(5403);function ee(W,xe=0){return(0,_.e)((pe,ze)=>{pe.subscribe((0,e.x)(ze,Ve=>(0,d.f)(ze,W,()=>ze.next(Ve),xe),()=>(0,d.f)(ze,W,()=>ze.complete(),xe),Ve=>(0,d.f)(ze,W,()=>ze.error(Ve),xe)))})}},5026:(Xn,Vt,A)=>{"use strict";A.d(Vt,{R:()=>ee});var d=A(4482),_=A(5403);function e(W,xe,pe,ze,Ve){return(Q,qe)=>{let je=pe,at=xe,ke=0;Q.subscribe((0,_.x)(qe,Ke=>{const dt=ke++;at=je?W(at,Ke,dt):(je=!0,Ke),ze&&qe.next(at)},Ve&&(()=>{je&&qe.next(at),qe.complete()})))}}function ee(W,xe){return(0,d.e)(e(W,xe,arguments.length>=2,!0))}},3099:(Xn,Vt,A)=>{"use strict";A.d(Vt,{B:()=>xe});var d=A(8996),_=A(5698),e=A(7579),ee=A(930),W=A(4482);function xe(ze={}){const{connector:Ve=(()=>new e.x),resetOnError:Q=!0,resetOnComplete:qe=!0,resetOnRefCountZero:je=!0}=ze;return at=>{let ke=null,Ke=null,dt=null,it=0,Dt=!1,Tt=!1;const hn=()=>{null==Ke||Ke.unsubscribe(),Ke=null},gt=()=>{hn(),ke=dt=null,Dt=Tt=!1},Pe=()=>{const te=ke;gt(),null==te||te.unsubscribe()};return(0,W.e)((te,Qe)=>{it++,!Tt&&!Dt&&hn();const Mt=dt=null!=dt?dt:Ve();Qe.add(()=>{it--,0===it&&!Tt&&!Dt&&(Ke=pe(Pe,je))}),Mt.subscribe(Qe),ke||(ke=new ee.Hp({next:bt=>Mt.next(bt),error:bt=>{Tt=!0,hn(),Ke=pe(gt,Q,bt),Mt.error(bt)},complete:()=>{Dt=!0,hn(),Ke=pe(gt,qe),Mt.complete()}}),(0,d.D)(te).subscribe(ke))})(at)}}function pe(ze,Ve,...Q){return!0===Ve?(ze(),null):!1===Ve?null:Ve(...Q).pipe((0,_.q)(1)).subscribe(()=>ze())}},5684:(Xn,Vt,A)=>{"use strict";A.d(Vt,{T:()=>_});var d=A(9300);function _(e){return(0,d.h)((ee,W)=>e<=W)}},8675:(Xn,Vt,A)=>{"use strict";A.d(Vt,{O:()=>ee});var d=A(7272),_=A(3269),e=A(4482);function ee(...W){const xe=(0,_.yG)(W);return(0,e.e)((pe,ze)=>{(xe?(0,d.z)(W,pe,xe):(0,d.z)(W,pe)).subscribe(ze)})}},9468:(Xn,Vt,A)=>{"use strict";A.d(Vt,{R:()=>_});var d=A(4482);function _(e,ee=0){return(0,d.e)((W,xe)=>{xe.add(e.schedule(()=>W.subscribe(xe),ee))})}},3900:(Xn,Vt,A)=>{"use strict";A.d(Vt,{w:()=>ee});var d=A(8421),_=A(4482),e=A(5403);function ee(W,xe){return(0,_.e)((pe,ze)=>{let Ve=null,Q=0,qe=!1;const je=()=>qe&&!Ve&&ze.complete();pe.subscribe((0,e.x)(ze,at=>{null==Ve||Ve.unsubscribe();let ke=0;const Ke=Q++;(0,d.Xf)(W(at,Ke)).subscribe(Ve=(0,e.x)(ze,dt=>ze.next(xe?xe(at,dt,Ke,ke++):dt),()=>{Ve=null,je()}))},()=>{qe=!0,je()}))})}},5698:(Xn,Vt,A)=>{"use strict";A.d(Vt,{q:()=>ee});var d=A(515),_=A(4482),e=A(5403);function ee(W){return W<=0?()=>d.E:(0,_.e)((xe,pe)=>{let ze=0;xe.subscribe((0,e.x)(pe,Ve=>{++ze<=W&&(pe.next(Ve),W<=ze&&pe.complete())}))})}},2722:(Xn,Vt,A)=>{"use strict";A.d(Vt,{R:()=>W});var d=A(4482),_=A(5403),e=A(8421),ee=A(5032);function W(xe){return(0,d.e)((pe,ze)=>{(0,e.Xf)(xe).subscribe((0,_.x)(ze,()=>ze.complete(),ee.Z)),!ze.closed&&pe.subscribe(ze)})}},8505:(Xn,Vt,A)=>{"use strict";A.d(Vt,{b:()=>W});var d=A(576),_=A(4482),e=A(5403),ee=A(4671);function W(xe,pe,ze){const Ve=(0,d.m)(xe)||pe||ze?{next:xe,error:pe,complete:ze}:xe;return Ve?(0,_.e)((Q,qe)=>{var je;null===(je=Ve.subscribe)||void 0===je||je.call(Ve);let at=!0;Q.subscribe((0,e.x)(qe,ke=>{var Ke;null===(Ke=Ve.next)||void 0===Ke||Ke.call(Ve,ke),qe.next(ke)},()=>{var ke;at=!1,null===(ke=Ve.complete)||void 0===ke||ke.call(Ve),qe.complete()},ke=>{var Ke;at=!1,null===(Ke=Ve.error)||void 0===Ke||Ke.call(Ve,ke),qe.error(ke)},()=>{var ke,Ke;at&&(null===(ke=Ve.unsubscribe)||void 0===ke||ke.call(Ve)),null===(Ke=Ve.finalize)||void 0===Ke||Ke.call(Ve)}))}):ee.y}},8068:(Xn,Vt,A)=>{"use strict";A.d(Vt,{T:()=>ee});var d=A(6805),_=A(4482),e=A(5403);function ee(xe=W){return(0,_.e)((pe,ze)=>{let Ve=!1;pe.subscribe((0,e.x)(ze,Q=>{Ve=!0,ze.next(Q)},()=>Ve?ze.complete():ze.error(xe())))})}function W(){return new d.K}},4408:(Xn,Vt,A)=>{"use strict";A.d(Vt,{o:()=>W});var d=A(727);class _ extends d.w0{constructor(pe,ze){super()}schedule(pe,ze=0){return this}}const e={setInterval(xe,pe,...ze){const{delegate:Ve}=e;return(null==Ve?void 0:Ve.setInterval)?Ve.setInterval(xe,pe,...ze):setInterval(xe,pe,...ze)},clearInterval(xe){const{delegate:pe}=e;return((null==pe?void 0:pe.clearInterval)||clearInterval)(xe)},delegate:void 0};var ee=A(8737);class W extends _{constructor(pe,ze){super(pe,ze),this.scheduler=pe,this.work=ze,this.pending=!1}schedule(pe,ze=0){if(this.closed)return this;this.state=pe;const Ve=this.id,Q=this.scheduler;return null!=Ve&&(this.id=this.recycleAsyncId(Q,Ve,ze)),this.pending=!0,this.delay=ze,this.id=this.id||this.requestAsyncId(Q,this.id,ze),this}requestAsyncId(pe,ze,Ve=0){return e.setInterval(pe.flush.bind(pe,this),Ve)}recycleAsyncId(pe,ze,Ve=0){if(null!=Ve&&this.delay===Ve&&!1===this.pending)return ze;e.clearInterval(ze)}execute(pe,ze){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(pe,ze);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,ze){let Q,Ve=!1;try{this.work(pe)}catch(qe){Ve=!0,Q=qe||new Error("Scheduled action threw falsy error")}if(Ve)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:pe,scheduler:ze}=this,{actions:Ve}=ze;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(Ve,this),null!=pe&&(this.id=this.recycleAsyncId(ze,pe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Xn,Vt,A)=>{"use strict";A.d(Vt,{v:()=>e});var d=A(6063);class _{constructor(W,xe=_.now){this.schedulerActionCtor=W,this.now=xe}schedule(W,xe=0,pe){return new this.schedulerActionCtor(this,W).schedule(pe,xe)}}_.now=d.l.now;class e extends _{constructor(W,xe=_.now){super(W,xe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(W){const{actions:xe}=this;if(this._active)return void xe.push(W);let pe;this._active=!0;do{if(pe=W.execute(W.state,W.delay))break}while(W=xe.shift());if(this._active=!1,pe){for(;W=xe.shift();)W.unsubscribe();throw pe}}}},4986:(Xn,Vt,A)=>{"use strict";A.d(Vt,{z:()=>e,P:()=>ee});var d=A(4408);const e=new(A(7565).v)(d.o),ee=e},6063:(Xn,Vt,A)=>{"use strict";A.d(Vt,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(Xn,Vt,A)=>{"use strict";A.d(Vt,{z:()=>d});const d={setTimeout(_,e,...ee){const{delegate:W}=d;return(null==W?void 0:W.setTimeout)?W.setTimeout(_,e,...ee):setTimeout(_,e,...ee)},clearTimeout(_){const{delegate:e}=d;return((null==e?void 0:e.clearTimeout)||clearTimeout)(_)},delegate:void 0}},2202:(Xn,Vt,A)=>{"use strict";A.d(Vt,{h:()=>_});const _=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Xn,Vt,A)=>{"use strict";A.d(Vt,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Xn,Vt,A)=>{"use strict";A.d(Vt,{K:()=>_});const _=(0,A(3888).d)(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Xn,Vt,A)=>{"use strict";A.d(Vt,{jO:()=>ee,yG:()=>W,_6:()=>xe});var d=A(576),_=A(3532);function e(pe){return pe[pe.length-1]}function ee(pe){return(0,d.m)(e(pe))?pe.pop():void 0}function W(pe){return(0,_.K)(e(pe))?pe.pop():void 0}function xe(pe,ze){return"number"==typeof e(pe)?pe.pop():ze}},4742:(Xn,Vt,A)=>{"use strict";A.d(Vt,{D:()=>W});const{isArray:d}=Array,{getPrototypeOf:_,prototype:e,keys:ee}=Object;function W(pe){if(1===pe.length){const ze=pe[0];if(d(ze))return{args:ze,keys:null};if(function xe(pe){return pe&&"object"==typeof pe&&_(pe)===e}(ze)){const Ve=ee(ze);return{args:Ve.map(Q=>ze[Q]),keys:Ve}}}return{args:pe,keys:null}}},8737:(Xn,Vt,A)=>{"use strict";function d(_,e){if(_){const ee=_.indexOf(e);0<=ee&&_.splice(ee,1)}}A.d(Vt,{P:()=>d})},3888:(Xn,Vt,A)=>{"use strict";function d(_){const ee=_(W=>{Error.call(W),W.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}A.d(Vt,{d:()=>d})},1810:(Xn,Vt,A)=>{"use strict";function d(_,e){return _.reduce((ee,W,xe)=>(ee[W]=e[xe],ee),{})}A.d(Vt,{n:()=>d})},2806:(Xn,Vt,A)=>{"use strict";A.d(Vt,{x:()=>e,O:()=>ee});var d=A(2416);let _=null;function e(W){if(d.v.useDeprecatedSynchronousErrorHandling){const xe=!_;if(xe&&(_={errorThrown:!1,error:null}),W(),xe){const{errorThrown:pe,error:ze}=_;if(_=null,pe)throw ze}}else W()}function ee(W){d.v.useDeprecatedSynchronousErrorHandling&&_&&(_.errorThrown=!0,_.error=W)}},9672:(Xn,Vt,A)=>{"use strict";function d(_,e,ee,W=0,xe=!1){const pe=e.schedule(function(){ee(),xe?_.add(this.schedule(null,W)):this.unsubscribe()},W);if(_.add(pe),!xe)return pe}A.d(Vt,{f:()=>d})},4671:(Xn,Vt,A)=>{"use strict";function d(_){return _}A.d(Vt,{y:()=>d})},1144:(Xn,Vt,A)=>{"use strict";A.d(Vt,{z:()=>d});const d=_=>_&&"number"==typeof _.length&&"function"!=typeof _},2206:(Xn,Vt,A)=>{"use strict";A.d(Vt,{D:()=>_});var d=A(576);function _(e){return Symbol.asyncIterator&&(0,d.m)(null==e?void 0:e[Symbol.asyncIterator])}},576:(Xn,Vt,A)=>{"use strict";function d(_){return"function"==typeof _}A.d(Vt,{m:()=>d})},3670:(Xn,Vt,A)=>{"use strict";A.d(Vt,{c:()=>e});var d=A(8822),_=A(576);function e(ee){return(0,_.m)(ee[d.L])}},6495:(Xn,Vt,A)=>{"use strict";A.d(Vt,{T:()=>e});var d=A(2202),_=A(576);function e(ee){return(0,_.m)(null==ee?void 0:ee[d.h])}},8239:(Xn,Vt,A)=>{"use strict";A.d(Vt,{t:()=>_});var d=A(576);function _(e){return(0,d.m)(null==e?void 0:e.then)}},3260:(Xn,Vt,A)=>{"use strict";A.d(Vt,{Q:()=>e,L:()=>ee});var d=A(655),_=A(576);function e(W){return(0,d.__asyncGenerator)(this,arguments,function*(){const pe=W.getReader();try{for(;;){const{value:ze,done:Ve}=yield(0,d.__await)(pe.read());if(Ve)return yield(0,d.__await)(void 0);yield yield(0,d.__await)(ze)}}finally{pe.releaseLock()}})}function ee(W){return(0,_.m)(null==W?void 0:W.getReader)}},3532:(Xn,Vt,A)=>{"use strict";A.d(Vt,{K:()=>_});var d=A(576);function _(e){return e&&(0,d.m)(e.schedule)}},4482:(Xn,Vt,A)=>{"use strict";A.d(Vt,{A:()=>_,e:()=>e});var d=A(576);function _(ee){return(0,d.m)(null==ee?void 0:ee.lift)}function e(ee){return W=>{if(_(W))return W.lift(function(xe){try{return ee(xe,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Xn,Vt,A)=>{"use strict";A.d(Vt,{Z:()=>ee});var d=A(4004);const{isArray:_}=Array;function ee(W){return(0,d.U)(xe=>function e(W,xe){return _(xe)?W(...xe):W(xe)}(W,xe))}},5032:(Xn,Vt,A)=>{"use strict";function d(){}A.d(Vt,{Z:()=>d})},7849:(Xn,Vt,A)=>{"use strict";A.d(Vt,{h:()=>e});var d=A(2416),_=A(3410);function e(ee){_.z.setTimeout(()=>{const{onUnhandledError:W}=d.v;if(!W)throw ee;W(ee)})}},4532:(Xn,Vt,A)=>{"use strict";function d(_){return new TypeError(`You provided ${null!==_&&"object"==typeof _?"an invalid object":`'${_}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}A.d(Vt,{z:()=>d})},655:(Xn,Vt,A)=>{"use strict";A.r(Vt),A.d(Vt,{__extends:()=>_,__assign:()=>e,__rest:()=>ee,__decorate:()=>W,__param:()=>xe,__metadata:()=>pe,__awaiter:()=>ze,__generator:()=>Ve,__createBinding:()=>Q,__exportStar:()=>qe,__values:()=>je,__read:()=>at,__spread:()=>ke,__spreadArrays:()=>Ke,__spreadArray:()=>dt,__await:()=>it,__asyncGenerator:()=>Dt,__asyncDelegator:()=>Tt,__asyncValues:()=>hn,__makeTemplateObject:()=>gt,__importStar:()=>te,__importDefault:()=>Qe,__classPrivateFieldGet:()=>Mt,__classPrivateFieldSet:()=>bt});var d=function(tt,Ze){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ee,Ye){Ee.__proto__=Ye}||function(Ee,Ye){for(var Xe in Ye)Object.prototype.hasOwnProperty.call(Ye,Xe)&&(Ee[Xe]=Ye[Xe])})(tt,Ze)};function _(tt,Ze){if("function"!=typeof Ze&&null!==Ze)throw new TypeError("Class extends value "+String(Ze)+" is not a constructor or null");function Ee(){this.constructor=tt}d(tt,Ze),tt.prototype=null===Ze?Object.create(Ze):(Ee.prototype=Ze.prototype,new Ee)}var e=function(){return e=Object.assign||function(Ze){for(var Ee,Ye=1,Xe=arguments.length;Ye<Xe;Ye++)for(var st in Ee=arguments[Ye])Object.prototype.hasOwnProperty.call(Ee,st)&&(Ze[st]=Ee[st]);return Ze},e.apply(this,arguments)};function ee(tt,Ze){var Ee={};for(var Ye in tt)Object.prototype.hasOwnProperty.call(tt,Ye)&&Ze.indexOf(Ye)<0&&(Ee[Ye]=tt[Ye]);if(null!=tt&&"function"==typeof Object.getOwnPropertySymbols){var Xe=0;for(Ye=Object.getOwnPropertySymbols(tt);Xe<Ye.length;Xe++)Ze.indexOf(Ye[Xe])<0&&Object.prototype.propertyIsEnumerable.call(tt,Ye[Xe])&&(Ee[Ye[Xe]]=tt[Ye[Xe]])}return Ee}function W(tt,Ze,Ee,Ye){var sn,Xe=arguments.length,st=Xe<3?Ze:null===Ye?Ye=Object.getOwnPropertyDescriptor(Ze,Ee):Ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)st=Reflect.decorate(tt,Ze,Ee,Ye);else for(var fn=tt.length-1;fn>=0;fn--)(sn=tt[fn])&&(st=(Xe<3?sn(st):Xe>3?sn(Ze,Ee,st):sn(Ze,Ee))||st);return Xe>3&&st&&Object.defineProperty(Ze,Ee,st),st}function xe(tt,Ze){return function(Ee,Ye){Ze(Ee,Ye,tt)}}function pe(tt,Ze){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(tt,Ze)}function ze(tt,Ze,Ee,Ye){return new(Ee||(Ee=Promise))(function(st,sn){function fn(bn){try{mn(Ye.next(bn))}catch(zt){sn(zt)}}function wn(bn){try{mn(Ye.throw(bn))}catch(zt){sn(zt)}}function mn(bn){bn.done?st(bn.value):function Xe(st){return st instanceof Ee?st:new Ee(function(sn){sn(st)})}(bn.value).then(fn,wn)}mn((Ye=Ye.apply(tt,Ze||[])).next())})}function Ve(tt,Ze){var Ye,Xe,st,sn,Ee={label:0,sent:function(){if(1&st[0])throw st[1];return st[1]},trys:[],ops:[]};return sn={next:fn(0),throw:fn(1),return:fn(2)},"function"==typeof Symbol&&(sn[Symbol.iterator]=function(){return this}),sn;function fn(mn){return function(bn){return function wn(mn){if(Ye)throw new TypeError("Generator is already executing.");for(;Ee;)try{if(Ye=1,Xe&&(st=2&mn[0]?Xe.return:mn[0]?Xe.throw||((st=Xe.return)&&st.call(Xe),0):Xe.next)&&!(st=st.call(Xe,mn[1])).done)return st;switch(Xe=0,st&&(mn=[2&mn[0],st.value]),mn[0]){case 0:case 1:st=mn;break;case 4:return Ee.label++,{value:mn[1],done:!1};case 5:Ee.label++,Xe=mn[1],mn=[0];continue;case 7:mn=Ee.ops.pop(),Ee.trys.pop();continue;default:if(!(st=(st=Ee.trys).length>0&&st[st.length-1])&&(6===mn[0]||2===mn[0])){Ee=0;continue}if(3===mn[0]&&(!st||mn[1]>st[0]&&mn[1]<st[3])){Ee.label=mn[1];break}if(6===mn[0]&&Ee.label<st[1]){Ee.label=st[1],st=mn;break}if(st&&Ee.label<st[2]){Ee.label=st[2],Ee.ops.push(mn);break}st[2]&&Ee.ops.pop(),Ee.trys.pop();continue}mn=Ze.call(tt,Ee)}catch(bn){mn=[6,bn],Xe=0}finally{Ye=st=0}if(5&mn[0])throw mn[1];return{value:mn[0]?mn[1]:void 0,done:!0}}([mn,bn])}}}var Q=Object.create?function(tt,Ze,Ee,Ye){void 0===Ye&&(Ye=Ee),Object.defineProperty(tt,Ye,{enumerable:!0,get:function(){return Ze[Ee]}})}:function(tt,Ze,Ee,Ye){void 0===Ye&&(Ye=Ee),tt[Ye]=Ze[Ee]};function qe(tt,Ze){for(var Ee in tt)"default"!==Ee&&!Object.prototype.hasOwnProperty.call(Ze,Ee)&&Q(Ze,tt,Ee)}function je(tt){var Ze="function"==typeof Symbol&&Symbol.iterator,Ee=Ze&&tt[Ze],Ye=0;if(Ee)return Ee.call(tt);if(tt&&"number"==typeof tt.length)return{next:function(){return tt&&Ye>=tt.length&&(tt=void 0),{value:tt&&tt[Ye++],done:!tt}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")}function at(tt,Ze){var Ee="function"==typeof Symbol&&tt[Symbol.iterator];if(!Ee)return tt;var Xe,sn,Ye=Ee.call(tt),st=[];try{for(;(void 0===Ze||Ze-- >0)&&!(Xe=Ye.next()).done;)st.push(Xe.value)}catch(fn){sn={error:fn}}finally{try{Xe&&!Xe.done&&(Ee=Ye.return)&&Ee.call(Ye)}finally{if(sn)throw sn.error}}return st}function ke(){for(var tt=[],Ze=0;Ze<arguments.length;Ze++)tt=tt.concat(at(arguments[Ze]));return tt}function Ke(){for(var tt=0,Ze=0,Ee=arguments.length;Ze<Ee;Ze++)tt+=arguments[Ze].length;var Ye=Array(tt),Xe=0;for(Ze=0;Ze<Ee;Ze++)for(var st=arguments[Ze],sn=0,fn=st.length;sn<fn;sn++,Xe++)Ye[Xe]=st[sn];return Ye}function dt(tt,Ze,Ee){if(Ee||2===arguments.length)for(var st,Ye=0,Xe=Ze.length;Ye<Xe;Ye++)(st||!(Ye in Ze))&&(st||(st=Array.prototype.slice.call(Ze,0,Ye)),st[Ye]=Ze[Ye]);return tt.concat(st||Array.prototype.slice.call(Ze))}function it(tt){return this instanceof it?(this.v=tt,this):new it(tt)}function Dt(tt,Ze,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Ye=Ee.apply(tt,Ze||[]),st=[];return Xe={},sn("next"),sn("throw"),sn("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe;function sn(qt){Ye[qt]&&(Xe[qt]=function(Kt){return new Promise(function(Ht,_n){st.push([qt,Kt,Ht,_n])>1||fn(qt,Kt)})})}function fn(qt,Kt){try{!function wn(qt){qt.value instanceof it?Promise.resolve(qt.value.v).then(mn,bn):zt(st[0][2],qt)}(Ye[qt](Kt))}catch(Ht){zt(st[0][3],Ht)}}function mn(qt){fn("next",qt)}function bn(qt){fn("throw",qt)}function zt(qt,Kt){qt(Kt),st.shift(),st.length&&fn(st[0][0],st[0][1])}}function Tt(tt){var Ze,Ee;return Ze={},Ye("next"),Ye("throw",function(Xe){throw Xe}),Ye("return"),Ze[Symbol.iterator]=function(){return this},Ze;function Ye(Xe,st){Ze[Xe]=tt[Xe]?function(sn){return(Ee=!Ee)?{value:it(tt[Xe](sn)),done:"return"===Xe}:st?st(sn):sn}:st}}function hn(tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,Ze=tt[Symbol.asyncIterator];return Ze?Ze.call(tt):(tt=je(tt),Ee={},Ye("next"),Ye("throw"),Ye("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function Ye(st){Ee[st]=tt[st]&&function(sn){return new Promise(function(fn,wn){!function Xe(st,sn,fn,wn){Promise.resolve(wn).then(function(mn){st({value:mn,done:fn})},sn)}(fn,wn,(sn=tt[st](sn)).done,sn.value)})}}}function gt(tt,Ze){return Object.defineProperty?Object.defineProperty(tt,"raw",{value:Ze}):tt.raw=Ze,tt}var Pe=Object.create?function(tt,Ze){Object.defineProperty(tt,"default",{enumerable:!0,value:Ze})}:function(tt,Ze){tt.default=Ze};function te(tt){if(tt&&tt.__esModule)return tt;var Ze={};if(null!=tt)for(var Ee in tt)"default"!==Ee&&Object.prototype.hasOwnProperty.call(tt,Ee)&&Q(Ze,tt,Ee);return Pe(Ze,tt),Ze}function Qe(tt){return tt&&tt.__esModule?tt:{default:tt}}function Mt(tt,Ze,Ee,Ye){if("a"===Ee&&!Ye)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof Ze?tt!==Ze||!Ye:!Ze.has(tt))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===Ee?Ye:"a"===Ee?Ye.call(tt):Ye?Ye.value:Ze.get(tt)}function bt(tt,Ze,Ee,Ye,Xe){if("m"===Ye)throw new TypeError("Private method is not writable");if("a"===Ye&&!Xe)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof Ze?tt!==Ze||!Xe:!Ze.has(tt))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===Ye?Xe.call(tt,Ee):Xe?Xe.value=Ee:Ze.set(tt,Ee),Ee}},1777:(Xn,Vt,A)=>{"use strict";A.d(Vt,{l3:()=>e,_j:()=>d,LC:()=>_,ZN:()=>Dt,jt:()=>W,pV:()=>at,ru:()=>xe,F4:()=>Q,IO:()=>Ke,vP:()=>pe,SB:()=>Ve,oB:()=>ze,eR:()=>qe,X$:()=>ee,ZE:()=>Tt,k1:()=>hn});class d{}class _{}const e="*";function ee(gt,Pe){return{type:7,name:gt,definitions:Pe,options:{}}}function W(gt,Pe=null){return{type:4,styles:Pe,timings:gt}}function xe(gt,Pe=null){return{type:3,steps:gt,options:Pe}}function pe(gt,Pe=null){return{type:2,steps:gt,options:Pe}}function ze(gt){return{type:6,styles:gt,offset:null}}function Ve(gt,Pe,te){return{type:0,name:gt,styles:Pe,options:te}}function Q(gt){return{type:5,steps:gt}}function qe(gt,Pe,te=null){return{type:1,expr:gt,animation:Pe,options:te}}function at(gt=null){return{type:9,options:gt}}function Ke(gt,Pe,te=null){return{type:11,selector:gt,animation:Pe,options:te}}function it(gt){Promise.resolve(null).then(gt)}class Dt{constructor(Pe=0,te=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Pe+te}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Pe=>Pe()),this._onDoneFns=[])}onStart(Pe){this._onStartFns.push(Pe)}onDone(Pe){this._onDoneFns.push(Pe)}onDestroy(Pe){this._onDestroyFns.push(Pe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){it(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Pe=>Pe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Pe=>Pe()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Pe){this._position=this.totalTime?Pe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Pe){const te="start"==Pe?this._onStartFns:this._onDoneFns;te.forEach(Qe=>Qe()),te.length=0}}class Tt{constructor(Pe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Pe;let te=0,Qe=0,Mt=0;const bt=this.players.length;0==bt?it(()=>this._onFinish()):this.players.forEach(tt=>{tt.onDone(()=>{++te==bt&&this._onFinish()}),tt.onDestroy(()=>{++Qe==bt&&this._onDestroy()}),tt.onStart(()=>{++Mt==bt&&this._onStart()})}),this.totalTime=this.players.reduce((tt,Ze)=>Math.max(tt,Ze.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Pe=>Pe()),this._onDoneFns=[])}init(){this.players.forEach(Pe=>Pe.init())}onStart(Pe){this._onStartFns.push(Pe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Pe=>Pe()),this._onStartFns=[])}onDone(Pe){this._onDoneFns.push(Pe)}onDestroy(Pe){this._onDestroyFns.push(Pe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Pe=>Pe.play())}pause(){this.players.forEach(Pe=>Pe.pause())}restart(){this.players.forEach(Pe=>Pe.restart())}finish(){this._onFinish(),this.players.forEach(Pe=>Pe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Pe=>Pe.destroy()),this._onDestroyFns.forEach(Pe=>Pe()),this._onDestroyFns=[])}reset(){this.players.forEach(Pe=>Pe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Pe){const te=Pe*this.totalTime;this.players.forEach(Qe=>{const Mt=Qe.totalTime?Math.min(1,te/Qe.totalTime):1;Qe.setPosition(Mt)})}getPosition(){const Pe=this.players.reduce((te,Qe)=>null===te||Qe.totalTime>te.totalTime?Qe:te,null);return null!=Pe?Pe.getPosition():0}beforeDestroy(){this.players.forEach(Pe=>{Pe.beforeDestroy&&Pe.beforeDestroy()})}triggerCallback(Pe){const te="start"==Pe?this._onStartFns:this._onDoneFns;te.forEach(Qe=>Qe()),te.length=0}}const hn="!"},5664:(Xn,Vt,A)=>{"use strict";A.d(Vt,{rt:()=>vn,s1:()=>Xe,$s:()=>tt,kH:()=>vi,Em:()=>st,tE:()=>Bi,qV:()=>wt,qm:()=>Ft,ic:()=>fn,Kd:()=>Wn,X6:()=>ni,yG:()=>Yt});var d=A(9808),_=A(5e3),e=A(925),ee=A(7579),W=A(727),xe=A(1135),pe=A(9646),ze=A(1159),Ve=A(8505),Q=A(8372),qe=A(9300),je=A(4004),at=A(5698),ke=A(5684),Ke=A(1884),dt=A(2722),it=A(3191),Dt=A(7144);function Pe(X,ie){return(X.getAttribute(ie)||"").match(/\S+/g)||[]}const Qe="cdk-describedby-message",Mt="cdk-describedby-host";let bt=0,tt=(()=>{class X{constructor(Z,Se){this._platform=Se,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+bt++,this._document=Z}describe(Z,Se,Me){if(!this._canBeDescribed(Z,Se))return;const ut=Ze(Se,Me);"string"!=typeof Se?(Ee(Se),this._messageRegistry.set(ut,{messageElement:Se,referenceCount:0})):this._messageRegistry.has(ut)||this._createMessageElement(Se,Me),this._isElementDescribedByMessage(Z,ut)||this._addMessageReference(Z,ut)}removeDescription(Z,Se,Me){var ut;if(!Se||!this._isElementNode(Z))return;const Be=Ze(Se,Me);if(this._isElementDescribedByMessage(Z,Be)&&this._removeMessageReference(Z,Be),"string"==typeof Se){const Ct=this._messageRegistry.get(Be);Ct&&0===Ct.referenceCount&&this._deleteMessageElement(Be)}0===(null===(ut=this._messagesContainer)||void 0===ut?void 0:ut.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var Z;const Se=this._document.querySelectorAll(`[${Mt}="${this._id}"]`);for(let Me=0;Me<Se.length;Me++)this._removeCdkDescribedByReferenceIds(Se[Me]),Se[Me].removeAttribute(Mt);null===(Z=this._messagesContainer)||void 0===Z||Z.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(Z,Se){const Me=this._document.createElement("div");Ee(Me),Me.textContent=Z,Se&&Me.setAttribute("role",Se),this._createMessagesContainer(),this._messagesContainer.appendChild(Me),this._messageRegistry.set(Ze(Z,Se),{messageElement:Me,referenceCount:0})}_deleteMessageElement(Z){var Se,Me;null===(Me=null===(Se=this._messageRegistry.get(Z))||void 0===Se?void 0:Se.messageElement)||void 0===Me||Me.remove(),this._messageRegistry.delete(Z)}_createMessagesContainer(){if(this._messagesContainer)return;const Z="cdk-describedby-message-container",Se=this._document.querySelectorAll(`.${Z}[platform="server"]`);for(let ut=0;ut<Se.length;ut++)Se[ut].remove();const Me=this._document.createElement("div");Me.style.visibility="hidden",Me.classList.add(Z),Me.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Me.setAttribute("platform","server"),this._document.body.appendChild(Me),this._messagesContainer=Me}_removeCdkDescribedByReferenceIds(Z){const Se=Pe(Z,"aria-describedby").filter(Me=>0!=Me.indexOf(Qe));Z.setAttribute("aria-describedby",Se.join(" "))}_addMessageReference(Z,Se){const Me=this._messageRegistry.get(Se);(function hn(X,ie,Z){const Se=Pe(X,ie);Se.some(Me=>Me.trim()==Z.trim())||(Se.push(Z.trim()),X.setAttribute(ie,Se.join(" ")))})(Z,"aria-describedby",Me.messageElement.id),Z.setAttribute(Mt,this._id),Me.referenceCount++}_removeMessageReference(Z,Se){const Me=this._messageRegistry.get(Se);Me.referenceCount--,function gt(X,ie,Z){const Me=Pe(X,ie).filter(ut=>ut!=Z.trim());Me.length?X.setAttribute(ie,Me.join(" ")):X.removeAttribute(ie)}(Z,"aria-describedby",Me.messageElement.id),Z.removeAttribute(Mt)}_isElementDescribedByMessage(Z,Se){const Me=Pe(Z,"aria-describedby"),ut=this._messageRegistry.get(Se),Be=ut&&ut.messageElement.id;return!!Be&&-1!=Me.indexOf(Be)}_canBeDescribed(Z,Se){if(!this._isElementNode(Z))return!1;if(Se&&"object"==typeof Se)return!0;const Me=null==Se?"":`${Se}`.trim(),ut=Z.getAttribute("aria-label");return!(!Me||ut&&ut.trim()===Me)}_isElementNode(Z){return Z.nodeType===this._document.ELEMENT_NODE}}return X.\u0275fac=function(Z){return new(Z||X)(_.LFG(d.K0),_.LFG(e.t4))},X.\u0275prov=_.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();function Ze(X,ie){return"string"==typeof X?`${ie||""}/${X}`:X}function Ee(X){X.id||(X.id=`${Qe}-${bt++}`)}class Ye{constructor(ie){this._items=ie,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ee.x,this._typeaheadSubscription=W.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=Z=>Z.disabled,this._pressedLetters=[],this.tabOut=new ee.x,this.change=new ee.x,ie instanceof _.n_E&&ie.changes.subscribe(Z=>{if(this._activeItem){const Me=Z.toArray().indexOf(this._activeItem);Me>-1&&Me!==this._activeItemIndex&&(this._activeItemIndex=Me)}})}skipPredicate(ie){return this._skipPredicateFn=ie,this}withWrap(ie=!0){return this._wrap=ie,this}withVerticalOrientation(ie=!0){return this._vertical=ie,this}withHorizontalOrientation(ie){return this._horizontal=ie,this}withAllowedModifierKeys(ie){return this._allowedModifierKeys=ie,this}withTypeAhead(ie=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ve.b)(Z=>this._pressedLetters.push(Z)),(0,Q.b)(ie),(0,qe.h)(()=>this._pressedLetters.length>0),(0,je.U)(()=>this._pressedLetters.join(""))).subscribe(Z=>{const Se=this._getItemsArray();for(let Me=1;Me<Se.length+1;Me++){const ut=(this._activeItemIndex+Me)%Se.length,Be=Se[ut];if(!this._skipPredicateFn(Be)&&0===Be.getLabel().toUpperCase().trim().indexOf(Z)){this.setActiveItem(ut);break}}this._pressedLetters=[]}),this}withHomeAndEnd(ie=!0){return this._homeAndEnd=ie,this}setActiveItem(ie){const Z=this._activeItem;this.updateActiveItem(ie),this._activeItem!==Z&&this.change.next(this._activeItemIndex)}onKeydown(ie){const Z=ie.keyCode,Me=["altKey","ctrlKey","metaKey","shiftKey"].every(ut=>!ie[ut]||this._allowedModifierKeys.indexOf(ut)>-1);switch(Z){case ze.Mf:return void this.tabOut.next();case ze.JH:if(this._vertical&&Me){this.setNextItemActive();break}return;case ze.LH:if(this._vertical&&Me){this.setPreviousItemActive();break}return;case ze.SV:if(this._horizontal&&Me){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case ze.oh:if(this._horizontal&&Me){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case ze.Sd:if(this._homeAndEnd&&Me){this.setFirstItemActive();break}return;case ze.uR:if(this._homeAndEnd&&Me){this.setLastItemActive();break}return;default:return void((Me||(0,ze.Vb)(ie,"shiftKey"))&&(ie.key&&1===ie.key.length?this._letterKeyStream.next(ie.key.toLocaleUpperCase()):(Z>=ze.A&&Z<=ze.Z||Z>=ze.xE&&Z<=ze.aO)&&this._letterKeyStream.next(String.fromCharCode(Z))))}this._pressedLetters=[],ie.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(ie){const Z=this._getItemsArray(),Se="number"==typeof ie?ie:Z.indexOf(ie),Me=Z[Se];this._activeItem=null==Me?null:Me,this._activeItemIndex=Se}_setActiveItemByDelta(ie){this._wrap?this._setActiveInWrapMode(ie):this._setActiveInDefaultMode(ie)}_setActiveInWrapMode(ie){const Z=this._getItemsArray();for(let Se=1;Se<=Z.length;Se++){const Me=(this._activeItemIndex+ie*Se+Z.length)%Z.length;if(!this._skipPredicateFn(Z[Me]))return void this.setActiveItem(Me)}}_setActiveInDefaultMode(ie){this._setActiveItemByIndex(this._activeItemIndex+ie,ie)}_setActiveItemByIndex(ie,Z){const Se=this._getItemsArray();if(Se[ie]){for(;this._skipPredicateFn(Se[ie]);)if(!Se[ie+=Z])return;this.setActiveItem(ie)}}_getItemsArray(){return this._items instanceof _.n_E?this._items.toArray():this._items}}class Xe extends Ye{setActiveItem(ie){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(ie),this.activeItem&&this.activeItem.setActiveStyles()}}class st extends Ye{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(ie){return this._origin=ie,this}setActiveItem(ie){super.setActiveItem(ie),this.activeItem&&this.activeItem.focus(this._origin)}}let fn=(()=>{class X{constructor(Z){this._platform=Z}isDisabled(Z){return Z.hasAttribute("disabled")}isVisible(Z){return function mn(X){return!!(X.offsetWidth||X.offsetHeight||"function"==typeof X.getClientRects&&X.getClientRects().length)}(Z)&&"visible"===getComputedStyle(Z).visibility}isTabbable(Z){if(!this._platform.isBrowser)return!1;const Se=function wn(X){try{return X.frameElement}catch(ie){return null}}(function Pn(X){return X.ownerDocument&&X.ownerDocument.defaultView||window}(Z));if(Se&&(-1===an(Se)||!this.isVisible(Se)))return!1;let Me=Z.nodeName.toLowerCase(),ut=an(Z);return Z.hasAttribute("contenteditable")?-1!==ut:!("iframe"===Me||"object"===Me||this._platform.WEBKIT&&this._platform.IOS&&!function Vn(X){let ie=X.nodeName.toLowerCase(),Z="input"===ie&&X.type;return"text"===Z||"password"===Z||"select"===ie||"textarea"===ie}(Z))&&("audio"===Me?!!Z.hasAttribute("controls")&&-1!==ut:"video"===Me?-1!==ut&&(null!==ut||this._platform.FIREFOX||Z.hasAttribute("controls")):Z.tabIndex>=0)}isFocusable(Z,Se){return function di(X){return!function zt(X){return function Kt(X){return"input"==X.nodeName.toLowerCase()}(X)&&"hidden"==X.type}(X)&&(function bn(X){let ie=X.nodeName.toLowerCase();return"input"===ie||"select"===ie||"button"===ie||"textarea"===ie}(X)||function qt(X){return function Ht(X){return"a"==X.nodeName.toLowerCase()}(X)&&X.hasAttribute("href")}(X)||X.hasAttribute("contenteditable")||_n(X))}(Z)&&!this.isDisabled(Z)&&((null==Se?void 0:Se.ignoreVisibility)||this.isVisible(Z))}}return X.\u0275fac=function(Z){return new(Z||X)(_.LFG(e.t4))},X.\u0275prov=_.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();function _n(X){if(!X.hasAttribute("tabindex")||void 0===X.tabIndex)return!1;let ie=X.getAttribute("tabindex");return!(!ie||isNaN(parseInt(ie,10)))}function an(X){if(!_n(X))return null;const ie=parseInt(X.getAttribute("tabindex")||"",10);return isNaN(ie)?-1:ie}class jn{constructor(ie,Z,Se,Me,ut=!1){this._element=ie,this._checker=Z,this._ngZone=Se,this._document=Me,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,ut||this.attachAnchors()}get enabled(){return this._enabled}set enabled(ie){this._enabled=ie,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ie,this._startAnchor),this._toggleAnchorTabIndex(ie,this._endAnchor))}destroy(){const ie=this._startAnchor,Z=this._endAnchor;ie&&(ie.removeEventListener("focus",this.startAnchorListener),ie.remove()),Z&&(Z.removeEventListener("focus",this.endAnchorListener),Z.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(ie){return new Promise(Z=>{this._executeOnStable(()=>Z(this.focusInitialElement(ie)))})}focusFirstTabbableElementWhenReady(ie){return new Promise(Z=>{this._executeOnStable(()=>Z(this.focusFirstTabbableElement(ie)))})}focusLastTabbableElementWhenReady(ie){return new Promise(Z=>{this._executeOnStable(()=>Z(this.focusLastTabbableElement(ie)))})}_getRegionBoundary(ie){const Z=this._element.querySelectorAll(`[cdk-focus-region-${ie}], [cdkFocusRegion${ie}], [cdk-focus-${ie}]`);return"start"==ie?Z.length?Z[0]:this._getFirstTabbableElement(this._element):Z.length?Z[Z.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(ie){const Z=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Z){if(!this._checker.isFocusable(Z)){const Se=this._getFirstTabbableElement(Z);return null==Se||Se.focus(ie),!!Se}return Z.focus(ie),!0}return this.focusFirstTabbableElement(ie)}focusFirstTabbableElement(ie){const Z=this._getRegionBoundary("start");return Z&&Z.focus(ie),!!Z}focusLastTabbableElement(ie){const Z=this._getRegionBoundary("end");return Z&&Z.focus(ie),!!Z}hasAttached(){return this._hasAttached}_getFirstTabbableElement(ie){if(this._checker.isFocusable(ie)&&this._checker.isTabbable(ie))return ie;const Z=ie.children;for(let Se=0;Se<Z.length;Se++){const Me=Z[Se].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Z[Se]):null;if(Me)return Me}return null}_getLastTabbableElement(ie){if(this._checker.isFocusable(ie)&&this._checker.isTabbable(ie))return ie;const Z=ie.children;for(let Se=Z.length-1;Se>=0;Se--){const Me=Z[Se].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Z[Se]):null;if(Me)return Me}return null}_createAnchor(){const ie=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,ie),ie.classList.add("cdk-visually-hidden"),ie.classList.add("cdk-focus-trap-anchor"),ie.setAttribute("aria-hidden","true"),ie}_toggleAnchorTabIndex(ie,Z){ie?Z.setAttribute("tabindex","0"):Z.removeAttribute("tabindex")}toggleAnchors(ie){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ie,this._startAnchor),this._toggleAnchorTabIndex(ie,this._endAnchor))}_executeOnStable(ie){this._ngZone.isStable?ie():this._ngZone.onStable.pipe((0,at.q)(1)).subscribe(ie)}}let wt=(()=>{class X{constructor(Z,Se,Me){this._checker=Z,this._ngZone=Se,this._document=Me}create(Z,Se=!1){return new jn(Z,this._checker,this._ngZone,this._document,Se)}}return X.\u0275fac=function(Z){return new(Z||X)(_.LFG(fn),_.LFG(_.R0b),_.LFG(d.K0))},X.\u0275prov=_.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();function ni(X){return 0===X.buttons||0===X.offsetX&&0===X.offsetY}function Yt(X){const ie=X.touches&&X.touches[0]||X.changedTouches&&X.changedTouches[0];return!(!ie||-1!==ie.identifier||null!=ie.radiusX&&1!==ie.radiusX||null!=ie.radiusY&&1!==ie.radiusY)}const q=new _.OlP("cdk-input-modality-detector-options"),de={ignoreKeys:[ze.zL,ze.jx,ze.b2,ze.MW,ze.JU]},Ce=(0,e.i$)({passive:!0,capture:!0});let pt=(()=>{class X{constructor(Z,Se,Me,ut){this._platform=Z,this._mostRecentTarget=null,this._modality=new xe.X(null),this._lastTouchMs=0,this._onKeydown=Be=>{var Ct,on;(null===(on=null===(Ct=this._options)||void 0===Ct?void 0:Ct.ignoreKeys)||void 0===on?void 0:on.some(Sn=>Sn===Be.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,e.sA)(Be))},this._onMousedown=Be=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ni(Be)?"keyboard":"mouse"),this._mostRecentTarget=(0,e.sA)(Be))},this._onTouchstart=Be=>{Yt(Be)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,e.sA)(Be))},this._options=Object.assign(Object.assign({},de),ut),this.modalityDetected=this._modality.pipe((0,ke.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Ke.x)()),Z.isBrowser&&Se.runOutsideAngular(()=>{Me.addEventListener("keydown",this._onKeydown,Ce),Me.addEventListener("mousedown",this._onMousedown,Ce),Me.addEventListener("touchstart",this._onTouchstart,Ce)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ce),document.removeEventListener("mousedown",this._onMousedown,Ce),document.removeEventListener("touchstart",this._onTouchstart,Ce))}}return X.\u0275fac=function(Z){return new(Z||X)(_.LFG(e.t4),_.LFG(_.R0b),_.LFG(d.K0),_.LFG(q,8))},X.\u0275prov=_.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();const Rt=new _.OlP("liveAnnouncerElement",{providedIn:"root",factory:function nn(){return null}}),On=new _.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Wn=(()=>{class X{constructor(Z,Se,Me,ut){this._ngZone=Se,this._defaultOptions=ut,this._document=Me,this._liveElement=Z||this._createLiveElement()}announce(Z,...Se){const Me=this._defaultOptions;let ut,Be;return 1===Se.length&&"number"==typeof Se[0]?Be=Se[0]:[ut,Be]=Se,this.clear(),clearTimeout(this._previousTimeout),ut||(ut=Me&&Me.politeness?Me.politeness:"polite"),null==Be&&Me&&(Be=Me.duration),this._liveElement.setAttribute("aria-live",ut),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Ct=>this._currentResolve=Ct)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Z,"number"==typeof Be&&(this._previousTimeout=setTimeout(()=>this.clear(),Be)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var Z,Se;clearTimeout(this._previousTimeout),null===(Z=this._liveElement)||void 0===Z||Z.remove(),this._liveElement=null,null===(Se=this._currentResolve)||void 0===Se||Se.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Z="cdk-live-announcer-element",Se=this._document.getElementsByClassName(Z),Me=this._document.createElement("div");for(let ut=0;ut<Se.length;ut++)Se[ut].remove();return Me.classList.add(Z),Me.classList.add("cdk-visually-hidden"),Me.setAttribute("aria-atomic","true"),Me.setAttribute("aria-live","polite"),this._document.body.appendChild(Me),Me}}return X.\u0275fac=function(Z){return new(Z||X)(_.LFG(Rt,8),_.LFG(_.R0b),_.LFG(d.K0),_.LFG(On,8))},X.\u0275prov=_.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();const ei=new _.OlP("cdk-focus-monitor-default-options"),hi=(0,e.i$)({passive:!0,capture:!0});let Bi=(()=>{class X{constructor(Z,Se,Me,ut,Be){this._ngZone=Z,this._platform=Se,this._inputModalityDetector=Me,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ee.x,this._rootNodeFocusAndBlurListener=Ct=>{const on=(0,e.sA)(Ct),Sn="focus"===Ct.type?this._onFocus:this._onBlur;for(let bi=on;bi;bi=bi.parentElement)Sn.call(this,Ct,bi)},this._document=ut,this._detectionMode=(null==Be?void 0:Be.detectionMode)||0}monitor(Z,Se=!1){const Me=(0,it.fI)(Z);if(!this._platform.isBrowser||1!==Me.nodeType)return(0,pe.of)(null);const ut=(0,e.kV)(Me)||this._getDocument(),Be=this._elementInfo.get(Me);if(Be)return Se&&(Be.checkChildren=!0),Be.subject;const Ct={checkChildren:Se,subject:new ee.x,rootNode:ut};return this._elementInfo.set(Me,Ct),this._registerGlobalListeners(Ct),Ct.subject}stopMonitoring(Z){const Se=(0,it.fI)(Z),Me=this._elementInfo.get(Se);Me&&(Me.subject.complete(),this._setClasses(Se),this._elementInfo.delete(Se),this._removeGlobalListeners(Me))}focusVia(Z,Se,Me){const ut=(0,it.fI)(Z);ut===this._getDocument().activeElement?this._getClosestElementsInfo(ut).forEach(([Ct,on])=>this._originChanged(Ct,Se,on)):(this._setOrigin(Se),"function"==typeof ut.focus&&ut.focus(Me))}ngOnDestroy(){this._elementInfo.forEach((Z,Se)=>this.stopMonitoring(Se))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Z){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Z)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(Z){return 1===this._detectionMode||!!(null==Z?void 0:Z.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(Z,Se){Z.classList.toggle("cdk-focused",!!Se),Z.classList.toggle("cdk-touch-focused","touch"===Se),Z.classList.toggle("cdk-keyboard-focused","keyboard"===Se),Z.classList.toggle("cdk-mouse-focused","mouse"===Se),Z.classList.toggle("cdk-program-focused","program"===Se)}_setOrigin(Z,Se=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Z,this._originFromTouchInteraction="touch"===Z&&Se,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Z,Se){const Me=this._elementInfo.get(Se),ut=(0,e.sA)(Z);!Me||!Me.checkChildren&&Se!==ut||this._originChanged(Se,this._getFocusOrigin(ut),Me)}_onBlur(Z,Se){const Me=this._elementInfo.get(Se);!Me||Me.checkChildren&&Z.relatedTarget instanceof Node&&Se.contains(Z.relatedTarget)||(this._setClasses(Se),this._emitOrigin(Me.subject,null))}_emitOrigin(Z,Se){this._ngZone.run(()=>Z.next(Se))}_registerGlobalListeners(Z){if(!this._platform.isBrowser)return;const Se=Z.rootNode,Me=this._rootNodeFocusListenerCount.get(Se)||0;Me||this._ngZone.runOutsideAngular(()=>{Se.addEventListener("focus",this._rootNodeFocusAndBlurListener,hi),Se.addEventListener("blur",this._rootNodeFocusAndBlurListener,hi)}),this._rootNodeFocusListenerCount.set(Se,Me+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,dt.R)(this._stopInputModalityDetector)).subscribe(ut=>{this._setOrigin(ut,!0)}))}_removeGlobalListeners(Z){const Se=Z.rootNode;if(this._rootNodeFocusListenerCount.has(Se)){const Me=this._rootNodeFocusListenerCount.get(Se);Me>1?this._rootNodeFocusListenerCount.set(Se,Me-1):(Se.removeEventListener("focus",this._rootNodeFocusAndBlurListener,hi),Se.removeEventListener("blur",this._rootNodeFocusAndBlurListener,hi),this._rootNodeFocusListenerCount.delete(Se))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Z,Se,Me){this._setClasses(Z,Se),this._emitOrigin(Me.subject,Se),this._lastFocusOrigin=Se}_getClosestElementsInfo(Z){const Se=[];return this._elementInfo.forEach((Me,ut)=>{(ut===Z||Me.checkChildren&&ut.contains(Z))&&Se.push([ut,Me])}),Se}}return X.\u0275fac=function(Z){return new(Z||X)(_.LFG(_.R0b),_.LFG(e.t4),_.LFG(pt),_.LFG(d.K0,8),_.LFG(ei,8))},X.\u0275prov=_.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})(),vi=(()=>{class X{constructor(Z,Se){this._elementRef=Z,this._focusMonitor=Se,this.cdkFocusChange=new _.vpe}ngAfterViewInit(){const Z=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Z,1===Z.nodeType&&Z.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Se=>this.cdkFocusChange.emit(Se))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return X.\u0275fac=function(Z){return new(Z||X)(_.Y36(_.SBq),_.Y36(Bi))},X.\u0275dir=_.lG2({type:X,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),X})();const Ei="cdk-high-contrast-black-on-white",vt="cdk-high-contrast-white-on-black",Nt="cdk-high-contrast-active";let Ft=(()=>{class X{constructor(Z,Se){this._platform=Z,this._document=Se}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Z=this._document.createElement("div");Z.style.backgroundColor="rgb(1,2,3)",Z.style.position="absolute",this._document.body.appendChild(Z);const Se=this._document.defaultView||window,Me=Se&&Se.getComputedStyle?Se.getComputedStyle(Z):null,ut=(Me&&Me.backgroundColor||"").replace(/ /g,"");switch(Z.remove(),ut){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Z=this._document.body.classList;Z.remove(Nt),Z.remove(Ei),Z.remove(vt),this._hasCheckedHighContrastMode=!0;const Se=this.getHighContrastMode();1===Se?(Z.add(Nt),Z.add(Ei)):2===Se&&(Z.add(Nt),Z.add(vt))}}}return X.\u0275fac=function(Z){return new(Z||X)(_.LFG(e.t4),_.LFG(d.K0))},X.\u0275prov=_.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})(),vn=(()=>{class X{constructor(Z){Z._applyBodyHighContrastModeCssClasses()}}return X.\u0275fac=function(Z){return new(Z||X)(_.LFG(Ft))},X.\u0275mod=_.oAB({type:X}),X.\u0275inj=_.cJS({imports:[[Dt.Q8]]}),X})()},226:(Xn,Vt,A)=>{"use strict";A.d(Vt,{vT:()=>Ve,Is:()=>pe});var d=A(5e3),_=A(9808);const e=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function ee(){return(0,d.f3M)(_.K0)}}),W=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let pe=(()=>{class Q{constructor(je){if(this.value="ltr",this.change=new d.vpe,je){const ke=je.documentElement?je.documentElement.dir:null;this.value=function xe(Q){const qe=(null==Q?void 0:Q.toLowerCase())||"";return"auto"===qe&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?W.test(navigator.language)?"rtl":"ltr":"rtl"===qe?"rtl":"ltr"}((je.body?je.body.dir:null)||ke||"ltr")}}ngOnDestroy(){this.change.complete()}}return Q.\u0275fac=function(je){return new(je||Q)(d.LFG(e,8))},Q.\u0275prov=d.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})(),Ve=(()=>{class Q{}return Q.\u0275fac=function(je){return new(je||Q)},Q.\u0275mod=d.oAB({type:Q}),Q.\u0275inj=d.cJS({}),Q})()},3191:(Xn,Vt,A)=>{"use strict";A.d(Vt,{t6:()=>ee,Eq:()=>W,Ig:()=>_,HM:()=>xe,fI:()=>pe,su:()=>e});var d=A(5e3);function _(Ve){return null!=Ve&&"false"!=`${Ve}`}function e(Ve,Q=0){return ee(Ve)?Number(Ve):Q}function ee(Ve){return!isNaN(parseFloat(Ve))&&!isNaN(Number(Ve))}function W(Ve){return Array.isArray(Ve)?Ve:[Ve]}function xe(Ve){return null==Ve?"":"string"==typeof Ve?Ve:`${Ve}px`}function pe(Ve){return Ve instanceof d.SBq?Ve.nativeElement:Ve}},449:(Xn,Vt,A)=>{"use strict";A.d(Vt,{o2:()=>e,Ov:()=>ze,A8:()=>Q,yy:()=>xe,eX:()=>pe,k:()=>qe,Z9:()=>ee});var d=A(7579),_=A(5e3);class e{}function ee(je){return je&&"function"==typeof je.connect}class xe{applyChanges(at,ke,Ke,dt,it){at.forEachOperation((Dt,Tt,hn)=>{let gt,Pe;if(null==Dt.previousIndex){const te=Ke(Dt,Tt,hn);gt=ke.createEmbeddedView(te.templateRef,te.context,te.index),Pe=1}else null==hn?(ke.remove(Tt),Pe=3):(gt=ke.get(Tt),ke.move(gt,hn),Pe=2);it&&it({context:null==gt?void 0:gt.context,operation:Pe,record:Dt})})}detach(){}}class pe{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(at,ke,Ke,dt,it){at.forEachOperation((Dt,Tt,hn)=>{let gt,Pe;null==Dt.previousIndex?(gt=this._insertView(()=>Ke(Dt,Tt,hn),hn,ke,dt(Dt)),Pe=gt?1:0):null==hn?(this._detachAndCacheView(Tt,ke),Pe=3):(gt=this._moveView(Tt,hn,ke,dt(Dt)),Pe=2),it&&it({context:null==gt?void 0:gt.context,operation:Pe,record:Dt})})}detach(){for(const at of this._viewCache)at.destroy();this._viewCache=[]}_insertView(at,ke,Ke,dt){const it=this._insertViewFromCache(ke,Ke);if(it)return void(it.context.$implicit=dt);const Dt=at();return Ke.createEmbeddedView(Dt.templateRef,Dt.context,Dt.index)}_detachAndCacheView(at,ke){const Ke=ke.detach(at);this._maybeCacheView(Ke,ke)}_moveView(at,ke,Ke,dt){const it=Ke.get(at);return Ke.move(it,ke),it.context.$implicit=dt,it}_maybeCacheView(at,ke){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(at);else{const Ke=ke.indexOf(at);-1===Ke?at.destroy():ke.remove(Ke)}}_insertViewFromCache(at,ke){const Ke=this._viewCache.pop();return Ke&&ke.insert(Ke,at),Ke||null}}class ze{constructor(at=!1,ke,Ke=!0){this._multiple=at,this._emitChanges=Ke,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new d.x,ke&&ke.length&&(at?ke.forEach(dt=>this._markSelected(dt)):this._markSelected(ke[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...at){this._verifyValueAssignment(at),at.forEach(ke=>this._markSelected(ke)),this._emitChangeEvent()}deselect(...at){this._verifyValueAssignment(at),at.forEach(ke=>this._unmarkSelected(ke)),this._emitChangeEvent()}toggle(at){this.isSelected(at)?this.deselect(at):this.select(at)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(at){return this._selection.has(at)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(at){this._multiple&&this.selected&&this._selected.sort(at)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(at){this.isSelected(at)||(this._multiple||this._unmarkAll(),this._selection.add(at),this._emitChanges&&this._selectedToEmit.push(at))}_unmarkSelected(at){this.isSelected(at)&&(this._selection.delete(at),this._emitChanges&&this._deselectedToEmit.push(at))}_unmarkAll(){this.isEmpty()||this._selection.forEach(at=>this._unmarkSelected(at))}_verifyValueAssignment(at){}}let Q=(()=>{class je{constructor(){this._listeners=[]}notify(ke,Ke){for(let dt of this._listeners)dt(ke,Ke)}listen(ke){return this._listeners.push(ke),()=>{this._listeners=this._listeners.filter(Ke=>ke!==Ke)}}ngOnDestroy(){this._listeners=[]}}return je.\u0275fac=function(ke){return new(ke||je)},je.\u0275prov=_.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})();const qe=new _.OlP("_ViewRepeater")},1159:(Xn,Vt,A)=>{"use strict";A.d(Vt,{A:()=>qt,zL:()=>ze,jx:()=>pe,JH:()=>hn,uR:()=>Ke,K5:()=>W,hY:()=>qe,Sd:()=>dt,oh:()=>it,b2:()=>Hi,MW:()=>Wn,aO:()=>fn,SV:()=>Tt,JU:()=>xe,L_:()=>je,Mf:()=>e,LH:()=>Dt,Z:()=>On,xE:()=>Mt,Vb:()=>qi});const e=9,W=13,xe=16,pe=17,ze=18,qe=27,je=32,Ke=35,dt=36,it=37,Dt=38,Tt=39,hn=40,Mt=48,fn=57,qt=65,On=90,Wn=91,Hi=224;function qi(fr,...Yo){return Yo.length?Yo.some($o=>fr[$o]):fr.altKey||fr.shiftKey||fr.ctrlKey||fr.metaKey}},5113:(Xn,Vt,A)=>{"use strict";A.d(Vt,{Yg:()=>hn,u3:()=>Pe});var d=A(5e3),_=A(3191),e=A(7579),ee=A(9841),W=A(7272),xe=A(8306),pe=A(5698),ze=A(5684),Ve=A(8372),Q=A(4004),qe=A(8675),je=A(2722),at=A(925);const Ke=new Set;let dt,it=(()=>{class te{constructor(Mt){this._platform=Mt,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Tt}matchMedia(Mt){return(this._platform.WEBKIT||this._platform.BLINK)&&function Dt(te){if(!Ke.has(te))try{dt||(dt=document.createElement("style"),dt.setAttribute("type","text/css"),document.head.appendChild(dt)),dt.sheet&&(dt.sheet.insertRule(`@media ${te} {body{ }}`,0),Ke.add(te))}catch(Qe){console.error(Qe)}}(Mt),this._matchMedia(Mt)}}return te.\u0275fac=function(Mt){return new(Mt||te)(d.LFG(at.t4))},te.\u0275prov=d.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})();function Tt(te){return{matches:"all"===te||""===te,media:te,addListener:()=>{},removeListener:()=>{}}}let hn=(()=>{class te{constructor(Mt,bt){this._mediaMatcher=Mt,this._zone=bt,this._queries=new Map,this._destroySubject=new e.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Mt){return gt((0,_.Eq)(Mt)).some(tt=>this._registerQuery(tt).mql.matches)}observe(Mt){const tt=gt((0,_.Eq)(Mt)).map(Ee=>this._registerQuery(Ee).observable);let Ze=(0,ee.a)(tt);return Ze=(0,W.z)(Ze.pipe((0,pe.q)(1)),Ze.pipe((0,ze.T)(1),(0,Ve.b)(0))),Ze.pipe((0,Q.U)(Ee=>{const Ye={matches:!1,breakpoints:{}};return Ee.forEach(({matches:Xe,query:st})=>{Ye.matches=Ye.matches||Xe,Ye.breakpoints[st]=Xe}),Ye}))}_registerQuery(Mt){if(this._queries.has(Mt))return this._queries.get(Mt);const bt=this._mediaMatcher.matchMedia(Mt),Ze={observable:new xe.y(Ee=>{const Ye=Xe=>this._zone.run(()=>Ee.next(Xe));return bt.addListener(Ye),()=>{bt.removeListener(Ye)}}).pipe((0,qe.O)(bt),(0,Q.U)(({matches:Ee})=>({query:Mt,matches:Ee})),(0,je.R)(this._destroySubject)),mql:bt};return this._queries.set(Mt,Ze),Ze}}return te.\u0275fac=function(Mt){return new(Mt||te)(d.LFG(it),d.LFG(d.R0b))},te.\u0275prov=d.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})();function gt(te){return te.map(Qe=>Qe.split(",")).reduce((Qe,Mt)=>Qe.concat(Mt)).map(Qe=>Qe.trim())}const Pe={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7144:(Xn,Vt,A)=>{"use strict";A.d(Vt,{wD:()=>ze,Q8:()=>Ve});var d=A(3191),_=A(5e3),e=A(8306),ee=A(7579),W=A(8372);let xe=(()=>{class Q{create(je){return"undefined"==typeof MutationObserver?null:new MutationObserver(je)}}return Q.\u0275fac=function(je){return new(je||Q)},Q.\u0275prov=_.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})(),pe=(()=>{class Q{constructor(je){this._mutationObserverFactory=je,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((je,at)=>this._cleanupObserver(at))}observe(je){const at=(0,d.fI)(je);return new e.y(ke=>{const dt=this._observeElement(at).subscribe(ke);return()=>{dt.unsubscribe(),this._unobserveElement(at)}})}_observeElement(je){if(this._observedElements.has(je))this._observedElements.get(je).count++;else{const at=new ee.x,ke=this._mutationObserverFactory.create(Ke=>at.next(Ke));ke&&ke.observe(je,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(je,{observer:ke,stream:at,count:1})}return this._observedElements.get(je).stream}_unobserveElement(je){this._observedElements.has(je)&&(this._observedElements.get(je).count--,this._observedElements.get(je).count||this._cleanupObserver(je))}_cleanupObserver(je){if(this._observedElements.has(je)){const{observer:at,stream:ke}=this._observedElements.get(je);at&&at.disconnect(),ke.complete(),this._observedElements.delete(je)}}}return Q.\u0275fac=function(je){return new(je||Q)(_.LFG(xe))},Q.\u0275prov=_.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})(),ze=(()=>{class Q{constructor(je,at,ke){this._contentObserver=je,this._elementRef=at,this._ngZone=ke,this.event=new _.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(je){this._disabled=(0,d.Ig)(je),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(je){this._debounce=(0,d.su)(je),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const je=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?je.pipe((0,W.b)(this.debounce)):je).subscribe(this.event)})}_unsubscribe(){var je;null===(je=this._currentSubscription)||void 0===je||je.unsubscribe()}}return Q.\u0275fac=function(je){return new(je||Q)(_.Y36(pe),_.Y36(_.SBq),_.Y36(_.R0b))},Q.\u0275dir=_.lG2({type:Q,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),Q})(),Ve=(()=>{class Q{}return Q.\u0275fac=function(je){return new(je||Q)},Q.\u0275mod=_.oAB({type:Q}),Q.\u0275inj=_.cJS({providers:[xe]}),Q})()},9776:(Xn,Vt,A)=>{"use strict";A.d(Vt,{pI:()=>$n,xu:()=>Gn,aV:()=>jn,X_:()=>bt,Xj:()=>sn,U8:()=>li});var d=A(8962),_=A(9808),e=A(5e3),ee=A(3191),W=A(925),xe=A(226),pe=A(7429),ze=A(7579),Ve=A(727),Q=A(6451),qe=A(4482),je=A(5403),ke=A(5698),Ke=A(2722),dt=A(1159);const it=(0,W.Mq)();class Dt{constructor(q,de){this._viewportRuler=q,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=de}attach(){}enable(){if(this._canBeEnabled()){const q=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=q.style.left||"",this._previousHTMLStyles.top=q.style.top||"",q.style.left=(0,ee.HM)(-this._previousScrollPosition.left),q.style.top=(0,ee.HM)(-this._previousScrollPosition.top),q.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const q=this._document.documentElement,ye=q.style,Ce=this._document.body.style,pt=ye.scrollBehavior||"",Rt=Ce.scrollBehavior||"";this._isEnabled=!1,ye.left=this._previousHTMLStyles.left,ye.top=this._previousHTMLStyles.top,q.classList.remove("cdk-global-scrollblock"),it&&(ye.scrollBehavior=Ce.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),it&&(ye.scrollBehavior=pt,Ce.scrollBehavior=Rt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const de=this._document.body,ye=this._viewportRuler.getViewportSize();return de.scrollHeight>ye.height||de.scrollWidth>ye.width}}class hn{constructor(q,de,ye,Ce){this._scrollDispatcher=q,this._ngZone=de,this._viewportRuler=ye,this._config=Ce,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(q){this._overlayRef=q}enable(){if(this._scrollSubscription)return;const q=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=q.subscribe(()=>{const de=this._viewportRuler.getViewportScrollPosition().top;Math.abs(de-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=q.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class gt{enable(){}disable(){}attach(){}}function Pe(Yt,q){return q.some(de=>Yt.bottom<de.top||Yt.top>de.bottom||Yt.right<de.left||Yt.left>de.right)}function te(Yt,q){return q.some(de=>Yt.top<de.top||Yt.bottom>de.bottom||Yt.left<de.left||Yt.right>de.right)}class Qe{constructor(q,de,ye,Ce){this._scrollDispatcher=q,this._viewportRuler=de,this._ngZone=ye,this._config=Ce,this._scrollSubscription=null}attach(q){this._overlayRef=q}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const de=this._overlayRef.overlayElement.getBoundingClientRect(),{width:ye,height:Ce}=this._viewportRuler.getViewportSize();Pe(de,[{width:ye,height:Ce,bottom:Ce,right:ye,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Mt=(()=>{class Yt{constructor(de,ye,Ce,pt){this._scrollDispatcher=de,this._viewportRuler=ye,this._ngZone=Ce,this.noop=()=>new gt,this.close=Rt=>new hn(this._scrollDispatcher,this._ngZone,this._viewportRuler,Rt),this.block=()=>new Dt(this._viewportRuler,this._document),this.reposition=Rt=>new Qe(this._scrollDispatcher,this._viewportRuler,this._ngZone,Rt),this._document=pt}}return Yt.\u0275fac=function(de){return new(de||Yt)(e.LFG(d.mF),e.LFG(d.rL),e.LFG(e.R0b),e.LFG(_.K0))},Yt.\u0275prov=e.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt})();class bt{constructor(q){if(this.scrollStrategy=new gt,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,q){const de=Object.keys(q);for(const ye of de)void 0!==q[ye]&&(this[ye]=q[ye])}}}class Ee{constructor(q,de){this.connectionPair=q,this.scrollableViewProperties=de}}class st{constructor(q,de,ye,Ce,pt,Rt,nn,On,Wn){this._portalOutlet=q,this._host=de,this._pane=ye,this._config=Ce,this._ngZone=pt,this._keyboardDispatcher=Rt,this._document=nn,this._location=On,this._outsideClickDispatcher=Wn,this._backdropElement=null,this._backdropClick=new ze.x,this._attachments=new ze.x,this._detachments=new ze.x,this._locationChanges=Ve.w0.EMPTY,this._backdropClickHandler=Yn=>this._backdropClick.next(Yn),this._backdropTransitionendHandler=Yn=>{this._disposeBackdrop(Yn.target)},this._keydownEvents=new ze.x,this._outsidePointerEvents=new ze.x,Ce.scrollStrategy&&(this._scrollStrategy=Ce.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Ce.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(q){let de=this._portalOutlet.attach(q);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,ke.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),de}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const q=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),q}dispose(){var q;const de=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(q=this._host)||void 0===q||q.remove(),this._previousHostParent=this._pane=this._host=null,de&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(q){q!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=q,this.hasAttached()&&(q.attach(this),this.updatePosition()))}updateSize(q){this._config=Object.assign(Object.assign({},this._config),q),this._updateElementSize()}setDirection(q){this._config=Object.assign(Object.assign({},this._config),{direction:q}),this._updateElementDirection()}addPanelClass(q){this._pane&&this._toggleClasses(this._pane,q,!0)}removePanelClass(q){this._pane&&this._toggleClasses(this._pane,q,!1)}getDirection(){const q=this._config.direction;return q?"string"==typeof q?q:q.value:"ltr"}updateScrollStrategy(q){q!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=q,this.hasAttached()&&(q.attach(this),q.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const q=this._pane.style;q.width=(0,ee.HM)(this._config.width),q.height=(0,ee.HM)(this._config.height),q.minWidth=(0,ee.HM)(this._config.minWidth),q.minHeight=(0,ee.HM)(this._config.minHeight),q.maxWidth=(0,ee.HM)(this._config.maxWidth),q.maxHeight=(0,ee.HM)(this._config.maxHeight)}_togglePointerEvents(q){this._pane.style.pointerEvents=q?"":"none"}_attachBackdrop(){const q="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(q)})}):this._backdropElement.classList.add(q)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const q=this._backdropElement;!q||(q.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{q.addEventListener("transitionend",this._backdropTransitionendHandler)}),q.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(q)},500)))}_toggleClasses(q,de,ye){const Ce=(0,ee.Eq)(de||[]).filter(pt=>!!pt);Ce.length&&(ye?q.classList.add(...Ce):q.classList.remove(...Ce))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const q=this._ngZone.onStable.pipe((0,Ke.R)((0,Q.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),q.unsubscribe())})})}_disposeScrollStrategy(){const q=this._scrollStrategy;q&&(q.disable(),q.detach&&q.detach())}_disposeBackdrop(q){q&&(q.removeEventListener("click",this._backdropClickHandler),q.removeEventListener("transitionend",this._backdropTransitionendHandler),q.remove(),this._backdropElement===q&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let sn=(()=>{class Yt{constructor(de,ye){this._platform=ye,this._document=de}ngOnDestroy(){var de;null===(de=this._containerElement)||void 0===de||de.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const de="cdk-overlay-container";if(this._platform.isBrowser||(0,W.Oy)()){const Ce=this._document.querySelectorAll(`.${de}[platform="server"], .${de}[platform="test"]`);for(let pt=0;pt<Ce.length;pt++)Ce[pt].remove()}const ye=this._document.createElement("div");ye.classList.add(de),(0,W.Oy)()?ye.setAttribute("platform","test"):this._platform.isBrowser||ye.setAttribute("platform","server"),this._document.body.appendChild(ye),this._containerElement=ye}}return Yt.\u0275fac=function(de){return new(de||Yt)(e.LFG(_.K0),e.LFG(W.t4))},Yt.\u0275prov=e.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt})();const fn="cdk-overlay-connected-position-bounding-box",wn=/([A-Za-z%]+)$/;class mn{constructor(q,de,ye,Ce,pt){this._viewportRuler=de,this._document=ye,this._platform=Ce,this._overlayContainer=pt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ze.x,this._resizeSubscription=Ve.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(q)}get positions(){return this._preferredPositions}attach(q){this._validatePositions(),q.hostElement.classList.add(fn),this._overlayRef=q,this._boundingBox=q.hostElement,this._pane=q.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const q=this._originRect,de=this._overlayRect,ye=this._viewportRect,Ce=this._containerRect,pt=[];let Rt;for(let nn of this._preferredPositions){let On=this._getOriginPoint(q,Ce,nn),Wn=this._getOverlayPoint(On,de,nn),Yn=this._getOverlayFit(Wn,de,ye,nn);if(Yn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(nn,On);this._canFitWithFlexibleDimensions(Yn,Wn,ye)?pt.push({position:nn,origin:On,overlayRect:de,boundingBoxRect:this._calculateBoundingBoxRect(On,nn)}):(!Rt||Rt.overlayFit.visibleArea<Yn.visibleArea)&&(Rt={overlayFit:Yn,overlayPoint:Wn,originPoint:On,position:nn,overlayRect:de})}if(pt.length){let nn=null,On=-1;for(const Wn of pt){const Yn=Wn.boundingBoxRect.width*Wn.boundingBoxRect.height*(Wn.position.weight||1);Yn>On&&(On=Yn,nn=Wn)}return this._isPushed=!1,void this._applyPosition(nn.position,nn.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Rt.position,Rt.originPoint);this._applyPosition(Rt.position,Rt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&bn(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(fn),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const q=this._lastPosition;if(q){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const de=this._getOriginPoint(this._originRect,this._containerRect,q);this._applyPosition(q,de)}else this.apply()}withScrollableContainers(q){return this._scrollables=q,this}withPositions(q){return this._preferredPositions=q,-1===q.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(q){return this._viewportMargin=q,this}withFlexibleDimensions(q=!0){return this._hasFlexibleDimensions=q,this}withGrowAfterOpen(q=!0){return this._growAfterOpen=q,this}withPush(q=!0){return this._canPush=q,this}withLockedPosition(q=!0){return this._positionLocked=q,this}setOrigin(q){return this._origin=q,this}withDefaultOffsetX(q){return this._offsetX=q,this}withDefaultOffsetY(q){return this._offsetY=q,this}withTransformOriginOn(q){return this._transformOriginSelector=q,this}_getOriginPoint(q,de,ye){let Ce,pt;if("center"==ye.originX)Ce=q.left+q.width/2;else{const Rt=this._isRtl()?q.right:q.left,nn=this._isRtl()?q.left:q.right;Ce="start"==ye.originX?Rt:nn}return de.left<0&&(Ce-=de.left),pt="center"==ye.originY?q.top+q.height/2:"top"==ye.originY?q.top:q.bottom,de.top<0&&(pt-=de.top),{x:Ce,y:pt}}_getOverlayPoint(q,de,ye){let Ce,pt;return Ce="center"==ye.overlayX?-de.width/2:"start"===ye.overlayX?this._isRtl()?-de.width:0:this._isRtl()?0:-de.width,pt="center"==ye.overlayY?-de.height/2:"top"==ye.overlayY?0:-de.height,{x:q.x+Ce,y:q.y+pt}}_getOverlayFit(q,de,ye,Ce){const pt=qt(de);let{x:Rt,y:nn}=q,On=this._getOffset(Ce,"x"),Wn=this._getOffset(Ce,"y");On&&(Rt+=On),Wn&&(nn+=Wn);let hi=0-nn,Bi=nn+pt.height-ye.height,vi=this._subtractOverflows(pt.width,0-Rt,Rt+pt.width-ye.width),Ei=this._subtractOverflows(pt.height,hi,Bi),vt=vi*Ei;return{visibleArea:vt,isCompletelyWithinViewport:pt.width*pt.height===vt,fitsInViewportVertically:Ei===pt.height,fitsInViewportHorizontally:vi==pt.width}}_canFitWithFlexibleDimensions(q,de,ye){if(this._hasFlexibleDimensions){const Ce=ye.bottom-de.y,pt=ye.right-de.x,Rt=zt(this._overlayRef.getConfig().minHeight),nn=zt(this._overlayRef.getConfig().minWidth),Wn=q.fitsInViewportHorizontally||null!=nn&&nn<=pt;return(q.fitsInViewportVertically||null!=Rt&&Rt<=Ce)&&Wn}return!1}_pushOverlayOnScreen(q,de,ye){if(this._previousPushAmount&&this._positionLocked)return{x:q.x+this._previousPushAmount.x,y:q.y+this._previousPushAmount.y};const Ce=qt(de),pt=this._viewportRect,Rt=Math.max(q.x+Ce.width-pt.width,0),nn=Math.max(q.y+Ce.height-pt.height,0),On=Math.max(pt.top-ye.top-q.y,0),Wn=Math.max(pt.left-ye.left-q.x,0);let Yn=0,ei=0;return Yn=Ce.width<=pt.width?Wn||-Rt:q.x<this._viewportMargin?pt.left-ye.left-q.x:0,ei=Ce.height<=pt.height?On||-nn:q.y<this._viewportMargin?pt.top-ye.top-q.y:0,this._previousPushAmount={x:Yn,y:ei},{x:q.x+Yn,y:q.y+ei}}_applyPosition(q,de){if(this._setTransformOrigin(q),this._setOverlayElementStyles(de,q),this._setBoundingBoxStyles(de,q),q.panelClass&&this._addPanelClasses(q.panelClass),this._lastPosition=q,this._positionChanges.observers.length){const ye=this._getScrollVisibility(),Ce=new Ee(q,ye);this._positionChanges.next(Ce)}this._isInitialRender=!1}_setTransformOrigin(q){if(!this._transformOriginSelector)return;const de=this._boundingBox.querySelectorAll(this._transformOriginSelector);let ye,Ce=q.overlayY;ye="center"===q.overlayX?"center":this._isRtl()?"start"===q.overlayX?"right":"left":"start"===q.overlayX?"left":"right";for(let pt=0;pt<de.length;pt++)de[pt].style.transformOrigin=`${ye} ${Ce}`}_calculateBoundingBoxRect(q,de){const ye=this._viewportRect,Ce=this._isRtl();let pt,Rt,nn,Yn,ei,hi;if("top"===de.overlayY)Rt=q.y,pt=ye.height-Rt+this._viewportMargin;else if("bottom"===de.overlayY)nn=ye.height-q.y+2*this._viewportMargin,pt=ye.height-nn+this._viewportMargin;else{const Bi=Math.min(ye.bottom-q.y+ye.top,q.y),vi=this._lastBoundingBoxSize.height;pt=2*Bi,Rt=q.y-Bi,pt>vi&&!this._isInitialRender&&!this._growAfterOpen&&(Rt=q.y-vi/2)}if("end"===de.overlayX&&!Ce||"start"===de.overlayX&&Ce)hi=ye.width-q.x+this._viewportMargin,Yn=q.x-this._viewportMargin;else if("start"===de.overlayX&&!Ce||"end"===de.overlayX&&Ce)ei=q.x,Yn=ye.right-q.x;else{const Bi=Math.min(ye.right-q.x+ye.left,q.x),vi=this._lastBoundingBoxSize.width;Yn=2*Bi,ei=q.x-Bi,Yn>vi&&!this._isInitialRender&&!this._growAfterOpen&&(ei=q.x-vi/2)}return{top:Rt,left:ei,bottom:nn,right:hi,width:Yn,height:pt}}_setBoundingBoxStyles(q,de){const ye=this._calculateBoundingBoxRect(q,de);!this._isInitialRender&&!this._growAfterOpen&&(ye.height=Math.min(ye.height,this._lastBoundingBoxSize.height),ye.width=Math.min(ye.width,this._lastBoundingBoxSize.width));const Ce={};if(this._hasExactPosition())Ce.top=Ce.left="0",Ce.bottom=Ce.right=Ce.maxHeight=Ce.maxWidth="",Ce.width=Ce.height="100%";else{const pt=this._overlayRef.getConfig().maxHeight,Rt=this._overlayRef.getConfig().maxWidth;Ce.height=(0,ee.HM)(ye.height),Ce.top=(0,ee.HM)(ye.top),Ce.bottom=(0,ee.HM)(ye.bottom),Ce.width=(0,ee.HM)(ye.width),Ce.left=(0,ee.HM)(ye.left),Ce.right=(0,ee.HM)(ye.right),Ce.alignItems="center"===de.overlayX?"center":"end"===de.overlayX?"flex-end":"flex-start",Ce.justifyContent="center"===de.overlayY?"center":"bottom"===de.overlayY?"flex-end":"flex-start",pt&&(Ce.maxHeight=(0,ee.HM)(pt)),Rt&&(Ce.maxWidth=(0,ee.HM)(Rt))}this._lastBoundingBoxSize=ye,bn(this._boundingBox.style,Ce)}_resetBoundingBoxStyles(){bn(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){bn(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(q,de){const ye={},Ce=this._hasExactPosition(),pt=this._hasFlexibleDimensions,Rt=this._overlayRef.getConfig();if(Ce){const Yn=this._viewportRuler.getViewportScrollPosition();bn(ye,this._getExactOverlayY(de,q,Yn)),bn(ye,this._getExactOverlayX(de,q,Yn))}else ye.position="static";let nn="",On=this._getOffset(de,"x"),Wn=this._getOffset(de,"y");On&&(nn+=`translateX(${On}px) `),Wn&&(nn+=`translateY(${Wn}px)`),ye.transform=nn.trim(),Rt.maxHeight&&(Ce?ye.maxHeight=(0,ee.HM)(Rt.maxHeight):pt&&(ye.maxHeight="")),Rt.maxWidth&&(Ce?ye.maxWidth=(0,ee.HM)(Rt.maxWidth):pt&&(ye.maxWidth="")),bn(this._pane.style,ye)}_getExactOverlayY(q,de,ye){let Ce={top:"",bottom:""},pt=this._getOverlayPoint(de,this._overlayRect,q);return this._isPushed&&(pt=this._pushOverlayOnScreen(pt,this._overlayRect,ye)),"bottom"===q.overlayY?Ce.bottom=this._document.documentElement.clientHeight-(pt.y+this._overlayRect.height)+"px":Ce.top=(0,ee.HM)(pt.y),Ce}_getExactOverlayX(q,de,ye){let Rt,Ce={left:"",right:""},pt=this._getOverlayPoint(de,this._overlayRect,q);return this._isPushed&&(pt=this._pushOverlayOnScreen(pt,this._overlayRect,ye)),Rt=this._isRtl()?"end"===q.overlayX?"left":"right":"end"===q.overlayX?"right":"left","right"===Rt?Ce.right=this._document.documentElement.clientWidth-(pt.x+this._overlayRect.width)+"px":Ce.left=(0,ee.HM)(pt.x),Ce}_getScrollVisibility(){const q=this._getOriginRect(),de=this._pane.getBoundingClientRect(),ye=this._scrollables.map(Ce=>Ce.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:te(q,ye),isOriginOutsideView:Pe(q,ye),isOverlayClipped:te(de,ye),isOverlayOutsideView:Pe(de,ye)}}_subtractOverflows(q,...de){return de.reduce((ye,Ce)=>ye-Math.max(Ce,0),q)}_getNarrowedViewportRect(){const q=this._document.documentElement.clientWidth,de=this._document.documentElement.clientHeight,ye=this._viewportRuler.getViewportScrollPosition();return{top:ye.top+this._viewportMargin,left:ye.left+this._viewportMargin,right:ye.left+q-this._viewportMargin,bottom:ye.top+de-this._viewportMargin,width:q-2*this._viewportMargin,height:de-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(q,de){return"x"===de?null==q.offsetX?this._offsetX:q.offsetX:null==q.offsetY?this._offsetY:q.offsetY}_validatePositions(){}_addPanelClasses(q){this._pane&&(0,ee.Eq)(q).forEach(de=>{""!==de&&-1===this._appliedPanelClasses.indexOf(de)&&(this._appliedPanelClasses.push(de),this._pane.classList.add(de))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(q=>{this._pane.classList.remove(q)}),this._appliedPanelClasses=[])}_getOriginRect(){const q=this._origin;if(q instanceof e.SBq)return q.nativeElement.getBoundingClientRect();if(q instanceof Element)return q.getBoundingClientRect();const de=q.width||0,ye=q.height||0;return{top:q.y,bottom:q.y+ye,left:q.x,right:q.x+de,height:ye,width:de}}}function bn(Yt,q){for(let de in q)q.hasOwnProperty(de)&&(Yt[de]=q[de]);return Yt}function zt(Yt){if("number"!=typeof Yt&&null!=Yt){const[q,de]=Yt.split(wn);return de&&"px"!==de?null:parseFloat(q)}return Yt||null}function qt(Yt){return{top:Math.floor(Yt.top),right:Math.floor(Yt.right),bottom:Math.floor(Yt.bottom),left:Math.floor(Yt.left),width:Math.floor(Yt.width),height:Math.floor(Yt.height)}}const Kt="cdk-global-overlay-wrapper";class Ht{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(q){const de=q.getConfig();this._overlayRef=q,this._width&&!de.width&&q.updateSize({width:this._width}),this._height&&!de.height&&q.updateSize({height:this._height}),q.hostElement.classList.add(Kt),this._isDisposed=!1}top(q=""){return this._bottomOffset="",this._topOffset=q,this._alignItems="flex-start",this}left(q=""){return this._rightOffset="",this._leftOffset=q,this._justifyContent="flex-start",this}bottom(q=""){return this._topOffset="",this._bottomOffset=q,this._alignItems="flex-end",this}right(q=""){return this._leftOffset="",this._rightOffset=q,this._justifyContent="flex-end",this}width(q=""){return this._overlayRef?this._overlayRef.updateSize({width:q}):this._width=q,this}height(q=""){return this._overlayRef?this._overlayRef.updateSize({height:q}):this._height=q,this}centerHorizontally(q=""){return this.left(q),this._justifyContent="center",this}centerVertically(q=""){return this.top(q),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const q=this._overlayRef.overlayElement.style,de=this._overlayRef.hostElement.style,ye=this._overlayRef.getConfig(),{width:Ce,height:pt,maxWidth:Rt,maxHeight:nn}=ye,On=!("100%"!==Ce&&"100vw"!==Ce||Rt&&"100%"!==Rt&&"100vw"!==Rt),Wn=!("100%"!==pt&&"100vh"!==pt||nn&&"100%"!==nn&&"100vh"!==nn);q.position=this._cssPosition,q.marginLeft=On?"0":this._leftOffset,q.marginTop=Wn?"0":this._topOffset,q.marginBottom=this._bottomOffset,q.marginRight=this._rightOffset,On?de.justifyContent="flex-start":"center"===this._justifyContent?de.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?de.justifyContent="flex-end":"flex-end"===this._justifyContent&&(de.justifyContent="flex-start"):de.justifyContent=this._justifyContent,de.alignItems=Wn?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const q=this._overlayRef.overlayElement.style,de=this._overlayRef.hostElement,ye=de.style;de.classList.remove(Kt),ye.justifyContent=ye.alignItems=q.marginTop=q.marginBottom=q.marginLeft=q.marginRight=q.position="",this._overlayRef=null,this._isDisposed=!0}}let _n=(()=>{class Yt{constructor(de,ye,Ce,pt){this._viewportRuler=de,this._document=ye,this._platform=Ce,this._overlayContainer=pt}global(){return new Ht}flexibleConnectedTo(de){return new mn(de,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return Yt.\u0275fac=function(de){return new(de||Yt)(e.LFG(d.rL),e.LFG(_.K0),e.LFG(W.t4),e.LFG(sn))},Yt.\u0275prov=e.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt})(),an=(()=>{class Yt{constructor(de){this._attachedOverlays=[],this._document=de}ngOnDestroy(){this.detach()}add(de){this.remove(de),this._attachedOverlays.push(de)}remove(de){const ye=this._attachedOverlays.indexOf(de);ye>-1&&this._attachedOverlays.splice(ye,1),0===this._attachedOverlays.length&&this.detach()}}return Yt.\u0275fac=function(de){return new(de||Yt)(e.LFG(_.K0))},Yt.\u0275prov=e.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt})(),Vn=(()=>{class Yt extends an{constructor(de,ye){super(de),this._ngZone=ye,this._keydownListener=Ce=>{const pt=this._attachedOverlays;for(let Rt=pt.length-1;Rt>-1;Rt--)if(pt[Rt]._keydownEvents.observers.length>0){const nn=pt[Rt]._keydownEvents;this._ngZone?this._ngZone.run(()=>nn.next(Ce)):nn.next(Ce);break}}}add(de){super.add(de),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return Yt.\u0275fac=function(de){return new(de||Yt)(e.LFG(_.K0),e.LFG(e.R0b,8))},Yt.\u0275prov=e.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt})(),di=(()=>{class Yt extends an{constructor(de,ye,Ce){super(de),this._platform=ye,this._ngZone=Ce,this._cursorStyleIsSet=!1,this._pointerDownListener=pt=>{this._pointerDownEventTarget=(0,W.sA)(pt)},this._clickListener=pt=>{const Rt=(0,W.sA)(pt),nn="click"===pt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Rt;this._pointerDownEventTarget=null;const On=this._attachedOverlays.slice();for(let Wn=On.length-1;Wn>-1;Wn--){const Yn=On[Wn];if(Yn._outsidePointerEvents.observers.length<1||!Yn.hasAttached())continue;if(Yn.overlayElement.contains(Rt)||Yn.overlayElement.contains(nn))break;const ei=Yn._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ei.next(pt)):ei.next(pt)}}}add(de){if(super.add(de),!this._isAttached){const ye=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(ye)):this._addEventListeners(ye),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=ye.style.cursor,ye.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const de=this._document.body;de.removeEventListener("pointerdown",this._pointerDownListener,!0),de.removeEventListener("click",this._clickListener,!0),de.removeEventListener("auxclick",this._clickListener,!0),de.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(de.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(de){de.addEventListener("pointerdown",this._pointerDownListener,!0),de.addEventListener("click",this._clickListener,!0),de.addEventListener("auxclick",this._clickListener,!0),de.addEventListener("contextmenu",this._clickListener,!0)}}return Yt.\u0275fac=function(de){return new(de||Yt)(e.LFG(_.K0),e.LFG(W.t4),e.LFG(e.R0b,8))},Yt.\u0275prov=e.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt})(),Pn=0,jn=(()=>{class Yt{constructor(de,ye,Ce,pt,Rt,nn,On,Wn,Yn,ei,hi){this.scrollStrategies=de,this._overlayContainer=ye,this._componentFactoryResolver=Ce,this._positionBuilder=pt,this._keyboardDispatcher=Rt,this._injector=nn,this._ngZone=On,this._document=Wn,this._directionality=Yn,this._location=ei,this._outsideClickDispatcher=hi}create(de){const ye=this._createHostElement(),Ce=this._createPaneElement(ye),pt=this._createPortalOutlet(Ce),Rt=new bt(de);return Rt.direction=Rt.direction||this._directionality.value,new st(pt,ye,Ce,Rt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(de){const ye=this._document.createElement("div");return ye.id="cdk-overlay-"+Pn++,ye.classList.add("cdk-overlay-pane"),de.appendChild(ye),ye}_createHostElement(){const de=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(de),de}_createPortalOutlet(de){return this._appRef||(this._appRef=this._injector.get(e.z2F)),new pe.u0(de,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Yt.\u0275fac=function(de){return new(de||Yt)(e.LFG(Mt),e.LFG(sn),e.LFG(e._Vd),e.LFG(_n),e.LFG(Vn),e.LFG(e.zs3),e.LFG(e.R0b),e.LFG(_.K0),e.LFG(xe.Is),e.LFG(_.Ye),e.LFG(di))},Yt.\u0275prov=e.Yz7({token:Yt,factory:Yt.\u0275fac}),Yt})();const wt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],cn=new e.OlP("cdk-connected-overlay-scroll-strategy");let Gn=(()=>{class Yt{constructor(de){this.elementRef=de}}return Yt.\u0275fac=function(de){return new(de||Yt)(e.Y36(e.SBq))},Yt.\u0275dir=e.lG2({type:Yt,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),Yt})(),$n=(()=>{class Yt{constructor(de,ye,Ce,pt,Rt){this._overlay=de,this._dir=Rt,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ve.w0.EMPTY,this._attachSubscription=Ve.w0.EMPTY,this._detachSubscription=Ve.w0.EMPTY,this._positionSubscription=Ve.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new e.vpe,this.positionChange=new e.vpe,this.attach=new e.vpe,this.detach=new e.vpe,this.overlayKeydown=new e.vpe,this.overlayOutsideClick=new e.vpe,this._templatePortal=new pe.UE(ye,Ce),this._scrollStrategyFactory=pt,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(de){this._offsetX=de,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(de){this._offsetY=de,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(de){this._hasBackdrop=(0,ee.Ig)(de)}get lockPosition(){return this._lockPosition}set lockPosition(de){this._lockPosition=(0,ee.Ig)(de)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(de){this._flexibleDimensions=(0,ee.Ig)(de)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(de){this._growAfterOpen=(0,ee.Ig)(de)}get push(){return this._push}set push(de){this._push=(0,ee.Ig)(de)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(de){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),de.origin&&this.open&&this._position.apply()),de.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=wt);const de=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=de.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=de.detachments().subscribe(()=>this.detach.emit()),de.keydownEvents().subscribe(ye=>{this.overlayKeydown.next(ye),ye.keyCode===dt.hY&&!this.disableClose&&!(0,dt.Vb)(ye)&&(ye.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(ye=>{this.overlayOutsideClick.next(ye)})}_buildConfig(){const de=this._position=this.positionStrategy||this._createPositionStrategy(),ye=new bt({direction:this._dir,positionStrategy:de,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(ye.width=this.width),(this.height||0===this.height)&&(ye.height=this.height),(this.minWidth||0===this.minWidth)&&(ye.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(ye.minHeight=this.minHeight),this.backdropClass&&(ye.backdropClass=this.backdropClass),this.panelClass&&(ye.panelClass=this.panelClass),ye}_updatePositionStrategy(de){const ye=this.positions.map(Ce=>({originX:Ce.originX,originY:Ce.originY,overlayX:Ce.overlayX,overlayY:Ce.overlayY,offsetX:Ce.offsetX||this.offsetX,offsetY:Ce.offsetY||this.offsetY,panelClass:Ce.panelClass||void 0}));return de.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(ye).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const de=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(de),de}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Gn?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(de=>{this.backdropClick.emit(de)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function at(Yt,q=!1){return(0,qe.e)((de,ye)=>{let Ce=0;de.subscribe((0,je.x)(ye,pt=>{const Rt=Yt(pt,Ce++);(Rt||q)&&ye.next(pt),!Rt&&ye.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(de=>{this.positionChange.emit(de),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return Yt.\u0275fac=function(de){return new(de||Yt)(e.Y36(jn),e.Y36(e.Rgc),e.Y36(e.s_b),e.Y36(cn),e.Y36(xe.Is,8))},Yt.\u0275dir=e.lG2({type:Yt,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[e.TTD]}),Yt})();const Qn={provide:cn,deps:[jn],useFactory:function Vi(Yt){return()=>Yt.scrollStrategies.reposition()}};let li=(()=>{class Yt{}return Yt.\u0275fac=function(de){return new(de||Yt)},Yt.\u0275mod=e.oAB({type:Yt}),Yt.\u0275inj=e.cJS({providers:[jn,Qn],imports:[[xe.vT,pe.eL,d.Cl],d.Cl]}),Yt})()},925:(Xn,Vt,A)=>{"use strict";A.d(Vt,{t4:()=>ee,sA:()=>hn,ht:()=>Tt,kV:()=>Dt,Oy:()=>gt,_i:()=>Ke,qK:()=>ze,i$:()=>qe,Mq:()=>ke});var d=A(5e3),_=A(9808);let e;try{e="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Pe){e=!1}let xe,ee=(()=>{class Pe{constructor(Qe){this._platformId=Qe,this.isBrowser=this._platformId?(0,_.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!e)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Pe.\u0275fac=function(Qe){return new(Qe||Pe)(d.LFG(d.Lbi))},Pe.\u0275prov=d.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})();const pe=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ze(){if(xe)return xe;if("object"!=typeof document||!document)return xe=new Set(pe),xe;let Pe=document.createElement("input");return xe=new Set(pe.filter(te=>(Pe.setAttribute("type",te),Pe.type===te))),xe}let Ve,je,at,dt;function qe(Pe){return function Q(){if(null==Ve&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ve=!0}))}finally{Ve=Ve||!1}return Ve}()?Pe:!!Pe.capture}function ke(){if(null==at){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return at=!1,at;if("scrollBehavior"in document.documentElement.style)at=!0;else{const Pe=Element.prototype.scrollTo;at=!!Pe&&!/\{\s*\[native code\]\s*\}/.test(Pe.toString())}}return at}function Ke(){if("object"!=typeof document||!document)return 0;if(null==je){const Pe=document.createElement("div"),te=Pe.style;Pe.dir="rtl",te.width="1px",te.overflow="auto",te.visibility="hidden",te.pointerEvents="none",te.position="absolute";const Qe=document.createElement("div"),Mt=Qe.style;Mt.width="2px",Mt.height="1px",Pe.appendChild(Qe),document.body.appendChild(Pe),je=0,0===Pe.scrollLeft&&(Pe.scrollLeft=1,je=0===Pe.scrollLeft?1:2),Pe.remove()}return je}function Dt(Pe){if(function it(){if(null==dt){const Pe="undefined"!=typeof document?document.head:null;dt=!(!Pe||!Pe.createShadowRoot&&!Pe.attachShadow)}return dt}()){const te=Pe.getRootNode?Pe.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&te instanceof ShadowRoot)return te}return null}function Tt(){let Pe="undefined"!=typeof document&&document?document.activeElement:null;for(;Pe&&Pe.shadowRoot;){const te=Pe.shadowRoot.activeElement;if(te===Pe)break;Pe=te}return Pe}function hn(Pe){return Pe.composedPath?Pe.composedPath()[0]:Pe.target}function gt(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},7429:(Xn,Vt,A)=>{"use strict";A.d(Vt,{en:()=>at,Pl:()=>Tt,C5:()=>Q,u0:()=>Ke,eL:()=>gt,UE:()=>qe});var d=A(5e3),_=A(9808);class Ve{attach(Qe){return this._attachedHost=Qe,Qe.attach(this)}detach(){let Qe=this._attachedHost;null!=Qe&&(this._attachedHost=null,Qe.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Qe){this._attachedHost=Qe}}class Q extends Ve{constructor(Qe,Mt,bt,tt){super(),this.component=Qe,this.viewContainerRef=Mt,this.injector=bt,this.componentFactoryResolver=tt}}class qe extends Ve{constructor(Qe,Mt,bt){super(),this.templateRef=Qe,this.viewContainerRef=Mt,this.context=bt}get origin(){return this.templateRef.elementRef}attach(Qe,Mt=this.context){return this.context=Mt,super.attach(Qe)}detach(){return this.context=void 0,super.detach()}}class je extends Ve{constructor(Qe){super(),this.element=Qe instanceof d.SBq?Qe.nativeElement:Qe}}class at{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Qe){return Qe instanceof Q?(this._attachedPortal=Qe,this.attachComponentPortal(Qe)):Qe instanceof qe?(this._attachedPortal=Qe,this.attachTemplatePortal(Qe)):this.attachDomPortal&&Qe instanceof je?(this._attachedPortal=Qe,this.attachDomPortal(Qe)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Qe){this._disposeFn=Qe}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ke extends at{constructor(Qe,Mt,bt,tt,Ze){super(),this.outletElement=Qe,this._componentFactoryResolver=Mt,this._appRef=bt,this._defaultInjector=tt,this.attachDomPortal=Ee=>{const Ye=Ee.element,Xe=this._document.createComment("dom-portal");Ye.parentNode.insertBefore(Xe,Ye),this.outletElement.appendChild(Ye),this._attachedPortal=Ee,super.setDisposeFn(()=>{Xe.parentNode&&Xe.parentNode.replaceChild(Ye,Xe)})},this._document=Ze}attachComponentPortal(Qe){const bt=(Qe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Qe.component);let tt;return Qe.viewContainerRef?(tt=Qe.viewContainerRef.createComponent(bt,Qe.viewContainerRef.length,Qe.injector||Qe.viewContainerRef.injector),this.setDisposeFn(()=>tt.destroy())):(tt=bt.create(Qe.injector||this._defaultInjector||d.zs3.NULL),this._appRef.attachView(tt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(tt.hostView),tt.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(tt)),this._attachedPortal=Qe,tt}attachTemplatePortal(Qe){let Mt=Qe.viewContainerRef,bt=Mt.createEmbeddedView(Qe.templateRef,Qe.context);return bt.rootNodes.forEach(tt=>this.outletElement.appendChild(tt)),bt.detectChanges(),this.setDisposeFn(()=>{let tt=Mt.indexOf(bt);-1!==tt&&Mt.remove(tt)}),this._attachedPortal=Qe,bt}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Qe){return Qe.hostView.rootNodes[0]}}let Tt=(()=>{class te extends at{constructor(Mt,bt,tt){super(),this._componentFactoryResolver=Mt,this._viewContainerRef=bt,this._isInitialized=!1,this.attached=new d.vpe,this.attachDomPortal=Ze=>{const Ee=Ze.element,Ye=this._document.createComment("dom-portal");Ze.setAttachedHost(this),Ee.parentNode.insertBefore(Ye,Ee),this._getRootNode().appendChild(Ee),this._attachedPortal=Ze,super.setDisposeFn(()=>{Ye.parentNode&&Ye.parentNode.replaceChild(Ee,Ye)})},this._document=tt}get portal(){return this._attachedPortal}set portal(Mt){this.hasAttached()&&!Mt&&!this._isInitialized||(this.hasAttached()&&super.detach(),Mt&&super.attach(Mt),this._attachedPortal=Mt||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(Mt){Mt.setAttachedHost(this);const bt=null!=Mt.viewContainerRef?Mt.viewContainerRef:this._viewContainerRef,Ze=(Mt.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Mt.component),Ee=bt.createComponent(Ze,bt.length,Mt.injector||bt.injector);return bt!==this._viewContainerRef&&this._getRootNode().appendChild(Ee.hostView.rootNodes[0]),super.setDisposeFn(()=>Ee.destroy()),this._attachedPortal=Mt,this._attachedRef=Ee,this.attached.emit(Ee),Ee}attachTemplatePortal(Mt){Mt.setAttachedHost(this);const bt=this._viewContainerRef.createEmbeddedView(Mt.templateRef,Mt.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Mt,this._attachedRef=bt,this.attached.emit(bt),bt}_getRootNode(){const Mt=this._viewContainerRef.element.nativeElement;return Mt.nodeType===Mt.ELEMENT_NODE?Mt:Mt.parentNode}}return te.\u0275fac=function(Mt){return new(Mt||te)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36(_.K0))},te.\u0275dir=d.lG2({type:te,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[d.qOj]}),te})(),gt=(()=>{class te{}return te.\u0275fac=function(Mt){return new(Mt||te)},te.\u0275mod=d.oAB({type:te}),te.\u0275inj=d.cJS({}),te})()},8962:(Xn,Vt,A)=>{"use strict";A.d(Vt,{PQ:()=>wt,ZD:()=>Yt,mF:()=>jn,Cl:()=>q,rL:()=>Gn});var d=A(3191),_=A(5e3),e=A(4408),ee=A(727);const W={schedule(de){let ye=requestAnimationFrame,Ce=cancelAnimationFrame;const{delegate:pt}=W;pt&&(ye=pt.requestAnimationFrame,Ce=pt.cancelAnimationFrame);const Rt=ye(nn=>{Ce=void 0,de(nn)});return new ee.w0(()=>null==Ce?void 0:Ce(Rt))},requestAnimationFrame(...de){const{delegate:ye}=W;return((null==ye?void 0:ye.requestAnimationFrame)||requestAnimationFrame)(...de)},cancelAnimationFrame(...de){const{delegate:ye}=W;return((null==ye?void 0:ye.cancelAnimationFrame)||cancelAnimationFrame)(...de)},delegate:void 0};var pe=A(7565);new class ze extends pe.v{flush(ye){this._active=!0;const Ce=this._scheduled;this._scheduled=void 0;const{actions:pt}=this;let Rt;ye=ye||pt.shift();do{if(Rt=ye.execute(ye.state,ye.delay))break}while((ye=pt[0])&&ye.id===Ce&&pt.shift());if(this._active=!1,Rt){for(;(ye=pt[0])&&ye.id===Ce&&pt.shift();)ye.unsubscribe();throw Rt}}}(class xe extends e.o{constructor(ye,Ce){super(ye,Ce),this.scheduler=ye,this.work=Ce}requestAsyncId(ye,Ce,pt=0){return null!==pt&&pt>0?super.requestAsyncId(ye,Ce,pt):(ye.actions.push(this),ye._scheduled||(ye._scheduled=W.requestAnimationFrame(()=>ye.flush(void 0))))}recycleAsyncId(ye,Ce,pt=0){if(null!=pt&&pt>0||null==pt&&this.delay>0)return super.recycleAsyncId(ye,Ce,pt);ye.actions.some(Rt=>Rt.id===Ce)||(W.cancelAnimationFrame(Ce),ye._scheduled=void 0)}});let je,qe=1;const at={};function ke(de){return de in at&&(delete at[de],!0)}const Ke={setImmediate(de){const ye=qe++;return at[ye]=!0,je||(je=Promise.resolve()),je.then(()=>ke(ye)&&de()),ye},clearImmediate(de){ke(de)}},{setImmediate:it,clearImmediate:Dt}=Ke,Tt={setImmediate(...de){const{delegate:ye}=Tt;return((null==ye?void 0:ye.setImmediate)||it)(...de)},clearImmediate(de){const{delegate:ye}=Tt;return((null==ye?void 0:ye.clearImmediate)||Dt)(de)},delegate:void 0};new class gt extends pe.v{flush(ye){this._active=!0;const Ce=this._scheduled;this._scheduled=void 0;const{actions:pt}=this;let Rt;ye=ye||pt.shift();do{if(Rt=ye.execute(ye.state,ye.delay))break}while((ye=pt[0])&&ye.id===Ce&&pt.shift());if(this._active=!1,Rt){for(;(ye=pt[0])&&ye.id===Ce&&pt.shift();)ye.unsubscribe();throw Rt}}}(class hn extends e.o{constructor(ye,Ce){super(ye,Ce),this.scheduler=ye,this.work=Ce}requestAsyncId(ye,Ce,pt=0){return null!==pt&&pt>0?super.requestAsyncId(ye,Ce,pt):(ye.actions.push(this),ye._scheduled||(ye._scheduled=Tt.setImmediate(ye.flush.bind(ye,void 0))))}recycleAsyncId(ye,Ce,pt=0){if(null!=pt&&pt>0||null==pt&&this.delay>0)return super.recycleAsyncId(ye,Ce,pt);ye.actions.some(Rt=>Rt.id===Ce)||(Tt.clearImmediate(Ce),ye._scheduled=void 0)}});var Qe=A(7579),Mt=A(9646),bt=A(8306),tt=A(4968),Ze=A(4986),Ee=A(4482),Ye=A(8421),Xe=A(5403),sn=A(5963);function fn(de,ye=Ze.z){return function st(de){return(0,Ee.e)((ye,Ce)=>{let pt=!1,Rt=null,nn=null,On=!1;const Wn=()=>{if(null==nn||nn.unsubscribe(),nn=null,pt){pt=!1;const ei=Rt;Rt=null,Ce.next(ei)}On&&Ce.complete()},Yn=()=>{nn=null,On&&Ce.complete()};ye.subscribe((0,Xe.x)(Ce,ei=>{pt=!0,Rt=ei,nn||(0,Ye.Xf)(de(ei)).subscribe(nn=(0,Xe.x)(Ce,Wn,Yn))},()=>{On=!0,(!pt||!nn||nn.closed)&&Ce.complete()}))})}(()=>(0,sn.H)(de,ye))}var wn=A(9300),mn=A(2722),bn=A(9808),zt=A(925),qt=A(226);let jn=(()=>{class de{constructor(Ce,pt,Rt){this._ngZone=Ce,this._platform=pt,this._scrolled=new Qe.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Rt}register(Ce){this.scrollContainers.has(Ce)||this.scrollContainers.set(Ce,Ce.elementScrolled().subscribe(()=>this._scrolled.next(Ce)))}deregister(Ce){const pt=this.scrollContainers.get(Ce);pt&&(pt.unsubscribe(),this.scrollContainers.delete(Ce))}scrolled(Ce=20){return this._platform.isBrowser?new bt.y(pt=>{this._globalSubscription||this._addGlobalListener();const Rt=Ce>0?this._scrolled.pipe(fn(Ce)).subscribe(pt):this._scrolled.subscribe(pt);return this._scrolledCount++,()=>{Rt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Mt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ce,pt)=>this.deregister(pt)),this._scrolled.complete()}ancestorScrolled(Ce,pt){const Rt=this.getAncestorScrollContainers(Ce);return this.scrolled(pt).pipe((0,wn.h)(nn=>!nn||Rt.indexOf(nn)>-1))}getAncestorScrollContainers(Ce){const pt=[];return this.scrollContainers.forEach((Rt,nn)=>{this._scrollableContainsElement(nn,Ce)&&pt.push(nn)}),pt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ce,pt){let Rt=(0,d.fI)(pt),nn=Ce.getElementRef().nativeElement;do{if(Rt==nn)return!0}while(Rt=Rt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Ce=this._getWindow();return(0,tt.R)(Ce.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return de.\u0275fac=function(Ce){return new(Ce||de)(_.LFG(_.R0b),_.LFG(zt.t4),_.LFG(bn.K0,8))},de.\u0275prov=_.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})(),wt=(()=>{class de{constructor(Ce,pt,Rt,nn){this.elementRef=Ce,this.scrollDispatcher=pt,this.ngZone=Rt,this.dir=nn,this._destroyed=new Qe.x,this._elementScrolled=new bt.y(On=>this.ngZone.runOutsideAngular(()=>(0,tt.R)(this.elementRef.nativeElement,"scroll").pipe((0,mn.R)(this._destroyed)).subscribe(On)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(Ce){const pt=this.elementRef.nativeElement,Rt=this.dir&&"rtl"==this.dir.value;null==Ce.left&&(Ce.left=Rt?Ce.end:Ce.start),null==Ce.right&&(Ce.right=Rt?Ce.start:Ce.end),null!=Ce.bottom&&(Ce.top=pt.scrollHeight-pt.clientHeight-Ce.bottom),Rt&&0!=(0,zt._i)()?(null!=Ce.left&&(Ce.right=pt.scrollWidth-pt.clientWidth-Ce.left),2==(0,zt._i)()?Ce.left=Ce.right:1==(0,zt._i)()&&(Ce.left=Ce.right?-Ce.right:Ce.right)):null!=Ce.right&&(Ce.left=pt.scrollWidth-pt.clientWidth-Ce.right),this._applyScrollToOptions(Ce)}_applyScrollToOptions(Ce){const pt=this.elementRef.nativeElement;(0,zt.Mq)()?pt.scrollTo(Ce):(null!=Ce.top&&(pt.scrollTop=Ce.top),null!=Ce.left&&(pt.scrollLeft=Ce.left))}measureScrollOffset(Ce){const pt="left",nn=this.elementRef.nativeElement;if("top"==Ce)return nn.scrollTop;if("bottom"==Ce)return nn.scrollHeight-nn.clientHeight-nn.scrollTop;const On=this.dir&&"rtl"==this.dir.value;return"start"==Ce?Ce=On?"right":pt:"end"==Ce&&(Ce=On?pt:"right"),On&&2==(0,zt._i)()?Ce==pt?nn.scrollWidth-nn.clientWidth-nn.scrollLeft:nn.scrollLeft:On&&1==(0,zt._i)()?Ce==pt?nn.scrollLeft+nn.scrollWidth-nn.clientWidth:-nn.scrollLeft:Ce==pt?nn.scrollLeft:nn.scrollWidth-nn.clientWidth-nn.scrollLeft}}return de.\u0275fac=function(Ce){return new(Ce||de)(_.Y36(_.SBq),_.Y36(jn),_.Y36(_.R0b),_.Y36(qt.Is,8))},de.\u0275dir=_.lG2({type:de,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),de})(),Gn=(()=>{class de{constructor(Ce,pt,Rt){this._platform=Ce,this._change=new Qe.x,this._changeListener=nn=>{this._change.next(nn)},this._document=Rt,pt.runOutsideAngular(()=>{if(Ce.isBrowser){const nn=this._getWindow();nn.addEventListener("resize",this._changeListener),nn.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ce=this._getWindow();Ce.removeEventListener("resize",this._changeListener),Ce.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ce={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ce}getViewportRect(){const Ce=this.getViewportScrollPosition(),{width:pt,height:Rt}=this.getViewportSize();return{top:Ce.top,left:Ce.left,bottom:Ce.top+Rt,right:Ce.left+pt,height:Rt,width:pt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ce=this._document,pt=this._getWindow(),Rt=Ce.documentElement,nn=Rt.getBoundingClientRect();return{top:-nn.top||Ce.body.scrollTop||pt.scrollY||Rt.scrollTop||0,left:-nn.left||Ce.body.scrollLeft||pt.scrollX||Rt.scrollLeft||0}}change(Ce=20){return Ce>0?this._change.pipe(fn(Ce)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ce=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ce.innerWidth,height:Ce.innerHeight}:{width:0,height:0}}}return de.\u0275fac=function(Ce){return new(Ce||de)(_.LFG(zt.t4),_.LFG(_.R0b),_.LFG(bn.K0,8))},de.\u0275prov=_.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})(),Yt=(()=>{class de{}return de.\u0275fac=function(Ce){return new(Ce||de)},de.\u0275mod=_.oAB({type:de}),de.\u0275inj=_.cJS({}),de})(),q=(()=>{class de{}return de.\u0275fac=function(Ce){return new(Ce||de)},de.\u0275mod=_.oAB({type:de}),de.\u0275inj=_.cJS({imports:[[qt.vT,Yt],qt.vT,Yt]}),de})()},9808:(Xn,Vt,A)=>{"use strict";A.d(Vt,{mr:()=>Tt,Ov:()=>fo,ez:()=>fi,K0:()=>pe,Do:()=>gt,V_:()=>Q,Ye:()=>Pe,S$:()=>it,mk:()=>hr,sg:()=>_i,O5:()=>qi,PC:()=>wo,RF:()=>sr,n9:()=>vr,ED:()=>Ki,tP:()=>ms,b0:()=>hn,lw:()=>ze,EM:()=>no,JF:()=>pr,NF:()=>Lr,PM:()=>rr,w_:()=>xe,bD:()=>Pi,q:()=>e,Mx:()=>Or,HT:()=>W});var d=A(5e3);let _=null;function e(){return _}function W(le){_||(_=le)}class xe{}const pe=new d.OlP("DocumentToken");let ze=(()=>{class le{historyGo(fe){throw new Error("Not implemented")}}return le.\u0275fac=function(fe){return new(fe||le)},le.\u0275prov=d.Yz7({token:le,factory:function(){return function Ve(){return(0,d.LFG)(qe)}()},providedIn:"platform"}),le})();const Q=new d.OlP("Location Initialized");let qe=(()=>{class le extends ze{constructor(fe){super(),this._doc=fe,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return e().getBaseHref(this._doc)}onPopState(fe){const ot=e().getGlobalEventTarget(this._doc,"window");return ot.addEventListener("popstate",fe,!1),()=>ot.removeEventListener("popstate",fe)}onHashChange(fe){const ot=e().getGlobalEventTarget(this._doc,"window");return ot.addEventListener("hashchange",fe,!1),()=>ot.removeEventListener("hashchange",fe)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(fe){this.location.pathname=fe}pushState(fe,ot,Jt){je()?this._history.pushState(fe,ot,Jt):this.location.hash=Jt}replaceState(fe,ot,Jt){je()?this._history.replaceState(fe,ot,Jt):this.location.hash=Jt}forward(){this._history.forward()}back(){this._history.back()}historyGo(fe=0){this._history.go(fe)}getState(){return this._history.state}}return le.\u0275fac=function(fe){return new(fe||le)(d.LFG(pe))},le.\u0275prov=d.Yz7({token:le,factory:function(){return function at(){return new qe((0,d.LFG)(pe))}()},providedIn:"platform"}),le})();function je(){return!!window.history.pushState}function ke(le,Fe){if(0==le.length)return Fe;if(0==Fe.length)return le;let fe=0;return le.endsWith("/")&&fe++,Fe.startsWith("/")&&fe++,2==fe?le+Fe.substring(1):1==fe?le+Fe:le+"/"+Fe}function Ke(le){const Fe=le.match(/#|\?|$/),fe=Fe&&Fe.index||le.length;return le.slice(0,fe-("/"===le[fe-1]?1:0))+le.slice(fe)}function dt(le){return le&&"?"!==le[0]?"?"+le:le}let it=(()=>{class le{historyGo(fe){throw new Error("Not implemented")}}return le.\u0275fac=function(fe){return new(fe||le)},le.\u0275prov=d.Yz7({token:le,factory:function(){return function Dt(le){const Fe=(0,d.LFG)(pe).location;return new hn((0,d.LFG)(ze),Fe&&Fe.origin||"")}()},providedIn:"root"}),le})();const Tt=new d.OlP("appBaseHref");let hn=(()=>{class le extends it{constructor(fe,ot){if(super(),this._platformLocation=fe,this._removeListenerFns=[],null==ot&&(ot=this._platformLocation.getBaseHrefFromDOM()),null==ot)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ot}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(fe){this._removeListenerFns.push(this._platformLocation.onPopState(fe),this._platformLocation.onHashChange(fe))}getBaseHref(){return this._baseHref}prepareExternalUrl(fe){return ke(this._baseHref,fe)}path(fe=!1){const ot=this._platformLocation.pathname+dt(this._platformLocation.search),Jt=this._platformLocation.hash;return Jt&&fe?`${ot}${Jt}`:ot}pushState(fe,ot,Jt,Tn){const Zn=this.prepareExternalUrl(Jt+dt(Tn));this._platformLocation.pushState(fe,ot,Zn)}replaceState(fe,ot,Jt,Tn){const Zn=this.prepareExternalUrl(Jt+dt(Tn));this._platformLocation.replaceState(fe,ot,Zn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(fe=0){var ot,Jt;null===(Jt=(ot=this._platformLocation).historyGo)||void 0===Jt||Jt.call(ot,fe)}}return le.\u0275fac=function(fe){return new(fe||le)(d.LFG(ze),d.LFG(Tt,8))},le.\u0275prov=d.Yz7({token:le,factory:le.\u0275fac}),le})(),gt=(()=>{class le extends it{constructor(fe,ot){super(),this._platformLocation=fe,this._baseHref="",this._removeListenerFns=[],null!=ot&&(this._baseHref=ot)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(fe){this._removeListenerFns.push(this._platformLocation.onPopState(fe),this._platformLocation.onHashChange(fe))}getBaseHref(){return this._baseHref}path(fe=!1){let ot=this._platformLocation.hash;return null==ot&&(ot="#"),ot.length>0?ot.substring(1):ot}prepareExternalUrl(fe){const ot=ke(this._baseHref,fe);return ot.length>0?"#"+ot:ot}pushState(fe,ot,Jt,Tn){let Zn=this.prepareExternalUrl(Jt+dt(Tn));0==Zn.length&&(Zn=this._platformLocation.pathname),this._platformLocation.pushState(fe,ot,Zn)}replaceState(fe,ot,Jt,Tn){let Zn=this.prepareExternalUrl(Jt+dt(Tn));0==Zn.length&&(Zn=this._platformLocation.pathname),this._platformLocation.replaceState(fe,ot,Zn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(fe=0){var ot,Jt;null===(Jt=(ot=this._platformLocation).historyGo)||void 0===Jt||Jt.call(ot,fe)}}return le.\u0275fac=function(fe){return new(fe||le)(d.LFG(ze),d.LFG(Tt,8))},le.\u0275prov=d.Yz7({token:le,factory:le.\u0275fac}),le})(),Pe=(()=>{class le{constructor(fe,ot){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=fe;const Jt=this._platformStrategy.getBaseHref();this._platformLocation=ot,this._baseHref=Ke(Mt(Jt)),this._platformStrategy.onPopState(Tn=>{this._subject.emit({url:this.path(!0),pop:!0,state:Tn.state,type:Tn.type})})}path(fe=!1){return this.normalize(this._platformStrategy.path(fe))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(fe,ot=""){return this.path()==this.normalize(fe+dt(ot))}normalize(fe){return le.stripTrailingSlash(function Qe(le,Fe){return le&&Fe.startsWith(le)?Fe.substring(le.length):Fe}(this._baseHref,Mt(fe)))}prepareExternalUrl(fe){return fe&&"/"!==fe[0]&&(fe="/"+fe),this._platformStrategy.prepareExternalUrl(fe)}go(fe,ot="",Jt=null){this._platformStrategy.pushState(Jt,"",fe,ot),this._notifyUrlChangeListeners(this.prepareExternalUrl(fe+dt(ot)),Jt)}replaceState(fe,ot="",Jt=null){this._platformStrategy.replaceState(Jt,"",fe,ot),this._notifyUrlChangeListeners(this.prepareExternalUrl(fe+dt(ot)),Jt)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(fe=0){var ot,Jt;null===(Jt=(ot=this._platformStrategy).historyGo)||void 0===Jt||Jt.call(ot,fe)}onUrlChange(fe){this._urlChangeListeners.push(fe),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ot=>{this._notifyUrlChangeListeners(ot.url,ot.state)}))}_notifyUrlChangeListeners(fe="",ot){this._urlChangeListeners.forEach(Jt=>Jt(fe,ot))}subscribe(fe,ot,Jt){return this._subject.subscribe({next:fe,error:ot,complete:Jt})}}return le.normalizeQueryParams=dt,le.joinWithSlash=ke,le.stripTrailingSlash=Ke,le.\u0275fac=function(fe){return new(fe||le)(d.LFG(it),d.LFG(ze))},le.\u0275prov=d.Yz7({token:le,factory:function(){return function te(){return new Pe((0,d.LFG)(it),(0,d.LFG)(ze))}()},providedIn:"root"}),le})();function Mt(le){return le.replace(/\/index.html$/,"")}function Or(le,Fe){Fe=encodeURIComponent(Fe);for(const fe of le.split(";")){const ot=fe.indexOf("="),[Jt,Tn]=-1==ot?[fe,""]:[fe.slice(0,ot),fe.slice(ot+1)];if(Jt.trim()===Fe)return decodeURIComponent(Tn)}return null}let hr=(()=>{class le{constructor(fe,ot,Jt,Tn){this._iterableDiffers=fe,this._keyValueDiffers=ot,this._ngEl=Jt,this._renderer=Tn,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(fe){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof fe?fe.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(fe){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof fe?fe.split(/\s+/):fe,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const fe=this._iterableDiffer.diff(this._rawClass);fe&&this._applyIterableChanges(fe)}else if(this._keyValueDiffer){const fe=this._keyValueDiffer.diff(this._rawClass);fe&&this._applyKeyValueChanges(fe)}}_applyKeyValueChanges(fe){fe.forEachAddedItem(ot=>this._toggleClass(ot.key,ot.currentValue)),fe.forEachChangedItem(ot=>this._toggleClass(ot.key,ot.currentValue)),fe.forEachRemovedItem(ot=>{ot.previousValue&&this._toggleClass(ot.key,!1)})}_applyIterableChanges(fe){fe.forEachAddedItem(ot=>{if("string"!=typeof ot.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(ot.item)}`);this._toggleClass(ot.item,!0)}),fe.forEachRemovedItem(ot=>this._toggleClass(ot.item,!1))}_applyClasses(fe){fe&&(Array.isArray(fe)||fe instanceof Set?fe.forEach(ot=>this._toggleClass(ot,!0)):Object.keys(fe).forEach(ot=>this._toggleClass(ot,!!fe[ot])))}_removeClasses(fe){fe&&(Array.isArray(fe)||fe instanceof Set?fe.forEach(ot=>this._toggleClass(ot,!1)):Object.keys(fe).forEach(ot=>this._toggleClass(ot,!1)))}_toggleClass(fe,ot){(fe=fe.trim())&&fe.split(/\s+/g).forEach(Jt=>{ot?this._renderer.addClass(this._ngEl.nativeElement,Jt):this._renderer.removeClass(this._ngEl.nativeElement,Jt)})}}return le.\u0275fac=function(fe){return new(fe||le)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},le.\u0275dir=d.lG2({type:le,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),le})();class mi{constructor(Fe,fe,ot,Jt){this.$implicit=Fe,this.ngForOf=fe,this.index=ot,this.count=Jt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _i=(()=>{class le{constructor(fe,ot,Jt){this._viewContainer=fe,this._template=ot,this._differs=Jt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(fe){this._ngForOf=fe,this._ngForOfDirty=!0}set ngForTrackBy(fe){this._trackByFn=fe}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(fe){fe&&(this._template=fe)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const fe=this._ngForOf;!this._differ&&fe&&(this._differ=this._differs.find(fe).create(this.ngForTrackBy))}if(this._differ){const fe=this._differ.diff(this._ngForOf);fe&&this._applyChanges(fe)}}_applyChanges(fe){const ot=this._viewContainer;fe.forEachOperation((Jt,Tn,Zn)=>{if(null==Jt.previousIndex)ot.createEmbeddedView(this._template,new mi(Jt.item,this._ngForOf,-1,-1),null===Zn?void 0:Zn);else if(null==Zn)ot.remove(null===Tn?void 0:Tn);else if(null!==Tn){const Si=ot.get(Tn);ot.move(Si,Zn),ji(Si,Jt)}});for(let Jt=0,Tn=ot.length;Jt<Tn;Jt++){const Si=ot.get(Jt).context;Si.index=Jt,Si.count=Tn,Si.ngForOf=this._ngForOf}fe.forEachIdentityChange(Jt=>{ji(ot.get(Jt.currentIndex),Jt)})}static ngTemplateContextGuard(fe,ot){return!0}}return le.\u0275fac=function(fe){return new(fe||le)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},le.\u0275dir=d.lG2({type:le,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),le})();function ji(le,Fe){le.context.$implicit=Fe.item}let qi=(()=>{class le{constructor(fe,ot){this._viewContainer=fe,this._context=new fr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ot}set ngIf(fe){this._context.$implicit=this._context.ngIf=fe,this._updateView()}set ngIfThen(fe){Yo("ngIfThen",fe),this._thenTemplateRef=fe,this._thenViewRef=null,this._updateView()}set ngIfElse(fe){Yo("ngIfElse",fe),this._elseTemplateRef=fe,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(fe,ot){return!0}}return le.\u0275fac=function(fe){return new(fe||le)(d.Y36(d.s_b),d.Y36(d.Rgc))},le.\u0275dir=d.lG2({type:le,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),le})();class fr{constructor(){this.$implicit=null,this.ngIf=null}}function Yo(le,Fe){if(Fe&&!Fe.createEmbeddedView)throw new Error(`${le} must be a TemplateRef, but received '${(0,d.AaK)(Fe)}'.`)}class $o{constructor(Fe,fe){this._viewContainerRef=Fe,this._templateRef=fe,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Fe){Fe&&!this._created?this.create():!Fe&&this._created&&this.destroy()}}let sr=(()=>{class le{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(fe){this._ngSwitch=fe,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(fe){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(fe)}_matchCase(fe){const ot=fe==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ot,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ot}_updateDefaultCases(fe){if(this._defaultViews&&fe!==this._defaultUsed){this._defaultUsed=fe;for(let ot=0;ot<this._defaultViews.length;ot++)this._defaultViews[ot].enforceState(fe)}}}return le.\u0275fac=function(fe){return new(fe||le)},le.\u0275dir=d.lG2({type:le,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),le})(),vr=(()=>{class le{constructor(fe,ot,Jt){this.ngSwitch=Jt,Jt._addCase(),this._view=new $o(fe,ot)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return le.\u0275fac=function(fe){return new(fe||le)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(sr,9))},le.\u0275dir=d.lG2({type:le,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),le})(),Ki=(()=>{class le{constructor(fe,ot,Jt){Jt._addDefault(new $o(fe,ot))}}return le.\u0275fac=function(fe){return new(fe||le)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(sr,9))},le.\u0275dir=d.lG2({type:le,selectors:[["","ngSwitchDefault",""]]}),le})(),wo=(()=>{class le{constructor(fe,ot,Jt){this._ngEl=fe,this._differs=ot,this._renderer=Jt,this._ngStyle=null,this._differ=null}set ngStyle(fe){this._ngStyle=fe,!this._differ&&fe&&(this._differ=this._differs.find(fe).create())}ngDoCheck(){if(this._differ){const fe=this._differ.diff(this._ngStyle);fe&&this._applyChanges(fe)}}_setStyle(fe,ot){const[Jt,Tn]=fe.split(".");null!=(ot=null!=ot&&Tn?`${ot}${Tn}`:ot)?this._renderer.setStyle(this._ngEl.nativeElement,Jt,ot):this._renderer.removeStyle(this._ngEl.nativeElement,Jt)}_applyChanges(fe){fe.forEachRemovedItem(ot=>this._setStyle(ot.key,null)),fe.forEachAddedItem(ot=>this._setStyle(ot.key,ot.currentValue)),fe.forEachChangedItem(ot=>this._setStyle(ot.key,ot.currentValue))}}return le.\u0275fac=function(fe){return new(fe||le)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},le.\u0275dir=d.lG2({type:le,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),le})(),ms=(()=>{class le{constructor(fe){this._viewContainerRef=fe,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(fe){if(fe.ngTemplateOutlet){const ot=this._viewContainerRef;this._viewRef&&ot.remove(ot.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ot.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&fe.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return le.\u0275fac=function(fe){return new(fe||le)(d.Y36(d.s_b))},le.\u0275dir=d.lG2({type:le,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[d.TTD]}),le})();class js{createSubscription(Fe,fe){return Fe.subscribe({next:fe,error:ot=>{throw ot}})}dispose(Fe){Fe.unsubscribe()}onDestroy(Fe){Fe.unsubscribe()}}class Vr{createSubscription(Fe,fe){return Fe.then(fe,ot=>{throw ot})}dispose(Fe){}onDestroy(Fe){}}const Ds=new Vr,Wo=new js;let fo=(()=>{class le{constructor(fe){this._ref=fe,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(fe){return this._obj?fe!==this._obj?(this._dispose(),this.transform(fe)):this._latestValue:(fe&&this._subscribe(fe),this._latestValue)}_subscribe(fe){this._obj=fe,this._strategy=this._selectStrategy(fe),this._subscription=this._strategy.createSubscription(fe,ot=>this._updateLatestValue(fe,ot))}_selectStrategy(fe){if((0,d.QGY)(fe))return Ds;if((0,d.F4k)(fe))return Wo;throw function Jr(le,Fe){return new d.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(fe,ot){fe===this._obj&&(this._latestValue=ot,this._ref.markForCheck())}}return le.\u0275fac=function(fe){return new(fe||le)(d.Y36(d.sBO,16))},le.\u0275pipe=d.Yjl({name:"async",type:le,pure:!1}),le})(),fi=(()=>{class le{}return le.\u0275fac=function(fe){return new(fe||le)},le.\u0275mod=d.oAB({type:le}),le.\u0275inj=d.cJS({}),le})();const Pi="browser";function Lr(le){return le===Pi}function rr(le){return"server"===le}let no=(()=>{class le{}return le.\u0275prov=(0,d.Yz7)({token:le,providedIn:"root",factory:()=>new vo((0,d.LFG)(pe),window)}),le})();class vo{constructor(Fe,fe){this.document=Fe,this.window=fe,this.offset=()=>[0,0]}setOffset(Fe){this.offset=Array.isArray(Fe)?()=>Fe:Fe}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Fe){this.supportsScrolling()&&this.window.scrollTo(Fe[0],Fe[1])}scrollToAnchor(Fe){if(!this.supportsScrolling())return;const fe=function Jo(le,Fe){const fe=le.getElementById(Fe)||le.getElementsByName(Fe)[0];if(fe)return fe;if("function"==typeof le.createTreeWalker&&le.body&&(le.body.createShadowRoot||le.body.attachShadow)){const ot=le.createTreeWalker(le.body,NodeFilter.SHOW_ELEMENT);let Jt=ot.currentNode;for(;Jt;){const Tn=Jt.shadowRoot;if(Tn){const Zn=Tn.getElementById(Fe)||Tn.querySelector(`[name="${Fe}"]`);if(Zn)return Zn}Jt=ot.nextNode()}}return null}(this.document,Fe);fe&&(this.scrollToElement(fe),fe.focus())}setHistoryScrollRestoration(Fe){if(this.supportScrollRestoration()){const fe=this.window.history;fe&&fe.scrollRestoration&&(fe.scrollRestoration=Fe)}}scrollToElement(Fe){const fe=Fe.getBoundingClientRect(),ot=fe.left+this.window.pageXOffset,Jt=fe.top+this.window.pageYOffset,Tn=this.offset();this.window.scrollTo(ot-Tn[0],Jt-Tn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Fe=ao(this.window.history)||ao(Object.getPrototypeOf(this.window.history));return!(!Fe||!Fe.writable&&!Fe.set)}catch(Fe){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Fe){return!1}}}function ao(le){return Object.getOwnPropertyDescriptor(le,"scrollRestoration")}class pr{}},5e3:(Xn,Vt,A)=>{"use strict";A.d(Vt,{deG:()=>na,tb:()=>Py,AFp:()=>Ry,ip1:()=>Iy,CZH:()=>Tm,hGG:()=>GC,z2F:()=>Om,sBO:()=>MC,Sil:()=>aC,_Vd:()=>sg,EJc:()=>oC,SBq:()=>ep,qLn:()=>xr,vpe:()=>jd,tBr:()=>Sa,XFs:()=>Qn,OlP:()=>uo,zs3:()=>qu,ZZ4:()=>Bm,aQg:()=>Um,soG:()=>Mm,YKP:()=>Hv,h0i:()=>af,PXZ:()=>yC,R0b:()=>Sd,FiY:()=>ps,Lbi:()=>Ny,g9A:()=>ky,n_E:()=>lg,Qsj:()=>rw,FYo:()=>Fv,JOm:()=>wa,q3G:()=>Zo,tp0:()=>bl,Rgc:()=>rp,dDg:()=>Uy,q4F:()=>Bv,GfV:()=>Lv,s_b:()=>ug,ifc:()=>nn,eFA:()=>jy,G48:()=>xC,Gpc:()=>qe,f3M:()=>Cu,X6Q:()=>TC,_c5:()=>jC,VLi:()=>mC,c2e:()=>Fy,zSh:()=>zh,wAp:()=>to,vHH:()=>Ke,EiD:()=>$c,mCW:()=>Cl,qzn:()=>Co,JVY:()=>ol,pB0:()=>Yc,eBb:()=>Eu,L6k:()=>Bl,LAX:()=>Tc,cg1:()=>nm,kL8:()=>ov,yhl:()=>sa,dqk:()=>hi,sIi:()=>_h,CqO:()=>f_,QGY:()=>zg,F4k:()=>h_,RDi:()=>ao,AaK:()=>ze,z3N:()=>gs,qOj:()=>ha,TTD:()=>un,_Bn:()=>kv,xp6:()=>lt,uIk:()=>bh,Tol:()=>N_,Gre:()=>q_,ekj:()=>Kg,Suo:()=>ly,Xpm:()=>Me,lG2:()=>Pt,Yz7:()=>Ht,cJS:()=>an,oAB:()=>Sn,Yjl:()=>yt,Y36:()=>Zf,_UZ:()=>jg,GkF:()=>Gg,BQk:()=>Qp,ynx:()=>Kp,qZA:()=>qp,TgZ:()=>Zp,EpF:()=>d_,n5z:()=>Fa,Ikx:()=>em,SDv:()=>Iv,QtT:()=>Rv,pQV:()=>om,LFG:()=>Ko,$8M:()=>fs,$Z:()=>u_,NdJ:()=>Yg,CRH:()=>cy,kcU:()=>Vo,O4$:()=>xo,oxw:()=>m_,ALo:()=>Xv,lcZ:()=>ey,Hsn:()=>v_,F$t:()=>__,Q6J:()=>Vg,s9C:()=>Zg,MGl:()=>Jp,VKq:()=>Yv,WLB:()=>$v,kEZ:()=>Wv,iGM:()=>sy,MAs:()=>Na,CHM:()=>Ha,LSH:()=>ya,kYT:()=>bi,Udp:()=>qg,WFA:()=>$g,d8E:()=>tm,YNc:()=>fa,W1O:()=>fy,_uU:()=>H_,Oqu:()=>Jg,hij:()=>eg,AsE:()=>Xg,Gf:()=>ay});var d=A(7579),_=A(727),e=A(8306),ee=A(6451),W=A(3099);function xe(o){for(let s in o)if(o[s]===xe)return s;throw Error("Could not find renamed property on target object.")}function pe(o,s){for(const u in s)s.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=s[u])}function ze(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ze).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const u=s.indexOf("\n");return-1===u?s:s.substring(0,u)}function Ve(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const Q=xe({__forward_ref__:xe});function qe(o){return o.__forward_ref__=qe,o.toString=function(){return ze(this())},o}function je(o){return at(o)?o():o}function at(o){return"function"==typeof o&&o.hasOwnProperty(Q)&&o.__forward_ref__===qe}class Ke extends Error{constructor(s,u){super(function dt(o,s){return`NG0${Math.abs(o)}${s?": "+s:""}`}(s,u)),this.code=s}}function it(o){return"string"==typeof o?o:null==o?"":String(o)}function Dt(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():it(o)}function Pe(o,s){const u=s?` in ${s}`:"";throw new Ke(-201,`No provider for ${Dt(o)} found${u}`)}function bn(o,s,u,m){throw new Error(`ASSERTION ERROR: ${o}`+(null==m?"":` [Expected=> ${u} ${m} ${s} <=Actual]`))}function Ht(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function an(o){return{providers:o.providers||[],imports:o.imports||[]}}function Vn(o){return di(o,cn)||di(o,$n)}function di(o,s){return o.hasOwnProperty(s)?o[s]:null}function wt(o){return o&&(o.hasOwnProperty(Gn)||o.hasOwnProperty(Vi))?o[Gn]:null}const cn=xe({\u0275prov:xe}),Gn=xe({\u0275inj:xe}),$n=xe({ngInjectableDef:xe}),Vi=xe({ngInjectorDef:xe});var Qn=(()=>((Qn=Qn||{})[Qn.Default=0]="Default",Qn[Qn.Host=1]="Host",Qn[Qn.Self=2]="Self",Qn[Qn.SkipSelf=4]="SkipSelf",Qn[Qn.Optional=8]="Optional",Qn))();let li;function Yt(o){const s=li;return li=o,s}function q(o,s,u){const m=Vn(o);return m&&"root"==m.providedIn?void 0===m.value?m.value=m.factory():m.value:u&Qn.Optional?null:void 0!==s?s:void Pe(ze(o),"Injector")}function ye(o){return{toString:o}.toString()}var Ce=(()=>((Ce=Ce||{})[Ce.OnPush=0]="OnPush",Ce[Ce.Default=1]="Default",Ce))(),nn=(()=>{return(o=nn||(nn={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",nn;var o})();const On="undefined"!=typeof globalThis&&globalThis,Wn="undefined"!=typeof window&&window,Yn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,hi=On||"undefined"!=typeof global&&global||Wn||Yn,Ei={},vt=[],Nt=xe({\u0275cmp:xe}),Ft=xe({\u0275dir:xe}),vn=xe({\u0275pipe:xe}),X=xe({\u0275mod:xe}),ie=xe({\u0275fac:xe}),Z=xe({__NG_ELEMENT_ID__:xe});let Se=0;function Me(o){return ye(()=>{const u={},m={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Ce.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||vt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||nn.Emulated,id:"c",styles:o.styles||vt,_:null,setInput:null,schemas:o.schemas||null,tView:null},b=o.directives,T=o.features,F=o.pipes;return m.id+=Se++,m.inputs=rn(o.inputs,u),m.outputs=rn(o.outputs),T&&T.forEach(G=>G(m)),m.directiveDefs=b?()=>("function"==typeof b?b():b).map(Be):null,m.pipeDefs=F?()=>("function"==typeof F?F():F).map(Ct):null,m})}function Be(o){return Zt(o)||function Ln(o){return o[Ft]||null}(o)}function Ct(o){return function pn(o){return o[vn]||null}(o)}const on={};function Sn(o){return ye(()=>{const s={type:o.type,bootstrap:o.bootstrap||vt,declarations:o.declarations||vt,imports:o.imports||vt,exports:o.exports||vt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(on[o.id]=o.type),s})}function bi(o,s){return ye(()=>{const u=Et(o,!0);u.declarations=s.declarations||vt,u.imports=s.imports||vt,u.exports=s.exports||vt})}function rn(o,s){if(null==o)return Ei;const u={};for(const m in o)if(o.hasOwnProperty(m)){let b=o[m],T=b;Array.isArray(b)&&(T=b[1],b=b[0]),u[b]=m,s&&(s[b]=T)}return u}const Pt=Me;function yt(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Zt(o){return o[Nt]||null}function Et(o,s){const u=o[X]||null;if(!u&&!0===s)throw new Error(`Type ${ze(o)} does not have '\u0275mod' property.`);return u}function sr(o){return Array.isArray(o)&&"object"==typeof o[1]}function vr(o){return Array.isArray(o)&&!0===o[1]}function Ki(o){return 0!=(8&o.flags)}function zr(o){return 2==(2&o.flags)}function Fr(o){return 1==(1&o.flags)}function Xi(o){return null!==o.template}function wo(o){return 0!=(512&o[2])}function ft(o,s){return o.hasOwnProperty(ie)?o[ie]:null}class Ut{constructor(s,u,m){this.previousValue=s,this.currentValue=u,this.firstChange=m}isFirstChange(){return this.firstChange}}function un(){return En}function En(o){return o.type.prototype.ngOnChanges&&(o.setInput=pi),ii}function ii(){const o=Pi(this),s=null==o?void 0:o.current;if(s){const u=o.previous;if(u===Ei)o.previous=s;else for(let m in s)u[m]=s[m];o.current=null,this.ngOnChanges(s)}}function pi(o,s,u,m){const b=Pi(o)||function or(o,s){return o[fi]=s}(o,{previous:Ei,current:null}),T=b.current||(b.current={}),F=b.previous,G=this.declaredInputs[u],ne=F[G];T[G]=new Ut(ne&&ne.currentValue,s,F===Ei),o[m]=s}un.ngInherit=!0;const fi="__ngSimpleChanges__";function Pi(o){return o[fi]||null}let vo;function ao(o){vo=o}function Jo(){return void 0!==vo?vo:"undefined"!=typeof document?document:void 0}function pr(o){return!!o.listen}const le={createRenderer:(o,s)=>Jo()};function fe(o){for(;Array.isArray(o);)o=o[0];return o}function Tn(o,s){return fe(s[o])}function Zn(o,s){return fe(s[o.index])}function Zr(o,s){return o.data[s]}function Ir(o,s){return o[s]}function br(o,s){const u=s[o];return sr(u)?u:u[0]}function gr(o){return 4==(4&o[2])}function kr(o){return 128==(128&o[2])}function No(o,s){return null==s?null:o[s]}function ve(o){o[18]=0}function re(o,s){o[5]+=s;let u=o,m=o[3];for(;null!==m&&(1===s&&1===u[5]||-1===s&&0===u[5]);)m[5]+=s,u=m,m=m[3]}const Y={lFrame:Yi(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function go(){return Y.bindingsEnabled}function zn(){return Y.lFrame.lView}function Kr(){return Y.lFrame.tView}function Ha(o){return Y.lFrame.contextLView=o,o[8]}function Qi(){let o=Ts();for(;null!==o&&64===o.type;)o=o.parent;return o}function Ts(){return Y.lFrame.currentTNode}function Nr(){const o=Y.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}function $r(o,s){const u=Y.lFrame;u.currentTNode=o,u.isParent=s}function Bo(){return Y.lFrame.isParent}function As(){Y.lFrame.isParent=!1}function hs(){return Y.isInCheckNoChangesMode}function Is(o){Y.isInCheckNoChangesMode=o}function mr(){const o=Y.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function qo(){return Y.lFrame.bindingIndex}function me(){return Y.lFrame.bindingIndex++}function N(o){const s=Y.lFrame,u=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,u}function oe(o){Y.lFrame.inI18n=o}function He(o,s){const u=Y.lFrame;u.bindingIndex=u.bindingRootIndex=o,Gt(s)}function Gt(o){Y.lFrame.currentDirectiveIndex=o}function Lt(o){const s=Y.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}function Dn(){return Y.lFrame.currentQueryIndex}function qn(o){Y.lFrame.currentQueryIndex=o}function xi(o){const s=o[1];return 2===s.type?s.declTNode:1===s.type?o[6]:null}function Ai(o,s,u){if(u&Qn.SkipSelf){let b=s,T=o;for(;!(b=b.parent,null!==b||u&Qn.Host||(b=xi(T),null===b||(T=T[15],10&b.type))););if(null===b)return!1;s=b,o=T}const m=Y.lFrame=Rr();return m.currentTNode=s,m.lView=o,!0}function cr(o){const s=Rr(),u=o[1];Y.lFrame=s,s.currentTNode=u.firstChild,s.lView=o,s.tView=u,s.contextLView=o,s.bindingIndex=u.bindingStartIndex,s.inI18n=!1}function Rr(){const o=Y.lFrame,s=null===o?null:o.child;return null===s?Yi(o):s}function Yi(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Gi(){const o=Y.lFrame;return Y.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Xr=Gi;function io(){const o=Gi();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function wr(){return Y.lFrame.selectedIndex}function Pr(o){Y.lFrame.selectedIndex=o}function Sr(){const o=Y.lFrame;return Zr(o.tView,o.selectedIndex)}function xo(){Y.lFrame.currentNamespace="svg"}function Vo(){!function cs(){Y.lFrame.currentNamespace=null}()}function eo(o,s){for(let u=s.directiveStart,m=s.directiveEnd;u<m;u++){const T=o.data[u].type.prototype,{ngAfterContentInit:F,ngAfterContentChecked:G,ngAfterViewInit:ne,ngAfterViewChecked:Re,ngOnDestroy:$e}=T;F&&(o.contentHooks||(o.contentHooks=[])).push(-u,F),G&&((o.contentHooks||(o.contentHooks=[])).push(u,G),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,G)),ne&&(o.viewHooks||(o.viewHooks=[])).push(-u,ne),Re&&((o.viewHooks||(o.viewHooks=[])).push(u,Re),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,Re)),null!=$e&&(o.destroyHooks||(o.destroyHooks=[])).push(u,$e)}}function Xo(o,s,u){nr(o,s,3,u)}function ea(o,s,u,m){(3&o[2])===u&&nr(o,s,u,m)}function Fi(o,s){let u=o[2];(3&u)===s&&(u&=2047,u+=1,o[2]=u)}function nr(o,s,u,m){const T=null!=m?m:-1,F=s.length-1;let G=0;for(let ne=void 0!==m?65535&o[18]:0;ne<F;ne++)if("number"==typeof s[ne+1]){if(G=s[ne],null!=m&&G>=m)break}else s[ne]<0&&(o[18]+=65536),(G<T||-1==T)&&(Li(o,u,s,ne),o[18]=(4294901760&o[18])+ne+2),ne++}function Li(o,s,u,m){const b=u[m]<0,T=u[m+1],G=o[b?-u[m]:u[m]];if(b){if(o[2]>>11<o[18]>>16&&(3&o[2])===s){o[2]+=2048;try{T.call(G)}finally{}}}else try{T.call(G)}finally{}}class D{constructor(s,u,m){this.factory=s,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=m}}function Br(o,s,u){const m=pr(o);let b=0;for(;b<u.length;){const T=u[b];if("number"==typeof T){if(0!==T)break;b++;const F=u[b++],G=u[b++],ne=u[b++];m?o.setAttribute(s,G,ne,F):s.setAttributeNS(F,G,ne)}else{const F=T,G=u[++b];Mo(F)?m&&o.setProperty(s,F,G):m?o.setAttribute(s,F,G):s.setAttribute(F,G),b++}}return b}function co(o){return 3===o||4===o||6===o}function Mo(o){return 64===o.charCodeAt(0)}function xs(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let u=-1;for(let m=0;m<s.length;m++){const b=s[m];"number"==typeof b?u=b:0===u||Zs(o,u,b,null,-1===u||2===u?s[++m]:null)}}return o}function Zs(o,s,u,m,b){let T=0,F=o.length;if(-1===s)F=-1;else for(;T<o.length;){const G=o[T++];if("number"==typeof G){if(G===s){F=-1;break}if(G>s){F=T-1;break}}}for(;T<o.length;){const G=o[T];if("number"==typeof G)break;if(G===u){if(null===m)return void(null!==b&&(o[T+1]=b));if(m===o[T+1])return void(o[T+2]=b)}T++,null!==m&&T++,null!==b&&T++}-1!==F&&(o.splice(F,0,s),T=F+1),o.splice(T++,0,u),null!==m&&o.splice(T++,0,m),null!==b&&o.splice(T++,0,b)}function Rs(o){return-1!==o}function Ca(o){return 32767&o}function jo(o,s){let u=function Da(o){return o>>16}(o),m=s;for(;u>0;)m=m[15],u--;return m}let So=!0;function Xa(o){const s=So;return So=o,s}let ue=0;function Je(o,s){const u=en(o,s);if(-1!==u)return u;const m=s[1];m.firstCreatePass&&(o.injectorIndex=s.length,It(m.data,o),It(s,null),It(m.blueprint,null));const b=Kn(o,s),T=o.injectorIndex;if(Rs(b)){const F=Ca(b),G=jo(b,s),ne=G[1].data;for(let Re=0;Re<8;Re++)s[T+Re]=G[F+Re]|ne[F+Re]}return s[T+8]=b,T}function It(o,s){o.push(0,0,0,0,0,0,0,0,s)}function en(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function Kn(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,m=null,b=s;for(;null!==b;){const T=b[1],F=T.type;if(m=2===F?T.declTNode:1===F?b[6]:null,null===m)return-1;if(u++,b=b[15],-1!==m.injectorIndex)return m.injectorIndex|u<<16}return-1}function Oi(o,s,u){!function Ae(o,s,u){let m;"string"==typeof u?m=u.charCodeAt(0)||0:u.hasOwnProperty(Z)&&(m=u[Z]),null==m&&(m=u[Z]=ue++);const b=255&m;s.data[o+(b>>5)]|=1<<b}(o,s,u)}function $i(o,s,u){if(u&Qn.Optional)return o;Pe(s,"NodeInjector")}function Oo(o,s,u,m){if(u&Qn.Optional&&void 0===m&&(m=null),0==(u&(Qn.Self|Qn.Host))){const b=o[9],T=Yt(void 0);try{return b?b.get(s,m,u&Qn.Optional):q(s,m,u&Qn.Optional)}finally{Yt(T)}}return $i(m,s,u)}function Qr(o,s,u,m=Qn.Default,b){if(null!==o){const T=function Lo(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(Z)?o[Z]:void 0;return"number"==typeof s?s>=0?255&s:el:s}(u);if("function"==typeof T){if(!Ai(s,o,m))return m&Qn.Host?$i(b,u,m):Oo(s,u,m,b);try{const F=T(m);if(null!=F||m&Qn.Optional)return F;Pe(u)}finally{Xr()}}else if("number"==typeof T){let F=null,G=en(o,s),ne=-1,Re=m&Qn.Host?s[16][6]:null;for((-1===G||m&Qn.SkipSelf)&&(ne=-1===G?Kn(o,s):s[G+8],-1!==ne&&Di(m,!1)?(F=s[1],G=Ca(ne),s=jo(ne,s)):G=-1);-1!==G;){const $e=s[1];if(Ml(T,G,$e.data)){const St=xl(G,s,u,F,m,Re);if(St!==Es)return St}ne=s[G+8],-1!==ne&&Di(m,s[1].data[G+8]===Re)&&Ml(T,G,s)?(F=$e,G=Ca(ne),s=jo(ne,s)):G=-1}}}return Oo(s,u,m,b)}const Es={};function el(){return new us(Qi(),zn())}function xl(o,s,u,m,b,T){const F=s[1],G=F.data[o+8],$e=Ea(G,F,u,null==m?zr(G)&&So:m!=F&&0!=(3&G.type),b&Qn.Host&&T===G);return null!==$e?Fo(s,F,$e,G):Es}function Ea(o,s,u,m,b){const T=o.providerIndexes,F=s.data,G=1048575&T,ne=o.directiveStart,$e=T>>20,ln=b?G+$e:o.directiveEnd;for(let Nn=m?G:G+$e;Nn<ln;Nn++){const oi=F[Nn];if(Nn<ne&&u===oi||Nn>=ne&&oi.type===u)return Nn}if(b){const Nn=F[ne];if(Nn&&Xi(Nn)&&Nn.type===u)return ne}return null}function Fo(o,s,u,m){let b=o[u];const T=s.data;if(function $(o){return o instanceof D}(b)){const F=b;F.resolving&&function Tt(o,s){const u=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new Ke(-200,`Circular dependency in DI detected for ${o}${u}`)}(Dt(T[u]));const G=Xa(F.canSeeViewProviders);F.resolving=!0;const ne=F.injectImpl?Yt(F.injectImpl):null;Ai(o,m,Qn.Default);try{b=o[u]=F.factory(void 0,T,o,m),s.firstCreatePass&&u>=m.directiveStart&&function Ho(o,s,u){const{ngOnChanges:m,ngOnInit:b,ngDoCheck:T}=s.type.prototype;if(m){const F=En(s);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,F),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,F)}b&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,b),T&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,T),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,T))}(u,T[u],s)}finally{null!==ne&&Yt(ne),Xa(G),F.resolving=!1,Xr()}}return b}function Ml(o,s,u){return!!(u[s+(o>>5)]&1<<o)}function Di(o,s){return!(o&Qn.Self||o&Qn.Host&&s)}class us{constructor(s,u){this._tNode=s,this._lView=u}get(s,u,m){return Qr(this._tNode,this._lView,s,m,u)}}function Fa(o){return ye(()=>{const s=o.prototype.constructor,u=s[ie]||hl(s),m=Object.prototype;let b=Object.getPrototypeOf(o.prototype).constructor;for(;b&&b!==m;){const T=b[ie]||hl(b);if(T&&T!==u)return T;b=Object.getPrototypeOf(b)}return T=>new T})}function hl(o){return at(o)?()=>{const s=hl(je(o));return s&&s()}:ft(o)}function fs(o){return function Mr(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const u=o.attrs;if(u){const m=u.length;let b=0;for(;b<m;){const T=u[b];if(co(T))break;if(0===T)b+=2;else if("number"==typeof T)for(b++;b<m&&"string"==typeof u[b];)b++;else{if(T===s)return u[b+1];b+=2}}}return null}(Qi(),o)}const nl="__parameters__";function Ta(o,s,u){return ye(()=>{const m=function La(o){return function(...u){if(o){const m=o(...u);for(const b in m)this[b]=m[b]}}}(s);function b(...T){if(this instanceof b)return m.apply(this,T),this;const F=new b(...T);return G.annotation=F,G;function G(ne,Re,$e){const St=ne.hasOwnProperty(nl)?ne[nl]:Object.defineProperty(ne,nl,{value:[]})[nl];for(;St.length<=$e;)St.push(null);return(St[$e]=St[$e]||[]).push(F),ne}}return u&&(b.prototype=Object.create(u.prototype)),b.prototype.ngMetadataName=o,b.annotationCls=b,b})}class uo{constructor(s,u){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Ht({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const na=new uo("AnalyzeForEntryComponents");function zo(o,s){void 0===s&&(s=o);for(let u=0;u<o.length;u++){let m=o[u];Array.isArray(m)?(s===o&&(s=o.slice(0,u)),zo(m,s)):s!==o&&s.push(m)}return s}function ks(o,s){o.forEach(u=>Array.isArray(u)?ks(u,s):s(u))}function fl(o,s,u){s>=o.length?o.push(u):o.splice(s,0,u)}function pl(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Al(o,s){const u=[];for(let m=0;m<o;m++)u.push(s);return u}function Ns(o,s,u){let m=Jl(o,s);return m>=0?o[1|m]=u:(m=~m,function gl(o,s,u,m){let b=o.length;if(b==s)o.push(u,m);else if(1===b)o.push(m,o[0]),o[0]=u;else{for(b--,o.push(o[b-1],o[b]);b>s;)o[b]=o[b-2],b--;o[s]=u,o[s+1]=m}}(o,m,s,u)),m}function Ql(o,s){const u=Jl(o,s);if(u>=0)return o[1|u]}function Jl(o,s){return function tu(o,s,u){let m=0,b=o.length>>u;for(;b!==m;){const T=m+(b-m>>1),F=o[T<<u];if(s===F)return T<<u;F>s?b=T:m=T+1}return~(b<<u)}(o,s,1)}const xa={},es="__NG_DI_FLAG__",pa="ngTempTokenPath",wu=/\n/gm,il="__source",Ol=xe({provide:String,useValue:xe});let kl;function ja(o){const s=kl;return kl=o,s}function ua(o,s=Qn.Default){if(void 0===kl)throw new Ke(203,"");return null===kl?q(o,void 0,s):kl.get(o,s&Qn.Optional?null:void 0,s)}function Ko(o,s=Qn.Default){return(function ni(){return li}()||ua)(je(o),s)}const Cu=Ko;function Hc(o){const s=[];for(let u=0;u<o.length;u++){const m=je(o[u]);if(Array.isArray(m)){if(0===m.length)throw new Ke(900,"");let b,T=Qn.Default;for(let F=0;F<m.length;F++){const G=m[F],ne=yl(G);"number"==typeof ne?-1===ne?b=G.token:T|=ne:b=G}s.push(Ko(b,T))}else s.push(Ko(m))}return s}function Nl(o,s){return o[es]=s,o.prototype[es]=s,o}function yl(o){return o[es]}const Sa=Nl(Ta("Inject",o=>({token:o})),-1),ps=Nl(Ta("Optional"),8),bl=Nl(Ta("SkipSelf"),4);let oa;function Ll(o){var s;return(null===(s=function Dc(){if(void 0===oa&&(oa=null,hi.trustedTypes))try{oa=hi.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return oa}())||void 0===s?void 0:s.createHTML(o))||o}class za{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Qs extends za{getTypeName(){return"HTML"}}class nc extends za{getTypeName(){return"Style"}}class Ec extends za{getTypeName(){return"Script"}}class ic extends za{getTypeName(){return"URL"}}class rc extends za{getTypeName(){return"ResourceURL"}}function gs(o){return o instanceof za?o.changingThisBreaksApplicationSecurity:o}function Co(o,s){const u=sa(o);if(null!=u&&u!==s){if("ResourceURL"===u&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===s}function sa(o){return o instanceof za&&o.getTypeName()||null}function ol(o){return new Qs(o)}function Bl(o){return new nc(o)}function Eu(o){return new Ec(o)}function Tc(o){return new ic(o)}function Yc(o){return new rc(o)}function xc(o){const s=new Mc(o);return function oc(){try{return!!(new window.DOMParser).parseFromString(Ll(""),"text/html")}catch(o){return!1}}()?new Ya(s):s}class Ya{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const u=(new window.DOMParser).parseFromString(Ll(s),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(s):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Mc{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const m=this.inertDocument.createElement("body");u.appendChild(m)}}getInertBodyElement(s){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Ll(s),u;const m=this.inertDocument.createElement("body");return m.innerHTML=Ll(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(m),m}stripCustomNsAttrs(s){const u=s.attributes;for(let b=u.length-1;0<b;b--){const F=u.item(b).name;("xmlns:ns1"===F||0===F.indexOf("ns1:"))&&s.removeAttribute(F)}let m=s.firstChild;for(;m;)m.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(m),m=m.nextSibling}}const sc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Sc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Cl(o){return(o=String(o)).match(sc)||o.match(Sc)?o:"unsafe:"+o}function Ul(o){return(o=String(o)).split(",").map(s=>Cl(s.trim())).join(", ")}function Ls(o){const s={};for(const u of o.split(","))s[u]=!0;return s}function Ia(...o){const s={};for(const u of o)for(const m in u)u.hasOwnProperty(m)&&(s[m]=!0);return s}const sl=Ls("area,br,col,hr,img,wbr"),Dl=Ls("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zs=Ls("rp,rt"),$a=Ia(sl,Ia(Dl,Ls("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ia(zs,Ls("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ia(zs,Dl)),lc=Ls("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),al=Ls("srcset"),ll=Ia(lc,al,Ls("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ls("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hu=Ls("script,style,template");class ou{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let u=s.firstChild,m=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?m=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,m&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let b=this.checkClobberedElement(u,u.nextSibling);if(b){u=b;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(s){const u=s.nodeName.toLowerCase();if(!$a.hasOwnProperty(u))return this.sanitizedSomething=!0,!Hu.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const m=s.attributes;for(let b=0;b<m.length;b++){const T=m.item(b),F=T.name,G=F.toLowerCase();if(!ll.hasOwnProperty(G)){this.sanitizedSomething=!0;continue}let ne=T.value;lc[G]&&(ne=Cl(ne)),al[G]&&(ne=Ul(ne)),this.buf.push(" ",F,'="',Wa(ne),'"')}return this.buf.push(">"),!0}endElement(s){const u=s.nodeName.toLowerCase();$a.hasOwnProperty(u)&&!sl.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(s){this.buf.push(Wa(s))}checkClobberedElement(s,u){if(u&&(s.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return u}}const xu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,su=/([^\#-~ |!])/g;function Wa(o){return o.replace(/&/g,"&amp;").replace(xu,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(su,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hl;function $c(o,s){let u=null;try{Hl=Hl||xc(o);let m=s?String(s):"";u=Hl.getInertBodyElement(m);let b=5,T=m;do{if(0===b)throw new Error("Failed to sanitize html because the input is unstable");b--,m=T,T=u.innerHTML,u=Hl.getInertBodyElement(m)}while(m!==T);return Ll((new ou).sanitizeChildren(Ic(u)||u))}finally{if(u){const m=Ic(u)||u;for(;m.firstChild;)m.removeChild(m.firstChild)}}}function Ic(o){return"content"in o&&function cc(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Zo=(()=>((Zo=Zo||{})[Zo.NONE=0]="NONE",Zo[Zo.HTML=1]="HTML",Zo[Zo.STYLE=2]="STYLE",Zo[Zo.SCRIPT=3]="SCRIPT",Zo[Zo.URL=4]="URL",Zo[Zo.RESOURCE_URL=5]="RESOURCE_URL",Zo))();function ya(o){const s=function da(){const o=zn();return o&&o[12]}();return s?s.sanitize(Zo.URL,o)||"":Co(o,"URL")?gs(o):Cl(it(o))}const uc="__ngContext__";function so(o,s){o[uc]=s}function qa(o){const s=function bs(o){return o[uc]||null}(o);return s?Array.isArray(s)?s:s.lView:null}function zi(o){return o.ngOriginalError}function Wr(o,...s){o.error(...s)}class xr{constructor(){this._console=console}handleError(s){const u=this._findOriginalError(s),m=function Wi(o){return o&&o.ngErrorLogger||Wr}(s);m(this._console,"ERROR",s),u&&m(this._console,"ORIGINAL ERROR",u)}_findOriginalError(s){let u=s&&zi(s);for(;u&&zi(u);)u=zi(u);return u||null}}const Bs=/^>|^->|<!--|-->|--!>|<!-$/g,ws=/(<|>)/;const El=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(hi))();function ul(o){return o instanceof Function?o():o}var wa=(()=>((wa=wa||{})[wa.Important=1]="Important",wa[wa.DashCase=2]="DashCase",wa))();let hc;function cu(o,s){return hc(o,s)}function dl(o){const s=o[3];return vr(s)?s[3]:s}function pd(o){return qc(o[13])}function Su(o){return qc(o[4])}function qc(o){for(;null!==o&&!vr(o);)o=o[4];return o}function fc(o,s,u,m,b){if(null!=m){let T,F=!1;vr(m)?T=m:sr(m)&&(F=!0,m=m[0]);const G=fe(m);0===o&&null!==u?null==b?zl(s,u,G):gc(s,u,G,b||null,!0):1===o&&null!==u?gc(s,u,G,b||null,!0):2===o?M(s,G,F):3===o&&s.destroyNode(G),null!=T&&function rt(o,s,u,m,b){const T=u[7];T!==fe(u)&&fc(s,o,m,T,b);for(let G=10;G<u.length;G++){const ne=u[G];ge(ne[1],ne,o,s,m,T)}}(s,o,T,u,b)}}function pc(o,s){return pr(o)?o.createText(s):o.createTextNode(s)}function od(o,s,u){pr(o)?o.setValue(s,u):s.textContent=u}function gd(o,s){return o.createComment(function ka(o){return o.replace(Bs,s=>s.replace(ws,"\u200b$1\u200b"))}(s))}function sd(o,s,u){if(pr(o))return o.createElement(s,u);{const m=null!==u?function no(o){const s=o.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(u):null;return null===m?o.createElement(s):o.createElementNS(m,s)}}function pu(o,s){const u=o[9],m=u.indexOf(s),b=s[3];1024&s[2]&&(s[2]&=-1025,re(b,-1)),u.splice(m,1)}function zu(o,s){if(o.length<=10)return;const u=10+s,m=o[u];if(m){const b=m[17];null!==b&&b!==o&&pu(b,m),s>0&&(o[u-1][4]=m[4]);const T=pl(o,10+s);!function fu(o,s){ge(o,s,s[11],2,null,null),s[0]=null,s[6]=null}(m[1],m);const F=T[19];null!==F&&F.detachView(T[1]),m[3]=null,m[4]=null,m[2]&=-129}return m}function vd(o,s){if(!(256&s[2])){const u=s[11];pr(u)&&u.destroyNode&&ge(o,s,u,3,null,null),function Kc(o){let s=o[13];if(!s)return ad(o[1],o);for(;s;){let u=null;if(sr(s))u=s[13];else{const m=s[10];m&&(u=m)}if(!u){for(;s&&!s[4]&&s!==o;)sr(s)&&ad(s[1],s),s=s[3];null===s&&(s=o),sr(s)&&ad(s[1],s),u=s&&s[4]}s=u}}(s)}}function ad(o,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function gu(o,s){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let m=0;m<u.length;m+=2){const b=s[u[m]];if(!(b instanceof D)){const T=u[m+1];if(Array.isArray(T))for(let F=0;F<T.length;F+=2){const G=b[T[F]],ne=T[F+1];try{ne.call(G)}finally{}}else try{T.call(b)}finally{}}}}(o,s),function ld(o,s){const u=o.cleanup,m=s[7];let b=-1;if(null!==u)for(let T=0;T<u.length-1;T+=2)if("string"==typeof u[T]){const F=u[T+1],G="function"==typeof F?F(s):fe(s[F]),ne=m[b=u[T+2]],Re=u[T+3];"boolean"==typeof Re?G.removeEventListener(u[T],ne,Re):Re>=0?m[b=Re]():m[b=-Re].unsubscribe(),T+=2}else{const F=m[b=u[T+1]];u[T].call(F)}if(null!==m){for(let T=b+1;T<m.length;T++)m[T]();s[7]=null}}(o,s),1===s[1].type&&pr(s[11])&&s[11].destroy();const u=s[17];if(null!==u&&vr(s[3])){u!==s[3]&&pu(u,s);const m=s[19];null!==m&&m.detachView(o)}}}function mu(o,s,u){return cd(o,s.parent,u)}function cd(o,s,u){let m=s;for(;null!==m&&40&m.type;)m=(s=m).parent;if(null===m)return u[0];if(2&m.flags){const b=o.data[m.directiveStart].encapsulation;if(b===nn.None||b===nn.Emulated)return null}return Zn(m,u)}function gc(o,s,u,m,b){pr(o)?o.insertBefore(s,u,m,b):s.insertBefore(u,m,b)}function zl(o,s,u){pr(o)?o.appendChild(s,u):s.appendChild(u)}function Yl(o,s,u,m,b){null!==m?gc(o,s,u,m,b):zl(o,s,u)}function Iu(o,s){return pr(o)?o.parentNode(s):s.parentNode}function Ru(o,s,u){return Ou(o,s,u)}function _u(o,s,u){return 40&o.type?Zn(o,u):null}let ku,Ou=_u;function i(o,s){Ou=o,ku=s}function a(o,s,u,m){const b=mu(o,m,s),T=s[11],G=Ru(m.parent||s[6],m,s);if(null!=b)if(Array.isArray(u))for(let ne=0;ne<u.length;ne++)Yl(T,b,u[ne],G,!1);else Yl(T,b,u,G,!1);void 0!==ku&&ku(T,m,s,u,b)}function r(o,s){if(null!==s){const u=s.type;if(3&u)return Zn(s,o);if(4&u)return y(-1,o[s.index]);if(8&u){const m=s.child;if(null!==m)return r(o,m);{const b=o[s.index];return vr(b)?y(-1,b):fe(b)}}if(32&u)return cu(s,o)()||fe(o[s.index]);{const m=h(o,s);return null!==m?Array.isArray(m)?m[0]:r(dl(o[16]),m):r(o,s.next)}}return null}function h(o,s){return null!==s?o[16][6].projection[s.projection]:null}function y(o,s){const u=10+o+1;if(u<s.length){const m=s[u],b=m[1].firstChild;if(null!==b)return r(m,b)}return s[7]}function M(o,s,u){const m=Iu(o,s);m&&function yd(o,s,u,m){pr(o)?o.removeChild(s,u,m):s.removeChild(u)}(o,m,s,u)}function V(o,s,u,m,b,T,F){for(;null!=u;){const G=m[u.index],ne=u.type;if(F&&0===s&&(G&&so(fe(G),m),u.flags|=4),64!=(64&u.flags))if(8&ne)V(o,s,u.child,m,b,T,!1),fc(s,o,b,G,T);else if(32&ne){const Re=cu(u,m);let $e;for(;$e=Re();)fc(s,o,b,$e,T);fc(s,o,b,G,T)}else 16&ne?Ue(o,s,m,u,b,T):fc(s,o,b,G,T);u=F?u.projectionNext:u.next}}function ge(o,s,u,m,b,T){V(u,m,o.firstChild,s,b,T,!1)}function Ue(o,s,u,m,b,T){const F=u[16],ne=F[6].projection[m.projection];if(Array.isArray(ne))for(let Re=0;Re<ne.length;Re++)fc(s,o,b,ne[Re],T);else V(o,s,ne,F[3],b,T,!0)}function dn(o,s,u){pr(o)?o.setAttribute(s,"style",u):s.style.cssText=u}function Rn(o,s,u){pr(o)?""===u?o.removeAttribute(s,"class"):o.setAttribute(s,"class",u):s.className=u}function ri(o,s,u){let m=o.length;for(;;){const b=o.indexOf(s,u);if(-1===b)return b;if(0===b||o.charCodeAt(b-1)<=32){const T=s.length;if(b+T===m||o.charCodeAt(b+T)<=32)return b}u=b+1}}const wi="ng-template";function Ni(o,s,u){let m=0;for(;m<o.length;){let b=o[m++];if(u&&"class"===b){if(b=o[m],-1!==ri(b.toLowerCase(),s,0))return!0}else if(1===b){for(;m<o.length&&"string"==typeof(b=o[m++]);)if(b.toLowerCase()===s)return!0;return!1}}return!1}function ir(o){return 4===o.type&&o.value!==wi}function yo(o,s,u){return s===(4!==o.type||u?o.value:wi)}function Ao(o,s,u){let m=4;const b=o.attrs||[],T=function l(o){for(let s=0;s<o.length;s++)if(co(o[s]))return s;return o.length}(b);let F=!1;for(let G=0;G<s.length;G++){const ne=s[G];if("number"!=typeof ne){if(!F)if(4&m){if(m=2|1&m,""!==ne&&!yo(o,ne,u)||""===ne&&1===s.length){if(jr(m))return!1;F=!0}}else{const Re=8&m?ne:s[++G];if(8&m&&null!==o.attrs){if(!Ni(o.attrs,Re,u)){if(jr(m))return!1;F=!0}continue}const St=Eo(8&m?"class":ne,b,ir(o),u);if(-1===St){if(jr(m))return!1;F=!0;continue}if(""!==Re){let ln;ln=St>T?"":b[St+1].toLowerCase();const Nn=8&m?ln:null;if(Nn&&-1!==ri(Nn,Re,0)||2&m&&Re!==ln){if(jr(m))return!1;F=!0}}}}else{if(!F&&!jr(m)&&!jr(ne))return!1;if(F&&jr(ne))continue;F=!1,m=ne|1&m}}return jr(m)||F}function jr(o){return 0==(1&o)}function Eo(o,s,u,m){if(null===s)return-1;let b=0;if(m||!u){let T=!1;for(;b<s.length;){const F=s[b];if(F===o)return b;if(3===F||6===F)T=!0;else{if(1===F||2===F){let G=s[++b];for(;"string"==typeof G;)G=s[++b];continue}if(4===F)break;if(0===F){b+=4;continue}}b+=T?1:2}return-1}return function p(o,s){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const m=o[u];if("number"==typeof m)return-1;if(m===s)return u;u++}return-1}(s,o)}function c(o,s,u=!1){for(let m=0;m<s.length;m++)if(Ao(o,s[m],u))return!0;return!1}function v(o,s){e:for(let u=0;u<s.length;u++){const m=s[u];if(o.length===m.length){for(let b=0;b<o.length;b++)if(o[b]!==m[b])continue e;return!0}}return!1}function x(o,s){return o?":not("+s.trim()+")":s}function P(o){let s=o[0],u=1,m=2,b="",T=!1;for(;u<o.length;){let F=o[u];if("string"==typeof F)if(2&m){const G=o[++u];b+="["+F+(G.length>0?'="'+G+'"':"")+"]"}else 8&m?b+="."+F:4&m&&(b+=" "+F);else""!==b&&!jr(F)&&(s+=x(T,b),b=""),m=F,T=T||!jr(m);u++}return""!==b&&(s+=x(T,b)),s}const Le={};function lt(o){Bt(Kr(),zn(),wr()+o,hs())}function Bt(o,s,u,m){if(!m)if(3==(3&s[2])){const T=o.preOrderCheckHooks;null!==T&&Xo(s,T,u)}else{const T=o.preOrderHooks;null!==T&&ea(s,T,0,u)}Pr(u)}function Fn(o,s){return o<<17|s<<2}function xn(o){return o>>17&32767}function g(o){return 2|o}function E(o){return(131068&o)>>2}function U(o,s){return-131069&o|s<<2}function xt(o){return 1|o}function mf(o,s){const u=o.contentQueries;if(null!==u)for(let m=0;m<u.length;m+=2){const b=u[m],T=u[m+1];if(-1!==T){const F=o.data[T];qn(b),F.contentQueries(2,s[T],T)}}}function lh(o,s,u,m,b,T,F,G,ne,Re){const $e=s.blueprint.slice();return $e[0]=b,$e[2]=140|m,ve($e),$e[3]=$e[15]=o,$e[8]=u,$e[10]=F||o&&o[10],$e[11]=G||o&&o[11],$e[12]=ne||o&&o[12]||null,$e[9]=Re||o&&o[9]||null,$e[6]=T,$e[16]=2==s.type?o[16]:$e,$e}function Rd(o,s,u,m,b){let T=o.data[s];if(null===T)T=vf(o,s,u,m,b),function L(){return Y.lFrame.inI18n}()&&(T.flags|=64);else if(64&T.type){T.type=u,T.value=m,T.attrs=b;const F=Nr();T.injectorIndex=null===F?-1:F.injectorIndex}return $r(T,!0),T}function vf(o,s,u,m,b){const T=Ts(),F=Bo(),ne=o.data[s]=function fp(o,s,u,m,b,T){return{type:u,index:m,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:b,attrs:T,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,F?T:T&&T.parent,u,s,m,b);return null===o.firstChild&&(o.firstChild=ne),null!==T&&(F?null==T.child&&null!==ne.parent&&(T.child=ne):null===T.next&&(T.next=ne)),ne}function Od(o,s,u,m){if(0===u)return-1;const b=s.length;for(let T=0;T<u;T++)s.push(m),o.blueprint.push(m),o.data.push(null);return b}function ch(o,s,u){cr(s);try{const m=o.viewQuery;null!==m&&Yd(1,m,u);const b=o.template;null!==b&&yf(o,s,b,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&mf(o,s),o.staticViewQueries&&Yd(2,o.viewQuery,u);const T=o.components;null!==T&&function yg(o,s){for(let u=0;u<s.length;u++)wp(o,s[u])}(s,T)}catch(m){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),m}finally{s[2]&=-5,io()}}function Cd(o,s,u,m){const b=s[2];if(256==(256&b))return;cr(s);const T=hs();try{ve(s),function Po(o){return Y.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&yf(o,s,u,2,m);const F=3==(3&b);if(!T)if(F){const Re=o.preOrderCheckHooks;null!==Re&&Xo(s,Re,null)}else{const Re=o.preOrderHooks;null!==Re&&ea(s,Re,0,null),Fi(s,0)}if(function Sf(o){for(let s=pd(o);null!==s;s=Su(s)){if(!s[2])continue;const u=s[9];for(let m=0;m<u.length;m++){const b=u[m],T=b[3];0==(1024&b[2])&&re(T,1),b[2]|=1024}}}(s),function Sg(o){for(let s=pd(o);null!==s;s=Su(s))for(let u=10;u<s.length;u++){const m=s[u],b=m[1];kr(m)&&Cd(b,m,b.template,m[8])}}(s),null!==o.contentQueries&&mf(o,s),!T)if(F){const Re=o.contentCheckHooks;null!==Re&&Xo(s,Re)}else{const Re=o.contentHooks;null!==Re&&ea(s,Re,1),Fi(s,1)}!function cp(o,s){const u=o.hostBindingOpCodes;if(null!==u)try{for(let m=0;m<u.length;m++){const b=u[m];if(b<0)Pr(~b);else{const T=b,F=u[++m],G=u[++m];He(F,T),G(2,s[T])}}}finally{Pr(-1)}}(o,s);const G=o.components;null!==G&&function _f(o,s){for(let u=0;u<s.length;u++)Af(o,s[u])}(s,G);const ne=o.viewQuery;if(null!==ne&&Yd(2,ne,m),!T)if(F){const Re=o.viewCheckHooks;null!==Re&&Xo(s,Re)}else{const Re=o.viewHooks;null!==Re&&ea(s,Re,2),Fi(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),T||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,re(s[3],-1))}finally{io()}}function up(o,s,u,m){const b=s[10],T=!hs(),F=gr(s);try{T&&!F&&b.begin&&b.begin(),F&&ch(o,s,m),Cd(o,s,u,m)}finally{T&&!F&&b.end&&b.end()}}function yf(o,s,u,m,b){const T=wr(),F=2&m;try{Pr(-1),F&&s.length>20&&Bt(o,s,20,hs()),u(m,b)}finally{Pr(T)}}function bf(o,s,u){if(Ki(s)){const b=s.directiveEnd;for(let T=s.directiveStart;T<b;T++){const F=o.data[T];F.contentQueries&&F.contentQueries(1,u[T],T)}}}function eh(o,s,u){!go()||(function xg(o,s,u,m){const b=u.directiveStart,T=u.directiveEnd;o.firstCreatePass||Je(u,s),so(m,s);const F=u.initialInputs;for(let G=b;G<T;G++){const ne=o.data[G],Re=Xi(ne);Re&&Tf(s,u,ne);const $e=Fo(s,o,G,u);so($e,s),null!==F&&xf(0,G-b,$e,ne,0,F),Re&&(br(u.index,s)[8]=$e)}}(o,s,u,Zn(u,s)),128==(128&u.flags)&&function Df(o,s,u){const m=u.directiveStart,b=u.directiveEnd,F=u.index,G=function _t(){return Y.lFrame.currentDirectiveIndex}();try{Pr(F);for(let ne=m;ne<b;ne++){const Re=o.data[ne],$e=s[ne];Gt(ne),(null!==Re.hostBindings||0!==Re.hostVars||null!==Re.hostAttrs)&&Ef(Re,$e)}}finally{Pr(-1),Gt(G)}}(o,s,u))}function uh(o,s,u=Zn){const m=s.localNames;if(null!==m){let b=s.index+1;for(let T=0;T<m.length;T+=2){const F=m[T+1],G=-1===F?u(s,o):o[F];o[b++]=G}}}function dp(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=Ah(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function Ah(o,s,u,m,b,T,F,G,ne,Re){const $e=20+m,St=$e+b,ln=function hp(o,s){const u=[];for(let m=0;m<s;m++)u.push(m<o?null:Le);return u}($e,St),Nn="function"==typeof Re?Re():Re;return ln[1]={type:o,blueprint:ln,template:u,queries:null,viewQuery:G,declTNode:s,data:ln.slice().fill(null,$e),bindingStartIndex:$e,expandoStartIndex:St,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof T?T():T,pipeRegistry:"function"==typeof F?F():F,firstChild:null,schemas:ne,consts:Nn,incompleteFirstPass:!1}}function Rh(o,s,u,m){const b=Dp(s);null===u?b.push(m):(b.push(u),o.firstCreatePass&&Nf(o).push(m,b.length-1))}function Oh(o,s,u){for(let m in o)if(o.hasOwnProperty(m)){const b=o[m];(u=null===u?{}:u).hasOwnProperty(m)?u[m].push(s,b):u[m]=[s,b]}return u}function _c(o,s,u,m,b,T,F,G){const ne=Zn(s,u);let $e,Re=s.inputs;!G&&null!=Re&&($e=Re[m])?(Ep(o,u,$e,m,b),zr(s)&&function wg(o,s){const u=br(s,o);16&u[2]||(u[2]|=64)}(u,s.index)):3&s.type&&(m=function pp(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(m),b=null!=F?F(b,s.value||"",m):b,pr(T)?T.setProperty(ne,m,b):Mo(m)||(ne.setProperty?ne.setProperty(m,b):ne[m]=b))}function Nh(o,s,u,m){let b=!1;if(go()){const T=function mp(o,s,u){const m=o.directiveRegistry;let b=null;if(m)for(let T=0;T<m.length;T++){const F=m[T];c(u,F.selectors,!1)&&(b||(b=[]),Oi(Je(u,s),o,F.type),Xi(F)?(Fh(o,u),b.unshift(F)):b.push(F))}return b}(o,s,u),F=null===m?null:{"":-1};if(null!==T){b=!0,yp(u,o.data.length,T.length);for(let $e=0;$e<T.length;$e++){const St=T[$e];St.providersResolver&&St.providersResolver(St)}let G=!1,ne=!1,Re=Od(o,s,T.length,null);for(let $e=0;$e<T.length;$e++){const St=T[$e];u.mergedAttrs=xs(u.mergedAttrs,St.hostAttrs),bp(o,u,s,Re,St),vp(Re,St,F),null!==St.contentQueries&&(u.flags|=8),(null!==St.hostBindings||null!==St.hostAttrs||0!==St.hostVars)&&(u.flags|=128);const ln=St.type.prototype;!G&&(ln.ngOnChanges||ln.ngOnInit||ln.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),G=!0),!ne&&(ln.ngOnChanges||ln.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),ne=!0),Re++}!function kh(o,s){const m=s.directiveEnd,b=o.data,T=s.attrs,F=[];let G=null,ne=null;for(let Re=s.directiveStart;Re<m;Re++){const $e=b[Re],St=$e.inputs,ln=null===T||ir(s)?null:Mg(St,T);F.push(ln),G=Oh(St,Re,G),ne=Oh($e.outputs,Re,ne)}null!==G&&(G.hasOwnProperty("class")&&(s.flags|=16),G.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=F,s.inputs=G,s.outputs=ne}(o,u)}F&&function _p(o,s,u){if(s){const m=o.localNames=[];for(let b=0;b<s.length;b+=2){const T=u[s[b+1]];if(null==T)throw new Ke(-301,!1);m.push(s[b],T)}}}(u,m,F)}return u.mergedAttrs=xs(u.mergedAttrs,u.attrs),b}function Ph(o,s,u,m,b,T){const F=T.hostBindings;if(F){let G=o.hostBindingOpCodes;null===G&&(G=o.hostBindingOpCodes=[]);const ne=~s.index;(function Cf(o){let s=o.length;for(;s>0;){const u=o[--s];if("number"==typeof u&&u<0)return u}return 0})(G)!=ne&&G.push(ne),G.push(m,b,F)}}function Ef(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function Fh(o,s){s.flags|=2,(o.components||(o.components=[])).push(s.index)}function vp(o,s,u){if(u){if(s.exportAs)for(let m=0;m<s.exportAs.length;m++)u[s.exportAs[m]]=o;Xi(s)&&(u[""]=o)}}function yp(o,s,u){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+u,o.providerIndexes=s}function bp(o,s,u,m,b){o.data[m]=b;const T=b.factory||(b.factory=ft(b.type)),F=new D(T,Xi(b),null);o.blueprint[m]=F,u[m]=F,Ph(o,s,0,m,Od(o,u,b.hostVars,Le),b)}function Tf(o,s,u){const m=Zn(s,o),b=dp(u),T=o[10],F=Uh(o,lh(o,b,null,u.onPush?64:16,m,s,T,T.createRenderer(m,u),null,null));o[s.index]=F}function kd(o,s,u,m,b,T,F){if(null==T)pr(o)?o.removeAttribute(s,b,u):s.removeAttribute(b);else{const G=null==F?it(T):F(T,m||"",b);pr(o)?o.setAttribute(s,b,G,u):u?s.setAttributeNS(u,b,G):s.setAttribute(b,G)}}function xf(o,s,u,m,b,T){const F=T[s];if(null!==F){const G=m.setInput;for(let ne=0;ne<F.length;){const Re=F[ne++],$e=F[ne++],St=F[ne++];null!==G?m.setInput(u,St,Re,$e):u[$e]=St}}}function Mg(o,s){let u=null,m=0;for(;m<s.length;){const b=s[m];if(0!==b)if(5!==b){if("number"==typeof b)break;o.hasOwnProperty(b)&&(null===u&&(u=[]),u.push(b,o[b],s[m+1])),m+=2}else m+=2;else m+=4}return u}function Lh(o,s,u,m){return new Array(o,!0,!1,s,null,0,m,u,null,null)}function Af(o,s){const u=br(s,o);if(kr(u)){const m=u[1];80&u[2]?Cd(m,u,m.template,u[8]):u[5]>0&&Bh(u)}}function Bh(o){for(let m=pd(o);null!==m;m=Su(m))for(let b=10;b<m.length;b++){const T=m[b];if(1024&T[2]){const F=T[1];Cd(F,T,F.template,T[8])}else T[5]>0&&Bh(T)}const u=o[1].components;if(null!==u)for(let m=0;m<u.length;m++){const b=br(u[m],o);kr(b)&&b[5]>0&&Bh(b)}}function wp(o,s){const u=br(s,o),m=u[1];(function Ag(o,s){for(let u=s.length;u<o.blueprint.length;u++)s.push(o.blueprint[u])})(m,u),ch(m,u,u[8])}function Uh(o,s){return o[13]?o[14][4]=s:o[13]=s,o[14]=s,s}function nh(o){for(;o;){o[2]|=64;const s=dl(o);if(wo(o)&&!s)return o;o=s}return null}function Pc(o,s,u){const m=s[10];m.begin&&m.begin();try{Cd(o,s,o.template,u)}catch(b){throw jh(s,b),b}finally{m.end&&m.end()}}function Vh(o){!function If(o){for(let s=0;s<o.components.length;s++){const u=o.components[s],m=qa(u),b=m[1];up(b,m,b.template,u)}}(o[8])}function Yd(o,s,u){qn(0),s(o,u)}const kf=(()=>Promise.resolve(null))();function Dp(o){return o[7]||(o[7]=[])}function Nf(o){return o.cleanup||(o.cleanup=[])}function Hh(o,s,u){return(null===o||Xi(o))&&(u=function ot(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(u[s.index])),u[11]}function jh(o,s){const u=o[9],m=u?u.get(xr,null):null;m&&m.handleError(s)}function Ep(o,s,u,m,b){for(let T=0;T<u.length;){const F=u[T++],G=u[T++],ne=s[F],Re=o.data[F];null!==Re.setInput?Re.setInput(ne,b,m,G):ne[G]=b}}function Fc(o,s,u){const m=Tn(s,o);od(o[11],m,u)}function Nd(o,s,u){let m=u?o.styles:null,b=u?o.classes:null,T=0;if(null!==s)for(let F=0;F<s.length;F++){const G=s[F];"number"==typeof G?T=G:1==T?b=Ve(b,G):2==T&&(m=Ve(m,G+": "+s[++F]+";"))}u?o.styles=m:o.stylesWithoutHost=m,u?o.classes=b:o.classesWithoutHost=b}const dh=new uo("INJECTOR",-1);class Gh{get(s,u=xa){if(u===xa){const m=new Error(`NullInjectorError: No provider for ${ze(s)}!`);throw m.name="NullInjectorError",m}return u}}const zh=new uo("Set Injector scope."),Pu={},Yh={};let hh;function Zu(){return void 0===hh&&(hh=new Gh),hh}function Sp(o,s=null,u=null,m){const b=Ap(o,s,u,m);return b._resolveInjectorDefTypes(),b}function Ap(o,s=null,u=null,m){return new $h(o,u,s||Zu(),m)}class $h{constructor(s,u,m,b=null){this.parent=m,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const T=[];u&&ks(u,G=>this.processProvider(G,s,u)),ks([s],G=>this.processInjectorType(G,[],T)),this.records.set(dh,Wd(void 0,this));const F=this.records.get(zh);this.scope=null!=F?F.value:null,this.source=b||("object"==typeof s?null:ze(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,u=xa,m=Qn.Default){this.assertNotDestroyed();const b=ja(this),T=Yt(void 0);try{if(!(m&Qn.SkipSelf)){let G=this.records.get(s);if(void 0===G){const ne=function kp(o){return"function"==typeof o||"object"==typeof o&&o instanceof uo}(s)&&Vn(s);G=ne&&this.injectableDefInScope(ne)?Wd($d(s),Pu):null,this.records.set(s,G)}if(null!=G)return this.hydrate(s,G)}return(m&Qn.Self?Zu():this.parent).get(s,u=m&Qn.Optional&&u===xa?null:u)}catch(F){if("NullInjectorError"===F.name){if((F[pa]=F[pa]||[]).unshift(ze(s)),b)throw F;return function Ma(o,s,u,m){const b=o[pa];throw s[il]&&b.unshift(s[il]),o.message=function ga(o,s,u,m=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let b=ze(s);if(Array.isArray(s))b=s.map(ze).join(" -> ");else if("object"==typeof s){let T=[];for(let F in s)if(s.hasOwnProperty(F)){let G=s[F];T.push(F+":"+("string"==typeof G?JSON.stringify(G):ze(G)))}b=`{${T.join(", ")}}`}return`${u}${m?"("+m+")":""}[${b}]: ${o.replace(wu,"\n  ")}`}("\n"+o.message,b,u,m),o.ngTokenPath=b,o[pa]=null,o}(F,s,"R3InjectorError",this.source)}throw F}finally{Yt(T),ja(b)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((m,b)=>s.push(ze(b))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ke(205,!1)}processInjectorType(s,u,m){if(!(s=je(s)))return!1;let b=wt(s);const T=null==b&&s.ngModule||void 0,F=void 0===T?s:T,G=-1!==m.indexOf(F);if(void 0!==T&&(b=wt(T)),null==b)return!1;if(null!=b.imports&&!G){let $e;m.push(F);try{ks(b.imports,St=>{this.processInjectorType(St,u,m)&&(void 0===$e&&($e=[]),$e.push(St))})}finally{}if(void 0!==$e)for(let St=0;St<$e.length;St++){const{ngModule:ln,providers:Nn}=$e[St];ks(Nn,oi=>this.processProvider(oi,ln,Nn||vt))}}this.injectorDefTypes.add(F);const ne=ft(F)||(()=>new F);this.records.set(F,Wd(ne,Pu));const Re=b.providers;if(null!=Re&&!G){const $e=s;ks(Re,St=>this.processProvider(St,$e,Re))}return void 0!==T&&void 0!==s.providers}processProvider(s,u,m){let b=ih(s=je(s))?s:je(s&&s.provide);const T=function Rp(o,s,u){return Qa(o)?Wd(void 0,o.useValue):Wd(Pf(o),Pu)}(s);if(ih(s)||!0!==s.multi)this.records.get(b);else{let F=this.records.get(b);F||(F=Wd(void 0,Pu,!0),F.factory=()=>Hc(F.multi),this.records.set(b,F)),b=s,F.multi.push(s)}this.records.set(b,T)}hydrate(s,u){return u.value===Pu&&(u.value=Yh,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Ff(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(s){if(!s.providedIn)return!1;const u=je(s.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function $d(o){const s=Vn(o),u=null!==s?s.factory:ft(o);if(null!==u)return u;if(o instanceof uo)throw new Ke(204,!1);if(o instanceof Function)return function Ip(o){const s=o.length;if(s>0)throw Al(s,"?"),new Ke(204,!1);const u=function Pn(o){const s=o&&(o[cn]||o[$n]);if(s){const u=function jn(o){if(o.hasOwnProperty("name"))return o.name;const s=(""+o).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),s}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Ke(204,!1)}function Pf(o,s,u){let m;if(ih(o)){const b=je(o);return ft(b)||$d(b)}if(Qa(o))m=()=>je(o.useValue);else if(function Op(o){return!(!o||!o.useFactory)}(o))m=()=>o.useFactory(...Hc(o.deps||[]));else if(function Rg(o){return!(!o||!o.useExisting)}(o))m=()=>Ko(je(o.useExisting));else{const b=je(o&&(o.useClass||o.provide));if(!function kg(o){return!!o.deps}(o))return ft(b)||$d(b);m=()=>new b(...Hc(o.deps))}return m}function Wd(o,s,u=!1){return{factory:o,value:s,multi:u?[]:void 0}}function Qa(o){return null!==o&&"object"==typeof o&&Ol in o}function ih(o){return"function"==typeof o}let qu=(()=>{class o{static create(u,m){var b;if(Array.isArray(u))return Sp({name:""},m,u,"");{const T=null!==(b=u.name)&&void 0!==b?b:"";return Sp({name:T},u.parent,u.providers,T)}}}return o.THROW_IF_NOT_FOUND=xa,o.NULL=new Gh,o.\u0275prov=Ht({token:o,providedIn:"any",factory:()=>Ko(dh)}),o.__NG_ELEMENT_ID__=-1,o})();function qh(o,s){eo(qa(o)[1],Qi())}function ha(o){let s=function Hp(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const m=[o];for(;s;){let b;if(Xi(o))b=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ke(903,"");b=s.\u0275dir}if(b){if(u){m.push(b);const F=o;F.inputs=Fd(o.inputs),F.declaredInputs=Fd(o.declaredInputs),F.outputs=Fd(o.outputs);const G=b.hostBindings;G&&jp(o,G);const ne=b.viewQuery,Re=b.contentQueries;if(ne&&Uf(o,ne),Re&&Vf(o,Re),pe(o.inputs,b.inputs),pe(o.declaredInputs,b.declaredInputs),pe(o.outputs,b.outputs),Xi(b)&&b.data.animation){const $e=o.data;$e.animation=($e.animation||[]).concat(b.data.animation)}}const T=b.features;if(T)for(let F=0;F<T.length;F++){const G=T[F];G&&G.ngInherit&&G(o),G===ha&&(u=!1)}}s=Object.getPrototypeOf(s)}!function mh(o){let s=0,u=null;for(let m=o.length-1;m>=0;m--){const b=o[m];b.hostVars=s+=b.hostVars,b.hostAttrs=xs(b.hostAttrs,u=xs(u,b.hostAttrs))}}(m)}function Fd(o){return o===Ei?{}:o===vt?[]:o}function Uf(o,s){const u=o.viewQuery;o.viewQuery=u?(m,b)=>{s(m,b),u(m,b)}:s}function Vf(o,s){const u=o.contentQueries;o.contentQueries=u?(m,b,T)=>{s(m,b,T),u(m,b,T)}:s}function jp(o,s){const u=o.hostBindings;o.hostBindings=u?(m,b)=>{s(m,b),u(m,b)}:s}let rh=null;function Ld(){if(!rh){const o=hi.Symbol;if(o&&o.iterator)rh=o.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<s.length;++u){const m=s[u];"entries"!==m&&"size"!==m&&Map.prototype[m]===Map.prototype.entries&&(rh=m)}}}return rh}function _h(o){return!!vh(o)&&(Array.isArray(o)||!(o instanceof Map)&&Ld()in o)}function vh(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Ju(o,s,u){return o[s]=u}function $l(o,s,u){return!Object.is(o[s],u)&&(o[s]=u,!0)}function qd(o,s,u,m){const b=$l(o,s,u);return $l(o,s+1,m)||b}function bh(o,s,u,m){const b=zn();return $l(b,me(),s)&&(Kr(),function Wu(o,s,u,m,b,T){const F=Zn(o,s);kd(s[11],F,T,o.value,u,m,b)}(Sr(),b,o,s,u,m)),bh}function Bd(o,s,u,m){return $l(o,me(),u)?s+it(u)+m:Le}function fa(o,s,u,m,b,T,F,G){const ne=zn(),Re=Kr(),$e=o+20,St=Re.firstCreatePass?function Va(o,s,u,m,b,T,F,G,ne){const Re=s.consts,$e=Rd(s,o,4,F||null,No(Re,G));Nh(s,u,$e,No(Re,ne)),eo(s,$e);const St=$e.tViews=Ah(2,$e,m,b,T,s.directiveRegistry,s.pipeRegistry,null,s.schemas,Re);return null!==s.queries&&(s.queries.template(s,$e),St.queries=s.queries.embeddedTView($e)),$e}($e,Re,ne,s,u,m,b,T,F):Re.data[$e];$r(St,!1);const ln=ne[11].createComment("");a(Re,ne,ln,St),so(ln,ne),Uh(ne,ne[$e]=Lh(ln,ne,ln,St)),Fr(St)&&eh(Re,ne,St),null!=F&&uh(ne,St,G)}function Na(o){return Ir(function Ws(){return Y.lFrame.contextLView}(),20+o)}function Zf(o,s=Qn.Default){const u=zn();return null===u?Ko(o,s):Qr(Qi(),u,je(o),s)}function u_(){throw new Error("invalid")}function Vg(o,s,u){const m=zn();return $l(m,me(),s)&&_c(Kr(),Sr(),m,o,s,m[11],u,!1),Vg}function Hg(o,s,u,m,b){const F=b?"class":"style";Ep(o,u,s.inputs[F],F,m)}function Zp(o,s,u,m){const b=zn(),T=Kr(),F=20+o,G=b[11],ne=b[F]=sd(G,s,function Pa(){return Y.lFrame.currentNamespace}()),Re=T.firstCreatePass?function m0(o,s,u,m,b,T,F){const G=s.consts,Re=Rd(s,o,2,b,No(G,T));return Nh(s,u,Re,No(G,F)),null!==Re.attrs&&Nd(Re,Re.attrs,!1),null!==Re.mergedAttrs&&Nd(Re,Re.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,Re),Re}(F,T,b,0,s,u,m):T.data[F];$r(Re,!0);const $e=Re.mergedAttrs;null!==$e&&Br(G,ne,$e);const St=Re.classes;null!==St&&Rn(G,ne,St);const ln=Re.styles;return null!==ln&&dn(G,ne,ln),64!=(64&Re.flags)&&a(T,b,ne,Re),0===function Un(){return Y.lFrame.elementDepthCount}()&&so(ne,b),function Ti(){Y.lFrame.elementDepthCount++}(),Fr(Re)&&(eh(T,b,Re),bf(T,Re,b)),null!==m&&uh(b,Re),Zp}function qp(){let o=Qi();Bo()?As():(o=o.parent,$r(o,!1));const s=o;!function Yr(){Y.lFrame.elementDepthCount--}();const u=Kr();return u.firstCreatePass&&(eo(u,o),Ki(o)&&u.queries.elementEnd(o)),null!=s.classesWithoutHost&&function Cn(o){return 0!=(16&o.flags)}(s)&&Hg(u,s,zn(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function ai(o){return 0!=(32&o.flags)}(s)&&Hg(u,s,zn(),s.stylesWithoutHost,!1),qp}function jg(o,s,u,m){return Zp(o,s,u,m),qp(),jg}function Kp(o,s,u){const m=zn(),b=Kr(),T=o+20,F=b.firstCreatePass?function _0(o,s,u,m,b){const T=s.consts,F=No(T,m),G=Rd(s,o,8,"ng-container",F);return null!==F&&Nd(G,F,!0),Nh(s,u,G,No(T,b)),null!==s.queries&&s.queries.elementStart(s,G),G}(T,b,m,s,u):b.data[T];$r(F,!0);const G=m[T]=m[11].createComment("");return a(b,m,G,F),so(G,m),Fr(F)&&(eh(b,m,F),bf(b,F,m)),null!=u&&uh(m,F),Kp}function Qp(){let o=Qi();const s=Kr();return Bo()?As():(o=o.parent,$r(o,!1)),s.firstCreatePass&&(eo(s,o),Ki(o)&&s.queries.elementEnd(o)),Qp}function Gg(o,s,u){return Kp(o,s,u),Qp(),Gg}function d_(){return zn()}function zg(o){return!!o&&"function"==typeof o.then}function h_(o){return!!o&&"function"==typeof o.subscribe}const f_=h_;function Yg(o,s,u,m){const b=zn(),T=Kr(),F=Qi();return p_(T,b,b[11],F,o,s,!!u,m),Yg}function $g(o,s){const u=Qi(),m=zn(),b=Kr();return p_(b,m,Hh(Lt(b.data),u,m),u,o,s,!1),$g}function p_(o,s,u,m,b,T,F,G){const ne=Fr(m),$e=o.firstCreatePass&&Nf(o),St=s[8],ln=Dp(s);let Nn=!0;if(3&m.type||G){const Zi=Zn(m,s),_r=G?G(Zi):Zi,gi=ln.length,Gr=G?rs=>G(fe(rs[m.index])):m.index;if(pr(u)){let rs=null;if(!G&&ne&&(rs=function v0(o,s,u,m){const b=o.cleanup;if(null!=b)for(let T=0;T<b.length-1;T+=2){const F=b[T];if(F===u&&b[T+1]===m){const G=s[7],ne=b[T+2];return G.length>ne?G[ne]:null}"string"==typeof F&&(T+=2)}return null}(o,s,b,m.index)),null!==rs)(rs.__ngLastListenerFn__||rs).__ngNextListenerFn__=T,rs.__ngLastListenerFn__=T,Nn=!1;else{T=Wg(m,s,St,T,!1);const Hs=u.listen(_r,b,T);ln.push(T,Hs),$e&&$e.push(b,Gr,gi,gi+1)}}else T=Wg(m,s,St,T,!0),_r.addEventListener(b,T,F),ln.push(T),$e&&$e.push(b,Gr,gi,F)}else T=Wg(m,s,St,T,!1);const oi=m.outputs;let Ii;if(Nn&&null!==oi&&(Ii=oi[b])){const Zi=Ii.length;if(Zi)for(let _r=0;_r<Zi;_r+=2){const ed=s[Ii[_r]][Ii[_r+1]].subscribe(T),Eh=ln.length;ln.push(T,ed),$e&&$e.push(b,m.index,Eh,-(Eh+1))}}}function g_(o,s,u,m){try{return!1!==u(m)}catch(b){return jh(o,b),!1}}function Wg(o,s,u,m,b){return function T(F){if(F===Function)return m;const G=2&o.flags?br(o.index,s):s;0==(32&s[2])&&nh(G);let ne=g_(s,0,m,F),Re=T.__ngNextListenerFn__;for(;Re;)ne=g_(s,0,Re,F)&&ne,Re=Re.__ngNextListenerFn__;return b&&!1===ne&&(F.preventDefault(),F.returnValue=!1),ne}}function m_(o=1){return function Ro(o){return(Y.lFrame.contextLView=function ss(o,s){for(;o>0;)s=s[15],o--;return s}(o,Y.lFrame.contextLView))[8]}(o)}function y0(o,s){let u=null;const m=function n(o){const s=o.attrs;if(null!=s){const u=s.indexOf(5);if(0==(1&u))return s[u+1]}return null}(o);for(let b=0;b<s.length;b++){const T=s[b];if("*"!==T){if(null===m?c(o,T,!0):v(m,T))return b}else u=b}return u}function __(o){const s=zn()[16][6];if(!s.projection){const m=s.projection=Al(o?o.length:1,null),b=m.slice();let T=s.child;for(;null!==T;){const F=o?y0(T,o):0;null!==F&&(b[F]?b[F].projectionNext=T:m[F]=T,b[F]=T),T=T.next}}}function v_(o,s=0,u){const m=zn(),b=Kr(),T=Rd(b,20+o,16,null,u||null);null===T.projection&&(T.projection=s),As(),64!=(64&T.flags)&&function be(o,s,u){Ue(s[11],0,s,u,mu(o,u,s),Ru(u.parent||s[6],u,s))}(b,m,T)}function Zg(o,s,u){return Jp(o,"",s,"",u),Zg}function Jp(o,s,u,m,b){const T=zn(),F=Bd(T,s,u,m);return F!==Le&&_c(Kr(),Sr(),T,o,F,T[11],b,!1),Jp}function M_(o,s,u,m,b){const T=o[u+1],F=null===s;let G=m?xn(T):E(T),ne=!1;for(;0!==G&&(!1===ne||F);){const $e=o[G+1];C0(o[G],s)&&(ne=!0,o[G+1]=m?xt($e):g($e)),G=m?xn($e):E($e)}ne&&(o[u+1]=m?g(T):xt(T))}function C0(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&Jl(o,s)>=0}const Zl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function S_(o){return o.substring(Zl.key,Zl.keyEnd)}function A_(o,s){const u=Zl.textEnd;return u===s?-1:(s=Zl.keyEnd=function x0(o,s,u){for(;s<u&&o.charCodeAt(s)>32;)s++;return s}(o,Zl.key=s,u),tf(o,s,u))}function tf(o,s,u){for(;s<u&&o.charCodeAt(s)<=32;)s++;return s}function qg(o,s,u){return xd(o,s,u,!1),qg}function Kg(o,s){return xd(o,s,null,!0),Kg}function N_(o){Md(Ns,Hd,o,!0)}function Hd(o,s){for(let u=function E0(o){return function R_(o){Zl.key=0,Zl.keyEnd=0,Zl.value=0,Zl.valueEnd=0,Zl.textEnd=o.length}(o),A_(o,tf(o,0,Zl.textEnd))}(s);u>=0;u=A_(s,u))Ns(o,S_(s),!0)}function xd(o,s,u,m){const b=zn(),T=Kr(),F=N(2);T.firstUpdatePass&&F_(T,o,F,m),s!==Le&&$l(b,F,s)&&B_(T,T.data[wr()],b,b[11],o,b[F+1]=function F0(o,s){return null==o||("string"==typeof s?o+=s:"object"==typeof o&&(o=ze(gs(o)))),o}(s,u),m,F)}function Md(o,s,u,m){const b=Kr(),T=N(2);b.firstUpdatePass&&F_(b,null,T,m);const F=zn();if(u!==Le&&$l(F,T,u)){const G=b.data[wr()];if(V_(G,m)&&!P_(b,T)){let ne=m?G.classesWithoutHost:G.stylesWithoutHost;null!==ne&&(u=Ve(ne,u||"")),Hg(b,G,F,u,m)}else!function P0(o,s,u,m,b,T,F,G){b===Le&&(b=vt);let ne=0,Re=0,$e=0<b.length?b[0]:null,St=0<T.length?T[0]:null;for(;null!==$e||null!==St;){const ln=ne<b.length?b[ne+1]:void 0,Nn=Re<T.length?T[Re+1]:void 0;let Ii,oi=null;$e===St?(ne+=2,Re+=2,ln!==Nn&&(oi=St,Ii=Nn)):null===St||null!==$e&&$e<St?(ne+=2,oi=$e):(Re+=2,oi=St,Ii=Nn),null!==oi&&B_(o,s,u,m,oi,Ii,F,G),$e=ne<b.length?b[ne]:null,St=Re<T.length?T[Re]:null}}(b,G,F,F[11],F[T+1],F[T+1]=function N0(o,s,u){if(null==u||""===u)return vt;const m=[],b=gs(u);if(Array.isArray(b))for(let T=0;T<b.length;T++)o(m,b[T],!0);else if("object"==typeof b)for(const T in b)b.hasOwnProperty(T)&&o(m,T,b[T]);else"string"==typeof b&&s(m,b);return m}(o,s,u),m,T)}}function P_(o,s){return s>=o.expandoStartIndex}function F_(o,s,u,m){const b=o.data;if(null===b[u+1]){const T=b[wr()],F=P_(o,u);V_(T,m)&&null===s&&!F&&(s=!1),s=function I0(o,s,u,m){const b=Lt(o);let T=m?s.residualClasses:s.residualStyles;if(null===b)0===(m?s.classBindings:s.styleBindings)&&(u=qf(u=Qg(null,o,s,u,m),s.attrs,m),T=null);else{const F=s.directiveStylingLast;if(-1===F||o[F]!==b)if(u=Qg(b,o,s,u,m),null===T){let ne=function R0(o,s,u){const m=u?s.classBindings:s.styleBindings;if(0!==E(m))return o[xn(m)]}(o,s,m);void 0!==ne&&Array.isArray(ne)&&(ne=Qg(null,o,s,ne[1],m),ne=qf(ne,s.attrs,m),function O0(o,s,u,m){o[xn(u?s.classBindings:s.styleBindings)]=m}(o,s,m,ne))}else T=function k0(o,s,u){let m;const b=s.directiveEnd;for(let T=1+s.directiveStylingLast;T<b;T++)m=qf(m,o[T].hostAttrs,u);return qf(m,s.attrs,u)}(o,s,m)}return void 0!==T&&(m?s.residualClasses=T:s.residualStyles=T),u}(b,T,s,m),function b0(o,s,u,m,b,T){let F=T?s.classBindings:s.styleBindings,G=xn(F),ne=E(F);o[m]=u;let $e,Re=!1;if(Array.isArray(u)){const St=u;$e=St[1],(null===$e||Jl(St,$e)>0)&&(Re=!0)}else $e=u;if(b)if(0!==ne){const ln=xn(o[G+1]);o[m+1]=Fn(ln,G),0!==ln&&(o[ln+1]=U(o[ln+1],m)),o[G+1]=function I(o,s){return 131071&o|s<<17}(o[G+1],m)}else o[m+1]=Fn(G,0),0!==G&&(o[G+1]=U(o[G+1],m)),G=m;else o[m+1]=Fn(ne,0),0===G?G=m:o[ne+1]=U(o[ne+1],m),ne=m;Re&&(o[m+1]=g(o[m+1])),M_(o,$e,m,!0),M_(o,$e,m,!1),function w0(o,s,u,m,b){const T=b?o.residualClasses:o.residualStyles;null!=T&&"string"==typeof s&&Jl(T,s)>=0&&(u[m+1]=xt(u[m+1]))}(s,$e,o,m,T),F=Fn(G,ne),T?s.classBindings=F:s.styleBindings=F}(b,T,s,u,F,m)}}function Qg(o,s,u,m,b){let T=null;const F=u.directiveEnd;let G=u.directiveStylingLast;for(-1===G?G=u.directiveStart:G++;G<F&&(T=s[G],m=qf(m,T.hostAttrs,b),T!==o);)G++;return null!==o&&(u.directiveStylingLast=G),m}function qf(o,s,u){const m=u?1:2;let b=-1;if(null!==s)for(let T=0;T<s.length;T++){const F=s[T];"number"==typeof F?b=F:b===m&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Ns(o,F,!!u||s[++T]))}return void 0===o?null:o}function B_(o,s,u,m,b,T,F,G){if(!(3&s.type))return;const ne=o.data,Re=ne[G+1];Xp(function he(o){return 1==(1&o)}(Re)?U_(ne,s,u,b,E(Re),F):void 0)||(Xp(T)||function C(o){return 2==(2&o)}(Re)&&(T=U_(ne,null,u,b,G,F)),function tn(o,s,u,m,b){const T=pr(o);if(s)b?T?o.addClass(u,m):u.classList.add(m):T?o.removeClass(u,m):u.classList.remove(m);else{let F=-1===m.indexOf("-")?void 0:wa.DashCase;if(null==b)T?o.removeStyle(u,m,F):u.style.removeProperty(m);else{const G="string"==typeof b&&b.endsWith("!important");G&&(b=b.slice(0,-10),F|=wa.Important),T?o.setStyle(u,m,b,F):u.style.setProperty(m,b,G?"important":"")}}}(m,F,Tn(wr(),u),b,T))}function U_(o,s,u,m,b,T){const F=null===s;let G;for(;b>0;){const ne=o[b],Re=Array.isArray(ne),$e=Re?ne[1]:ne,St=null===$e;let ln=u[b+1];ln===Le&&(ln=St?vt:void 0);let Nn=St?Ql(ln,m):$e===m?ln:void 0;if(Re&&!Xp(Nn)&&(Nn=Ql(ne,m)),Xp(Nn)&&(G=Nn,F))return G;const oi=o[b+1];b=F?xn(oi):E(oi)}if(null!==s){let ne=T?s.residualClasses:s.residualStyles;null!=ne&&(G=Ql(ne,m))}return G}function Xp(o){return void 0!==o}function V_(o,s){return 0!=(o.flags&(s?16:32))}function H_(o,s=""){const u=zn(),m=Kr(),b=o+20,T=m.firstCreatePass?Rd(m,b,1,s,null):m.data[b],F=u[b]=pc(u[11],s);a(m,u,F,T),$r(T,!1)}function Jg(o){return eg("",o,""),Jg}function eg(o,s,u){const m=zn(),b=Bd(m,o,s,u);return b!==Le&&Fc(m,wr(),b),eg}function Xg(o,s,u,m,b){const T=zn(),F=function Kd(o,s,u,m,b,T){const G=qd(o,qo(),u,b);return N(2),G?s+it(u)+m+it(b)+T:Le}(T,o,s,u,m,b);return F!==Le&&Fc(T,wr(),F),Xg}function q_(o,s,u){Md(Ns,Hd,Bd(zn(),o,s,u),!0)}function em(o,s,u){const m=zn();return $l(m,me(),s)&&_c(Kr(),Sr(),m,o,s,m[11],u,!0),em}function tm(o,s,u){const m=zn();if($l(m,me(),s)){const T=Kr(),F=Sr();_c(T,F,m,o,s,Hh(Lt(T.data),F,m),u,!0)}return tm}const Ch=void 0;var tb=["en",[["a","p"],["AM","PM"],Ch],[["AM","PM"],Ch,Ch],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ch,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ch,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ch,"{1} 'at' {0}",Ch],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function eb(o){const u=Math.floor(Math.abs(o)),m=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===m?1:5}];let nf={};function nm(o){const s=function nb(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=sv(s);if(u)return u;const m=s.split("-")[0];if(u=sv(m),u)return u;if("en"===m)return tb;throw new Error(`Missing locale data for the locale "${o}".`)}function ov(o){return nm(o)[to.PluralCase]}function sv(o){return o in nf||(nf[o]=hi.ng&&hi.ng.common&&hi.ng.common.locales&&hi.ng.common.locales[o]),nf[o]}var to=(()=>((to=to||{})[to.LocaleId=0]="LocaleId",to[to.DayPeriodsFormat=1]="DayPeriodsFormat",to[to.DayPeriodsStandalone=2]="DayPeriodsStandalone",to[to.DaysFormat=3]="DaysFormat",to[to.DaysStandalone=4]="DaysStandalone",to[to.MonthsFormat=5]="MonthsFormat",to[to.MonthsStandalone=6]="MonthsStandalone",to[to.Eras=7]="Eras",to[to.FirstDayOfWeek=8]="FirstDayOfWeek",to[to.WeekendRange=9]="WeekendRange",to[to.DateFormat=10]="DateFormat",to[to.TimeFormat=11]="TimeFormat",to[to.DateTimeFormat=12]="DateTimeFormat",to[to.NumberSymbols=13]="NumberSymbols",to[to.NumberFormats=14]="NumberFormats",to[to.CurrencyCode=15]="CurrencyCode",to[to.CurrencySymbol=16]="CurrencySymbol",to[to.CurrencyName=17]="CurrencyName",to[to.Currencies=18]="Currencies",to[to.Directionality=19]="Directionality",to[to.PluralCase=20]="PluralCase",to[to.ExtraData=21]="ExtraData",to))();const ib=["zero","one","two","few","many"],tg="en-US",ng={marker:"element"},ig={marker:"ICU"};var Ja=(()=>((Ja=Ja||{})[Ja.SHIFT=2]="SHIFT",Ja[Ja.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ja[Ja.COMMENT=2]="COMMENT",Ja))();let av=tg;function lv(o,s,u){const m=s.insertBeforeIndex,b=Array.isArray(m)?m[0]:m;return null===b?_u(o,0,u):fe(u[b])}function cv(o,s,u,m,b){const T=s.insertBeforeIndex;if(Array.isArray(T)){let F=m,G=null;if(3&s.type||(G=F,F=b),null!==F&&0==(2&s.flags))for(let ne=1;ne<T.length;ne++)gc(o,F,u[T[ne]],G,!1)}}function uv(o,s){if(o.push(s),o.length>1)for(let u=o.length-2;u>=0;u--){const m=o[u];dv(m)||lb(m,s)&&null===cb(m)&&ub(m,s.index)}}function dv(o){return!(64&o.type)}function lb(o,s){return dv(s)||o.index>s.index}function cb(o){const s=o.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function ub(o,s){const u=o.insertBeforeIndex;Array.isArray(u)?u[0]=s:(i(lv,cv),o.insertBeforeIndex=s)}function Kf(o,s){const u=o.data[s];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function fb(o,s,u){const m=vf(o,u,64,null,null);return uv(s,m),m}function rg(o,s){const u=s[o.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function hv(o){return o>>>17}function fv(o){return(131070&o)>>>1}let Qf=0,Jf=0;function gv(o,s,u,m){const b=u[11];let F,T=null;for(let G=0;G<s.length;G++){const ne=s[G];if("string"==typeof ne){const Re=s[++G];null===u[Re]&&(u[Re]=pc(b,ne))}else if("number"==typeof ne)switch(1&ne){case 0:const Re=hv(ne);let $e,St;if(null===T&&(T=Re,F=Iu(b,m)),Re===T?($e=m,St=F):($e=null,St=fe(u[Re])),null!==St){const Ii=fv(ne);gc(b,St,u[Ii],$e,!1);const _r=Kf(o,Ii);if(null!==_r&&"object"==typeof _r){const gi=rg(_r,u);null!==gi&&gv(o,_r.create[gi],u,u[_r.anchorIdx])}}break;case 1:const Nn=s[++G],oi=s[++G];kd(b,Tn(ne>>>1,u),null,null,Nn,oi,null)}else switch(ne){case ig:const Re=s[++G],$e=s[++G];null===u[$e]&&so(u[$e]=gd(b,Re),u);break;case ng:const St=s[++G],ln=s[++G];null===u[ln]&&so(u[ln]=sd(b,St,null),u)}}}function mv(o,s,u,m,b){for(let T=0;T<u.length;T++){const F=u[T],G=u[++T];if(F&b){let ne="";for(let Re=T+1;Re<=T+G;Re++){const $e=u[Re];if("string"==typeof $e)ne+=$e;else if("number"==typeof $e)if($e<0)ne+=it(s[m-$e]);else{const St=$e>>>2;switch(3&$e){case 1:const ln=u[++Re],Nn=u[++Re],oi=o.data[St];"string"==typeof oi?kd(s[11],s[St],null,oi,ln,ne,Nn):_c(o,oi,s,ln,ne,s[11],Nn,!1);break;case 0:const Ii=s[St];null!==Ii&&od(s[11],Ii,ne);break;case 2:vb(o,Kf(o,St),s,ne);break;case 3:_v(o,Kf(o,St),m,s)}}}}else{const ne=u[T+1];if(ne>0&&3==(3&ne)){const $e=Kf(o,ne>>>2);s[$e.currentCaseLViewIndex]<0&&_v(o,$e,m,s)}}T+=G}}function _v(o,s,u,m){let b=m[s.currentCaseLViewIndex];if(null!==b){let T=Qf;b<0&&(b=m[s.currentCaseLViewIndex]=~b,T=-1),mv(o,m,s.update[b],u,T)}}function vb(o,s,u,m){const b=function yb(o,s){let u=o.cases.indexOf(s);if(-1===u)switch(o.type){case 1:{const m=function rb(o,s){const u=ov(s)(parseInt(o,10)),m=ib[u];return void 0!==m?m:"other"}(s,function ab(){return av}());u=o.cases.indexOf(m),-1===u&&"other"!==m&&(u=o.cases.indexOf("other"));break}case 0:u=o.cases.indexOf("other")}return-1===u?null:u}(s,m);if(rg(s,u)!==b&&(vv(o,s,u),u[s.currentCaseLViewIndex]=null===b?null:~b,null!==b)){const F=u[s.anchorIdx];F&&gv(o,s.create[b],u,F)}}function vv(o,s,u){let m=rg(s,u);if(null!==m){const b=s.remove[m];for(let T=0;T<b.length;T++){const F=b[T];if(F>0){const G=Tn(F,u);null!==G&&M(u[11],G)}else vv(o,Kf(o,~F),u)}}}function bb(){const o=[];let u,m,s=-1;function T(G,ne){s=0;const Re=rg(G,ne);m=null!==Re?G.remove[Re]:vt}function F(){if(s<m.length){const G=m[s++];return G>0?u[G]:(o.push(s,m),T(u[1].data[~G],u),F())}return 0===o.length?null:(m=o.pop(),s=o.pop(),F())}return function b(G,ne){for(u=ne;o.length;)o.pop();return T(G.value,ne),F}}const og=/\ufffd(\d+):?\d*\ufffd/gi,Cb=/\ufffd(\d+)\ufffd/,bv=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Db=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Eb=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Tb=/\uE500/g;function wv(o,s,u,m,b,T,F){const G=Od(o,m,1,null);let ne=G<<Ja.SHIFT,Re=Nr();s===Re&&(Re=null),null===Re&&(ne|=Ja.APPEND_EAGERLY),F&&(ne|=Ja.COMMENT,function Mu(o){void 0===hc&&(hc=o())}(bb)),b.push(ne,null===T?"":T);const $e=vf(o,G,F?32:1,null===T?"":T,null);uv(u,$e);const St=$e.index;return $r($e,!1),null!==Re&&s!==Re&&function hb(o,s){let u=o.insertBeforeIndex;null===u?(i(lv,cv),u=o.insertBeforeIndex=[null,s]):(function tt(o,s,u){o!=s&&bn(u,o,s,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(s))}(Re,St),$e}function Sb(o,s,u,m,b,T,F){const G=F.match(og),ne=wv(o,s,u,T,m,G?null:F,!1);G&&rf(b,F,ne.index,null,0,null)}function rf(o,s,u,m,b,T){const F=o.length,G=F+1;o.push(null,null);const ne=F+2,Re=s.split(og);let $e=0;for(let St=0;St<Re.length;St++){const ln=Re[St];if(1&St){const Nn=b+parseInt(ln,10);o.push(-1-Nn),$e|=Cv(Nn)}else""!==ln&&o.push(ln)}return o.push(u<<2|(m?1:0)),m&&o.push(m,T),o[F]=$e,o[G]=o.length-ne,$e}function Cv(o){return 1<<Math.min(o,31)}function Dv(o){let s,T,u="",m=0,b=!1;for(;null!==(s=Db.exec(o));)b?s[0]===`\ufffd/*${T}\ufffd`&&(m=s.index,b=!1):(u+=o.substring(m,s.index+s[0].length),T=s[1],b=!0);return u+=o.substr(m),u}function Ev(o,s,u,m,b,T){let F=0;const G={type:b.type,currentCaseLViewIndex:Od(o,s,1,null),anchorIdx:T,cases:[],create:[],remove:[],update:[]};(function Fb(o,s,u){o.push(Cv(s.mainBinding),2,-1-s.mainBinding,u<<2|2)})(u,b,T),function db(o,s,u){const m=o.data[s];null===m?o.data[s]=u:m.value=u}(o,T,G);const ne=b.values;for(let Re=0;Re<ne.length;Re++){const $e=ne[Re],St=[];for(let ln=0;ln<$e.length;ln++){const Nn=$e[ln];if("string"!=typeof Nn){const oi=St.push(Nn)-1;$e[ln]=`\x3c!--\ufffd${oi}\ufffd--\x3e`}}F=Nb(o,G,s,u,m,b.cases[Re],$e.join(""),St)|F}F&&function Lb(o,s,u){o.push(s,1,u<<2|3)}(u,F,T)}function kb(o){const s=[],u=[];let m=1,b=0;const T=im(o=o.replace(bv,function(F,G,ne){return m="select"===ne?0:1,b=parseInt(G.substr(1),10),""}));for(let F=0;F<T.length;){let G=T[F++].trim();1===m&&(G=G.replace(/\s*(?:=)?(\w+)\s*/,"$1")),G.length&&s.push(G);const ne=im(T[F++]);s.length>u.length&&u.push(ne)}return{type:m,mainBinding:b,cases:s,values:u}}function im(o){if(!o)return[];let s=0;const u=[],m=[],b=/[{}]/g;let T;for(b.lastIndex=0;T=b.exec(o);){const G=T.index;if("}"==T[0]){if(u.pop(),0==u.length){const ne=o.substring(s,G);bv.test(ne)?m.push(kb(ne)):m.push(ne),s=G+1}}else{if(0==u.length){const ne=o.substring(s,G);m.push(ne),s=G+1}u.push("{")}}const F=o.substring(s);return m.push(F),m}function Nb(o,s,u,m,b,T,F,G){const ne=[],Re=[],$e=[];s.cases.push(T),s.create.push(ne),s.remove.push(Re),s.update.push($e);const ln=xc(Jo()).getInertBodyElement(F),Nn=Ic(ln)||ln;return Nn?Tv(o,s,u,m,ne,Re,$e,Nn,b,G,0):0}function Tv(o,s,u,m,b,T,F,G,ne,Re,$e){let St=0,ln=G.firstChild;for(;ln;){const Nn=Od(o,u,1,null);switch(ln.nodeType){case Node.ELEMENT_NODE:const oi=ln,Ii=oi.tagName.toLowerCase();if($a.hasOwnProperty(Ii)){rm(b,ng,Ii,ne,Nn),o.data[Nn]=Ii;const Gr=oi.attributes;for(let rs=0;rs<Gr.length;rs++){const Hs=Gr.item(rs),ed=Hs.name.toLowerCase();Hs.value.match(og)?ll.hasOwnProperty(ed)&&rf(F,Hs.value,Nn,Hs.name,0,lc[ed]?Cl:al[ed]?Ul:null):Bb(b,Nn,Hs)}St=Tv(o,s,u,m,b,T,F,ln,Nn,Re,$e+1)|St,xv(T,Nn,$e)}break;case Node.TEXT_NODE:const Zi=ln.textContent||"",_r=Zi.match(og);rm(b,null,_r?"":Zi,ne,Nn),xv(T,Nn,$e),_r&&(St=rf(F,Zi,Nn,null,0,null)|St);break;case Node.COMMENT_NODE:const gi=Cb.exec(ln.textContent||"");if(gi){const rs=Re[parseInt(gi[1],10)];rm(b,ig,"",ne,Nn),Ev(o,u,m,ne,rs,Nn),Pb(T,Nn,$e)}}ln=ln.nextSibling}return St}function xv(o,s,u){0===u&&o.push(s)}function Pb(o,s,u){0===u&&(o.push(~s),o.push(s))}function rm(o,s,u,m,b){null!==s&&o.push(s),o.push(u,b,function pb(o,s,u){return o|s<<17|u<<1}(0,m,b))}function Bb(o,s,u){o.push(s<<1|1,u.name,u.value)}function Sv(o,s,u=-1){const m=Kr(),b=zn(),T=20+o,F=No(m.consts,s),G=Nr();m.firstCreatePass&&function Mb(o,s,u,m,b,T){const F=Nr(),G=[],ne=[],Re=[[]];b=function Ob(o,s){if(function Rb(o){return-1===o}(s))return Dv(o);{const u=o.indexOf(`:${s}\ufffd`)+2+s.toString().length,m=o.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return Dv(o.substring(u,m))}}(b,T);const $e=function xb(o){return o.replace(Tb," ")}(b).split(Eb);for(let St=0;St<$e.length;St++){let ln=$e[St];if(0==(1&St)){const Nn=im(ln);for(let oi=0;oi<Nn.length;oi++){let Ii=Nn[oi];if(0==(1&oi)){const Zi=Ii;""!==Zi&&Sb(o,F,Re[0],G,ne,u,Zi)}else{const Zi=Ii;if("object"!=typeof Zi)throw new Error(`Unable to parse ICU expression in "${b}" message.`);Ev(o,u,ne,s,Zi,wv(o,F,Re[0],u,G,"",!0).index)}}}else{const Nn=47===ln.charCodeAt(0),Ii=(ln.charCodeAt(Nn?1:0),20+Number.parseInt(ln.substring(Nn?2:1)));if(Nn)Re.shift(),$r(Nr(),!1);else{const Zi=fb(o,Re[0],Ii);Re.unshift([]),$r(Zi,!0)}}}o.data[m]={create:G,update:ne}}(m,null===G?0:G.index,b,T,F,u);const ne=m.data[T],$e=cd(m,G===b[6]?null:G,b);(function _b(o,s,u,m){const b=o[11];for(let T=0;T<s.length;T++){const F=s[T++],G=s[T],ne=(F&Ja.COMMENT)===Ja.COMMENT,Re=(F&Ja.APPEND_EAGERLY)===Ja.APPEND_EAGERLY,$e=F>>>Ja.SHIFT;let St=o[$e];null===St&&(St=o[$e]=ne?b.createComment(G):pc(b,G)),Re&&null!==u&&gc(b,u,St,m,!1)}})(b,ne.create,$e,G&&8&G.type?b[G.index]:null),oe(!0)}function Iv(o,s,u){Sv(o,s,u),function Av(){oe(!1)}()}function om(o){return function gb(o){o&&(Qf|=1<<Math.min(Jf,31)),Jf++}($l(zn(),me(),o)),om}function Rv(o){!function mb(o,s,u){if(Jf>0){const m=o.data[u];mv(o,s,Array.isArray(m)?m:m.update,qo()-Jf-1,Qf)}Qf=0,Jf=0}(Kr(),zn(),o+20)}function sm(o,s,u,m,b){if(o=je(o),Array.isArray(o))for(let T=0;T<o.length;T++)sm(o[T],s,u,m,b);else{const T=Kr(),F=zn();let G=ih(o)?o:je(o.provide),ne=Pf(o);const Re=Qi(),$e=1048575&Re.providerIndexes,St=Re.directiveStart,ln=Re.providerIndexes>>20;if(ih(o)||!o.multi){const Nn=new D(ne,b,Zf),oi=lm(G,s,b?$e:$e+ln,St);-1===oi?(Oi(Je(Re,F),T,G),am(T,o,s.length),s.push(G),Re.directiveStart++,Re.directiveEnd++,b&&(Re.providerIndexes+=1048576),u.push(Nn),F.push(Nn)):(u[oi]=Nn,F[oi]=Nn)}else{const Nn=lm(G,s,$e+ln,St),oi=lm(G,s,$e,$e+ln),Ii=Nn>=0&&u[Nn],Zi=oi>=0&&u[oi];if(b&&!Zi||!b&&!Ii){Oi(Je(Re,F),T,G);const _r=function Jb(o,s,u,m,b){const T=new D(o,u,Zf);return T.multi=[],T.index=s,T.componentProviders=0,Ov(T,b,m&&!u),T}(b?Qb:Kb,u.length,b,m,ne);!b&&Zi&&(u[oi].providerFactory=_r),am(T,o,s.length,0),s.push(G),Re.directiveStart++,Re.directiveEnd++,b&&(Re.providerIndexes+=1048576),u.push(_r),F.push(_r)}else am(T,o,Nn>-1?Nn:oi,Ov(u[b?oi:Nn],ne,!b&&m));!b&&m&&Zi&&u[oi].componentProviders++}}}function am(o,s,u,m){const b=ih(s),T=function Og(o){return!!o.useClass}(s);if(b||T){const ne=(T?je(s.useClass):s).prototype.ngOnDestroy;if(ne){const Re=o.destroyHooks||(o.destroyHooks=[]);if(!b&&s.multi){const $e=Re.indexOf(u);-1===$e?Re.push(u,[m,ne]):Re[$e+1].push(m,ne)}else Re.push(u,ne)}}}function Ov(o,s,u){return u&&o.componentProviders++,o.multi.push(s)-1}function lm(o,s,u,m){for(let b=u;b<m;b++)if(s[b]===o)return b;return-1}function Kb(o,s,u,m){return cm(this.multi,[])}function Qb(o,s,u,m){const b=this.multi;let T;if(this.providerFactory){const F=this.providerFactory.componentProviders,G=Fo(u,u[1],this.providerFactory.index,m);T=G.slice(0,F),cm(b,T);for(let ne=F;ne<G.length;ne++)T.push(G[ne])}else T=[],cm(b,T);return T}function cm(o,s){for(let u=0;u<o.length;u++)s.push((0,o[u])());return s}function kv(o,s=[]){return u=>{u.providersResolver=(m,b)=>function qb(o,s,u){const m=Kr();if(m.firstCreatePass){const b=Xi(o);sm(u,m.data,m.blueprint,b,!0),sm(s,m.data,m.blueprint,b,!1)}}(m,b?b(o):o,s)}}class Nv{}class tw{resolveComponentFactory(s){throw function ew(o){const s=Error(`No component factory found for ${ze(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let sg=(()=>{class o{}return o.NULL=new tw,o})();function nw(){return sf(Qi(),zn())}function sf(o,s){return new ep(Zn(o,s))}let ep=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=nw,o})();function iw(o){return o instanceof ep?o.nativeElement:o}class Fv{}let rw=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function sw(){const o=zn(),u=br(Qi().index,o);return function ow(o){return o[11]}(sr(u)?u:o)}(),o})(),aw=(()=>{class o{}return o.\u0275prov=Ht({token:o,providedIn:"root",factory:()=>null}),o})();class Lv{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Bv=new Lv("13.2.7"),um={};function ag(o,s,u,m,b=!1){for(;null!==u;){const T=s[u.index];if(null!==T&&m.push(fe(T)),vr(T))for(let G=10;G<T.length;G++){const ne=T[G],Re=ne[1].firstChild;null!==Re&&ag(ne[1],ne,Re,m)}const F=u.type;if(8&F)ag(o,s,u.child,m);else if(32&F){const G=cu(u,s);let ne;for(;ne=G();)m.push(ne)}else if(16&F){const G=h(s,u);if(Array.isArray(G))m.push(...G);else{const ne=dl(s[16]);ag(ne[1],ne,G,m,!0)}}u=b?u.projectionNext:u.next}return m}class tp{constructor(s,u){this._lView=s,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,u=s[1];return ag(u,s,u.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(vr(s)){const u=s[8],m=u?u.indexOf(this):-1;m>-1&&(zu(s,m),pl(u,m))}this._attachedToViewContainer=!1}vd(this._lView[1],this._lView)}onDestroy(s){Rh(this._lView[1],this._lView,null,s)}markForCheck(){nh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Pc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Rf(o,s,u){Is(!0);try{Pc(o,s,u)}finally{Is(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ke(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function md(o,s){ge(o,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ke(902,"");this._appRef=s}}class lw extends tp{constructor(s){super(s),this._view=s}detectChanges(){Vh(this._view)}checkNoChanges(){!function Of(o){Is(!0);try{Vh(o)}finally{Is(!1)}}(this._view)}get context(){return null}}class Uv extends sg{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const u=Zt(s);return new dm(u,this.ngModule)}}function Vv(o){const s=[];for(let u in o)o.hasOwnProperty(u)&&s.push({propName:o[u],templateName:u});return s}class dm extends Nv{constructor(s,u){super(),this.componentDef=s,this.ngModule=u,this.componentType=s.type,this.selector=function j(o){return o.map(P).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Vv(this.componentDef.inputs)}get outputs(){return Vv(this.componentDef.outputs)}create(s,u,m,b){const T=(b=b||this.ngModule)?function uw(o,s){return{get:(u,m,b)=>{const T=o.get(u,um,b);return T!==um||m===um?T:s.get(u,m,b)}}}(s,b.injector):s,F=T.get(Fv,le),G=T.get(aw,null),ne=F.createRenderer(null,this.componentDef),Re=this.componentDef.selectors[0][0]||"div",$e=m?function wf(o,s,u){if(pr(o))return o.selectRootElement(s,u===nn.ShadowDom);let m="string"==typeof s?o.querySelector(s):s;return m.textContent="",m}(ne,m,this.componentDef.encapsulation):sd(F.createRenderer(null,this.componentDef),Re,function cw(o){const s=o.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(Re)),St=this.componentDef.onPush?576:528,ln=function ko(o,s){return{components:[],scheduler:o||El,clean:kf,playerHandler:s||null,flags:0}}(),Nn=Ah(0,null,null,1,0,null,null,null,null,null),oi=lh(null,Nn,ln,St,null,null,F,ne,G,T);let Ii,Zi;cr(oi);try{const _r=function Pd(o,s,u,m,b,T){const F=u[1];u[20]=o;const ne=Rd(F,20,2,"#host",null),Re=ne.mergedAttrs=s.hostAttrs;null!==Re&&(Nd(ne,Re,!0),null!==o&&(Br(b,o,Re),null!==ne.classes&&Rn(b,o,ne.classes),null!==ne.styles&&dn(b,o,ne.styles)));const $e=m.createRenderer(o,s),St=lh(u,dp(s),null,s.onPush?64:16,u[20],ne,m,$e,T||null,null);return F.firstCreatePass&&(Oi(Je(ne,u),F,s.type),Fh(F,ne),yp(ne,u.length,1)),Uh(u,St),u[20]=St}($e,this.componentDef,oi,F,ne);if($e)if(m)Br(ne,$e,["ng-version",Bv.full]);else{const{attrs:gi,classes:Gr}=function _e(o){const s=[],u=[];let m=1,b=2;for(;m<o.length;){let T=o[m];if("string"==typeof T)2===b?""!==T&&s.push(T,o[++m]):8===b&&u.push(T);else{if(!jr(b))break;b=T}m++}return{attrs:s,classes:u}}(this.componentDef.selectors[0]);gi&&Br(ne,$e,gi),Gr&&Gr.length>0&&Rn(ne,$e,Gr.join(" "))}if(Zi=Zr(Nn,20),void 0!==u){const gi=Zi.projection=[];for(let Gr=0;Gr<this.ngContentSelectors.length;Gr++){const rs=u[Gr];gi.push(null!=rs?Array.from(rs):null)}}Ii=function Ss(o,s,u,m,b){const T=u[1],F=function Tg(o,s,u){const m=Qi();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),bp(o,m,s,Od(o,s,1,null),u));const b=Fo(s,o,m.directiveStart,m);so(b,s);const T=Zn(m,s);return T&&so(T,s),b}(T,u,s);if(m.components.push(F),o[8]=F,b&&b.forEach(ne=>ne(F,s)),s.contentQueries){const ne=Qi();s.contentQueries(1,F,ne.directiveStart)}const G=Qi();return!T.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Pr(G.index),Ph(u[1],G,0,G.directiveStart,G.directiveEnd,s),Ef(s,F)),F}(_r,this.componentDef,oi,ln,[qh]),ch(Nn,oi,null)}finally{io()}return new hw(this.componentType,Ii,sf(Zi,oi),oi,Zi)}}class hw extends class Xb{}{constructor(s,u,m,b,T){super(),this.location=m,this._rootLView=b,this._tNode=T,this.instance=u,this.hostView=this.changeDetectorRef=new lw(b),this.componentType=s}get injector(){return new us(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class af{}class Hv{}const lf=new Map;class zv extends af{constructor(s,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Uv(this);const m=Et(s);this._bootstrapComponents=ul(m.bootstrap),this._r3Injector=Ap(s,u,[{provide:af,useValue:this},{provide:sg,useValue:this.componentFactoryResolver}],ze(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,u=qu.THROW_IF_NOT_FOUND,m=Qn.Default){return s===qu||s===af||s===dh?this:this._r3Injector.get(s,u,m)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class hm extends Hv{constructor(s){super(),this.moduleType=s,null!==Et(s)&&function pw(o){const s=new Set;!function u(m){const b=Et(m,!0),T=b.id;null!==T&&(function jv(o,s,u){if(s&&s!==u)throw new Error(`Duplicate module registered for ${o} - ${ze(s)} vs ${ze(s.name)}`)}(T,lf.get(T),m),lf.set(T,m));const F=ul(b.imports);for(const G of F)s.has(G)||(s.add(G),u(G))}(o)}(s)}create(s){return new zv(this.moduleType,s)}}function Yv(o,s,u,m){return Zv(zn(),mr(),o,s,u,m)}function $v(o,s,u,m,b){return function qv(o,s,u,m,b,T,F){const G=s+u;return qd(o,G,b,T)?Ju(o,G+2,F?m.call(F,b,T):m(b,T)):np(o,G+2)}(zn(),mr(),o,s,u,m,b)}function Wv(o,s,u,m,b,T){return function Kv(o,s,u,m,b,T,F,G){const ne=s+u;return function yh(o,s,u,m,b){const T=qd(o,s,u,m);return $l(o,s+2,b)||T}(o,ne,b,T,F)?Ju(o,ne+3,G?m.call(G,b,T,F):m(b,T,F)):np(o,ne+3)}(zn(),mr(),o,s,u,m,b,T)}function np(o,s){const u=o[s];return u===Le?void 0:u}function Zv(o,s,u,m,b,T){const F=s+u;return $l(o,F,b)?Ju(o,F+1,T?m.call(T,b):m(b)):np(o,F+1)}function Xv(o,s){const u=Kr();let m;const b=o+20;u.firstCreatePass?(m=function Cw(o,s){if(s)for(let u=s.length-1;u>=0;u--){const m=s[u];if(o===m.name)return m}}(s,u.pipeRegistry),u.data[b]=m,m.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(b,m.onDestroy)):m=u.data[b];const T=m.factory||(m.factory=ft(m.type)),F=Yt(Zf);try{const G=Xa(!1),ne=T();return Xa(G),function $p(o,s,u,m){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),s[u]=m}(u,zn(),b,ne),ne}finally{Yt(F)}}function ey(o,s,u){const m=o+20,b=zn(),T=Ir(b,m);return function ip(o,s){return o[1].data[s].pure}(b,m)?Zv(b,mr(),s,T.transform,u,T):T.transform(u)}function fm(o){return s=>{setTimeout(o,void 0,s)}}const jd=class Mw extends d.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,u,m){var b,T,F;let G=s,ne=u||(()=>null),Re=m;if(s&&"object"==typeof s){const St=s;G=null===(b=St.next)||void 0===b?void 0:b.bind(St),ne=null===(T=St.error)||void 0===T?void 0:T.bind(St),Re=null===(F=St.complete)||void 0===F?void 0:F.bind(St)}this.__isAsync&&(ne=fm(ne),G&&(G=fm(G)),Re&&(Re=fm(Re)));const $e=super.subscribe({next:G,error:ne,complete:Re});return s instanceof _.w0&&s.add($e),$e}};function Sw(){return this._results[Ld()]()}class lg{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Ld(),m=lg.prototype;m[u]||(m[u]=Sw)}get changes(){return this._changes||(this._changes=new jd)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,u){return this._results.reduce(s,u)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,u){const m=this;m.dirty=!1;const b=zo(s);(this._changesDetected=!function Xc(o,s,u){if(o.length!==s.length)return!1;for(let m=0;m<o.length;m++){let b=o[m],T=s[m];if(u&&(b=u(b),T=u(T)),T!==b)return!1}return!0}(m._results,b,u))&&(m._results=b,m.length=b.length,m.last=b[this.length-1],m.first=b[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let rp=(()=>{class o{}return o.__NG_ELEMENT_ID__=Rw,o})();const Aw=rp,Iw=class extends Aw{constructor(s,u,m){super(),this._declarationLView=s,this._declarationTContainer=u,this.elementRef=m}createEmbeddedView(s){const u=this._declarationTContainer.tViews,m=lh(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null);m[17]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[19];return null!==T&&(m[19]=T.createEmbeddedView(u)),ch(u,m,s),new tp(m)}};function Rw(){return cg(Qi(),zn())}function cg(o,s){return 4&o.type?new Iw(s,o,sf(o,s)):null}let ug=(()=>{class o{}return o.__NG_ELEMENT_ID__=Ow,o})();function Ow(){return iy(Qi(),zn())}const kw=ug,ty=class extends kw{constructor(s,u,m){super(),this._lContainer=s,this._hostTNode=u,this._hostLView=m}get element(){return sf(this._hostTNode,this._hostLView)}get injector(){return new us(this._hostTNode,this._hostLView)}get parentInjector(){const s=Kn(this._hostTNode,this._hostLView);if(Rs(s)){const u=jo(s,this._hostLView),m=Ca(s);return new us(u[1].data[m+8],u)}return new us(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const u=ny(this._lContainer);return null!==u&&u[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,u,m){const b=s.createEmbeddedView(u||{});return this.insert(b,m),b}createComponent(s,u,m,b,T){const F=s&&!function ca(o){return"function"==typeof o}(s);let G;if(F)G=u;else{const St=u||{};G=St.index,m=St.injector,b=St.projectableNodes,T=St.ngModuleRef}const ne=F?s:new dm(Zt(s)),Re=m||this.parentInjector;if(!T&&null==ne.ngModule){const ln=(F?Re:this.parentInjector).get(af,null);ln&&(T=ln)}const $e=ne.create(Re,b,void 0,T);return this.insert($e.hostView,G),$e}insert(s,u){const m=s._lView,b=m[1];if(function lo(o){return vr(o[3])}(m)){const $e=this.indexOf(s);if(-1!==$e)this.detach($e);else{const St=m[3],ln=new ty(St,St[6],St[3]);ln.detach(ln.indexOf(s))}}const T=this._adjustIndex(u),F=this._lContainer;!function Au(o,s,u,m){const b=10+m,T=u.length;m>0&&(u[b-1][4]=s),m<T-10?(s[4]=u[b],fl(u,10+m,s)):(u.push(s),s[4]=null),s[3]=u;const F=s[17];null!==F&&u!==F&&function _d(o,s){const u=o[9];s[16]!==s[3][3][16]&&(o[2]=!0),null===u?o[9]=[s]:u.push(s)}(F,s);const G=s[19];null!==G&&G.insertView(o),s[2]|=128}(b,m,F,T);const G=y(T,F),ne=m[11],Re=Iu(ne,F[7]);return null!==Re&&function Ka(o,s,u,m,b,T){m[0]=b,m[6]=s,ge(o,m,u,1,b,T)}(b,F[6],ne,m,Re,G),s.attachToViewContainerRef(),fl(pm(F),T,s),s}move(s,u){return this.insert(s,u)}indexOf(s){const u=ny(this._lContainer);return null!==u?u.indexOf(s):-1}remove(s){const u=this._adjustIndex(s,-1),m=zu(this._lContainer,u);m&&(pl(pm(this._lContainer),u),vd(m[1],m))}detach(s){const u=this._adjustIndex(s,-1),m=zu(this._lContainer,u);return m&&null!=pl(pm(this._lContainer),u)?new tp(m):null}_adjustIndex(s,u=0){return null==s?this.length+u:s}};function ny(o){return o[8]}function pm(o){return o[8]||(o[8]=[])}function iy(o,s){let u;const m=s[o.index];if(vr(m))u=m;else{let b;if(8&o.type)b=fe(m);else{const T=s[11];b=T.createComment("");const F=Zn(o,s);gc(T,Iu(T,F),b,function mo(o,s){return pr(o)?o.nextSibling(s):s.nextSibling}(T,F),!1)}s[o.index]=u=Lh(m,s,b,o),Uh(s,u)}return new ty(u,o,s)}class gm{constructor(s){this.queryList=s,this.matches=null}clone(){return new gm(this.queryList)}setDirty(){this.queryList.setDirty()}}class mm{constructor(s=[]){this.queries=s}createEmbeddedView(s){const u=s.queries;if(null!==u){const m=null!==s.contentQueries?s.contentQueries[0]:u.length,b=[];for(let T=0;T<m;T++){const F=u.getByIndex(T);b.push(this.queries[F.indexInDeclarationView].clone())}return new mm(b)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let u=0;u<this.queries.length;u++)null!==hy(s,u).matches&&this.queries[u].setDirty()}}class ry{constructor(s,u,m=null){this.predicate=s,this.flags=u,this.read=m}}class _m{constructor(s=[]){this.queries=s}elementStart(s,u){for(let m=0;m<this.queries.length;m++)this.queries[m].elementStart(s,u)}elementEnd(s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(s)}embeddedTView(s){let u=null;for(let m=0;m<this.length;m++){const b=null!==u?u.length:0,T=this.getByIndex(m).embeddedTView(s,b);T&&(T.indexInDeclarationView=m,null!==u?u.push(T):u=[T])}return null!==u?new _m(u):null}template(s,u){for(let m=0;m<this.queries.length;m++)this.queries[m].template(s,u)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class vm{constructor(s,u=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(s,u){this.isApplyingToNode(u)&&this.matchTNode(s,u)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,u){this.elementStart(s,u)}embeddedTView(s,u){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,u),new vm(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let m=s.parent;for(;null!==m&&8&m.type&&m.index!==u;)m=m.parent;return u===(null!==m?m.index:-1)}return this._appliesToNextNode}matchTNode(s,u){const m=this.metadata.predicate;if(Array.isArray(m))for(let b=0;b<m.length;b++){const T=m[b];this.matchTNodeWithReadOption(s,u,Fw(u,T)),this.matchTNodeWithReadOption(s,u,Ea(u,s,T,!1,!1))}else m===rp?4&u.type&&this.matchTNodeWithReadOption(s,u,-1):this.matchTNodeWithReadOption(s,u,Ea(u,s,m,!1,!1))}matchTNodeWithReadOption(s,u,m){if(null!==m){const b=this.metadata.read;if(null!==b)if(b===ep||b===ug||b===rp&&4&u.type)this.addMatch(u.index,-2);else{const T=Ea(u,s,b,!1,!1);null!==T&&this.addMatch(u.index,T)}else this.addMatch(u.index,m)}}addMatch(s,u){null===this.matches?this.matches=[s,u]:this.matches.push(s,u)}}function Fw(o,s){const u=o.localNames;if(null!==u)for(let m=0;m<u.length;m+=2)if(u[m]===s)return u[m+1];return null}function Bw(o,s,u,m){return-1===u?function Lw(o,s){return 11&o.type?sf(o,s):4&o.type?cg(o,s):null}(s,o):-2===u?function Uw(o,s,u){return u===ep?sf(s,o):u===rp?cg(s,o):u===ug?iy(s,o):void 0}(o,s,m):Fo(o,o[1],u,s)}function oy(o,s,u,m){const b=s[19].queries[m];if(null===b.matches){const T=o.data,F=u.matches,G=[];for(let ne=0;ne<F.length;ne+=2){const Re=F[ne];G.push(Re<0?null:Bw(s,T[Re],F[ne+1],u.metadata.read))}b.matches=G}return b.matches}function ym(o,s,u,m){const b=o.queries.getByIndex(u),T=b.matches;if(null!==T){const F=oy(o,s,b,u);for(let G=0;G<T.length;G+=2){const ne=T[G];if(ne>0)m.push(F[G/2]);else{const Re=T[G+1],$e=s[-ne];for(let St=10;St<$e.length;St++){const ln=$e[St];ln[17]===ln[3]&&ym(ln[1],ln,Re,m)}if(null!==$e[9]){const St=$e[9];for(let ln=0;ln<St.length;ln++){const Nn=St[ln];ym(Nn[1],Nn,Re,m)}}}}}return m}function sy(o){const s=zn(),u=Kr(),m=Dn();qn(m+1);const b=hy(u,m);if(o.dirty&&gr(s)===(2==(2&b.metadata.flags))){if(null===b.matches)o.reset([]);else{const T=b.crossesNgTemplate?ym(u,s,m,[]):oy(u,s,b,m);o.reset(T,iw),o.notifyOnChanges()}return!0}return!1}function ay(o,s,u){const m=Kr();m.firstCreatePass&&(dy(m,new ry(o,s,u),-1),2==(2&s)&&(m.staticViewQueries=!0)),uy(m,zn(),s)}function ly(o,s,u,m){const b=Kr();if(b.firstCreatePass){const T=Qi();dy(b,new ry(s,u,m),T.index),function Hw(o,s){const u=o.contentQueries||(o.contentQueries=[]);s!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,s)}(b,o),2==(2&u)&&(b.staticContentQueries=!0)}uy(b,zn(),u)}function cy(){return function Vw(o,s){return o[19].queries[s].queryList}(zn(),Dn())}function uy(o,s,u){const m=new lg(4==(4&u));Rh(o,s,m,m.destroy),null===s[19]&&(s[19]=new mm),s[19].queries.push(new gm(m))}function dy(o,s,u){null===o.queries&&(o.queries=new _m),o.queries.track(new vm(s,u))}function hy(o,s){return o.queries.getByIndex(s)}function fy(o,s){return cg(o,s)}function fg(...o){}const Iy=new uo("Application Initializer");let Tm=(()=>{class o{constructor(u){this.appInits=u,this.resolve=fg,this.reject=fg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((m,b)=>{this.resolve=m,this.reject=b})}runInitializers(){if(this.initialized)return;const u=[],m=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let b=0;b<this.appInits.length;b++){const T=this.appInits[b]();if(zg(T))u.push(T);else if(f_(T)){const F=new Promise((G,ne)=>{T.subscribe({complete:G,error:ne})});u.push(F)}}Promise.all(u).then(()=>{m()}).catch(b=>{this.reject(b)}),0===u.length&&m(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(Ko(Iy,8))},o.\u0275prov=Ht({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Ry=new uo("AppId",{providedIn:"root",factory:function Oy(){return`${xm()}${xm()}${xm()}`}});function xm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ky=new uo("Platform Initializer"),Ny=new uo("Platform ID"),Py=new uo("appBootstrapListener");let Fy=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Ht({token:o,factory:o.\u0275fac}),o})();const Mm=new uo("LocaleId",{providedIn:"root",factory:()=>Cu(Mm,Qn.Optional|Qn.SkipSelf)||function rC(){return"undefined"!=typeof $localize&&$localize.locale||tg}()}),oC=new uo("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class sC{constructor(s,u){this.ngModuleFactory=s,this.componentFactories=u}}let aC=(()=>{class o{compileModuleSync(u){return new hm(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const m=this.compileModuleSync(u),T=ul(Et(u).declarations).reduce((F,G)=>{const ne=Zt(G);return ne&&F.push(new dm(ne)),F},[]);return new sC(m,T)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Ht({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const cC=(()=>Promise.resolve(0))();function Sm(o){"undefined"==typeof Zone?cC.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Sd{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:m=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jd(!1),this.onMicrotaskEmpty=new jd(!1),this.onStable=new jd(!1),this.onError=new jd(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const b=this;b._nesting=0,b._outer=b._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(b._inner=b._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(b._inner=b._inner.fork(Zone.longStackTraceZoneSpec)),b.shouldCoalesceEventChangeDetection=!m&&u,b.shouldCoalesceRunChangeDetection=m,b.lastRequestAnimationFrameId=-1,b.nativeRequestAnimationFrame=function uC(){let o=hi.requestAnimationFrame,s=hi.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&s){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const m=s[Zone.__symbol__("OriginalDelegate")];m&&(s=m)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function fC(o){const s=()=>{!function hC(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(hi,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Im(o),o.isCheckStableRunning=!0,Am(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Im(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,m,b,T,F,G)=>{try{return Ly(o),u.invokeTask(b,T,F,G)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===T.type||o.shouldCoalesceRunChangeDetection)&&s(),By(o)}},onInvoke:(u,m,b,T,F,G,ne)=>{try{return Ly(o),u.invoke(b,T,F,G,ne)}finally{o.shouldCoalesceRunChangeDetection&&s(),By(o)}},onHasTask:(u,m,b,T)=>{u.hasTask(b,T),m===b&&("microTask"==T.change?(o._hasPendingMicrotasks=T.microTask,Im(o),Am(o)):"macroTask"==T.change&&(o.hasPendingMacrotasks=T.macroTask))},onHandleError:(u,m,b,T)=>(u.handleError(b,T),o.runOutsideAngular(()=>o.onError.emit(T)),!1)})}(b)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Sd.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Sd.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,u,m){return this._inner.run(s,u,m)}runTask(s,u,m,b){const T=this._inner,F=T.scheduleEventTask("NgZoneEvent: "+b,s,dC,fg,fg);try{return T.runTask(F,u,m)}finally{T.cancelTask(F)}}runGuarded(s,u,m){return this._inner.runGuarded(s,u,m)}runOutsideAngular(s){return this._outer.run(s)}}const dC={};function Am(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Im(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Ly(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function By(o){o._nesting--,Am(o)}class pC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jd,this.onMicrotaskEmpty=new jd,this.onStable=new jd,this.onError=new jd}run(s,u,m){return s.apply(u,m)}runGuarded(s,u,m){return s.apply(u,m)}runOutsideAngular(s){return s()}runTask(s,u,m,b){return s.apply(u,m)}}let Uy=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Sd.assertNotInAngularZone(),Sm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sm(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(m=>!m.updateCb||!m.updateCb(u)||(clearTimeout(m.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,m,b){let T=-1;m&&m>0&&(T=setTimeout(()=>{this._callbacks=this._callbacks.filter(F=>F.timeoutId!==T),u(this._didWork,this.getPendingTasks())},m)),this._callbacks.push({doneCb:u,timeoutId:T,updateCb:b})}whenStable(u,m,b){if(b&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,m,b),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,m,b){return[]}}return o.\u0275fac=function(u){return new(u||o)(Ko(Sd))},o.\u0275prov=Ht({token:o,factory:o.\u0275fac}),o})(),Vy=(()=>{class o{constructor(){this._applications=new Map,Rm.addToWindow(this)}registerApplication(u,m){this._applications.set(u,m)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,m=!0){return Rm.findTestabilityInTree(this,u,m)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Ht({token:o,factory:o.\u0275fac}),o})();class gC{addToWindow(s){}findTestabilityInTree(s,u,m){return null}}function mC(o){Rm=o}let Ad,Rm=new gC;const Hy=new uo("AllowMultipleToken");class yC{constructor(s,u){this.name=s,this.token=u}}function jy(o,s,u=[]){const m=`Platform: ${s}`,b=new uo(m);return(T=[])=>{let F=Gy();if(!F||F.injector.get(Hy,!1))if(o)o(u.concat(T).concat({provide:b,useValue:!0}));else{const G=u.concat(T).concat({provide:b,useValue:!0},{provide:zh,useValue:"platform"});!function bC(o){if(Ad&&!Ad.destroyed&&!Ad.injector.get(Hy,!1))throw new Ke(400,"");Ad=o.get(zy);const s=o.get(ky,null);s&&s.forEach(u=>u())}(qu.create({providers:G,name:m}))}return function wC(o){const s=Gy();if(!s)throw new Ke(401,"");return s}()}}function Gy(){return Ad&&!Ad.destroyed?Ad:null}let zy=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,m){const G=function CC(o,s){let u;return u="noop"===o?new pC:("zone.js"===o?void 0:o)||new Sd({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),u}(m?m.ngZone:void 0,{ngZoneEventCoalescing:m&&m.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:m&&m.ngZoneRunCoalescing||!1}),ne=[{provide:Sd,useValue:G}];return G.run(()=>{const Re=qu.create({providers:ne,parent:this.injector,name:u.moduleType.name}),$e=u.create(Re),St=$e.injector.get(xr,null);if(!St)throw new Ke(402,"");return G.runOutsideAngular(()=>{const ln=G.onError.subscribe({next:Nn=>{St.handleError(Nn)}});$e.onDestroy(()=>{km(this._modules,$e),ln.unsubscribe()})}),function DC(o,s,u){try{const m=u();return zg(m)?m.catch(b=>{throw s.runOutsideAngular(()=>o.handleError(b)),b}):m}catch(m){throw s.runOutsideAngular(()=>o.handleError(m)),m}}(St,G,()=>{const ln=$e.injector.get(Tm);return ln.runInitializers(),ln.donePromise.then(()=>(function sb(o){(function mn(o,s){null==o&&bn(s,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(av=o.toLowerCase().replace(/_/g,"-"))}($e.injector.get(Mm,tg)||tg),this._moduleDoBootstrap($e),$e))})})}bootstrapModule(u,m=[]){const b=Yy({},m);return function _C(o,s,u){const m=new hm(u);return Promise.resolve(m)}(0,0,u).then(T=>this.bootstrapModuleFactory(T,b))}_moduleDoBootstrap(u){const m=u.injector.get(Om);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(b=>m.bootstrap(b));else{if(!u.instance.ngDoBootstrap)throw new Ke(403,"");u.instance.ngDoBootstrap(m)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ke(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(Ko(qu))},o.\u0275prov=Ht({token:o,factory:o.\u0275fac}),o})();function Yy(o,s){return Array.isArray(s)?s.reduce(Yy,o):Object.assign(Object.assign({},o),s)}let Om=(()=>{class o{constructor(u,m,b,T,F){this._zone=u,this._injector=m,this._exceptionHandler=b,this._componentFactoryResolver=T,this._initStatus=F,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const G=new e.y(Re=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Re.next(this._stable),Re.complete()})}),ne=new e.y(Re=>{let $e;this._zone.runOutsideAngular(()=>{$e=this._zone.onStable.subscribe(()=>{Sd.assertNotInAngularZone(),Sm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Re.next(!0))})})});const St=this._zone.onUnstable.subscribe(()=>{Sd.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Re.next(!1)}))});return()=>{$e.unsubscribe(),St.unsubscribe()}});this.isStable=(0,ee.T)(G,ne.pipe((0,W.B)()))}bootstrap(u,m){if(!this._initStatus.done)throw new Ke(405,"");let b;b=u instanceof Nv?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(b.componentType);const T=function vC(o){return o.isBoundToModule}(b)?void 0:this._injector.get(af),G=b.create(qu.NULL,[],m||b.selector,T),ne=G.location.nativeElement,Re=G.injector.get(Uy,null),$e=Re&&G.injector.get(Vy);return Re&&$e&&$e.registerApplication(ne,Re),G.onDestroy(()=>{this.detachView(G.hostView),km(this.components,G),$e&&$e.unregisterApplication(ne)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new Ke(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const m=u;this._views.push(m),m.attachToAppRef(this)}detachView(u){const m=u;km(this._views,m),m.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(Py,[]).concat(this._bootstrapListeners).forEach(b=>b(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(Ko(Sd),Ko(qu),Ko(xr),Ko(sg),Ko(Tm))},o.\u0275prov=Ht({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function km(o,s){const u=o.indexOf(s);u>-1&&o.splice(u,1)}let Wy=!0,Zy=!1;function TC(){return Zy=!0,Wy}function xC(){if(Zy)throw new Error("Cannot enable prod mode after platform setup.");Wy=!1}let MC=(()=>{class o{}return o.__NG_ELEMENT_ID__=SC,o})();function SC(o){return function AC(o,s,u){if(zr(o)&&!u){const m=br(o.index,s);return new tp(m,m)}return 47&o.type?new tp(s[16],s):null}(Qi(),zn(),16==(16&o))}class Jy{constructor(){}supports(s){return _h(s)}create(s){return new PC(s)}}const NC=(o,s)=>s;class PC{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||NC}forEachItem(s){let u;for(u=this._itHead;null!==u;u=u._next)s(u)}forEachOperation(s){let u=this._itHead,m=this._removalsHead,b=0,T=null;for(;u||m;){const F=!m||u&&u.currentIndex<e0(m,b,T)?u:m,G=e0(F,b,T),ne=F.currentIndex;if(F===m)b--,m=m._nextRemoved;else if(u=u._next,null==F.previousIndex)b++;else{T||(T=[]);const Re=G-b,$e=ne-b;if(Re!=$e){for(let ln=0;ln<Re;ln++){const Nn=ln<T.length?T[ln]:T[ln]=0,oi=Nn+ln;$e<=oi&&oi<Re&&(T[ln]=Nn+1)}T[F.previousIndex]=$e-Re}}G!==ne&&s(F,G,ne)}}forEachPreviousItem(s){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachMovedItem(s){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}forEachIdentityChange(s){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)s(u)}diff(s){if(null==s&&(s=[]),!_h(s))throw new Ke(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let b,T,F,u=this._itHead,m=!1;if(Array.isArray(s)){this.length=s.length;for(let G=0;G<this.length;G++)T=s[G],F=this._trackByFn(G,T),null!==u&&Object.is(u.trackById,F)?(m&&(u=this._verifyReinsertion(u,T,F,G)),Object.is(u.item,T)||this._addIdentityChange(u,T)):(u=this._mismatch(u,T,F,G),m=!0),u=u._next}else b=0,function zf(o,s){if(Array.isArray(o))for(let u=0;u<o.length;u++)s(o[u]);else{const u=o[Ld()]();let m;for(;!(m=u.next()).done;)s(m.value)}}(s,G=>{F=this._trackByFn(b,G),null!==u&&Object.is(u.trackById,F)?(m&&(u=this._verifyReinsertion(u,G,F,b)),Object.is(u.item,G)||this._addIdentityChange(u,G)):(u=this._mismatch(u,G,F,b),m=!0),u=u._next,b++}),this.length=b;return this._truncate(u),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,u,m,b){let T;return null===s?T=this._itTail:(T=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(m,null))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._reinsertAfter(s,T,b)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(m,b))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._moveAfter(s,T,b)):s=this._addAfter(new FC(u,m),T,b),s}_verifyReinsertion(s,u,m,b){let T=null===this._unlinkedRecords?null:this._unlinkedRecords.get(m,null);return null!==T?s=this._reinsertAfter(T,s._prev,b):s.currentIndex!=b&&(s.currentIndex=b,this._addToMoves(s,b)),s}_truncate(s){for(;null!==s;){const u=s._next;this._addToRemovals(this._unlink(s)),s=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,u,m){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const b=s._prevRemoved,T=s._nextRemoved;return null===b?this._removalsHead=T:b._nextRemoved=T,null===T?this._removalsTail=b:T._prevRemoved=b,this._insertAfter(s,u,m),this._addToMoves(s,m),s}_moveAfter(s,u,m){return this._unlink(s),this._insertAfter(s,u,m),this._addToMoves(s,m),s}_addAfter(s,u,m){return this._insertAfter(s,u,m),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,u,m){const b=null===u?this._itHead:u._next;return s._next=b,s._prev=u,null===b?this._itTail=s:b._prev=s,null===u?this._itHead=s:u._next=s,null===this._linkedRecords&&(this._linkedRecords=new Xy),this._linkedRecords.put(s),s.currentIndex=m,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const u=s._prev,m=s._next;return null===u?this._itHead=m:u._next=m,null===m?this._itTail=u:m._prev=u,s}_addToMoves(s,u){return s.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xy),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,u){return s.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class FC{constructor(s,u){this.item=s,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LC{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,u){let m;for(m=this._head;null!==m;m=m._nextDup)if((null===u||u<=m.currentIndex)&&Object.is(m.trackById,s))return m;return null}remove(s){const u=s._prevDup,m=s._nextDup;return null===u?this._head=m:u._nextDup=m,null===m?this._tail=u:m._prevDup=u,null===this._head}}class Xy{constructor(){this.map=new Map}put(s){const u=s.trackById;let m=this.map.get(u);m||(m=new LC,this.map.set(u,m)),m.add(s)}get(s,u){const b=this.map.get(s);return b?b.get(s,u):null}remove(s){const u=s.trackById;return this.map.get(u).remove(s)&&this.map.delete(u),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function e0(o,s,u){const m=o.previousIndex;if(null===m)return m;let b=0;return u&&m<u.length&&(b=u[m]),m+s+b}class t0{constructor(){}supports(s){return s instanceof Map||vh(s)}create(){return new BC}}class BC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let u;for(u=this._mapHead;null!==u;u=u._next)s(u)}forEachPreviousItem(s){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)s(u)}forEachChangedItem(s){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}diff(s){if(s){if(!(s instanceof Map||vh(s)))throw new Ke(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(s,(m,b)=>{if(u&&u.key===b)this._maybeAddToChanges(u,m),this._appendAfter=u,u=u._next;else{const T=this._getOrCreateRecordForKey(b,m);u=this._insertBeforeOrAppend(u,T)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let m=u;null!==m;m=m._nextRemoved)m===this._mapHead&&(this._mapHead=null),this._records.delete(m.key),m._nextRemoved=m._next,m.previousValue=m.currentValue,m.currentValue=null,m._prev=null,m._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,u){if(s){const m=s._prev;return u._next=s,u._prev=m,s._prev=u,m&&(m._next=u),s===this._mapHead&&(this._mapHead=u),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(s,u){if(this._records.has(s)){const b=this._records.get(s);this._maybeAddToChanges(b,u);const T=b._prev,F=b._next;return T&&(T._next=F),F&&(F._prev=T),b._next=null,b._prev=null,b}const m=new UC(s);return this._records.set(s,m),m.currentValue=u,this._addToAdditions(m),m}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,u){Object.is(u,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=u,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,u){s instanceof Map?s.forEach(u):Object.keys(s).forEach(m=>u(s[m],m))}}class UC{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function n0(){return new Bm([new Jy])}let Bm=(()=>{class o{constructor(u){this.factories=u}static create(u,m){if(null!=m){const b=m.factories.slice();u=u.concat(b)}return new o(u)}static extend(u){return{provide:o,useFactory:m=>o.create(u,m||n0()),deps:[[o,new bl,new ps]]}}find(u){const m=this.factories.find(b=>b.supports(u));if(null!=m)return m;throw new Ke(901,"")}}return o.\u0275prov=Ht({token:o,providedIn:"root",factory:n0}),o})();function r0(){return new Um([new t0])}let Um=(()=>{class o{constructor(u){this.factories=u}static create(u,m){if(m){const b=m.factories.slice();u=u.concat(b)}return new o(u)}static extend(u){return{provide:o,useFactory:m=>o.create(u,m||r0()),deps:[[o,new bl,new ps]]}}find(u){const m=this.factories.find(T=>T.supports(u));if(m)return m;throw new Ke(901,"")}}return o.\u0275prov=Ht({token:o,providedIn:"root",factory:r0}),o})();const jC=jy(null,"core",[{provide:Ny,useValue:"unknown"},{provide:zy,deps:[qu]},{provide:Vy,deps:[]},{provide:Fy,deps:[]}]);let GC=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(Ko(Om))},o.\u0275mod=Sn({type:o}),o.\u0275inj=an({}),o})()},3075:(Xn,Vt,A)=>{"use strict";A.d(Vt,{Fj:()=>ke,CE:()=>dr,qu:()=>lo,u:()=>ar,sg:()=>To,x0:()=>Io,u5:()=>br,Cf:()=>it,JU:()=>ze,a5:()=>wt,JJ:()=>Qn,JL:()=>li,F:()=>_i,On:()=>zr,YN:()=>Ut,_:()=>Vr,UX:()=>gr,EJ:()=>ft,kI:()=>hn,_Y:()=>Fr,Kr:()=>Pi});var d=A(5e3),_=A(9808),e=A(8996),ee=A(4128),W=A(4004);let xe=(()=>{class ve{constructor(Y,We){this._renderer=Y,this._elementRef=We,this.onChange=Un=>{},this.onTouched=()=>{}}setProperty(Y,We){this._renderer.setProperty(this._elementRef.nativeElement,Y,We)}registerOnTouched(Y){this.onTouched=Y}registerOnChange(Y){this.onChange=Y}setDisabledState(Y){this.setProperty("disabled",Y)}}return ve.\u0275fac=function(Y){return new(Y||ve)(d.Y36(d.Qsj),d.Y36(d.SBq))},ve.\u0275dir=d.lG2({type:ve}),ve})(),pe=(()=>{class ve extends xe{}return ve.\u0275fac=function(){let re;return function(We){return(re||(re=d.n5z(ve)))(We||ve)}}(),ve.\u0275dir=d.lG2({type:ve,features:[d.qOj]}),ve})();const ze=new d.OlP("NgValueAccessor"),qe={provide:ze,useExisting:(0,d.Gpc)(()=>ke),multi:!0},at=new d.OlP("CompositionEventMode");let ke=(()=>{class ve extends xe{constructor(Y,We,Un){super(Y,We),this._compositionMode=Un,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function je(){const ve=(0,_.q)()?(0,_.q)().getUserAgent():"";return/android (\d+)/.test(ve.toLowerCase())}())}writeValue(Y){this.setProperty("value",null==Y?"":Y)}_handleInput(Y){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Y)}_compositionStart(){this._composing=!0}_compositionEnd(Y){this._composing=!1,this._compositionMode&&this.onChange(Y)}}return ve.\u0275fac=function(Y){return new(Y||ve)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(at,8))},ve.\u0275dir=d.lG2({type:ve,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Y,We){1&Y&&d.NdJ("input",function(Ti){return We._handleInput(Ti.target.value)})("blur",function(){return We.onTouched()})("compositionstart",function(){return We._compositionStart()})("compositionend",function(Ti){return We._compositionEnd(Ti.target.value)})},features:[d._Bn([qe]),d.qOj]}),ve})();function Ke(ve){return null==ve||0===ve.length}function dt(ve){return null!=ve&&"number"==typeof ve.length}const it=new d.OlP("NgValidators"),Dt=new d.OlP("NgAsyncValidators"),Tt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class hn{static min(re){return function gt(ve){return re=>{if(Ke(re.value)||Ke(ve))return null;const Y=parseFloat(re.value);return!isNaN(Y)&&Y<ve?{min:{min:ve,actual:re.value}}:null}}(re)}static max(re){return function Pe(ve){return re=>{if(Ke(re.value)||Ke(ve))return null;const Y=parseFloat(re.value);return!isNaN(Y)&&Y>ve?{max:{max:ve,actual:re.value}}:null}}(re)}static required(re){return function te(ve){return Ke(ve.value)?{required:!0}:null}(re)}static requiredTrue(re){return function Qe(ve){return!0===ve.value?null:{required:!0}}(re)}static email(re){return function Mt(ve){return Ke(ve.value)||Tt.test(ve.value)?null:{email:!0}}(re)}static minLength(re){return function bt(ve){return re=>Ke(re.value)||!dt(re.value)?null:re.value.length<ve?{minlength:{requiredLength:ve,actualLength:re.value.length}}:null}(re)}static maxLength(re){return function tt(ve){return re=>dt(re.value)&&re.value.length>ve?{maxlength:{requiredLength:ve,actualLength:re.value.length}}:null}(re)}static pattern(re){return function Ze(ve){if(!ve)return Ee;let re,Y;return"string"==typeof ve?(Y="","^"!==ve.charAt(0)&&(Y+="^"),Y+=ve,"$"!==ve.charAt(ve.length-1)&&(Y+="$"),re=new RegExp(Y)):(Y=ve.toString(),re=ve),We=>{if(Ke(We.value))return null;const Un=We.value;return re.test(Un)?null:{pattern:{requiredPattern:Y,actualValue:Un}}}}(re)}static nullValidator(re){return null}static compose(re){return mn(re)}static composeAsync(re){return zt(re)}}function Ee(ve){return null}function Ye(ve){return null!=ve}function Xe(ve){const re=(0,d.QGY)(ve)?(0,e.D)(ve):ve;return(0,d.CqO)(re),re}function st(ve){let re={};return ve.forEach(Y=>{re=null!=Y?Object.assign(Object.assign({},re),Y):re}),0===Object.keys(re).length?null:re}function sn(ve,re){return re.map(Y=>Y(ve))}function wn(ve){return ve.map(re=>function fn(ve){return!ve.validate}(re)?re:Y=>re.validate(Y))}function mn(ve){if(!ve)return null;const re=ve.filter(Ye);return 0==re.length?null:function(Y){return st(sn(Y,re))}}function bn(ve){return null!=ve?mn(wn(ve)):null}function zt(ve){if(!ve)return null;const re=ve.filter(Ye);return 0==re.length?null:function(Y){const We=sn(Y,re).map(Xe);return(0,ee.D)(We).pipe((0,W.U)(st))}}function qt(ve){return null!=ve?zt(wn(ve)):null}function Kt(ve,re){return null===ve?[re]:Array.isArray(ve)?[...ve,re]:[ve,re]}function Ht(ve){return ve._rawValidators}function _n(ve){return ve._rawAsyncValidators}function an(ve){return ve?Array.isArray(ve)?ve:[ve]:[]}function Vn(ve,re){return Array.isArray(ve)?ve.includes(re):ve===re}function di(ve,re){const Y=an(re);return an(ve).forEach(Un=>{Vn(Y,Un)||Y.push(Un)}),Y}function Pn(ve,re){return an(re).filter(Y=>!Vn(ve,Y))}class jn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(re){this._rawValidators=re||[],this._composedValidatorFn=bn(this._rawValidators)}_setAsyncValidators(re){this._rawAsyncValidators=re||[],this._composedAsyncValidatorFn=qt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(re){this._onDestroyCallbacks.push(re)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(re=>re()),this._onDestroyCallbacks=[]}reset(re){this.control&&this.control.reset(re)}hasError(re,Y){return!!this.control&&this.control.hasError(re,Y)}getError(re,Y){return this.control?this.control.getError(re,Y):null}}class wt extends jn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cn extends jn{get formDirective(){return null}get path(){return null}}class Gn{constructor(re){this._cd=re}is(re){var Y,We,Un;return"submitted"===re?!!(null===(Y=this._cd)||void 0===Y?void 0:Y.submitted):!!(null===(Un=null===(We=this._cd)||void 0===We?void 0:We.control)||void 0===Un?void 0:Un[re])}}let Qn=(()=>{class ve extends Gn{constructor(Y){super(Y)}}return ve.\u0275fac=function(Y){return new(Y||ve)(d.Y36(wt,2))},ve.\u0275dir=d.lG2({type:ve,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Y,We){2&Y&&d.ekj("ng-untouched",We.is("untouched"))("ng-touched",We.is("touched"))("ng-pristine",We.is("pristine"))("ng-dirty",We.is("dirty"))("ng-valid",We.is("valid"))("ng-invalid",We.is("invalid"))("ng-pending",We.is("pending"))},features:[d.qOj]}),ve})(),li=(()=>{class ve extends Gn{constructor(Y){super(Y)}}return ve.\u0275fac=function(Y){return new(Y||ve)(d.Y36(cn,10))},ve.\u0275dir=d.lG2({type:ve,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Y,We){2&Y&&d.ekj("ng-untouched",We.is("untouched"))("ng-touched",We.is("touched"))("ng-pristine",We.is("pristine"))("ng-dirty",We.is("dirty"))("ng-valid",We.is("valid"))("ng-invalid",We.is("invalid"))("ng-pending",We.is("pending"))("ng-submitted",We.is("submitted"))},features:[d.qOj]}),ve})();function Ei(ve,re){return[...re.path,ve]}function vt(ve,re){X(ve,re),re.valueAccessor.writeValue(ve.value),function Z(ve,re){re.valueAccessor.registerOnChange(Y=>{ve._pendingValue=Y,ve._pendingChange=!0,ve._pendingDirty=!0,"change"===ve.updateOn&&Me(ve,re)})}(ve,re),function ut(ve,re){const Y=(We,Un)=>{re.valueAccessor.writeValue(We),Un&&re.viewToModelUpdate(We)};ve.registerOnChange(Y),re._registerOnDestroy(()=>{ve._unregisterOnChange(Y)})}(ve,re),function Se(ve,re){re.valueAccessor.registerOnTouched(()=>{ve._pendingTouched=!0,"blur"===ve.updateOn&&ve._pendingChange&&Me(ve,re),"submit"!==ve.updateOn&&ve.markAsTouched()})}(ve,re),function vn(ve,re){if(re.valueAccessor.setDisabledState){const Y=We=>{re.valueAccessor.setDisabledState(We)};ve.registerOnDisabledChange(Y),re._registerOnDestroy(()=>{ve._unregisterOnDisabledChange(Y)})}}(ve,re)}function Nt(ve,re,Y=!0){const We=()=>{};re.valueAccessor&&(re.valueAccessor.registerOnChange(We),re.valueAccessor.registerOnTouched(We)),ie(ve,re),ve&&(re._invokeOnDestroyCallbacks(),ve._registerOnCollectionChange(()=>{}))}function Ft(ve,re){ve.forEach(Y=>{Y.registerOnValidatorChange&&Y.registerOnValidatorChange(re)})}function X(ve,re){const Y=Ht(ve);null!==re.validator?ve.setValidators(Kt(Y,re.validator)):"function"==typeof Y&&ve.setValidators([Y]);const We=_n(ve);null!==re.asyncValidator?ve.setAsyncValidators(Kt(We,re.asyncValidator)):"function"==typeof We&&ve.setAsyncValidators([We]);const Un=()=>ve.updateValueAndValidity();Ft(re._rawValidators,Un),Ft(re._rawAsyncValidators,Un)}function ie(ve,re){let Y=!1;if(null!==ve){if(null!==re.validator){const Un=Ht(ve);if(Array.isArray(Un)&&Un.length>0){const Ti=Un.filter(Yr=>Yr!==re.validator);Ti.length!==Un.length&&(Y=!0,ve.setValidators(Ti))}}if(null!==re.asyncValidator){const Un=_n(ve);if(Array.isArray(Un)&&Un.length>0){const Ti=Un.filter(Yr=>Yr!==re.asyncValidator);Ti.length!==Un.length&&(Y=!0,ve.setAsyncValidators(Ti))}}}const We=()=>{};return Ft(re._rawValidators,We),Ft(re._rawAsyncValidators,We),Y}function Me(ve,re){ve._pendingDirty&&ve.markAsDirty(),ve.setValue(ve._pendingValue,{emitModelToViewChange:!1}),re.viewToModelUpdate(ve._pendingValue),ve._pendingChange=!1}function Be(ve,re){X(ve,re)}function Pt(ve,re){if(!ve.hasOwnProperty("model"))return!1;const Y=ve.model;return!!Y.isFirstChange()||!Object.is(re,Y.currentValue)}function Zt(ve,re){ve._syncPendingControls(),re.forEach(Y=>{const We=Y.control;"submit"===We.updateOn&&We._pendingChange&&(Y.viewToModelUpdate(We._pendingValue),We._pendingChange=!1)})}function Ln(ve,re){if(!re)return null;let Y,We,Un;return Array.isArray(re),re.forEach(Ti=>{Ti.constructor===ke?Y=Ti:function yt(ve){return Object.getPrototypeOf(ve.constructor)===pe}(Ti)?We=Ti:Un=Ti}),Un||We||Y||null}function pn(ve,re){const Y=ve.indexOf(re);Y>-1&&ve.splice(Y,1)}const jt="VALID",In="INVALID",kn="PENDING",si="DISABLED";function ht(ve){return(ae(ve)?ve.validators:ve)||null}function An(ve){return Array.isArray(ve)?bn(ve):ve||null}function Ie(ve,re){return(ae(re)?re.asyncValidators:ve)||null}function Ot(ve){return Array.isArray(ve)?qt(ve):ve||null}function ae(ve){return null!=ve&&!Array.isArray(ve)&&"object"==typeof ve}const Ge=ve=>ve instanceof ui,Oe=ve=>ve instanceof Or,mt=ve=>ve instanceof hr;function Qt(ve){return Ge(ve)?ve.value:ve.getRawValue()}function Mn(ve,re){const Y=Oe(ve),We=ve.controls;if(!(Y?Object.keys(We):We).length)throw new d.vHH(1e3,"");if(!We[re])throw new d.vHH(1001,"")}function Bn(ve,re){Oe(ve),ve._forEachChild((We,Un)=>{if(void 0===re[Un])throw new d.vHH(1002,"")})}class Ci{constructor(re,Y){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=re,this._rawAsyncValidators=Y,this._composedValidatorFn=An(this._rawValidators),this._composedAsyncValidatorFn=Ot(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(re){this._rawValidators=this._composedValidatorFn=re}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(re){this._rawAsyncValidators=this._composedAsyncValidatorFn=re}get parent(){return this._parent}get valid(){return this.status===jt}get invalid(){return this.status===In}get pending(){return this.status==kn}get disabled(){return this.status===si}get enabled(){return this.status!==si}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(re){this._rawValidators=re,this._composedValidatorFn=An(re)}setAsyncValidators(re){this._rawAsyncValidators=re,this._composedAsyncValidatorFn=Ot(re)}addValidators(re){this.setValidators(di(re,this._rawValidators))}addAsyncValidators(re){this.setAsyncValidators(di(re,this._rawAsyncValidators))}removeValidators(re){this.setValidators(Pn(re,this._rawValidators))}removeAsyncValidators(re){this.setAsyncValidators(Pn(re,this._rawAsyncValidators))}hasValidator(re){return Vn(this._rawValidators,re)}hasAsyncValidator(re){return Vn(this._rawAsyncValidators,re)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(re={}){this.touched=!0,this._parent&&!re.onlySelf&&this._parent.markAsTouched(re)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(re=>re.markAllAsTouched())}markAsUntouched(re={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Y=>{Y.markAsUntouched({onlySelf:!0})}),this._parent&&!re.onlySelf&&this._parent._updateTouched(re)}markAsDirty(re={}){this.pristine=!1,this._parent&&!re.onlySelf&&this._parent.markAsDirty(re)}markAsPristine(re={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Y=>{Y.markAsPristine({onlySelf:!0})}),this._parent&&!re.onlySelf&&this._parent._updatePristine(re)}markAsPending(re={}){this.status=kn,!1!==re.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!re.onlySelf&&this._parent.markAsPending(re)}disable(re={}){const Y=this._parentMarkedDirty(re.onlySelf);this.status=si,this.errors=null,this._forEachChild(We=>{We.disable(Object.assign(Object.assign({},re),{onlySelf:!0}))}),this._updateValue(),!1!==re.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},re),{skipPristineCheck:Y})),this._onDisabledChange.forEach(We=>We(!0))}enable(re={}){const Y=this._parentMarkedDirty(re.onlySelf);this.status=jt,this._forEachChild(We=>{We.enable(Object.assign(Object.assign({},re),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:re.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},re),{skipPristineCheck:Y})),this._onDisabledChange.forEach(We=>We(!1))}_updateAncestors(re){this._parent&&!re.onlySelf&&(this._parent.updateValueAndValidity(re),re.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(re){this._parent=re}updateValueAndValidity(re={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jt||this.status===kn)&&this._runAsyncValidator(re.emitEvent)),!1!==re.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!re.onlySelf&&this._parent.updateValueAndValidity(re)}_updateTreeValidity(re={emitEvent:!0}){this._forEachChild(Y=>Y._updateTreeValidity(re)),this.updateValueAndValidity({onlySelf:!0,emitEvent:re.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?si:jt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(re){if(this.asyncValidator){this.status=kn,this._hasOwnPendingAsyncValidator=!0;const Y=Xe(this.asyncValidator(this));this._asyncValidationSubscription=Y.subscribe(We=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(We,{emitEvent:re})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(re,Y={}){this.errors=re,this._updateControlsErrors(!1!==Y.emitEvent)}get(re){return function Mi(ve,re,Y){if(null==re||(Array.isArray(re)||(re=re.split(Y)),Array.isArray(re)&&0===re.length))return null;let We=ve;return re.forEach(Un=>{We=Oe(We)?We.controls.hasOwnProperty(Un)?We.controls[Un]:null:mt(We)&&We.at(Un)||null}),We}(this,re,".")}getError(re,Y){const We=Y?this.get(Y):this;return We&&We.errors?We.errors[re]:null}hasError(re,Y){return!!this.getError(re,Y)}get root(){let re=this;for(;re._parent;)re=re._parent;return re}_updateControlsErrors(re){this.status=this._calculateStatus(),re&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(re)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?si:this.errors?In:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kn)?kn:this._anyControlsHaveStatus(In)?In:jt}_anyControlsHaveStatus(re){return this._anyControls(Y=>Y.status===re)}_anyControlsDirty(){return this._anyControls(re=>re.dirty)}_anyControlsTouched(){return this._anyControls(re=>re.touched)}_updatePristine(re={}){this.pristine=!this._anyControlsDirty(),this._parent&&!re.onlySelf&&this._parent._updatePristine(re)}_updateTouched(re={}){this.touched=this._anyControlsTouched(),this._parent&&!re.onlySelf&&this._parent._updateTouched(re)}_isBoxedValue(re){return"object"==typeof re&&null!==re&&2===Object.keys(re).length&&"value"in re&&"disabled"in re}_registerOnCollectionChange(re){this._onCollectionChange=re}_setUpdateStrategy(re){ae(re)&&null!=re.updateOn&&(this._updateOn=re.updateOn)}_parentMarkedDirty(re){return!re&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ui extends Ci{constructor(re=null,Y,We){super(ht(Y),Ie(We,Y)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(re),this._setUpdateStrategy(Y),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ae(Y)&&Y.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(re)?re.value:re)}setValue(re,Y={}){this.value=this._pendingValue=re,this._onChange.length&&!1!==Y.emitModelToViewChange&&this._onChange.forEach(We=>We(this.value,!1!==Y.emitViewToModelChange)),this.updateValueAndValidity(Y)}patchValue(re,Y={}){this.setValue(re,Y)}reset(re=this.defaultValue,Y={}){this._applyFormState(re),this.markAsPristine(Y),this.markAsUntouched(Y),this.setValue(this.value,Y),this._pendingChange=!1}_updateValue(){}_anyControls(re){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(re){this._onChange.push(re)}_unregisterOnChange(re){pn(this._onChange,re)}registerOnDisabledChange(re){this._onDisabledChange.push(re)}_unregisterOnDisabledChange(re){pn(this._onDisabledChange,re)}_forEachChild(re){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(re){this._isBoxedValue(re)?(this.value=this._pendingValue=re.value,re.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=re}}class Or extends Ci{constructor(re,Y,We){super(ht(Y),Ie(We,Y)),this.controls=re,this._initObservables(),this._setUpdateStrategy(Y),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(re,Y){return this.controls[re]?this.controls[re]:(this.controls[re]=Y,Y.setParent(this),Y._registerOnCollectionChange(this._onCollectionChange),Y)}addControl(re,Y,We={}){this.registerControl(re,Y),this.updateValueAndValidity({emitEvent:We.emitEvent}),this._onCollectionChange()}removeControl(re,Y={}){this.controls[re]&&this.controls[re]._registerOnCollectionChange(()=>{}),delete this.controls[re],this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}setControl(re,Y,We={}){this.controls[re]&&this.controls[re]._registerOnCollectionChange(()=>{}),delete this.controls[re],Y&&this.registerControl(re,Y),this.updateValueAndValidity({emitEvent:We.emitEvent}),this._onCollectionChange()}contains(re){return this.controls.hasOwnProperty(re)&&this.controls[re].enabled}setValue(re,Y={}){Bn(this,re),Object.keys(re).forEach(We=>{Mn(this,We),this.controls[We].setValue(re[We],{onlySelf:!0,emitEvent:Y.emitEvent})}),this.updateValueAndValidity(Y)}patchValue(re,Y={}){null!=re&&(Object.keys(re).forEach(We=>{this.controls[We]&&this.controls[We].patchValue(re[We],{onlySelf:!0,emitEvent:Y.emitEvent})}),this.updateValueAndValidity(Y))}reset(re={},Y={}){this._forEachChild((We,Un)=>{We.reset(re[Un],{onlySelf:!0,emitEvent:Y.emitEvent})}),this._updatePristine(Y),this._updateTouched(Y),this.updateValueAndValidity(Y)}getRawValue(){return this._reduceChildren({},(re,Y,We)=>(re[We]=Qt(Y),re))}_syncPendingControls(){let re=this._reduceChildren(!1,(Y,We)=>!!We._syncPendingControls()||Y);return re&&this.updateValueAndValidity({onlySelf:!0}),re}_forEachChild(re){Object.keys(this.controls).forEach(Y=>{const We=this.controls[Y];We&&re(We,Y)})}_setUpControls(){this._forEachChild(re=>{re.setParent(this),re._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(re){for(const Y of Object.keys(this.controls)){const We=this.controls[Y];if(this.contains(Y)&&re(We))return!0}return!1}_reduceValue(){return this._reduceChildren({},(re,Y,We)=>((Y.enabled||this.disabled)&&(re[We]=Y.value),re))}_reduceChildren(re,Y){let We=re;return this._forEachChild((Un,Ti)=>{We=Y(We,Un,Ti)}),We}_allControlsDisabled(){for(const re of Object.keys(this.controls))if(this.controls[re].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class hr extends Ci{constructor(re,Y,We){super(ht(Y),Ie(We,Y)),this.controls=re,this._initObservables(),this._setUpdateStrategy(Y),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(re){return this.controls[re]}push(re,Y={}){this.controls.push(re),this._registerControl(re),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}insert(re,Y,We={}){this.controls.splice(re,0,Y),this._registerControl(Y),this.updateValueAndValidity({emitEvent:We.emitEvent})}removeAt(re,Y={}){this.controls[re]&&this.controls[re]._registerOnCollectionChange(()=>{}),this.controls.splice(re,1),this.updateValueAndValidity({emitEvent:Y.emitEvent})}setControl(re,Y,We={}){this.controls[re]&&this.controls[re]._registerOnCollectionChange(()=>{}),this.controls.splice(re,1),Y&&(this.controls.splice(re,0,Y),this._registerControl(Y)),this.updateValueAndValidity({emitEvent:We.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(re,Y={}){Bn(this,re),re.forEach((We,Un)=>{Mn(this,Un),this.at(Un).setValue(We,{onlySelf:!0,emitEvent:Y.emitEvent})}),this.updateValueAndValidity(Y)}patchValue(re,Y={}){null!=re&&(re.forEach((We,Un)=>{this.at(Un)&&this.at(Un).patchValue(We,{onlySelf:!0,emitEvent:Y.emitEvent})}),this.updateValueAndValidity(Y))}reset(re=[],Y={}){this._forEachChild((We,Un)=>{We.reset(re[Un],{onlySelf:!0,emitEvent:Y.emitEvent})}),this._updatePristine(Y),this._updateTouched(Y),this.updateValueAndValidity(Y)}getRawValue(){return this.controls.map(re=>Qt(re))}clear(re={}){this.controls.length<1||(this._forEachChild(Y=>Y._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:re.emitEvent}))}_syncPendingControls(){let re=this.controls.reduce((Y,We)=>!!We._syncPendingControls()||Y,!1);return re&&this.updateValueAndValidity({onlySelf:!0}),re}_forEachChild(re){this.controls.forEach((Y,We)=>{re(Y,We)})}_updateValue(){this.value=this.controls.filter(re=>re.enabled||this.disabled).map(re=>re.value)}_anyControls(re){return this.controls.some(Y=>Y.enabled&&re(Y))}_setUpControls(){this._forEachChild(re=>this._registerControl(re))}_allControlsDisabled(){for(const re of this.controls)if(re.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(re){re.setParent(this),re._registerOnCollectionChange(this._onCollectionChange)}}const ur={provide:cn,useExisting:(0,d.Gpc)(()=>_i)},mi=(()=>Promise.resolve(null))();let _i=(()=>{class ve extends cn{constructor(Y,We){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new Or({},bn(Y),qt(We))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(Y){mi.then(()=>{const We=this._findContainer(Y.path);Y.control=We.registerControl(Y.name,Y.control),vt(Y.control,Y),Y.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(Y)})}getControl(Y){return this.form.get(Y.path)}removeControl(Y){mi.then(()=>{const We=this._findContainer(Y.path);We&&We.removeControl(Y.name),this._directives.delete(Y)})}addFormGroup(Y){mi.then(()=>{const We=this._findContainer(Y.path),Un=new Or({});Be(Un,Y),We.registerControl(Y.name,Un),Un.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(Y){mi.then(()=>{const We=this._findContainer(Y.path);We&&We.removeControl(Y.name)})}getFormGroup(Y){return this.form.get(Y.path)}updateModel(Y,We){mi.then(()=>{this.form.get(Y.path).setValue(We)})}setValue(Y){this.control.setValue(Y)}onSubmit(Y){return this.submitted=!0,Zt(this.form,this._directives),this.ngSubmit.emit(Y),!1}onReset(){this.resetForm()}resetForm(Y){this.form.reset(Y),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(Y){return Y.pop(),Y.length?this.form.get(Y):this.form}}return ve.\u0275fac=function(Y){return new(Y||ve)(d.Y36(it,10),d.Y36(Dt,10))},ve.\u0275dir=d.lG2({type:ve,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Y,We){1&Y&&d.NdJ("submit",function(Ti){return We.onSubmit(Ti)})("reset",function(){return We.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([ur]),d.qOj]}),ve})(),ji=(()=>{class ve extends cn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ei(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return ve.\u0275fac=function(){let re;return function(We){return(re||(re=d.n5z(ve)))(We||ve)}}(),ve.\u0275dir=d.lG2({type:ve,features:[d.qOj]}),ve})();const vr={provide:wt,useExisting:(0,d.Gpc)(()=>zr)},Ki=(()=>Promise.resolve(null))();let zr=(()=>{class ve extends wt{constructor(Y,We,Un,Ti,Yr){super(),this._changeDetectorRef=Yr,this.control=new ui,this._registered=!1,this.update=new d.vpe,this._parent=Y,this._setValidators(We),this._setAsyncValidators(Un),this.valueAccessor=Ln(0,Ti)}ngOnChanges(Y){if(this._checkForErrors(),!this._registered||"name"in Y){if(this._registered&&(this._checkName(),this.formDirective)){const We=Y.name.previousValue;this.formDirective.removeControl({name:We,path:this._getPath(We)})}this._setUpControl()}"isDisabled"in Y&&this._updateDisabled(Y),Pt(Y,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Y){this.viewModel=Y,this.update.emit(Y)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Y){Ki.then(()=>{var We;this.control.setValue(Y,{emitViewToModelChange:!1}),null===(We=this._changeDetectorRef)||void 0===We||We.markForCheck()})}_updateDisabled(Y){const We=Y.isDisabled.currentValue,Un=""===We||We&&"false"!==We;Ki.then(()=>{var Ti;Un&&!this.control.disabled?this.control.disable():!Un&&this.control.disabled&&this.control.enable(),null===(Ti=this._changeDetectorRef)||void 0===Ti||Ti.markForCheck()})}_getPath(Y){return this._parent?Ei(Y,this._parent):[Y]}}return ve.\u0275fac=function(Y){return new(Y||ve)(d.Y36(cn,9),d.Y36(it,10),d.Y36(Dt,10),d.Y36(ze,10),d.Y36(d.sBO,8))},ve.\u0275dir=d.lG2({type:ve,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([vr]),d.qOj,d.TTD]}),ve})(),Fr=(()=>{class ve{}return ve.\u0275fac=function(Y){return new(Y||ve)},ve.\u0275dir=d.lG2({type:ve,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),ve})();const ms={provide:ze,useExisting:(0,d.Gpc)(()=>Vr),multi:!0};let Jr=(()=>{class ve{}return ve.\u0275fac=function(Y){return new(Y||ve)},ve.\u0275mod=d.oAB({type:ve}),ve.\u0275inj=d.cJS({}),ve})(),js=(()=>{class ve{constructor(){this._accessors=[]}add(Y,We){this._accessors.push([Y,We])}remove(Y){for(let We=this._accessors.length-1;We>=0;--We)if(this._accessors[We][1]===Y)return void this._accessors.splice(We,1)}select(Y){this._accessors.forEach(We=>{this._isSameGroup(We,Y)&&We[1]!==Y&&We[1].fireUncheck(Y.value)})}_isSameGroup(Y,We){return!!Y[0].control&&Y[0]._parent===We._control._parent&&Y[1].name===We.name}}return ve.\u0275fac=function(Y){return new(Y||ve)},ve.\u0275prov=d.Yz7({token:ve,factory:ve.\u0275fac,providedIn:Jr}),ve})(),Vr=(()=>{class ve extends pe{constructor(Y,We,Un,Ti){super(Y,We),this._registry=Un,this._injector=Ti,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(wt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(Y){this._state=Y===this.value,this.setProperty("checked",this._state)}registerOnChange(Y){this._fn=Y,this.onChange=()=>{Y(this.value),this._registry.select(this)}}fireUncheck(Y){this.writeValue(Y)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return ve.\u0275fac=function(Y){return new(Y||ve)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(js),d.Y36(d.zs3))},ve.\u0275dir=d.lG2({type:ve,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(Y,We){1&Y&&d.NdJ("change",function(){return We.onChange()})("blur",function(){return We.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[d._Bn([ms]),d.qOj]}),ve})();const fo=new d.OlP("NgModelWithFormControlWarning"),er={provide:cn,useExisting:(0,d.Gpc)(()=>To)};let To=(()=>{class ve extends cn{constructor(Y,We){super(),this.validators=Y,this.asyncValidators=We,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(Y),this._setAsyncValidators(We)}ngOnChanges(Y){this._checkFormPresent(),Y.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ie(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Y){const We=this.form.get(Y.path);return vt(We,Y),We.updateValueAndValidity({emitEvent:!1}),this.directives.push(Y),We}getControl(Y){return this.form.get(Y.path)}removeControl(Y){Nt(Y.control||null,Y,!1),pn(this.directives,Y)}addFormGroup(Y){this._setUpFormContainer(Y)}removeFormGroup(Y){this._cleanUpFormContainer(Y)}getFormGroup(Y){return this.form.get(Y.path)}addFormArray(Y){this._setUpFormContainer(Y)}removeFormArray(Y){this._cleanUpFormContainer(Y)}getFormArray(Y){return this.form.get(Y.path)}updateModel(Y,We){this.form.get(Y.path).setValue(We)}onSubmit(Y){return this.submitted=!0,Zt(this.form,this.directives),this.ngSubmit.emit(Y),!1}onReset(){this.resetForm()}resetForm(Y){this.form.reset(Y),this.submitted=!1}_updateDomValue(){this.directives.forEach(Y=>{const We=Y.control,Un=this.form.get(Y.path);We!==Un&&(Nt(We||null,Y),Ge(Un)&&(vt(Un,Y),Y.control=Un))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Y){const We=this.form.get(Y.path);Be(We,Y),We.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Y){if(this.form){const We=this.form.get(Y.path);We&&function Ct(ve,re){return ie(ve,re)}(We,Y)&&We.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){X(this.form,this),this._oldForm&&ie(this._oldForm,this)}_checkFormPresent(){}}return ve.\u0275fac=function(Y){return new(Y||ve)(d.Y36(it,10),d.Y36(Dt,10))},ve.\u0275dir=d.lG2({type:ve,selectors:[["","formGroup",""]],hostBindings:function(Y,We){1&Y&&d.NdJ("submit",function(Ti){return We.onSubmit(Ti)})("reset",function(){return We.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([er]),d.qOj,d.TTD]}),ve})();const is={provide:cn,useExisting:(0,d.Gpc)(()=>Io)};let Io=(()=>{class ve extends ji{constructor(Y,We,Un){super(),this._parent=Y,this._setValidators(We),this._setAsyncValidators(Un)}_checkParentType(){Dr(this._parent)}}return ve.\u0275fac=function(Y){return new(Y||ve)(d.Y36(cn,13),d.Y36(it,10),d.Y36(Dt,10))},ve.\u0275dir=d.lG2({type:ve,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[d._Bn([is]),d.qOj]}),ve})();const Uo={provide:cn,useExisting:(0,d.Gpc)(()=>dr)};let dr=(()=>{class ve extends cn{constructor(Y,We,Un){super(),this._parent=Y,this._setValidators(We),this._setAsyncValidators(Un)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ei(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Dr(this._parent)}}return ve.\u0275fac=function(Y){return new(Y||ve)(d.Y36(cn,13),d.Y36(it,10),d.Y36(Dt,10))},ve.\u0275dir=d.lG2({type:ve,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[d._Bn([Uo]),d.qOj]}),ve})();function Dr(ve){return!(ve instanceof Io||ve instanceof To||ve instanceof dr)}const ki={provide:wt,useExisting:(0,d.Gpc)(()=>ar)};let ar=(()=>{class ve extends wt{constructor(Y,We,Un,Ti,Yr){super(),this._ngModelWarningConfig=Yr,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=Y,this._setValidators(We),this._setAsyncValidators(Un),this.valueAccessor=Ln(0,Ti)}set isDisabled(Y){}ngOnChanges(Y){this._added||this._setUpControl(),Pt(Y,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Y){this.viewModel=Y,this.update.emit(Y)}get path(){return Ei(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return ve._ngModelWarningSentOnce=!1,ve.\u0275fac=function(Y){return new(Y||ve)(d.Y36(cn,13),d.Y36(it,10),d.Y36(Dt,10),d.Y36(ze,10),d.Y36(fo,8))},ve.\u0275dir=d.lG2({type:ve,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([ki]),d.qOj,d.TTD]}),ve})();const os={provide:ze,useExisting:(0,d.Gpc)(()=>ft),multi:!0};function Te(ve,re){return null==ve?`${re}`:(re&&"object"==typeof re&&(re="Object"),`${ve}: ${re}`.slice(0,50))}let ft=(()=>{class ve extends pe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Y){this._compareWith=Y}writeValue(Y){this.value=Y;const Un=Te(this._getOptionId(Y),Y);this.setProperty("value",Un)}registerOnChange(Y){this.onChange=We=>{this.value=this._getOptionValue(We),Y(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(Y){for(const We of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(We),Y))return We;return null}_getOptionValue(Y){const We=function se(ve){return ve.split(":")[0]}(Y);return this._optionMap.has(We)?this._optionMap.get(We):Y}}return ve.\u0275fac=function(){let re;return function(We){return(re||(re=d.n5z(ve)))(We||ve)}}(),ve.\u0275dir=d.lG2({type:ve,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(Y,We){1&Y&&d.NdJ("change",function(Ti){return We.onChange(Ti.target.value)})("blur",function(){return We.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([os]),d.qOj]}),ve})(),Ut=(()=>{class ve{constructor(Y,We,Un){this._element=Y,this._renderer=We,this._select=Un,this._select&&(this.id=this._select._registerOption())}set ngValue(Y){null!=this._select&&(this._select._optionMap.set(this.id,Y),this._setElementValue(Te(this.id,Y)),this._select.writeValue(this._select.value))}set value(Y){this._setElementValue(Y),this._select&&this._select.writeValue(this._select.value)}_setElementValue(Y){this._renderer.setProperty(this._element.nativeElement,"value",Y)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return ve.\u0275fac=function(Y){return new(Y||ve)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(ft,9))},ve.\u0275dir=d.lG2({type:ve,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),ve})();const un={provide:ze,useExisting:(0,d.Gpc)(()=>fi),multi:!0};function En(ve,re){return null==ve?`${re}`:("string"==typeof re&&(re=`'${re}'`),re&&"object"==typeof re&&(re="Object"),`${ve}: ${re}`.slice(0,50))}let fi=(()=>{class ve extends pe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Y){this._compareWith=Y}writeValue(Y){let We;if(this.value=Y,Array.isArray(Y)){const Un=Y.map(Ti=>this._getOptionId(Ti));We=(Ti,Yr)=>{Ti._setSelected(Un.indexOf(Yr.toString())>-1)}}else We=(Un,Ti)=>{Un._setSelected(!1)};this._optionMap.forEach(We)}registerOnChange(Y){this.onChange=We=>{const Un=[],Ti=We.selectedOptions;if(void 0!==Ti){const Yr=Ti;for(let go=0;go<Yr.length;go++){const Ur=this._getOptionValue(Yr[go].value);Un.push(Ur)}}else{const Yr=We.options;for(let go=0;go<Yr.length;go++){const qr=Yr[go];if(qr.selected){const Ur=this._getOptionValue(qr.value);Un.push(Ur)}}}this.value=Un,Y(Un)}}_registerOption(Y){const We=(this._idCounter++).toString();return this._optionMap.set(We,Y),We}_getOptionId(Y){for(const We of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(We)._value,Y))return We;return null}_getOptionValue(Y){const We=function ii(ve){return ve.split(":")[0]}(Y);return this._optionMap.has(We)?this._optionMap.get(We)._value:Y}}return ve.\u0275fac=function(){let re;return function(We){return(re||(re=d.n5z(ve)))(We||ve)}}(),ve.\u0275dir=d.lG2({type:ve,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(Y,We){1&Y&&d.NdJ("change",function(Ti){return We.onChange(Ti.target)})("blur",function(){return We.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([un]),d.qOj]}),ve})(),Pi=(()=>{class ve{constructor(Y,We,Un){this._element=Y,this._renderer=We,this._select=Un,this._select&&(this.id=this._select._registerOption(this))}set ngValue(Y){null!=this._select&&(this._value=Y,this._setElementValue(En(this.id,Y)),this._select.writeValue(this._select.value))}set value(Y){this._select?(this._value=Y,this._setElementValue(En(this.id,Y)),this._select.writeValue(this._select.value)):this._setElementValue(Y)}_setElementValue(Y){this._renderer.setProperty(this._element.nativeElement,"value",Y)}_setSelected(Y){this._renderer.setProperty(this._element.nativeElement,"selected",Y)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return ve.\u0275fac=function(Y){return new(Y||ve)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(fi,9))},ve.\u0275dir=d.lG2({type:ve,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),ve})(),Ir=(()=>{class ve{}return ve.\u0275fac=function(Y){return new(Y||ve)},ve.\u0275mod=d.oAB({type:ve}),ve.\u0275inj=d.cJS({imports:[[Jr]]}),ve})(),br=(()=>{class ve{}return ve.\u0275fac=function(Y){return new(Y||ve)},ve.\u0275mod=d.oAB({type:ve}),ve.\u0275inj=d.cJS({imports:[Ir]}),ve})(),gr=(()=>{class ve{static withConfig(Y){return{ngModule:ve,providers:[{provide:fo,useValue:Y.warnOnNgModelWithFormControl}]}}}return ve.\u0275fac=function(Y){return new(Y||ve)},ve.\u0275mod=d.oAB({type:ve}),ve.\u0275inj=d.cJS({imports:[Ir]}),ve})(),lo=(()=>{class ve{group(Y,We=null){const Un=this._reduceControls(Y);let go,Ti=null,Yr=null;return null!=We&&(function kr(ve){return void 0!==ve.asyncValidators||void 0!==ve.validators||void 0!==ve.updateOn}(We)?(Ti=null!=We.validators?We.validators:null,Yr=null!=We.asyncValidators?We.asyncValidators:null,go=null!=We.updateOn?We.updateOn:void 0):(Ti=null!=We.validator?We.validator:null,Yr=null!=We.asyncValidator?We.asyncValidator:null)),new Or(Un,{asyncValidators:Yr,updateOn:go,validators:Ti})}control(Y,We,Un){return new ui(Y,We,Un)}array(Y,We,Un){const Ti=Y.map(Yr=>this._createControl(Yr));return new hr(Ti,We,Un)}_reduceControls(Y){const We={};return Object.keys(Y).forEach(Un=>{We[Un]=this._createControl(Y[Un])}),We}_createControl(Y){return Ge(Y)||Oe(Y)||mt(Y)?Y:Array.isArray(Y)?this.control(Y[0],Y.length>1?Y[1]:null,Y.length>2?Y[2]:null):this.control(Y)}}return ve.\u0275fac=function(Y){return new(Y||ve)},ve.\u0275prov=d.Yz7({token:ve,factory:ve.\u0275fac,providedIn:gr}),ve})()},7423:(Xn,Vt,A)=>{"use strict";A.d(Vt,{lW:()=>qe,ot:()=>at});var d=A(5e3),_=A(508),e=A(6360),ee=A(5664);const W=["mat-button",""],xe=["*"],Ve=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Q=(0,_.pj)((0,_.Id)((0,_.Kr)(class{constructor(ke){this._elementRef=ke}})));let qe=(()=>{class ke extends Q{constructor(dt,it,Dt){super(dt),this._focusMonitor=it,this._animationMode=Dt,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const Tt of Ve)this._hasHostAttributes(Tt)&&this._getHostElement().classList.add(Tt);dt.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(dt,it){dt?this._focusMonitor.focusVia(this._getHostElement(),dt,it):this._getHostElement().focus(it)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...dt){return dt.some(it=>this._getHostElement().hasAttribute(it))}}return ke.\u0275fac=function(dt){return new(dt||ke)(d.Y36(d.SBq),d.Y36(ee.tE),d.Y36(e.Qb,8))},ke.\u0275cmp=d.Xpm({type:ke,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(dt,it){if(1&dt&&d.Gf(_.wG,5),2&dt){let Dt;d.iGM(Dt=d.CRH())&&(it.ripple=Dt.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(dt,it){2&dt&&(d.uIk("disabled",it.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===it._animationMode)("mat-button-disabled",it.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:W,ngContentSelectors:xe,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(dt,it){1&dt&&(d.F$t(),d.TgZ(0,"span",0),d.Hsn(1),d.qZA(),d._UZ(2,"span",1)(3,"span",2)),2&dt&&(d.xp6(2),d.ekj("mat-button-ripple-round",it.isRoundButton||it.isIconButton),d.Q6J("matRippleDisabled",it._isRippleDisabled())("matRippleCentered",it.isIconButton)("matRippleTrigger",it._getHostElement()))},directives:[_.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),ke})(),at=(()=>{class ke{}return ke.\u0275fac=function(dt){return new(dt||ke)},ke.\u0275mod=d.oAB({type:ke}),ke.\u0275inj=d.cJS({imports:[[_.si,_.BQ],_.BQ]}),ke})()},508:(Xn,Vt,A)=>{"use strict";A.d(Vt,{yN:()=>Tt,mZ:()=>hn,_A:()=>wn,rD:()=>Vn,sG:()=>mn,K7:()=>ei,HF:()=>nn,BQ:()=>te,X2:()=>di,uc:()=>wt,ey:()=>vt,Ng:()=>vn,rN:()=>vi,nP:()=>pt,us:()=>Rt,wG:()=>ye,si:()=>Ce,CB:()=>Nt,jH:()=>Ft,pj:()=>Ze,Kr:()=>Ee,Id:()=>tt,FD:()=>Xe,dB:()=>st,sb:()=>Ye,E0:()=>Pn});var d=A(5e3),_=A(226),ee=A(9808),W=A(925),xe=A(5664),pe=A(3191),ze=A(7579),Ve=A(8306),Q=A(8675),qe=A(6360),je=A(1159);function Ke(X,ie){if(1&X&&d._UZ(0,"mat-pseudo-checkbox",4),2&X){const Z=d.oxw();d.Q6J("state",Z.selected?"checked":"unchecked")("disabled",Z.disabled)}}function dt(X,ie){if(1&X&&(d.TgZ(0,"span",5),d._uU(1),d.qZA()),2&X){const Z=d.oxw();d.xp6(1),d.hij("(",Z.group.label,")")}}const it=["*"];let Tt=(()=>{class X{}return X.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",X.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",X.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",X.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",X})(),hn=(()=>{class X{}return X.COMPLEX="375ms",X.ENTERING="225ms",X.EXITING="195ms",X})();const Pe=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function gt(){return!0}});let te=(()=>{class X{constructor(Z,Se,Me){this._sanityChecks=Se,this._document=Me,this._hasDoneGlobalChecks=!1,Z._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Z){return!(0,W.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Z])}}return X.\u0275fac=function(Z){return new(Z||X)(d.LFG(xe.qm),d.LFG(Pe,8),d.LFG(ee.K0))},X.\u0275mod=d.oAB({type:X}),X.\u0275inj=d.cJS({imports:[[_.vT],_.vT]}),X})();function tt(X){return class extends X{constructor(...ie){super(...ie),this._disabled=!1}get disabled(){return this._disabled}set disabled(ie){this._disabled=(0,pe.Ig)(ie)}}}function Ze(X,ie){return class extends X{constructor(...Z){super(...Z),this.defaultColor=ie,this.color=ie}get color(){return this._color}set color(Z){const Se=Z||this.defaultColor;Se!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Se&&this._elementRef.nativeElement.classList.add(`mat-${Se}`),this._color=Se)}}}function Ee(X){return class extends X{constructor(...ie){super(...ie),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(ie){this._disableRipple=(0,pe.Ig)(ie)}}}function Ye(X,ie=0){return class extends X{constructor(...Z){super(...Z),this._tabIndex=ie,this.defaultTabIndex=ie}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Z){this._tabIndex=null!=Z?(0,pe.su)(Z):this.defaultTabIndex}}}function Xe(X){return class extends X{constructor(...ie){super(...ie),this.stateChanges=new ze.x,this.errorState=!1}updateErrorState(){const ie=this.errorState,ut=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);ut!==ie&&(this.errorState=ut,this.stateChanges.next())}}}function st(X){return class extends X{constructor(...ie){super(...ie),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Ve.y(Z=>{this._isInitialized?this._notifySubscriber(Z):this._pendingSubscribers.push(Z)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(ie){ie.next(),ie.complete()}}}class wn{constructor(){this._localeChanges=new ze.x,this.localeChanges=this._localeChanges}getValidDateOrNull(ie){return this.isDateInstance(ie)&&this.isValid(ie)?ie:null}deserialize(ie){return null==ie||this.isDateInstance(ie)&&this.isValid(ie)?ie:this.invalid()}setLocale(ie){this.locale=ie,this._localeChanges.next()}compareDate(ie,Z){return this.getYear(ie)-this.getYear(Z)||this.getMonth(ie)-this.getMonth(Z)||this.getDate(ie)-this.getDate(Z)}sameDate(ie,Z){if(ie&&Z){let Se=this.isValid(ie),Me=this.isValid(Z);return Se&&Me?!this.compareDate(ie,Z):Se==Me}return ie==Z}clampDate(ie,Z,Se){return Z&&this.compareDate(ie,Z)<0?Z:Se&&this.compareDate(ie,Se)>0?Se:ie}}const mn=new d.OlP("mat-date-formats");let Vn=(()=>{class X{isErrorState(Z,Se){return!!(Z&&Z.invalid&&(Z.touched||Se&&Se.submitted))}}return X.\u0275fac=function(Z){return new(Z||X)},X.\u0275prov=d.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})(),di=(()=>{class X{}return X.\u0275fac=function(Z){return new(Z||X)},X.\u0275dir=d.lG2({type:X,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),X})();function Pn(X,ie,Z="mat"){X.changes.pipe((0,Q.O)(X)).subscribe(({length:Se})=>{jn(ie,`${Z}-2-line`,!1),jn(ie,`${Z}-3-line`,!1),jn(ie,`${Z}-multi-line`,!1),2===Se||3===Se?jn(ie,`${Z}-${Se}-line`,!0):Se>3&&jn(ie,`${Z}-multi-line`,!0)})}function jn(X,ie,Z){X.nativeElement.classList.toggle(ie,Z)}let wt=(()=>{class X{}return X.\u0275fac=function(Z){return new(Z||X)},X.\u0275mod=d.oAB({type:X}),X.\u0275inj=d.cJS({imports:[[te],te]}),X})();class cn{constructor(ie,Z,Se){this._renderer=ie,this.element=Z,this.config=Se,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Gn={enterDuration:225,exitDuration:150},Vi=(0,W.i$)({passive:!0}),Qn=["mousedown","touchstart"],li=["mouseup","mouseleave","touchend","touchcancel"];class ni{constructor(ie,Z,Se,Me){this._target=ie,this._ngZone=Z,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,Me.isBrowser&&(this._containerElement=(0,pe.fI)(Se))}fadeInRipple(ie,Z,Se={}){const Me=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),ut=Object.assign(Object.assign({},Gn),Se.animation);Se.centered&&(ie=Me.left+Me.width/2,Z=Me.top+Me.height/2);const Be=Se.radius||function q(X,ie,Z){const Se=Math.max(Math.abs(X-Z.left),Math.abs(X-Z.right)),Me=Math.max(Math.abs(ie-Z.top),Math.abs(ie-Z.bottom));return Math.sqrt(Se*Se+Me*Me)}(ie,Z,Me),Ct=ie-Me.left,on=Z-Me.top,Sn=ut.enterDuration,bi=document.createElement("div");bi.classList.add("mat-ripple-element"),bi.style.left=Ct-Be+"px",bi.style.top=on-Be+"px",bi.style.height=2*Be+"px",bi.style.width=2*Be+"px",null!=Se.color&&(bi.style.backgroundColor=Se.color),bi.style.transitionDuration=`${Sn}ms`,this._containerElement.appendChild(bi),function Yt(X){window.getComputedStyle(X).getPropertyValue("opacity")}(bi),bi.style.transform="scale(1)";const rn=new cn(this,bi,Se);return rn.state=0,this._activeRipples.add(rn),Se.persistent||(this._mostRecentTransientRipple=rn),this._runTimeoutOutsideZone(()=>{const Pt=rn===this._mostRecentTransientRipple;rn.state=1,!Se.persistent&&(!Pt||!this._isPointerDown)&&rn.fadeOut()},Sn),rn}fadeOutRipple(ie){const Z=this._activeRipples.delete(ie);if(ie===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!Z)return;const Se=ie.element,Me=Object.assign(Object.assign({},Gn),ie.config.animation);Se.style.transitionDuration=`${Me.exitDuration}ms`,Se.style.opacity="0",ie.state=2,this._runTimeoutOutsideZone(()=>{ie.state=3,Se.remove()},Me.exitDuration)}fadeOutAll(){this._activeRipples.forEach(ie=>ie.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(ie=>{ie.config.persistent||ie.fadeOut()})}setupTriggerEvents(ie){const Z=(0,pe.fI)(ie);!Z||Z===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Z,this._registerEvents(Qn))}handleEvent(ie){"mousedown"===ie.type?this._onMousedown(ie):"touchstart"===ie.type?this._onTouchStart(ie):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(li),this._pointerUpEventsRegistered=!0)}_onMousedown(ie){const Z=(0,xe.X6)(ie),Se=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Z&&!Se&&(this._isPointerDown=!0,this.fadeInRipple(ie.clientX,ie.clientY,this._target.rippleConfig))}_onTouchStart(ie){if(!this._target.rippleDisabled&&!(0,xe.yG)(ie)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Z=ie.changedTouches;for(let Se=0;Se<Z.length;Se++)this.fadeInRipple(Z[Se].clientX,Z[Se].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(ie=>{!ie.config.persistent&&(1===ie.state||ie.config.terminateOnPointerUp&&0===ie.state)&&ie.fadeOut()}))}_runTimeoutOutsideZone(ie,Z=0){this._ngZone.runOutsideAngular(()=>setTimeout(ie,Z))}_registerEvents(ie){this._ngZone.runOutsideAngular(()=>{ie.forEach(Z=>{this._triggerElement.addEventListener(Z,this,Vi)})})}_removeTriggerEvents(){this._triggerElement&&(Qn.forEach(ie=>{this._triggerElement.removeEventListener(ie,this,Vi)}),this._pointerUpEventsRegistered&&li.forEach(ie=>{this._triggerElement.removeEventListener(ie,this,Vi)}))}}const de=new d.OlP("mat-ripple-global-options");let ye=(()=>{class X{constructor(Z,Se,Me,ut,Be){this._elementRef=Z,this._animationMode=Be,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=ut||{},this._rippleRenderer=new ni(this,Se,Z,Me)}get disabled(){return this._disabled}set disabled(Z){Z&&this.fadeOutAllNonPersistent(),this._disabled=Z,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Z){this._trigger=Z,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Z,Se=0,Me){return"number"==typeof Z?this._rippleRenderer.fadeInRipple(Z,Se,Object.assign(Object.assign({},this.rippleConfig),Me)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),Z))}}return X.\u0275fac=function(Z){return new(Z||X)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(W.t4),d.Y36(de,8),d.Y36(qe.Qb,8))},X.\u0275dir=d.lG2({type:X,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Z,Se){2&Z&&d.ekj("mat-ripple-unbounded",Se.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),X})(),Ce=(()=>{class X{}return X.\u0275fac=function(Z){return new(Z||X)},X.\u0275mod=d.oAB({type:X}),X.\u0275inj=d.cJS({imports:[[te],te]}),X})(),pt=(()=>{class X{constructor(Z){this._animationMode=Z,this.state="unchecked",this.disabled=!1}}return X.\u0275fac=function(Z){return new(Z||X)(d.Y36(qe.Qb,8))},X.\u0275cmp=d.Xpm({type:X,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(Z,Se){2&Z&&d.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===Se.state)("mat-pseudo-checkbox-checked","checked"===Se.state)("mat-pseudo-checkbox-disabled",Se.disabled)("_mat-animation-noopable","NoopAnimations"===Se._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(Z,Se){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),X})(),Rt=(()=>{class X{}return X.\u0275fac=function(Z){return new(Z||X)},X.\u0275mod=d.oAB({type:X}),X.\u0275inj=d.cJS({imports:[[te]]}),X})();const nn=new d.OlP("MAT_OPTION_PARENT_COMPONENT"),ei=new d.OlP("MatOptgroup");let Bi=0;class vi{constructor(ie,Z=!1){this.source=ie,this.isUserInput=Z}}let Ei=(()=>{class X{constructor(Z,Se,Me,ut){this._element=Z,this._changeDetectorRef=Se,this._parent=Me,this.group=ut,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Bi++,this.onSelectionChange=new d.vpe,this._stateChanges=new ze.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Z){this._disabled=(0,pe.Ig)(Z)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(Z,Se){const Me=this._getHostElement();"function"==typeof Me.focus&&Me.focus(Se)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Z){(Z.keyCode===je.K5||Z.keyCode===je.L_)&&!(0,je.Vb)(Z)&&(this._selectViaInteraction(),Z.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Z=this.viewValue;Z!==this._mostRecentViewValue&&(this._mostRecentViewValue=Z,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Z=!1){this.onSelectionChange.emit(new vi(this,Z))}}return X.\u0275fac=function(Z){d.$Z()},X.\u0275dir=d.lG2({type:X,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),X})(),vt=(()=>{class X extends Ei{constructor(Z,Se,Me,ut){super(Z,Se,Me,ut)}}return X.\u0275fac=function(Z){return new(Z||X)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(nn,8),d.Y36(ei,8))},X.\u0275cmp=d.Xpm({type:X,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(Z,Se){1&Z&&d.NdJ("click",function(){return Se._selectViaInteraction()})("keydown",function(ut){return Se._handleKeydown(ut)}),2&Z&&(d.Ikx("id",Se.id),d.uIk("tabindex",Se._getTabIndex())("aria-selected",Se._getAriaSelected())("aria-disabled",Se.disabled.toString()),d.ekj("mat-selected",Se.selected)("mat-option-multiple",Se.multiple)("mat-active",Se.active)("mat-option-disabled",Se.disabled))},exportAs:["matOption"],features:[d.qOj],ngContentSelectors:it,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(Z,Se){1&Z&&(d.F$t(),d.YNc(0,Ke,1,2,"mat-pseudo-checkbox",0),d.TgZ(1,"span",1),d.Hsn(2),d.qZA(),d.YNc(3,dt,2,1,"span",2),d._UZ(4,"div",3)),2&Z&&(d.Q6J("ngIf",Se.multiple),d.xp6(3),d.Q6J("ngIf",Se.group&&Se.group._inert),d.xp6(1),d.Q6J("matRippleTrigger",Se._getHostElement())("matRippleDisabled",Se.disabled||Se.disableRipple))},directives:[pt,ee.O5,ye],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),X})();function Nt(X,ie,Z){if(Z.length){let Se=ie.toArray(),Me=Z.toArray(),ut=0;for(let Be=0;Be<X+1;Be++)Se[Be].group&&Se[Be].group===Me[ut]&&ut++;return ut}return 0}function Ft(X,ie,Z,Se){return X<Z?X:X+ie>Z+Se?Math.max(0,X-Se+ie):Z}let vn=(()=>{class X{}return X.\u0275fac=function(Z){return new(Z||X)},X.\u0275mod=d.oAB({type:X}),X.\u0275inj=d.cJS({imports:[[Ce,ee.ez,te,Rt]]}),X})()},4834:(Xn,Vt,A)=>{"use strict";A.d(Vt,{d:()=>ee,t:()=>W});var d=A(5e3),_=A(3191),e=A(508);let ee=(()=>{class xe{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(ze){this._vertical=(0,_.Ig)(ze)}get inset(){return this._inset}set inset(ze){this._inset=(0,_.Ig)(ze)}}return xe.\u0275fac=function(ze){return new(ze||xe)},xe.\u0275cmp=d.Xpm({type:xe,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(ze,Ve){2&ze&&(d.uIk("aria-orientation",Ve.vertical?"vertical":"horizontal"),d.ekj("mat-divider-vertical",Ve.vertical)("mat-divider-horizontal",!Ve.vertical)("mat-divider-inset",Ve.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(ze,Ve){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),xe})(),W=(()=>{class xe{}return xe.\u0275fac=function(ze){return new(ze||xe)},xe.\u0275mod=d.oAB({type:xe}),xe.\u0275inj=d.cJS({imports:[[e.BQ],e.BQ]}),xe})()},7322:(Xn,Vt,A)=>{"use strict";A.d(Vt,{G_:()=>li,KE:()=>ni,Eo:()=>mn,lN:()=>Yt,hX:()=>an});var d=A(7144),_=A(9808),e=A(5e3),ee=A(508),W=A(3191),xe=A(7579),pe=A(6451),ze=A(4968),Ve=A(8675),Q=A(2722),qe=A(5698),je=A(1777),at=A(6360),ke=A(226),Ke=A(925);const dt=["connectionContainer"],it=["inputContainer"],Dt=["label"];function Tt(q,de){1&q&&(e.ynx(0),e.TgZ(1,"div",14),e._UZ(2,"div",15)(3,"div",16)(4,"div",17),e.qZA(),e.TgZ(5,"div",18),e._UZ(6,"div",15)(7,"div",16)(8,"div",17),e.qZA(),e.BQk())}function hn(q,de){if(1&q){const ye=e.EpF();e.TgZ(0,"div",19),e.NdJ("cdkObserveContent",function(){return e.CHM(ye),e.oxw().updateOutlineGap()}),e.Hsn(1,1),e.qZA()}if(2&q){const ye=e.oxw();e.Q6J("cdkObserveContentDisabled","outline"!=ye.appearance)}}function gt(q,de){if(1&q&&(e.ynx(0),e.Hsn(1,2),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.BQk()),2&q){const ye=e.oxw(2);e.xp6(3),e.Oqu(ye._control.placeholder)}}function Pe(q,de){1&q&&e.Hsn(0,3,["*ngSwitchCase","true"])}function te(q,de){1&q&&(e.TgZ(0,"span",23),e._uU(1," *"),e.qZA())}function Qe(q,de){if(1&q){const ye=e.EpF();e.TgZ(0,"label",20,21),e.NdJ("cdkObserveContent",function(){return e.CHM(ye),e.oxw().updateOutlineGap()}),e.YNc(2,gt,4,1,"ng-container",12),e.YNc(3,Pe,1,0,"ng-content",12),e.YNc(4,te,2,0,"span",22),e.qZA()}if(2&q){const ye=e.oxw();e.ekj("mat-empty",ye._control.empty&&!ye._shouldAlwaysFloat())("mat-form-field-empty",ye._control.empty&&!ye._shouldAlwaysFloat())("mat-accent","accent"==ye.color)("mat-warn","warn"==ye.color),e.Q6J("cdkObserveContentDisabled","outline"!=ye.appearance)("id",ye._labelId)("ngSwitch",ye._hasLabel()),e.uIk("for",ye._control.id)("aria-owns",ye._control.id),e.xp6(2),e.Q6J("ngSwitchCase",!1),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(1),e.Q6J("ngIf",!ye.hideRequiredMarker&&ye._control.required&&!ye._control.disabled)}}function Mt(q,de){1&q&&(e.TgZ(0,"div",24),e.Hsn(1,4),e.qZA())}function bt(q,de){if(1&q&&(e.TgZ(0,"div",25),e._UZ(1,"span",26),e.qZA()),2&q){const ye=e.oxw();e.xp6(1),e.ekj("mat-accent","accent"==ye.color)("mat-warn","warn"==ye.color)}}function tt(q,de){if(1&q&&(e.TgZ(0,"div"),e.Hsn(1,5),e.qZA()),2&q){const ye=e.oxw();e.Q6J("@transitionMessages",ye._subscriptAnimationState)}}function Ze(q,de){if(1&q&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&q){const ye=e.oxw(2);e.Q6J("id",ye._hintLabelId),e.xp6(1),e.Oqu(ye.hintLabel)}}function Ee(q,de){if(1&q&&(e.TgZ(0,"div",27),e.YNc(1,Ze,2,2,"div",28),e.Hsn(2,6),e._UZ(3,"div",29),e.Hsn(4,7),e.qZA()),2&q){const ye=e.oxw();e.Q6J("@transitionMessages",ye._subscriptAnimationState),e.xp6(1),e.Q6J("ngIf",ye.hintLabel)}}const Ye=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Xe=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],sn=new e.OlP("MatError"),wn={transitionMessages:(0,je.X$)("transitionMessages",[(0,je.SB)("enter",(0,je.oB)({opacity:1,transform:"translateY(0%)"})),(0,je.eR)("void => enter",[(0,je.oB)({opacity:0,transform:"translateY(-5px)"}),(0,je.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let mn=(()=>{class q{}return q.\u0275fac=function(ye){return new(ye||q)},q.\u0275dir=e.lG2({type:q}),q})();const Ht=new e.OlP("MatHint");let an=(()=>{class q{}return q.\u0275fac=function(ye){return new(ye||q)},q.\u0275dir=e.lG2({type:q,selectors:[["mat-label"]]}),q})(),Vn=(()=>{class q{}return q.\u0275fac=function(ye){return new(ye||q)},q.\u0275dir=e.lG2({type:q,selectors:[["mat-placeholder"]]}),q})();const di=new e.OlP("MatPrefix"),jn=new e.OlP("MatSuffix");let cn=0;const Vi=(0,ee.pj)(class{constructor(q){this._elementRef=q}},"primary"),Qn=new e.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),li=new e.OlP("MatFormField");let ni=(()=>{class q extends Vi{constructor(ye,Ce,pt,Rt,nn,On,Wn){super(ye),this._changeDetectorRef=Ce,this._dir=pt,this._defaults=Rt,this._platform=nn,this._ngZone=On,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new xe.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+cn++,this._labelId="mat-form-field-label-"+cn++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==Wn,this.appearance=Rt&&Rt.appearance?Rt.appearance:"legacy",this._hideRequiredMarker=!(!Rt||null==Rt.hideRequiredMarker)&&Rt.hideRequiredMarker}get appearance(){return this._appearance}set appearance(ye){const Ce=this._appearance;this._appearance=ye||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&Ce!==ye&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(ye){this._hideRequiredMarker=(0,W.Ig)(ye)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(ye){this._hintLabel=ye,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(ye){ye!==this._floatLabel&&(this._floatLabel=ye||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(ye){this._explicitFormFieldControl=ye}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const ye=this._control;ye.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${ye.controlType}`),ye.stateChanges.pipe((0,Ve.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),ye.ngControl&&ye.ngControl.valueChanges&&ye.ngControl.valueChanges.pipe((0,Q.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Q.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,pe.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,Ve.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,Ve.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,Q.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(ye){const Ce=this._control?this._control.ngControl:null;return Ce&&Ce[ye]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,ze.R)(this._label.nativeElement,"transitionend").pipe((0,qe.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let ye=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&ye.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Ce=this._hintChildren?this._hintChildren.find(Rt=>"start"===Rt.align):null,pt=this._hintChildren?this._hintChildren.find(Rt=>"end"===Rt.align):null;Ce?ye.push(Ce.id):this._hintLabel&&ye.push(this._hintLabelId),pt&&ye.push(pt.id)}else this._errorChildren&&ye.push(...this._errorChildren.map(Ce=>Ce.id));this._control.setDescribedByIds(ye)}}_validateControlChild(){}updateOutlineGap(){const ye=this._label?this._label.nativeElement:null,Ce=this._connectionContainerRef.nativeElement,pt=".mat-form-field-outline-start",Rt=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!ye||!ye.children.length||!ye.textContent.trim()){const ei=Ce.querySelectorAll(`${pt}, ${Rt}`);for(let hi=0;hi<ei.length;hi++)ei[hi].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let nn=0,On=0;const Wn=Ce.querySelectorAll(pt),Yn=Ce.querySelectorAll(Rt);if(this._label&&this._label.nativeElement.children.length){const ei=Ce.getBoundingClientRect();if(0===ei.width&&0===ei.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const hi=this._getStartEnd(ei),Bi=ye.children,vi=this._getStartEnd(Bi[0].getBoundingClientRect());let Ei=0;for(let vt=0;vt<Bi.length;vt++)Ei+=Bi[vt].offsetWidth;nn=Math.abs(vi-hi)-5,On=Ei>0?.75*Ei+10:0}for(let ei=0;ei<Wn.length;ei++)Wn[ei].style.width=`${nn}px`;for(let ei=0;ei<Yn.length;ei++)Yn[ei].style.width=`${On}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(ye){return this._dir&&"rtl"===this._dir.value?ye.right:ye.left}_isAttachedToDOM(){const ye=this._elementRef.nativeElement;if(ye.getRootNode){const Ce=ye.getRootNode();return Ce&&Ce!==ye}return document.documentElement.contains(ye)}}return q.\u0275fac=function(ye){return new(ye||q)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(ke.Is,8),e.Y36(Qn,8),e.Y36(Ke.t4),e.Y36(e.R0b),e.Y36(at.Qb,8))},q.\u0275cmp=e.Xpm({type:q,selectors:[["mat-form-field"]],contentQueries:function(ye,Ce,pt){if(1&ye&&(e.Suo(pt,mn,5),e.Suo(pt,mn,7),e.Suo(pt,an,5),e.Suo(pt,an,7),e.Suo(pt,Vn,5),e.Suo(pt,sn,5),e.Suo(pt,Ht,5),e.Suo(pt,di,5),e.Suo(pt,jn,5)),2&ye){let Rt;e.iGM(Rt=e.CRH())&&(Ce._controlNonStatic=Rt.first),e.iGM(Rt=e.CRH())&&(Ce._controlStatic=Rt.first),e.iGM(Rt=e.CRH())&&(Ce._labelChildNonStatic=Rt.first),e.iGM(Rt=e.CRH())&&(Ce._labelChildStatic=Rt.first),e.iGM(Rt=e.CRH())&&(Ce._placeholderChild=Rt.first),e.iGM(Rt=e.CRH())&&(Ce._errorChildren=Rt),e.iGM(Rt=e.CRH())&&(Ce._hintChildren=Rt),e.iGM(Rt=e.CRH())&&(Ce._prefixChildren=Rt),e.iGM(Rt=e.CRH())&&(Ce._suffixChildren=Rt)}},viewQuery:function(ye,Ce){if(1&ye&&(e.Gf(dt,7),e.Gf(it,5),e.Gf(Dt,5)),2&ye){let pt;e.iGM(pt=e.CRH())&&(Ce._connectionContainerRef=pt.first),e.iGM(pt=e.CRH())&&(Ce._inputContainerRef=pt.first),e.iGM(pt=e.CRH())&&(Ce._label=pt.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(ye,Ce){2&ye&&e.ekj("mat-form-field-appearance-standard","standard"==Ce.appearance)("mat-form-field-appearance-fill","fill"==Ce.appearance)("mat-form-field-appearance-outline","outline"==Ce.appearance)("mat-form-field-appearance-legacy","legacy"==Ce.appearance)("mat-form-field-invalid",Ce._control.errorState)("mat-form-field-can-float",Ce._canLabelFloat())("mat-form-field-should-float",Ce._shouldLabelFloat())("mat-form-field-has-label",Ce._hasFloatingLabel())("mat-form-field-hide-placeholder",Ce._hideControlPlaceholder())("mat-form-field-disabled",Ce._control.disabled)("mat-form-field-autofilled",Ce._control.autofilled)("mat-focused",Ce._control.focused)("ng-untouched",Ce._shouldForward("untouched"))("ng-touched",Ce._shouldForward("touched"))("ng-pristine",Ce._shouldForward("pristine"))("ng-dirty",Ce._shouldForward("dirty"))("ng-valid",Ce._shouldForward("valid"))("ng-invalid",Ce._shouldForward("invalid"))("ng-pending",Ce._shouldForward("pending"))("_mat-animation-noopable",!Ce._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[e._Bn([{provide:li,useExisting:q}]),e.qOj],ngContentSelectors:Xe,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(ye,Ce){1&ye&&(e.F$t(Ye),e.TgZ(0,"div",0)(1,"div",1,2),e.NdJ("click",function(Rt){return Ce._control.onContainerClick&&Ce._control.onContainerClick(Rt)}),e.YNc(3,Tt,9,0,"ng-container",3),e.YNc(4,hn,2,1,"div",4),e.TgZ(5,"div",5,6),e.Hsn(7),e.TgZ(8,"span",7),e.YNc(9,Qe,5,16,"label",8),e.qZA()(),e.YNc(10,Mt,2,0,"div",9),e.qZA(),e.YNc(11,bt,2,4,"div",10),e.TgZ(12,"div",11),e.YNc(13,tt,2,1,"div",12),e.YNc(14,Ee,5,2,"div",13),e.qZA()()),2&ye&&(e.xp6(3),e.Q6J("ngIf","outline"==Ce.appearance),e.xp6(1),e.Q6J("ngIf",Ce._prefixChildren.length),e.xp6(5),e.Q6J("ngIf",Ce._hasFloatingLabel()),e.xp6(1),e.Q6J("ngIf",Ce._suffixChildren.length),e.xp6(1),e.Q6J("ngIf","outline"!=Ce.appearance),e.xp6(1),e.Q6J("ngSwitch",Ce._getDisplayedMessages()),e.xp6(1),e.Q6J("ngSwitchCase","error"),e.xp6(1),e.Q6J("ngSwitchCase","hint"))},directives:[_.O5,d.wD,_.RF,_.n9],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[wn.transitionMessages]},changeDetection:0}),q})(),Yt=(()=>{class q{}return q.\u0275fac=function(ye){return new(ye||q)},q.\u0275mod=e.oAB({type:q}),q.\u0275inj=e.cJS({imports:[[_.ez,ee.BQ,d.Q8],ee.BQ]}),q})()},8099:(Xn,Vt,A)=>{"use strict";A.d(Vt,{Hw:()=>Zt,Ps:()=>Ln});var d=A(5e3),_=A(508),e=A(3191),ee=A(9808),W=A(9646),xe=A(2843),pe=A(4128),ze=A(727),Ve=A(8505),Q=A(4004),qe=A(262),je=A(8746),at=A(3099),ke=A(5698),Ke=A(4351),dt=A(9300);class it{}class Tt{constructor(Et){this.normalizedNames=new Map,this.lazyUpdate=null,Et?this.lazyInit="string"==typeof Et?()=>{this.headers=new Map,Et.split("\n").forEach(ct=>{const jt=ct.indexOf(":");if(jt>0){const In=ct.slice(0,jt),kn=In.toLowerCase(),si=ct.slice(jt+1).trim();this.maybeSetNormalizedName(In,kn),this.headers.has(kn)?this.headers.get(kn).push(si):this.headers.set(kn,[si])}})}:()=>{this.headers=new Map,Object.keys(Et).forEach(ct=>{let jt=Et[ct];const In=ct.toLowerCase();"string"==typeof jt&&(jt=[jt]),jt.length>0&&(this.headers.set(In,jt),this.maybeSetNormalizedName(ct,In))})}:this.headers=new Map}has(Et){return this.init(),this.headers.has(Et.toLowerCase())}get(Et){this.init();const ct=this.headers.get(Et.toLowerCase());return ct&&ct.length>0?ct[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Et){return this.init(),this.headers.get(Et.toLowerCase())||null}append(Et,ct){return this.clone({name:Et,value:ct,op:"a"})}set(Et,ct){return this.clone({name:Et,value:ct,op:"s"})}delete(Et,ct){return this.clone({name:Et,value:ct,op:"d"})}maybeSetNormalizedName(Et,ct){this.normalizedNames.has(ct)||this.normalizedNames.set(ct,Et)}init(){this.lazyInit&&(this.lazyInit instanceof Tt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Et=>this.applyUpdate(Et)),this.lazyUpdate=null))}copyFrom(Et){Et.init(),Array.from(Et.headers.keys()).forEach(ct=>{this.headers.set(ct,Et.headers.get(ct)),this.normalizedNames.set(ct,Et.normalizedNames.get(ct))})}clone(Et){const ct=new Tt;return ct.lazyInit=this.lazyInit&&this.lazyInit instanceof Tt?this.lazyInit:this,ct.lazyUpdate=(this.lazyUpdate||[]).concat([Et]),ct}applyUpdate(Et){const ct=Et.name.toLowerCase();switch(Et.op){case"a":case"s":let jt=Et.value;if("string"==typeof jt&&(jt=[jt]),0===jt.length)return;this.maybeSetNormalizedName(Et.name,ct);const In=("a"===Et.op?this.headers.get(ct):void 0)||[];In.push(...jt),this.headers.set(ct,In);break;case"d":const kn=Et.value;if(kn){let si=this.headers.get(ct);if(!si)return;si=si.filter(Mi=>-1===kn.indexOf(Mi)),0===si.length?(this.headers.delete(ct),this.normalizedNames.delete(ct)):this.headers.set(ct,si)}else this.headers.delete(ct),this.normalizedNames.delete(ct)}}forEach(Et){this.init(),Array.from(this.normalizedNames.keys()).forEach(ct=>Et(this.normalizedNames.get(ct),this.headers.get(ct)))}}class hn{encodeKey(Et){return Qe(Et)}encodeValue(Et){return Qe(Et)}decodeKey(Et){return decodeURIComponent(Et)}decodeValue(Et){return decodeURIComponent(Et)}}const Pe=/%(\d[a-f0-9])/gi,te={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Qe(pn){return encodeURIComponent(pn).replace(Pe,(Et,ct)=>{var jt;return null!==(jt=te[ct])&&void 0!==jt?jt:Et})}function Mt(pn){return`${pn}`}class bt{constructor(Et={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Et.encoder||new hn,Et.fromString){if(Et.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function gt(pn,Et){const ct=new Map;return pn.length>0&&pn.replace(/^\?/,"").split("&").forEach(In=>{const kn=In.indexOf("="),[si,Mi]=-1==kn?[Et.decodeKey(In),""]:[Et.decodeKey(In.slice(0,kn)),Et.decodeValue(In.slice(kn+1))],ht=ct.get(si)||[];ht.push(Mi),ct.set(si,ht)}),ct}(Et.fromString,this.encoder)}else Et.fromObject?(this.map=new Map,Object.keys(Et.fromObject).forEach(ct=>{const jt=Et.fromObject[ct];this.map.set(ct,Array.isArray(jt)?jt:[jt])})):this.map=null}has(Et){return this.init(),this.map.has(Et)}get(Et){this.init();const ct=this.map.get(Et);return ct?ct[0]:null}getAll(Et){return this.init(),this.map.get(Et)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Et,ct){return this.clone({param:Et,value:ct,op:"a"})}appendAll(Et){const ct=[];return Object.keys(Et).forEach(jt=>{const In=Et[jt];Array.isArray(In)?In.forEach(kn=>{ct.push({param:jt,value:kn,op:"a"})}):ct.push({param:jt,value:In,op:"a"})}),this.clone(ct)}set(Et,ct){return this.clone({param:Et,value:ct,op:"s"})}delete(Et,ct){return this.clone({param:Et,value:ct,op:"d"})}toString(){return this.init(),this.keys().map(Et=>{const ct=this.encoder.encodeKey(Et);return this.map.get(Et).map(jt=>ct+"="+this.encoder.encodeValue(jt)).join("&")}).filter(Et=>""!==Et).join("&")}clone(Et){const ct=new bt({encoder:this.encoder});return ct.cloneFrom=this.cloneFrom||this,ct.updates=(this.updates||[]).concat(Et),ct}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Et=>this.map.set(Et,this.cloneFrom.map.get(Et))),this.updates.forEach(Et=>{switch(Et.op){case"a":case"s":const ct=("a"===Et.op?this.map.get(Et.param):void 0)||[];ct.push(Mt(Et.value)),this.map.set(Et.param,ct);break;case"d":if(void 0===Et.value){this.map.delete(Et.param);break}{let jt=this.map.get(Et.param)||[];const In=jt.indexOf(Mt(Et.value));-1!==In&&jt.splice(In,1),jt.length>0?this.map.set(Et.param,jt):this.map.delete(Et.param)}}}),this.cloneFrom=this.updates=null)}}class Ze{constructor(){this.map=new Map}set(Et,ct){return this.map.set(Et,ct),this}get(Et){return this.map.has(Et)||this.map.set(Et,Et.defaultValue()),this.map.get(Et)}delete(Et){return this.map.delete(Et),this}has(Et){return this.map.has(Et)}keys(){return this.map.keys()}}function Ye(pn){return"undefined"!=typeof ArrayBuffer&&pn instanceof ArrayBuffer}function Xe(pn){return"undefined"!=typeof Blob&&pn instanceof Blob}function st(pn){return"undefined"!=typeof FormData&&pn instanceof FormData}class fn{constructor(Et,ct,jt,In){let kn;if(this.url=ct,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Et.toUpperCase(),function Ee(pn){switch(pn){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||In?(this.body=void 0!==jt?jt:null,kn=In):kn=jt,kn&&(this.reportProgress=!!kn.reportProgress,this.withCredentials=!!kn.withCredentials,kn.responseType&&(this.responseType=kn.responseType),kn.headers&&(this.headers=kn.headers),kn.context&&(this.context=kn.context),kn.params&&(this.params=kn.params)),this.headers||(this.headers=new Tt),this.context||(this.context=new Ze),this.params){const si=this.params.toString();if(0===si.length)this.urlWithParams=ct;else{const Mi=ct.indexOf("?");this.urlWithParams=ct+(-1===Mi?"?":Mi<ct.length-1?"&":"")+si}}else this.params=new bt,this.urlWithParams=ct}serializeBody(){return null===this.body?null:Ye(this.body)||Xe(this.body)||st(this.body)||function sn(pn){return"undefined"!=typeof URLSearchParams&&pn instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof bt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||st(this.body)?null:Xe(this.body)?this.body.type||null:Ye(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Et={}){var ct;const jt=Et.method||this.method,In=Et.url||this.url,kn=Et.responseType||this.responseType,si=void 0!==Et.body?Et.body:this.body,Mi=void 0!==Et.withCredentials?Et.withCredentials:this.withCredentials,ht=void 0!==Et.reportProgress?Et.reportProgress:this.reportProgress;let An=Et.headers||this.headers,Ie=Et.params||this.params;const Ot=null!==(ct=Et.context)&&void 0!==ct?ct:this.context;return void 0!==Et.setHeaders&&(An=Object.keys(Et.setHeaders).reduce((ae,Ge)=>ae.set(Ge,Et.setHeaders[Ge]),An)),Et.setParams&&(Ie=Object.keys(Et.setParams).reduce((ae,Ge)=>ae.set(Ge,Et.setParams[Ge]),Ie)),new fn(jt,In,si,{params:Ie,headers:An,context:Ot,reportProgress:ht,responseType:kn,withCredentials:Mi})}}var wn=(()=>((wn=wn||{})[wn.Sent=0]="Sent",wn[wn.UploadProgress=1]="UploadProgress",wn[wn.ResponseHeader=2]="ResponseHeader",wn[wn.DownloadProgress=3]="DownloadProgress",wn[wn.Response=4]="Response",wn[wn.User=5]="User",wn))();class zt extends class mn{constructor(Et,ct=200,jt="OK"){this.headers=Et.headers||new Tt,this.status=void 0!==Et.status?Et.status:ct,this.statusText=Et.statusText||jt,this.url=Et.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(Et={}){super(Et),this.type=wn.Response,this.body=void 0!==Et.body?Et.body:null}clone(Et={}){return new zt({body:void 0!==Et.body?Et.body:this.body,headers:Et.headers||this.headers,status:void 0!==Et.status?Et.status:this.status,statusText:Et.statusText||this.statusText,url:Et.url||this.url||void 0})}}function Kt(pn,Et){return{body:Et,headers:pn.headers,context:pn.context,observe:pn.observe,params:pn.params,reportProgress:pn.reportProgress,responseType:pn.responseType,withCredentials:pn.withCredentials}}let Ht=(()=>{class pn{constructor(ct){this.handler=ct}request(ct,jt,In={}){let kn;if(ct instanceof fn)kn=ct;else{let ht,An;ht=In.headers instanceof Tt?In.headers:new Tt(In.headers),In.params&&(An=In.params instanceof bt?In.params:new bt({fromObject:In.params})),kn=new fn(ct,jt,void 0!==In.body?In.body:null,{headers:ht,context:In.context,params:An,reportProgress:In.reportProgress,responseType:In.responseType||"json",withCredentials:In.withCredentials})}const si=(0,W.of)(kn).pipe((0,Ke.b)(ht=>this.handler.handle(ht)));if(ct instanceof fn||"events"===In.observe)return si;const Mi=si.pipe((0,dt.h)(ht=>ht instanceof zt));switch(In.observe||"body"){case"body":switch(kn.responseType){case"arraybuffer":return Mi.pipe((0,Q.U)(ht=>{if(null!==ht.body&&!(ht.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ht.body}));case"blob":return Mi.pipe((0,Q.U)(ht=>{if(null!==ht.body&&!(ht.body instanceof Blob))throw new Error("Response is not a Blob.");return ht.body}));case"text":return Mi.pipe((0,Q.U)(ht=>{if(null!==ht.body&&"string"!=typeof ht.body)throw new Error("Response is not a string.");return ht.body}));default:return Mi.pipe((0,Q.U)(ht=>ht.body))}case"response":return Mi;default:throw new Error(`Unreachable: unhandled observe type ${In.observe}}`)}}delete(ct,jt={}){return this.request("DELETE",ct,jt)}get(ct,jt={}){return this.request("GET",ct,jt)}head(ct,jt={}){return this.request("HEAD",ct,jt)}jsonp(ct,jt){return this.request("JSONP",ct,{params:(new bt).append(jt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ct,jt={}){return this.request("OPTIONS",ct,jt)}patch(ct,jt,In={}){return this.request("PATCH",ct,Kt(In,jt))}post(ct,jt,In={}){return this.request("POST",ct,Kt(In,jt))}put(ct,jt,In={}){return this.request("PUT",ct,Kt(In,jt))}}return pn.\u0275fac=function(ct){return new(ct||pn)(d.LFG(it))},pn.\u0275prov=d.Yz7({token:pn,factory:pn.\u0275fac}),pn})();var hi=A(2313);const Bi=["*"];let vi;function vt(pn){var Et;return(null===(Et=function Ei(){if(void 0===vi&&(vi=null,"undefined"!=typeof window)){const pn=window;void 0!==pn.trustedTypes&&(vi=pn.trustedTypes.createPolicy("angular#components",{createHTML:Et=>Et}))}return vi}())||void 0===Et?void 0:Et.createHTML(pn))||pn}function Nt(pn){return Error(`Unable to find icon with the name "${pn}"`)}function vn(pn){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${pn}".`)}function X(pn){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${pn}".`)}class ie{constructor(Et,ct,jt){this.url=Et,this.svgText=ct,this.options=jt}}let Z=(()=>{class pn{constructor(ct,jt,In,kn){this._httpClient=ct,this._sanitizer=jt,this._errorHandler=kn,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=In}addSvgIcon(ct,jt,In){return this.addSvgIconInNamespace("",ct,jt,In)}addSvgIconLiteral(ct,jt,In){return this.addSvgIconLiteralInNamespace("",ct,jt,In)}addSvgIconInNamespace(ct,jt,In,kn){return this._addSvgIconConfig(ct,jt,new ie(In,null,kn))}addSvgIconResolver(ct){return this._resolvers.push(ct),this}addSvgIconLiteralInNamespace(ct,jt,In,kn){const si=this._sanitizer.sanitize(d.q3G.HTML,In);if(!si)throw X(In);const Mi=vt(si);return this._addSvgIconConfig(ct,jt,new ie("",Mi,kn))}addSvgIconSet(ct,jt){return this.addSvgIconSetInNamespace("",ct,jt)}addSvgIconSetLiteral(ct,jt){return this.addSvgIconSetLiteralInNamespace("",ct,jt)}addSvgIconSetInNamespace(ct,jt,In){return this._addSvgIconSetConfig(ct,new ie(jt,null,In))}addSvgIconSetLiteralInNamespace(ct,jt,In){const kn=this._sanitizer.sanitize(d.q3G.HTML,jt);if(!kn)throw X(jt);const si=vt(kn);return this._addSvgIconSetConfig(ct,new ie("",si,In))}registerFontClassAlias(ct,jt=ct){return this._fontCssClassesByAlias.set(ct,jt),this}classNameForFontAlias(ct){return this._fontCssClassesByAlias.get(ct)||ct}setDefaultFontSetClass(ct){return this._defaultFontSetClass=ct,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(ct){const jt=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,ct);if(!jt)throw vn(ct);const In=this._cachedIconsByUrl.get(jt);return In?(0,W.of)(ut(In)):this._loadSvgIconFromConfig(new ie(ct,null)).pipe((0,Ve.b)(kn=>this._cachedIconsByUrl.set(jt,kn)),(0,Q.U)(kn=>ut(kn)))}getNamedSvgIcon(ct,jt=""){const In=Be(jt,ct);let kn=this._svgIconConfigs.get(In);if(kn)return this._getSvgFromConfig(kn);if(kn=this._getIconConfigFromResolvers(jt,ct),kn)return this._svgIconConfigs.set(In,kn),this._getSvgFromConfig(kn);const si=this._iconSetConfigs.get(jt);return si?this._getSvgFromIconSetConfigs(ct,si):(0,xe._)(Nt(In))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(ct){return ct.svgText?(0,W.of)(ut(this._svgElementFromConfig(ct))):this._loadSvgIconFromConfig(ct).pipe((0,Q.U)(jt=>ut(jt)))}_getSvgFromIconSetConfigs(ct,jt){const In=this._extractIconWithNameFromAnySet(ct,jt);if(In)return(0,W.of)(In);const kn=jt.filter(si=>!si.svgText).map(si=>this._loadSvgIconSetFromConfig(si).pipe((0,qe.K)(Mi=>{const An=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,si.url)} failed: ${Mi.message}`;return this._errorHandler.handleError(new Error(An)),(0,W.of)(null)})));return(0,pe.D)(kn).pipe((0,Q.U)(()=>{const si=this._extractIconWithNameFromAnySet(ct,jt);if(!si)throw Nt(ct);return si}))}_extractIconWithNameFromAnySet(ct,jt){for(let In=jt.length-1;In>=0;In--){const kn=jt[In];if(kn.svgText&&kn.svgText.toString().indexOf(ct)>-1){const si=this._svgElementFromConfig(kn),Mi=this._extractSvgIconFromSet(si,ct,kn.options);if(Mi)return Mi}}return null}_loadSvgIconFromConfig(ct){return this._fetchIcon(ct).pipe((0,Ve.b)(jt=>ct.svgText=jt),(0,Q.U)(()=>this._svgElementFromConfig(ct)))}_loadSvgIconSetFromConfig(ct){return ct.svgText?(0,W.of)(null):this._fetchIcon(ct).pipe((0,Ve.b)(jt=>ct.svgText=jt))}_extractSvgIconFromSet(ct,jt,In){const kn=ct.querySelector(`[id="${jt}"]`);if(!kn)return null;const si=kn.cloneNode(!0);if(si.removeAttribute("id"),"svg"===si.nodeName.toLowerCase())return this._setSvgAttributes(si,In);if("symbol"===si.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(si),In);const Mi=this._svgElementFromString(vt("<svg></svg>"));return Mi.appendChild(si),this._setSvgAttributes(Mi,In)}_svgElementFromString(ct){const jt=this._document.createElement("DIV");jt.innerHTML=ct;const In=jt.querySelector("svg");if(!In)throw Error("<svg> tag not found");return In}_toSvgElement(ct){const jt=this._svgElementFromString(vt("<svg></svg>")),In=ct.attributes;for(let kn=0;kn<In.length;kn++){const{name:si,value:Mi}=In[kn];"id"!==si&&jt.setAttribute(si,Mi)}for(let kn=0;kn<ct.childNodes.length;kn++)ct.childNodes[kn].nodeType===this._document.ELEMENT_NODE&&jt.appendChild(ct.childNodes[kn].cloneNode(!0));return jt}_setSvgAttributes(ct,jt){return ct.setAttribute("fit",""),ct.setAttribute("height","100%"),ct.setAttribute("width","100%"),ct.setAttribute("preserveAspectRatio","xMidYMid meet"),ct.setAttribute("focusable","false"),jt&&jt.viewBox&&ct.setAttribute("viewBox",jt.viewBox),ct}_fetchIcon(ct){var jt;const{url:In,options:kn}=ct,si=null!==(jt=null==kn?void 0:kn.withCredentials)&&void 0!==jt&&jt;if(!this._httpClient)throw function Ft(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==In)throw Error(`Cannot fetch icon from URL "${In}".`);const Mi=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,In);if(!Mi)throw vn(In);const ht=this._inProgressUrlFetches.get(Mi);if(ht)return ht;const An=this._httpClient.get(Mi,{responseType:"text",withCredentials:si}).pipe((0,Q.U)(Ie=>vt(Ie)),(0,je.x)(()=>this._inProgressUrlFetches.delete(Mi)),(0,at.B)());return this._inProgressUrlFetches.set(Mi,An),An}_addSvgIconConfig(ct,jt,In){return this._svgIconConfigs.set(Be(ct,jt),In),this}_addSvgIconSetConfig(ct,jt){const In=this._iconSetConfigs.get(ct);return In?In.push(jt):this._iconSetConfigs.set(ct,[jt]),this}_svgElementFromConfig(ct){if(!ct.svgElement){const jt=this._svgElementFromString(ct.svgText);this._setSvgAttributes(jt,ct.options),ct.svgElement=jt}return ct.svgElement}_getIconConfigFromResolvers(ct,jt){for(let In=0;In<this._resolvers.length;In++){const kn=this._resolvers[In](jt,ct);if(kn)return Ct(kn)?new ie(kn.url,null,kn.options):new ie(kn,null)}}}return pn.\u0275fac=function(ct){return new(ct||pn)(d.LFG(Ht,8),d.LFG(hi.H7),d.LFG(ee.K0,8),d.LFG(d.qLn))},pn.\u0275prov=d.Yz7({token:pn,factory:pn.\u0275fac,providedIn:"root"}),pn})();function ut(pn){return pn.cloneNode(!0)}function Be(pn,Et){return pn+":"+Et}function Ct(pn){return!(!pn.url||!pn.options)}const on=(0,_.pj)(class{constructor(pn){this._elementRef=pn}}),Sn=new d.OlP("mat-icon-location",{providedIn:"root",factory:function bi(){const pn=(0,d.f3M)(ee.K0),Et=pn?pn.location:null;return{getPathname:()=>Et?Et.pathname+Et.search:""}}}),rn=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Pt=rn.map(pn=>`[${pn}]`).join(", "),yt=/^url\(['"]?#(.*?)['"]?\)$/;let Zt=(()=>{class pn extends on{constructor(ct,jt,In,kn,si){super(ct),this._iconRegistry=jt,this._location=kn,this._errorHandler=si,this._inline=!1,this._currentIconFetch=ze.w0.EMPTY,In||ct.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(ct){this._inline=(0,e.Ig)(ct)}get svgIcon(){return this._svgIcon}set svgIcon(ct){ct!==this._svgIcon&&(ct?this._updateSvgIcon(ct):this._svgIcon&&this._clearSvgElement(),this._svgIcon=ct)}get fontSet(){return this._fontSet}set fontSet(ct){const jt=this._cleanupFontValue(ct);jt!==this._fontSet&&(this._fontSet=jt,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(ct){const jt=this._cleanupFontValue(ct);jt!==this._fontIcon&&(this._fontIcon=jt,this._updateFontIconClasses())}_splitIconName(ct){if(!ct)return["",""];const jt=ct.split(":");switch(jt.length){case 1:return["",jt[0]];case 2:return jt;default:throw Error(`Invalid icon name: "${ct}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const ct=this._elementsWithExternalReferences;if(ct&&ct.size){const jt=this._location.getPathname();jt!==this._previousPath&&(this._previousPath=jt,this._prependPathToReferences(jt))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(ct){this._clearSvgElement();const jt=this._location.getPathname();this._previousPath=jt,this._cacheChildrenWithExternalReferences(ct),this._prependPathToReferences(jt),this._elementRef.nativeElement.appendChild(ct)}_clearSvgElement(){const ct=this._elementRef.nativeElement;let jt=ct.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();jt--;){const In=ct.childNodes[jt];(1!==In.nodeType||"svg"===In.nodeName.toLowerCase())&&In.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const ct=this._elementRef.nativeElement,jt=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();jt!=this._previousFontSetClass&&(this._previousFontSetClass&&ct.classList.remove(this._previousFontSetClass),jt&&ct.classList.add(jt),this._previousFontSetClass=jt),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&ct.classList.remove(this._previousFontIconClass),this.fontIcon&&ct.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(ct){return"string"==typeof ct?ct.trim().split(" ")[0]:ct}_prependPathToReferences(ct){const jt=this._elementsWithExternalReferences;jt&&jt.forEach((In,kn)=>{In.forEach(si=>{kn.setAttribute(si.name,`url('${ct}#${si.value}')`)})})}_cacheChildrenWithExternalReferences(ct){const jt=ct.querySelectorAll(Pt),In=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let kn=0;kn<jt.length;kn++)rn.forEach(si=>{const Mi=jt[kn],ht=Mi.getAttribute(si),An=ht?ht.match(yt):null;if(An){let Ie=In.get(Mi);Ie||(Ie=[],In.set(Mi,Ie)),Ie.push({name:si,value:An[1]})}})}_updateSvgIcon(ct){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),ct){const[jt,In]=this._splitIconName(ct);jt&&(this._svgNamespace=jt),In&&(this._svgName=In),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(In,jt).pipe((0,ke.q)(1)).subscribe(kn=>this._setSvgElement(kn),kn=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${jt}:${In}! ${kn.message}`))})}}}return pn.\u0275fac=function(ct){return new(ct||pn)(d.Y36(d.SBq),d.Y36(Z),d.$8M("aria-hidden"),d.Y36(Sn),d.Y36(d.qLn))},pn.\u0275cmp=d.Xpm({type:pn,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(ct,jt){2&ct&&(d.uIk("data-mat-icon-type",jt._usingFontIcon()?"font":"svg")("data-mat-icon-name",jt._svgName||jt.fontIcon)("data-mat-icon-namespace",jt._svgNamespace||jt.fontSet),d.ekj("mat-icon-inline",jt.inline)("mat-icon-no-color","primary"!==jt.color&&"accent"!==jt.color&&"warn"!==jt.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:Bi,decls:1,vars:0,template:function(ct,jt){1&ct&&(d.F$t(),d.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),pn})(),Ln=(()=>{class pn{}return pn.\u0275fac=function(ct){return new(ct||pn)},pn.\u0275mod=d.oAB({type:pn}),pn.\u0275inj=d.cJS({imports:[[_.BQ],_.BQ]}),pn})()},7531:(Xn,Vt,A)=>{"use strict";A.d(Vt,{Jk:()=>Ke,Nt:()=>Tt,c:()=>hn});var d=A(3191),_=A(925),e=A(5e3),ee=A(3075),W=A(508),xe=A(7322),pe=A(7579),ze=A(515);const Ve=(0,_.i$)({passive:!0});let Q=(()=>{class gt{constructor(te,Qe){this._platform=te,this._ngZone=Qe,this._monitoredElements=new Map}monitor(te){if(!this._platform.isBrowser)return ze.E;const Qe=(0,d.fI)(te),Mt=this._monitoredElements.get(Qe);if(Mt)return Mt.subject;const bt=new pe.x,tt="cdk-text-field-autofilled",Ze=Ee=>{"cdk-text-field-autofill-start"!==Ee.animationName||Qe.classList.contains(tt)?"cdk-text-field-autofill-end"===Ee.animationName&&Qe.classList.contains(tt)&&(Qe.classList.remove(tt),this._ngZone.run(()=>bt.next({target:Ee.target,isAutofilled:!1}))):(Qe.classList.add(tt),this._ngZone.run(()=>bt.next({target:Ee.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{Qe.addEventListener("animationstart",Ze,Ve),Qe.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(Qe,{subject:bt,unlisten:()=>{Qe.removeEventListener("animationstart",Ze,Ve)}}),bt}stopMonitoring(te){const Qe=(0,d.fI)(te),Mt=this._monitoredElements.get(Qe);Mt&&(Mt.unlisten(),Mt.subject.complete(),Qe.classList.remove("cdk-text-field-autofill-monitored"),Qe.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(Qe))}ngOnDestroy(){this._monitoredElements.forEach((te,Qe)=>this.stopMonitoring(Qe))}}return gt.\u0275fac=function(te){return new(te||gt)(e.LFG(_.t4),e.LFG(e.R0b))},gt.\u0275prov=e.Yz7({token:gt,factory:gt.\u0275fac,providedIn:"root"}),gt})(),at=(()=>{class gt{}return gt.\u0275fac=function(te){return new(te||gt)},gt.\u0275mod=e.oAB({type:gt}),gt.\u0275inj=e.cJS({}),gt})();const Ke=new e.OlP("MAT_INPUT_VALUE_ACCESSOR"),dt=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let it=0;const Dt=(0,W.FD)(class{constructor(gt,Pe,te,Qe){this._defaultErrorStateMatcher=gt,this._parentForm=Pe,this._parentFormGroup=te,this.ngControl=Qe}});let Tt=(()=>{class gt extends Dt{constructor(te,Qe,Mt,bt,tt,Ze,Ee,Ye,Xe,st){super(Ze,bt,tt,Mt),this._elementRef=te,this._platform=Qe,this._autofillMonitor=Ye,this._formField=st,this._uid="mat-input-"+it++,this.focused=!1,this.stateChanges=new pe.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(wn=>(0,_.qK)().has(wn)),this._iOSKeyupListener=wn=>{const mn=wn.target;!mn.value&&0===mn.selectionStart&&0===mn.selectionEnd&&(mn.setSelectionRange(1,1),mn.setSelectionRange(0,0))};const sn=this._elementRef.nativeElement,fn=sn.nodeName.toLowerCase();this._inputValueAccessor=Ee||sn,this._previousNativeValue=this.value,this.id=this.id,Qe.IOS&&Xe.runOutsideAngular(()=>{te.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===fn,this._isTextarea="textarea"===fn,this._isInFormField=!!st,this._isNativeSelect&&(this.controlType=sn.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(te){this._disabled=(0,d.Ig)(te),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(te){this._id=te||this._uid}get required(){var te,Qe,Mt,bt;return null!==(bt=null!==(te=this._required)&&void 0!==te?te:null===(Mt=null===(Qe=this.ngControl)||void 0===Qe?void 0:Qe.control)||void 0===Mt?void 0:Mt.hasValidator(ee.kI.required))&&void 0!==bt&&bt}set required(te){this._required=(0,d.Ig)(te)}get type(){return this._type}set type(te){this._type=te||"text",this._validateType(),!this._isTextarea&&(0,_.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(te){te!==this.value&&(this._inputValueAccessor.value=te,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(te){this._readonly=(0,d.Ig)(te)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(te=>{this.autofilled=te.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(te){this._elementRef.nativeElement.focus(te)}_focusChanged(te){te!==this.focused&&(this.focused=te,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var te,Qe;const Mt=(null===(Qe=null===(te=this._formField)||void 0===te?void 0:te._hideControlPlaceholder)||void 0===Qe?void 0:Qe.call(te))?null:this.placeholder;if(Mt!==this._previousPlaceholder){const bt=this._elementRef.nativeElement;this._previousPlaceholder=Mt,Mt?bt.setAttribute("placeholder",Mt):bt.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const te=this._elementRef.nativeElement.value;this._previousNativeValue!==te&&(this._previousNativeValue=te,this.stateChanges.next())}_validateType(){dt.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let te=this._elementRef.nativeElement.validity;return te&&te.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const te=this._elementRef.nativeElement,Qe=te.options[0];return this.focused||te.multiple||!this.empty||!!(te.selectedIndex>-1&&Qe&&Qe.label)}return this.focused||!this.empty}setDescribedByIds(te){te.length?this._elementRef.nativeElement.setAttribute("aria-describedby",te.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const te=this._elementRef.nativeElement;return this._isNativeSelect&&(te.multiple||te.size>1)}}return gt.\u0275fac=function(te){return new(te||gt)(e.Y36(e.SBq),e.Y36(_.t4),e.Y36(ee.a5,10),e.Y36(ee.F,8),e.Y36(ee.sg,8),e.Y36(W.rD),e.Y36(Ke,10),e.Y36(Q),e.Y36(e.R0b),e.Y36(xe.G_,8))},gt.\u0275dir=e.lG2({type:gt,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(te,Qe){1&te&&e.NdJ("focus",function(){return Qe._focusChanged(!0)})("blur",function(){return Qe._focusChanged(!1)})("input",function(){return Qe._onInput()}),2&te&&(e.Ikx("disabled",Qe.disabled)("required",Qe.required),e.uIk("id",Qe.id)("data-placeholder",Qe.placeholder)("name",Qe.name||null)("readonly",Qe.readonly&&!Qe._isNativeSelect||null)("aria-invalid",Qe.empty&&Qe.required?null:Qe.errorState)("aria-required",Qe.required),e.ekj("mat-input-server",Qe._isServer)("mat-native-select-inline",Qe._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[e._Bn([{provide:xe.Eo,useExisting:gt}]),e.qOj,e.TTD]}),gt})(),hn=(()=>{class gt{}return gt.\u0275fac=function(te){return new(te||gt)},gt.\u0275mod=e.oAB({type:gt}),gt.\u0275inj=e.cJS({providers:[W.rD],imports:[[at,xe.lN,W.BQ],at,xe.lN]}),gt})()},6087:(Xn,Vt,A)=>{"use strict";A.d(Vt,{NW:()=>Qe,TU:()=>Mt});var d=A(9808),_=A(5e3),e=A(508),ee=A(7423),W=A(4107),xe=A(7238),pe=A(3191),ze=A(7579),Ve=A(7322);function Q(bt,tt){if(1&bt&&(_.TgZ(0,"mat-option",19),_._uU(1),_.qZA()),2&bt){const Ze=tt.$implicit;_.Q6J("value",Ze),_.xp6(1),_.hij(" ",Ze," ")}}function qe(bt,tt){if(1&bt){const Ze=_.EpF();_.TgZ(0,"mat-form-field",16)(1,"mat-select",17),_.NdJ("selectionChange",function(Ye){return _.CHM(Ze),_.oxw(2)._changePageSize(Ye.value)}),_.YNc(2,Q,2,2,"mat-option",18),_.qZA()()}if(2&bt){const Ze=_.oxw(2);_.Q6J("appearance",Ze._formFieldAppearance)("color",Ze.color),_.xp6(1),_.Q6J("value",Ze.pageSize)("disabled",Ze.disabled)("aria-label",Ze._intl.itemsPerPageLabel),_.xp6(1),_.Q6J("ngForOf",Ze._displayedPageSizeOptions)}}function je(bt,tt){if(1&bt&&(_.TgZ(0,"div",20),_._uU(1),_.qZA()),2&bt){const Ze=_.oxw(2);_.xp6(1),_.Oqu(Ze.pageSize)}}function at(bt,tt){if(1&bt&&(_.TgZ(0,"div",12)(1,"div",13),_._uU(2),_.qZA(),_.YNc(3,qe,3,6,"mat-form-field",14),_.YNc(4,je,2,1,"div",15),_.qZA()),2&bt){const Ze=_.oxw();_.xp6(2),_.hij(" ",Ze._intl.itemsPerPageLabel," "),_.xp6(1),_.Q6J("ngIf",Ze._displayedPageSizeOptions.length>1),_.xp6(1),_.Q6J("ngIf",Ze._displayedPageSizeOptions.length<=1)}}function ke(bt,tt){if(1&bt){const Ze=_.EpF();_.TgZ(0,"button",21),_.NdJ("click",function(){return _.CHM(Ze),_.oxw().firstPage()}),_.O4$(),_.TgZ(1,"svg",7),_._UZ(2,"path",22),_.qZA()()}if(2&bt){const Ze=_.oxw();_.Q6J("matTooltip",Ze._intl.firstPageLabel)("matTooltipDisabled",Ze._previousButtonsDisabled())("matTooltipPosition","above")("disabled",Ze._previousButtonsDisabled()),_.uIk("aria-label",Ze._intl.firstPageLabel)}}function Ke(bt,tt){if(1&bt){const Ze=_.EpF();_.O4$(),_.kcU(),_.TgZ(0,"button",23),_.NdJ("click",function(){return _.CHM(Ze),_.oxw().lastPage()}),_.O4$(),_.TgZ(1,"svg",7),_._UZ(2,"path",24),_.qZA()()}if(2&bt){const Ze=_.oxw();_.Q6J("matTooltip",Ze._intl.lastPageLabel)("matTooltipDisabled",Ze._nextButtonsDisabled())("matTooltipPosition","above")("disabled",Ze._nextButtonsDisabled()),_.uIk("aria-label",Ze._intl.lastPageLabel)}}let dt=(()=>{class bt{constructor(){this.changes=new ze.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(Ze,Ee,Ye)=>{if(0==Ye||0==Ee)return`0 of ${Ye}`;const Xe=Ze*Ee;return`${Xe+1} \u2013 ${Xe<(Ye=Math.max(Ye,0))?Math.min(Xe+Ee,Ye):Xe+Ee} of ${Ye}`}}}return bt.\u0275fac=function(Ze){return new(Ze||bt)},bt.\u0275prov=_.Yz7({token:bt,factory:bt.\u0275fac,providedIn:"root"}),bt})();const Dt={provide:dt,deps:[[new _.FiY,new _.tp0,dt]],useFactory:function it(bt){return bt||new dt}},gt=new _.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),Pe=(0,e.Id)((0,e.dB)(class{}));let te=(()=>{class bt extends Pe{constructor(Ze,Ee,Ye){if(super(),this._intl=Ze,this._changeDetectorRef=Ee,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new _.vpe,this._intlChanges=Ze.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),Ye){const{pageSize:Xe,pageSizeOptions:st,hidePageSize:sn,showFirstLastButtons:fn}=Ye;null!=Xe&&(this._pageSize=Xe),null!=st&&(this._pageSizeOptions=st),null!=sn&&(this._hidePageSize=sn),null!=fn&&(this._showFirstLastButtons=fn)}}get pageIndex(){return this._pageIndex}set pageIndex(Ze){this._pageIndex=Math.max((0,pe.su)(Ze),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(Ze){this._length=(0,pe.su)(Ze),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(Ze){this._pageSize=Math.max((0,pe.su)(Ze),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(Ze){this._pageSizeOptions=(Ze||[]).map(Ee=>(0,pe.su)(Ee)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(Ze){this._hidePageSize=(0,pe.Ig)(Ze)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(Ze){this._showFirstLastButtons=(0,pe.Ig)(Ze)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const Ze=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(Ze)}previousPage(){if(!this.hasPreviousPage())return;const Ze=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(Ze)}firstPage(){if(!this.hasPreviousPage())return;const Ze=this.pageIndex;this.pageIndex=0,this._emitPageEvent(Ze)}lastPage(){if(!this.hasNextPage())return;const Ze=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(Ze)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const Ze=this.getNumberOfPages()-1;return this.pageIndex<Ze&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(Ze){const Ye=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/Ze)||0,this.pageSize=Ze,this._emitPageEvent(Ye)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((Ze,Ee)=>Ze-Ee),this._changeDetectorRef.markForCheck())}_emitPageEvent(Ze){this.page.emit({previousPageIndex:Ze,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return bt.\u0275fac=function(Ze){_.$Z()},bt.\u0275dir=_.lG2({type:bt,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons"},outputs:{page:"page"},features:[_.qOj]}),bt})(),Qe=(()=>{class bt extends te{constructor(Ze,Ee,Ye){super(Ze,Ee,Ye),Ye&&null!=Ye.formFieldAppearance&&(this._formFieldAppearance=Ye.formFieldAppearance)}}return bt.\u0275fac=function(Ze){return new(Ze||bt)(_.Y36(dt),_.Y36(_.sBO),_.Y36(gt,8))},bt.\u0275cmp=_.Xpm({type:bt,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[_.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(Ze,Ee){1&Ze&&(_.TgZ(0,"div",0)(1,"div",1),_.YNc(2,at,5,3,"div",2),_.TgZ(3,"div",3)(4,"div",4),_._uU(5),_.qZA(),_.YNc(6,ke,3,5,"button",5),_.TgZ(7,"button",6),_.NdJ("click",function(){return Ee.previousPage()}),_.O4$(),_.TgZ(8,"svg",7),_._UZ(9,"path",8),_.qZA()(),_.kcU(),_.TgZ(10,"button",9),_.NdJ("click",function(){return Ee.nextPage()}),_.O4$(),_.TgZ(11,"svg",7),_._UZ(12,"path",10),_.qZA()(),_.YNc(13,Ke,3,5,"button",11),_.qZA()()()),2&Ze&&(_.xp6(2),_.Q6J("ngIf",!Ee.hidePageSize),_.xp6(3),_.hij(" ",Ee._intl.getRangeLabel(Ee.pageIndex,Ee.pageSize,Ee.length)," "),_.xp6(1),_.Q6J("ngIf",Ee.showFirstLastButtons),_.xp6(1),_.Q6J("matTooltip",Ee._intl.previousPageLabel)("matTooltipDisabled",Ee._previousButtonsDisabled())("matTooltipPosition","above")("disabled",Ee._previousButtonsDisabled()),_.uIk("aria-label",Ee._intl.previousPageLabel),_.xp6(3),_.Q6J("matTooltip",Ee._intl.nextPageLabel)("matTooltipDisabled",Ee._nextButtonsDisabled())("matTooltipPosition","above")("disabled",Ee._nextButtonsDisabled()),_.uIk("aria-label",Ee._intl.nextPageLabel),_.xp6(3),_.Q6J("ngIf",Ee.showFirstLastButtons))},directives:[Ve.KE,W.gD,e.ey,ee.lW,d.O5,d.sg,xe.gM],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),bt})(),Mt=(()=>{class bt{}return bt.\u0275fac=function(Ze){return new(Ze||bt)},bt.\u0275mod=_.oAB({type:bt}),bt.\u0275inj=_.cJS({providers:[Dt],imports:[[d.ez,ee.ot,W.LD,xe.AV,e.BQ]]}),bt})()},773:(Xn,Vt,A)=>{"use strict";A.d(Vt,{Ou:()=>it,Cq:()=>Dt});var d=A(3191),_=A(925),e=A(9808),ee=A(5e3),W=A(508),xe=A(6360),pe=A(727),ze=A(8962);function Ve(hn,gt){if(1&hn&&(ee.O4$(),ee._UZ(0,"circle",4)),2&hn){const Pe=ee.oxw(),te=ee.MAs(1);ee.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+Pe._spinnerAnimationLabel)("stroke-dashoffset",Pe._getStrokeDashOffset(),"px")("stroke-dasharray",Pe._getStrokeCircumference(),"px")("stroke-width",Pe._getCircleStrokeWidth(),"%")("transform-origin",Pe._getCircleTransformOrigin(te)),ee.uIk("r",Pe._getCircleRadius())}}function Q(hn,gt){if(1&hn&&(ee.O4$(),ee._UZ(0,"circle",4)),2&hn){const Pe=ee.oxw(),te=ee.MAs(1);ee.Udp("stroke-dashoffset",Pe._getStrokeDashOffset(),"px")("stroke-dasharray",Pe._getStrokeCircumference(),"px")("stroke-width",Pe._getCircleStrokeWidth(),"%")("transform-origin",Pe._getCircleTransformOrigin(te)),ee.uIk("r",Pe._getCircleRadius())}}const at=(0,W.pj)(class{constructor(hn){this._elementRef=hn}},"primary"),ke=new ee.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Ke(){return{diameter:100}}});class it extends at{constructor(gt,Pe,te,Qe,Mt,bt,tt,Ze){super(gt),this._document=te,this._diameter=100,this._value=0,this._resizeSubscription=pe.w0.EMPTY,this.mode="determinate";const Ee=it._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),Ee.has(te.head)||Ee.set(te.head,new Set([100])),this._noopAnimations="NoopAnimations"===Qe&&!!Mt&&!Mt._forceAnimations,"mat-spinner"===gt.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),Mt&&(Mt.diameter&&(this.diameter=Mt.diameter),Mt.strokeWidth&&(this.strokeWidth=Mt.strokeWidth)),Pe.isBrowser&&Pe.SAFARI&&tt&&bt&&Ze&&(this._resizeSubscription=tt.change(150).subscribe(()=>{"indeterminate"===this.mode&&Ze.run(()=>bt.markForCheck())}))}get diameter(){return this._diameter}set diameter(gt){this._diameter=(0,d.su)(gt),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(gt){this._strokeWidth=(0,d.su)(gt)}get value(){return"determinate"===this.mode?this._value:0}set value(gt){this._value=Math.max(0,Math.min(100,(0,d.su)(gt)))}ngOnInit(){const gt=this._elementRef.nativeElement;this._styleRoot=(0,_.kV)(gt)||this._document.head,this._attachStyleNode(),gt.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const gt=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${gt} ${gt}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(gt){var Pe;const te=50*(null!==(Pe=gt.currentScale)&&void 0!==Pe?Pe:1);return`${te}% ${te}%`}_attachStyleNode(){const gt=this._styleRoot,Pe=this._diameter,te=it._diameters;let Qe=te.get(gt);if(!Qe||!Qe.has(Pe)){const Mt=this._document.createElement("style");Mt.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),Mt.textContent=this._getAnimationText(),gt.appendChild(Mt),Qe||(Qe=new Set,te.set(gt,Qe)),Qe.add(Pe)}}_getAnimationText(){const gt=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*gt).replace(/END_VALUE/g,""+.2*gt).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}it._diameters=new WeakMap,it.\u0275fac=function(gt){return new(gt||it)(ee.Y36(ee.SBq),ee.Y36(_.t4),ee.Y36(e.K0,8),ee.Y36(xe.Qb,8),ee.Y36(ke),ee.Y36(ee.sBO),ee.Y36(ze.rL),ee.Y36(ee.R0b))},it.\u0275cmp=ee.Xpm({type:it,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(gt,Pe){2&gt&&(ee.uIk("aria-valuemin","determinate"===Pe.mode?0:null)("aria-valuemax","determinate"===Pe.mode?100:null)("aria-valuenow","determinate"===Pe.mode?Pe.value:null)("mode",Pe.mode),ee.Udp("width",Pe.diameter,"px")("height",Pe.diameter,"px"),ee.ekj("_mat-animation-noopable",Pe._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[ee.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(gt,Pe){1&gt&&(ee.O4$(),ee.TgZ(0,"svg",0,1),ee.YNc(2,Ve,1,11,"circle",2),ee.YNc(3,Q,1,9,"circle",3),ee.qZA()),2&gt&&(ee.Udp("width",Pe.diameter,"px")("height",Pe.diameter,"px"),ee.Q6J("ngSwitch","indeterminate"===Pe.mode),ee.uIk("viewBox",Pe._getViewBox()),ee.xp6(2),ee.Q6J("ngSwitchCase",!0),ee.xp6(1),ee.Q6J("ngSwitchCase",!1))},directives:[e.RF,e.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let Dt=(()=>{class hn{}return hn.\u0275fac=function(Pe){return new(Pe||hn)},hn.\u0275mod=ee.oAB({type:hn}),hn.\u0275inj=ee.cJS({imports:[[W.BQ,e.ez],W.BQ]}),hn})()},4107:(Xn,Vt,A)=>{"use strict";A.d(Vt,{gD:()=>Qn,LD:()=>li});var d=A(9776),_=A(9808),e=A(5e3),ee=A(508),W=A(7322),xe=A(8962),pe=A(5664),ze=A(3191),Ve=A(449),Q=A(1159),qe=A(3075),je=A(7579),at=A(9770),ke=A(6451),Ke=A(8675),dt=A(3900),it=A(5698),Dt=A(9300),Tt=A(4004),hn=A(1884),gt=A(2722),Pe=A(1777),te=A(226);const Qe=["trigger"],Mt=["panel"];function bt(ni,Yt){if(1&ni&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&ni){const q=e.oxw();e.xp6(1),e.Oqu(q.placeholder)}}function tt(ni,Yt){if(1&ni&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&ni){const q=e.oxw(2);e.xp6(1),e.Oqu(q.triggerValue)}}function Ze(ni,Yt){1&ni&&e.Hsn(0,0,["*ngSwitchCase","true"])}function Ee(ni,Yt){if(1&ni&&(e.TgZ(0,"span",9),e.YNc(1,tt,2,1,"span",10),e.YNc(2,Ze,1,0,"ng-content",11),e.qZA()),2&ni){const q=e.oxw();e.Q6J("ngSwitch",!!q.customTrigger),e.xp6(2),e.Q6J("ngSwitchCase",!0)}}function Ye(ni,Yt){if(1&ni){const q=e.EpF();e.TgZ(0,"div",13)(1,"div",14,15),e.NdJ("@transformPanel.done",function(ye){return e.CHM(q),e.oxw()._panelDoneAnimatingStream.next(ye.toState)})("keydown",function(ye){return e.CHM(q),e.oxw()._handleKeydown(ye)}),e.Hsn(3,1),e.qZA()()}if(2&ni){const q=e.oxw();e.Q6J("@transformPanelWrap",void 0),e.xp6(1),e.Gre("mat-select-panel ",q._getPanelTheme(),""),e.Udp("transform-origin",q._transformOrigin)("font-size",q._triggerFontSize,"px"),e.Q6J("ngClass",q.panelClass)("@transformPanel",q.multiple?"showing-multiple":"showing"),e.uIk("id",q.id+"-panel")("aria-multiselectable",q.multiple)("aria-label",q.ariaLabel||null)("aria-labelledby",q._getPanelAriaLabelledby())}}const Xe=[[["mat-select-trigger"]],"*"],st=["mat-select-trigger","*"],sn={transformPanelWrap:(0,Pe.X$)("transformPanelWrap",[(0,Pe.eR)("* => void",(0,Pe.IO)("@transformPanel",[(0,Pe.pV)()],{optional:!0}))]),transformPanel:(0,Pe.X$)("transformPanel",[(0,Pe.SB)("void",(0,Pe.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,Pe.SB)("showing",(0,Pe.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,Pe.SB)("showing-multiple",(0,Pe.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,Pe.eR)("void => *",(0,Pe.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,Pe.eR)("* => void",(0,Pe.jt)("100ms 25ms linear",(0,Pe.oB)({opacity:0})))])};let bn=0;const Vn=new e.OlP("mat-select-scroll-strategy"),Pn=new e.OlP("MAT_SELECT_CONFIG"),jn={provide:Vn,deps:[d.aV],useFactory:function di(ni){return()=>ni.scrollStrategies.reposition()}};class wt{constructor(Yt,q){this.source=Yt,this.value=q}}const cn=(0,ee.Kr)((0,ee.sb)((0,ee.Id)((0,ee.FD)(class{constructor(ni,Yt,q,de,ye){this._elementRef=ni,this._defaultErrorStateMatcher=Yt,this._parentForm=q,this._parentFormGroup=de,this.ngControl=ye}})))),Gn=new e.OlP("MatSelectTrigger");let Vi=(()=>{class ni extends cn{constructor(q,de,ye,Ce,pt,Rt,nn,On,Wn,Yn,ei,hi,Bi,vi){var Ei,vt,Nt;super(pt,Ce,nn,On,Yn),this._viewportRuler=q,this._changeDetectorRef=de,this._ngZone=ye,this._dir=Rt,this._parentFormField=Wn,this._liveAnnouncer=Bi,this._defaultOptions=vi,this._panelOpen=!1,this._compareWith=(Ft,vn)=>Ft===vn,this._uid="mat-select-"+bn++,this._triggerAriaLabelledBy=null,this._destroy=new je.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+bn++,this._panelDoneAnimatingStream=new je.x,this._overlayPanelClass=(null===(Ei=this._defaultOptions)||void 0===Ei?void 0:Ei.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(Nt=null===(vt=this._defaultOptions)||void 0===vt?void 0:vt.disableOptionCentering)&&void 0!==Nt&&Nt,this.ariaLabel="",this.optionSelectionChanges=(0,at.P)(()=>{const Ft=this.options;return Ft?Ft.changes.pipe((0,Ke.O)(Ft),(0,dt.w)(()=>(0,ke.T)(...Ft.map(vn=>vn.onSelectionChange)))):this._ngZone.onStable.pipe((0,it.q)(1),(0,dt.w)(()=>this.optionSelectionChanges))}),this.openedChange=new e.vpe,this._openedStream=this.openedChange.pipe((0,Dt.h)(Ft=>Ft),(0,Tt.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,Dt.h)(Ft=>!Ft),(0,Tt.U)(()=>{})),this.selectionChange=new e.vpe,this.valueChange=new e.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==vi?void 0:vi.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=vi.typeaheadDebounceInterval),this._scrollStrategyFactory=hi,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(ei)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(q){this._placeholder=q,this.stateChanges.next()}get required(){var q,de,ye,Ce;return null!==(Ce=null!==(q=this._required)&&void 0!==q?q:null===(ye=null===(de=this.ngControl)||void 0===de?void 0:de.control)||void 0===ye?void 0:ye.hasValidator(qe.kI.required))&&void 0!==Ce&&Ce}set required(q){this._required=(0,ze.Ig)(q),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(q){this._multiple=(0,ze.Ig)(q)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(q){this._disableOptionCentering=(0,ze.Ig)(q)}get compareWith(){return this._compareWith}set compareWith(q){this._compareWith=q,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(q){this._assignValue(q)&&this._onChange(q)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(q){this._typeaheadDebounceInterval=(0,ze.su)(q)}get id(){return this._id}set id(q){this._id=q||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Ve.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,hn.x)(),(0,gt.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,gt.R)(this._destroy)).subscribe(q=>{q.added.forEach(de=>de.select()),q.removed.forEach(de=>de.deselect())}),this.options.changes.pipe((0,Ke.O)(null),(0,gt.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const q=this._getTriggerAriaLabelledby(),de=this.ngControl;if(q!==this._triggerAriaLabelledBy){const ye=this._elementRef.nativeElement;this._triggerAriaLabelledBy=q,q?ye.setAttribute("aria-labelledby",q):ye.removeAttribute("aria-labelledby")}de&&(this._previousControl!==de.control&&(void 0!==this._previousControl&&null!==de.disabled&&de.disabled!==this.disabled&&(this.disabled=de.disabled),this._previousControl=de.control),this.updateErrorState())}ngOnChanges(q){q.disabled&&this.stateChanges.next(),q.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(q){this._assignValue(q)}registerOnChange(q){this._onChange=q}registerOnTouched(q){this._onTouched=q}setDisabledState(q){this.disabled=q,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var q,de;return this.multiple?(null===(q=this._selectionModel)||void 0===q?void 0:q.selected)||[]:null===(de=this._selectionModel)||void 0===de?void 0:de.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const q=this._selectionModel.selected.map(de=>de.viewValue);return this._isRtl()&&q.reverse(),q.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(q){this.disabled||(this.panelOpen?this._handleOpenKeydown(q):this._handleClosedKeydown(q))}_handleClosedKeydown(q){const de=q.keyCode,ye=de===Q.JH||de===Q.LH||de===Q.oh||de===Q.SV,Ce=de===Q.K5||de===Q.L_,pt=this._keyManager;if(!pt.isTyping()&&Ce&&!(0,Q.Vb)(q)||(this.multiple||q.altKey)&&ye)q.preventDefault(),this.open();else if(!this.multiple){const Rt=this.selected;pt.onKeydown(q);const nn=this.selected;nn&&Rt!==nn&&this._liveAnnouncer.announce(nn.viewValue,1e4)}}_handleOpenKeydown(q){const de=this._keyManager,ye=q.keyCode,Ce=ye===Q.JH||ye===Q.LH,pt=de.isTyping();if(Ce&&q.altKey)q.preventDefault(),this.close();else if(pt||ye!==Q.K5&&ye!==Q.L_||!de.activeItem||(0,Q.Vb)(q))if(!pt&&this._multiple&&ye===Q.A&&q.ctrlKey){q.preventDefault();const Rt=this.options.some(nn=>!nn.disabled&&!nn.selected);this.options.forEach(nn=>{nn.disabled||(Rt?nn.select():nn.deselect())})}else{const Rt=de.activeItemIndex;de.onKeydown(q),this._multiple&&Ce&&q.shiftKey&&de.activeItem&&de.activeItemIndex!==Rt&&de.activeItem._selectViaInteraction()}else q.preventDefault(),de.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,it.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(q){if(this._selectionModel.selected.forEach(de=>de.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&q)Array.isArray(q),q.forEach(de=>this._selectOptionByValue(de)),this._sortValues();else{const de=this._selectOptionByValue(q);de?this._keyManager.updateActiveItem(de):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(q){const de=this.options.find(ye=>{if(this._selectionModel.isSelected(ye))return!1;try{return null!=ye.value&&this._compareWith(ye.value,q)}catch(Ce){return!1}});return de&&this._selectionModel.select(de),de}_assignValue(q){return!!(q!==this._value||this._multiple&&Array.isArray(q))&&(this.options&&this._setSelectionByValue(q),this._value=q,!0)}_initKeyManager(){this._keyManager=new pe.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,gt.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,gt.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const q=(0,ke.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,gt.R)(q)).subscribe(de=>{this._onSelect(de.source,de.isUserInput),de.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ke.T)(...this.options.map(de=>de._stateChanges)).pipe((0,gt.R)(q)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(q,de){const ye=this._selectionModel.isSelected(q);null!=q.value||this._multiple?(ye!==q.selected&&(q.selected?this._selectionModel.select(q):this._selectionModel.deselect(q)),de&&this._keyManager.setActiveItem(q),this.multiple&&(this._sortValues(),de&&this.focus())):(q.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(q.value)),ye!==this._selectionModel.isSelected(q)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const q=this.options.toArray();this._selectionModel.sort((de,ye)=>this.sortComparator?this.sortComparator(de,ye,q):q.indexOf(de)-q.indexOf(ye)),this.stateChanges.next()}}_propagateChanges(q){let de=null;de=this.multiple?this.selected.map(ye=>ye.value):this.selected?this.selected.value:q,this._value=de,this.valueChange.emit(de),this._onChange(de),this.selectionChange.emit(this._getChangeEvent(de)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var q;return!this._panelOpen&&!this.disabled&&(null===(q=this.options)||void 0===q?void 0:q.length)>0}focus(q){this._elementRef.nativeElement.focus(q)}_getPanelAriaLabelledby(){var q;if(this.ariaLabel)return null;const de=null===(q=this._parentFormField)||void 0===q?void 0:q.getLabelId();return this.ariaLabelledby?(de?de+" ":"")+this.ariaLabelledby:de}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var q;if(this.ariaLabel)return null;const de=null===(q=this._parentFormField)||void 0===q?void 0:q.getLabelId();let ye=(de?de+" ":"")+this._valueId;return this.ariaLabelledby&&(ye+=" "+this.ariaLabelledby),ye}_panelDoneAnimating(q){this.openedChange.emit(q)}setDescribedByIds(q){this._ariaDescribedby=q.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return ni.\u0275fac=function(q){return new(q||ni)(e.Y36(xe.rL),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(ee.rD),e.Y36(e.SBq),e.Y36(te.Is,8),e.Y36(qe.F,8),e.Y36(qe.sg,8),e.Y36(W.G_,8),e.Y36(qe.a5,10),e.$8M("tabindex"),e.Y36(Vn),e.Y36(pe.Kd),e.Y36(Pn,8))},ni.\u0275dir=e.lG2({type:ni,viewQuery:function(q,de){if(1&q&&(e.Gf(Qe,5),e.Gf(Mt,5),e.Gf(d.pI,5)),2&q){let ye;e.iGM(ye=e.CRH())&&(de.trigger=ye.first),e.iGM(ye=e.CRH())&&(de.panel=ye.first),e.iGM(ye=e.CRH())&&(de._overlayDir=ye.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[e.qOj,e.TTD]}),ni})(),Qn=(()=>{class ni extends Vi{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(q,de,ye){const Ce=this._getItemHeight();return Math.min(Math.max(0,Ce*q-de+Ce/2),ye)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,gt.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,it.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(q){const de=(0,ee.CB)(q,this.options,this.optionGroups),ye=this._getItemHeight();this.panel.nativeElement.scrollTop=0===q&&1===de?0:(0,ee.jH)((q+de)*ye,ye,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(q){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(q)}_getChangeEvent(q){return new wt(this,q)}_calculateOverlayOffsetX(){const q=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),de=this._viewportRuler.getViewportSize(),ye=this._isRtl(),Ce=this.multiple?56:32;let pt;if(this.multiple)pt=40;else if(this.disableOptionCentering)pt=16;else{let On=this._selectionModel.selected[0]||this.options.first;pt=On&&On.group?32:16}ye||(pt*=-1);const Rt=0-(q.left+pt-(ye?Ce:0)),nn=q.right+pt-de.width+(ye?0:Ce);Rt>0?pt+=Rt+8:nn>0&&(pt-=nn+8),this._overlayDir.offsetX=Math.round(pt),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(q,de,ye){const Ce=this._getItemHeight(),pt=(Ce-this._triggerRect.height)/2,Rt=Math.floor(256/Ce);let nn;return this.disableOptionCentering?0:(nn=0===this._scrollTop?q*Ce:this._scrollTop===ye?(q-(this._getItemCount()-Rt))*Ce+(Ce-(this._getItemCount()*Ce-256)%Ce):de-Ce/2,Math.round(-1*nn-pt))}_checkOverlayWithinViewport(q){const de=this._getItemHeight(),ye=this._viewportRuler.getViewportSize(),Ce=this._triggerRect.top-8,pt=ye.height-this._triggerRect.bottom-8,Rt=Math.abs(this._offsetY),On=Math.min(this._getItemCount()*de,256)-Rt-this._triggerRect.height;On>pt?this._adjustPanelUp(On,pt):Rt>Ce?this._adjustPanelDown(Rt,Ce,q):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(q,de){const ye=Math.round(q-de);this._scrollTop-=ye,this._offsetY-=ye,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(q,de,ye){const Ce=Math.round(q-de);if(this._scrollTop+=Ce,this._offsetY+=Ce,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=ye)return this._scrollTop=ye,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const q=this._getItemHeight(),de=this._getItemCount(),ye=Math.min(de*q,256),pt=de*q-ye;let Rt;Rt=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),Rt+=(0,ee.CB)(Rt,this.options,this.optionGroups);const nn=ye/2;this._scrollTop=this._calculateOverlayScroll(Rt,nn,pt),this._offsetY=this._calculateOverlayOffsetY(Rt,nn,pt),this._checkOverlayWithinViewport(pt)}_getOriginBasedOnOption(){const q=this._getItemHeight(),de=(q-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-de+q/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return ni.\u0275fac=function(){let Yt;return function(de){return(Yt||(Yt=e.n5z(ni)))(de||ni)}}(),ni.\u0275cmp=e.Xpm({type:ni,selectors:[["mat-select"]],contentQueries:function(q,de,ye){if(1&q&&(e.Suo(ye,Gn,5),e.Suo(ye,ee.ey,5),e.Suo(ye,ee.K7,5)),2&q){let Ce;e.iGM(Ce=e.CRH())&&(de.customTrigger=Ce.first),e.iGM(Ce=e.CRH())&&(de.options=Ce),e.iGM(Ce=e.CRH())&&(de.optionGroups=Ce)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(q,de){1&q&&e.NdJ("keydown",function(Ce){return de._handleKeydown(Ce)})("focus",function(){return de._onFocus()})("blur",function(){return de._onBlur()}),2&q&&(e.uIk("id",de.id)("tabindex",de.tabIndex)("aria-controls",de.panelOpen?de.id+"-panel":null)("aria-expanded",de.panelOpen)("aria-label",de.ariaLabel||null)("aria-required",de.required.toString())("aria-disabled",de.disabled.toString())("aria-invalid",de.errorState)("aria-describedby",de._ariaDescribedby||null)("aria-activedescendant",de._getAriaActiveDescendant()),e.ekj("mat-select-disabled",de.disabled)("mat-select-invalid",de.errorState)("mat-select-required",de.required)("mat-select-empty",de.empty)("mat-select-multiple",de.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[e._Bn([{provide:W.Eo,useExisting:ni},{provide:ee.HF,useExisting:ni}]),e.qOj],ngContentSelectors:st,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(q,de){if(1&q&&(e.F$t(Xe),e.TgZ(0,"div",0,1),e.NdJ("click",function(){return de.toggle()}),e.TgZ(3,"div",2),e.YNc(4,bt,2,1,"span",3),e.YNc(5,Ee,3,2,"span",4),e.qZA(),e.TgZ(6,"div",5),e._UZ(7,"div",6),e.qZA()(),e.YNc(8,Ye,4,14,"ng-template",7),e.NdJ("backdropClick",function(){return de.close()})("attach",function(){return de._onAttached()})("detach",function(){return de.close()})),2&q){const ye=e.MAs(1);e.uIk("aria-owns",de.panelOpen?de.id+"-panel":null),e.xp6(3),e.Q6J("ngSwitch",de.empty),e.uIk("id",de._valueId),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(1),e.Q6J("ngSwitchCase",!1),e.xp6(3),e.Q6J("cdkConnectedOverlayPanelClass",de._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",de._scrollStrategy)("cdkConnectedOverlayOrigin",ye)("cdkConnectedOverlayOpen",de.panelOpen)("cdkConnectedOverlayPositions",de._positions)("cdkConnectedOverlayMinWidth",null==de._triggerRect?null:de._triggerRect.width)("cdkConnectedOverlayOffsetY",de._offsetY)}},directives:[d.xu,_.RF,_.n9,_.ED,d.pI,_.mk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[sn.transformPanelWrap,sn.transformPanel]},changeDetection:0}),ni})(),li=(()=>{class ni{}return ni.\u0275fac=function(q){return new(q||ni)},ni.\u0275mod=e.oAB({type:ni}),ni.\u0275inj=e.cJS({providers:[jn],imports:[[_.ez,d.U8,ee.Ng,ee.BQ],xe.ZD,W.lN,ee.Ng,ee.BQ]}),ni})()},2638:(Xn,Vt,A)=>{"use strict";A.d(Vt,{JX:()=>an,TM:()=>Vn,Rh:()=>_n,SJ:()=>di});var d=A(8962),_=A(9808),e=A(5e3),ee=A(508),W=A(3191),xe=A(1159),pe=A(7579),ze=A(4968),Ve=A(6451),Q=A(9300),qe=A(4004),je=A(9718),at=A(2722),ke=A(1884),Ke=A(5698),dt=A(8675),it=A(8372),Dt=A(1777),Tt=A(6360),hn=A(5664),gt=A(925),Pe=A(226);const te=["*"],Qe=["content"];function Mt(Pn,jn){if(1&Pn){const wt=e.EpF();e.TgZ(0,"div",2),e.NdJ("click",function(){return e.CHM(wt),e.oxw()._onBackdropClicked()}),e.qZA()}if(2&Pn){const wt=e.oxw();e.ekj("mat-drawer-shown",wt._isShowingBackdrop())}}function bt(Pn,jn){1&Pn&&(e.TgZ(0,"mat-drawer-content"),e.Hsn(1,2),e.qZA())}const tt=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Ze=["mat-drawer","mat-drawer-content","*"];function Ee(Pn,jn){if(1&Pn){const wt=e.EpF();e.TgZ(0,"div",2),e.NdJ("click",function(){return e.CHM(wt),e.oxw()._onBackdropClicked()}),e.qZA()}if(2&Pn){const wt=e.oxw();e.ekj("mat-drawer-shown",wt._isShowingBackdrop())}}function Ye(Pn,jn){1&Pn&&(e.TgZ(0,"mat-sidenav-content"),e.Hsn(1,2),e.qZA())}const Xe=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],st=["mat-sidenav","mat-sidenav-content","*"],fn={transformDrawer:(0,Dt.X$)("transform",[(0,Dt.SB)("open, open-instant",(0,Dt.oB)({transform:"none",visibility:"visible"})),(0,Dt.SB)("void",(0,Dt.oB)({"box-shadow":"none",visibility:"hidden"})),(0,Dt.eR)("void => open-instant",(0,Dt.jt)("0ms")),(0,Dt.eR)("void <=> open, open-instant => void",(0,Dt.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},mn=new e.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function zt(){return!1}}),bn=new e.OlP("MAT_DRAWER_CONTAINER");let qt=(()=>{class Pn extends d.PQ{constructor(wt,cn,Gn,$n,Vi){super(Gn,$n,Vi),this._changeDetectorRef=wt,this._container=cn}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return Pn.\u0275fac=function(wt){return new(wt||Pn)(e.Y36(e.sBO),e.Y36((0,e.Gpc)(()=>Ht)),e.Y36(e.SBq),e.Y36(d.mF),e.Y36(e.R0b))},Pn.\u0275cmp=e.Xpm({type:Pn,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(wt,cn){2&wt&&e.Udp("margin-left",cn._container._contentMargins.left,"px")("margin-right",cn._container._contentMargins.right,"px")},features:[e._Bn([{provide:d.PQ,useExisting:Pn}]),e.qOj],ngContentSelectors:te,decls:1,vars:0,template:function(wt,cn){1&wt&&(e.F$t(),e.Hsn(0))},encapsulation:2,changeDetection:0}),Pn})(),Kt=(()=>{class Pn{constructor(wt,cn,Gn,$n,Vi,Qn,li,ni){this._elementRef=wt,this._focusTrapFactory=cn,this._focusMonitor=Gn,this._platform=$n,this._ngZone=Vi,this._interactivityChecker=Qn,this._doc=li,this._container=ni,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new pe.x,this._animationEnd=new pe.x,this._animationState="void",this.openedChange=new e.vpe(!0),this._openedStream=this.openedChange.pipe((0,Q.h)(Yt=>Yt),(0,qe.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,Q.h)(Yt=>Yt.fromState!==Yt.toState&&0===Yt.toState.indexOf("open")),(0,je.h)(void 0)),this._closedStream=this.openedChange.pipe((0,Q.h)(Yt=>!Yt),(0,qe.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,Q.h)(Yt=>Yt.fromState!==Yt.toState&&"void"===Yt.toState),(0,je.h)(void 0)),this._destroyed=new pe.x,this.onPositionChanged=new e.vpe,this._modeChanged=new pe.x,this.openedChange.subscribe(Yt=>{Yt?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,ze.R)(this._elementRef.nativeElement,"keydown").pipe((0,Q.h)(Yt=>Yt.keyCode===xe.hY&&!this.disableClose&&!(0,xe.Vb)(Yt)),(0,at.R)(this._destroyed)).subscribe(Yt=>this._ngZone.run(()=>{this.close(),Yt.stopPropagation(),Yt.preventDefault()}))}),this._animationEnd.pipe((0,ke.x)((Yt,q)=>Yt.fromState===q.fromState&&Yt.toState===q.toState)).subscribe(Yt=>{const{fromState:q,toState:de}=Yt;(0===de.indexOf("open")&&"void"===q||"void"===de&&0===q.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(wt){(wt="end"===wt?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(wt),this._position=wt,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(wt){this._mode=wt,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(wt){this._disableClose=(0,W.Ig)(wt)}get autoFocus(){const wt=this._autoFocus;return null==wt?"side"===this.mode?"dialog":"first-tabbable":wt}set autoFocus(wt){("true"===wt||"false"===wt||null==wt)&&(wt=(0,W.Ig)(wt)),this._autoFocus=wt}get opened(){return this._opened}set opened(wt){this.toggle((0,W.Ig)(wt))}_forceFocus(wt,cn){this._interactivityChecker.isFocusable(wt)||(wt.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Gn=()=>{wt.removeEventListener("blur",Gn),wt.removeEventListener("mousedown",Gn),wt.removeAttribute("tabindex")};wt.addEventListener("blur",Gn),wt.addEventListener("mousedown",Gn)})),wt.focus(cn)}_focusByCssSelector(wt,cn){let Gn=this._elementRef.nativeElement.querySelector(wt);Gn&&this._forceFocus(Gn,cn)}_takeFocus(){if(!this._focusTrap)return;const wt=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(cn=>{!cn&&"function"==typeof this._elementRef.nativeElement.focus&&wt.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(wt){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,wt):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const wt=this._doc.activeElement;return!!wt&&this._elementRef.nativeElement.contains(wt)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var wt;this._focusTrap&&this._focusTrap.destroy(),null===(wt=this._anchor)||void 0===wt||wt.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(wt){return this.toggle(!0,wt)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(wt=!this.opened,cn){wt&&cn&&(this._openedVia=cn);const Gn=this._setOpen(wt,!wt&&this._isFocusWithinDrawer(),this._openedVia||"program");return wt||(this._openedVia=null),Gn}_setOpen(wt,cn,Gn){return this._opened=wt,wt?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",cn&&this._restoreFocus(Gn)),this._updateFocusTrapState(),new Promise($n=>{this.openedChange.pipe((0,Ke.q)(1)).subscribe(Vi=>$n(Vi?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(wt){const cn=this._elementRef.nativeElement,Gn=cn.parentNode;"end"===wt?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),Gn.insertBefore(this._anchor,cn)),Gn.appendChild(cn)):this._anchor&&this._anchor.parentNode.insertBefore(cn,this._anchor)}}return Pn.\u0275fac=function(wt){return new(wt||Pn)(e.Y36(e.SBq),e.Y36(hn.qV),e.Y36(hn.tE),e.Y36(gt.t4),e.Y36(e.R0b),e.Y36(hn.ic),e.Y36(_.K0,8),e.Y36(bn,8))},Pn.\u0275cmp=e.Xpm({type:Pn,selectors:[["mat-drawer"]],viewQuery:function(wt,cn){if(1&wt&&e.Gf(Qe,5),2&wt){let Gn;e.iGM(Gn=e.CRH())&&(cn._content=Gn.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(wt,cn){1&wt&&e.WFA("@transform.start",function($n){return cn._animationStarted.next($n)})("@transform.done",function($n){return cn._animationEnd.next($n)}),2&wt&&(e.uIk("align",null),e.d8E("@transform",cn._animationState),e.ekj("mat-drawer-end","end"===cn.position)("mat-drawer-over","over"===cn.mode)("mat-drawer-push","push"===cn.mode)("mat-drawer-side","side"===cn.mode)("mat-drawer-opened",cn.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:te,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(wt,cn){1&wt&&(e.F$t(),e.TgZ(0,"div",0,1),e.Hsn(2),e.qZA())},directives:[d.PQ],encapsulation:2,data:{animation:[fn.transformDrawer]},changeDetection:0}),Pn})(),Ht=(()=>{class Pn{constructor(wt,cn,Gn,$n,Vi,Qn=!1,li){this._dir=wt,this._element=cn,this._ngZone=Gn,this._changeDetectorRef=$n,this._animationMode=li,this._drawers=new e.n_E,this.backdropClick=new e.vpe,this._destroyed=new pe.x,this._doCheckSubject=new pe.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new pe.x,wt&&wt.change.pipe((0,at.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),Vi.change().pipe((0,at.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=Qn}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(wt){this._autosize=(0,W.Ig)(wt)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(wt){this._backdropOverride=null==wt?null:(0,W.Ig)(wt)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,dt.O)(this._allDrawers),(0,at.R)(this._destroyed)).subscribe(wt=>{this._drawers.reset(wt.filter(cn=>!cn._container||cn._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,dt.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(wt=>{this._watchDrawerToggle(wt),this._watchDrawerPosition(wt),this._watchDrawerMode(wt)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,it.b)(10),(0,at.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(wt=>wt.open())}close(){this._drawers.forEach(wt=>wt.close())}updateContentMargins(){let wt=0,cn=0;if(this._left&&this._left.opened)if("side"==this._left.mode)wt+=this._left._getWidth();else if("push"==this._left.mode){const Gn=this._left._getWidth();wt+=Gn,cn-=Gn}if(this._right&&this._right.opened)if("side"==this._right.mode)cn+=this._right._getWidth();else if("push"==this._right.mode){const Gn=this._right._getWidth();cn+=Gn,wt-=Gn}wt=wt||null,cn=cn||null,(wt!==this._contentMargins.left||cn!==this._contentMargins.right)&&(this._contentMargins={left:wt,right:cn},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(wt){wt._animationStarted.pipe((0,Q.h)(cn=>cn.fromState!==cn.toState),(0,at.R)(this._drawers.changes)).subscribe(cn=>{"open-instant"!==cn.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==wt.mode&&wt.openedChange.pipe((0,at.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(wt.opened))}_watchDrawerPosition(wt){!wt||wt.onPositionChanged.pipe((0,at.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Ke.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(wt){wt&&wt._modeChanged.pipe((0,at.R)((0,Ve.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(wt){const cn=this._element.nativeElement.classList,Gn="mat-drawer-container-has-open";wt?cn.add(Gn):cn.remove(Gn)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(wt=>{"end"==wt.position?this._end=wt:this._start=wt}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(wt=>wt&&!wt.disableClose&&this._canHaveBackdrop(wt)).forEach(wt=>wt._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(wt){return"side"!==wt.mode||!!this._backdropOverride}_isDrawerOpen(wt){return null!=wt&&wt.opened}}return Pn.\u0275fac=function(wt){return new(wt||Pn)(e.Y36(Pe.Is,8),e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(d.rL),e.Y36(mn),e.Y36(Tt.Qb,8))},Pn.\u0275cmp=e.Xpm({type:Pn,selectors:[["mat-drawer-container"]],contentQueries:function(wt,cn,Gn){if(1&wt&&(e.Suo(Gn,qt,5),e.Suo(Gn,Kt,5)),2&wt){let $n;e.iGM($n=e.CRH())&&(cn._content=$n.first),e.iGM($n=e.CRH())&&(cn._allDrawers=$n)}},viewQuery:function(wt,cn){if(1&wt&&e.Gf(qt,5),2&wt){let Gn;e.iGM(Gn=e.CRH())&&(cn._userContent=Gn.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(wt,cn){2&wt&&e.ekj("mat-drawer-container-explicit-backdrop",cn._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[e._Bn([{provide:bn,useExisting:Pn}])],ngContentSelectors:Ze,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(wt,cn){1&wt&&(e.F$t(tt),e.YNc(0,Mt,1,2,"div",0),e.Hsn(1),e.Hsn(2,1),e.YNc(3,bt,2,0,"mat-drawer-content",1)),2&wt&&(e.Q6J("ngIf",cn.hasBackdrop),e.xp6(3),e.Q6J("ngIf",!cn._content))},directives:[qt,_.O5],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),Pn})(),_n=(()=>{class Pn extends qt{constructor(wt,cn,Gn,$n,Vi){super(wt,cn,Gn,$n,Vi)}}return Pn.\u0275fac=function(wt){return new(wt||Pn)(e.Y36(e.sBO),e.Y36((0,e.Gpc)(()=>Vn)),e.Y36(e.SBq),e.Y36(d.mF),e.Y36(e.R0b))},Pn.\u0275cmp=e.Xpm({type:Pn,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(wt,cn){2&wt&&e.Udp("margin-left",cn._container._contentMargins.left,"px")("margin-right",cn._container._contentMargins.right,"px")},features:[e._Bn([{provide:d.PQ,useExisting:Pn}]),e.qOj],ngContentSelectors:te,decls:1,vars:0,template:function(wt,cn){1&wt&&(e.F$t(),e.Hsn(0))},encapsulation:2,changeDetection:0}),Pn})(),an=(()=>{class Pn extends Kt{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(wt){this._fixedInViewport=(0,W.Ig)(wt)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(wt){this._fixedTopGap=(0,W.su)(wt)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(wt){this._fixedBottomGap=(0,W.su)(wt)}}return Pn.\u0275fac=function(){let jn;return function(cn){return(jn||(jn=e.n5z(Pn)))(cn||Pn)}}(),Pn.\u0275cmp=e.Xpm({type:Pn,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(wt,cn){2&wt&&(e.uIk("align",null),e.Udp("top",cn.fixedInViewport?cn.fixedTopGap:null,"px")("bottom",cn.fixedInViewport?cn.fixedBottomGap:null,"px"),e.ekj("mat-drawer-end","end"===cn.position)("mat-drawer-over","over"===cn.mode)("mat-drawer-push","push"===cn.mode)("mat-drawer-side","side"===cn.mode)("mat-drawer-opened",cn.opened)("mat-sidenav-fixed",cn.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[e.qOj],ngContentSelectors:te,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(wt,cn){1&wt&&(e.F$t(),e.TgZ(0,"div",0,1),e.Hsn(2),e.qZA())},directives:[d.PQ],encapsulation:2,data:{animation:[fn.transformDrawer]},changeDetection:0}),Pn})(),Vn=(()=>{class Pn extends Ht{}return Pn.\u0275fac=function(){let jn;return function(cn){return(jn||(jn=e.n5z(Pn)))(cn||Pn)}}(),Pn.\u0275cmp=e.Xpm({type:Pn,selectors:[["mat-sidenav-container"]],contentQueries:function(wt,cn,Gn){if(1&wt&&(e.Suo(Gn,_n,5),e.Suo(Gn,an,5)),2&wt){let $n;e.iGM($n=e.CRH())&&(cn._content=$n.first),e.iGM($n=e.CRH())&&(cn._allDrawers=$n)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(wt,cn){2&wt&&e.ekj("mat-drawer-container-explicit-backdrop",cn._backdropOverride)},exportAs:["matSidenavContainer"],features:[e._Bn([{provide:bn,useExisting:Pn}]),e.qOj],ngContentSelectors:st,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(wt,cn){1&wt&&(e.F$t(Xe),e.YNc(0,Ee,1,2,"div",0),e.Hsn(1),e.Hsn(2,1),e.YNc(3,Ye,2,0,"mat-sidenav-content",1)),2&wt&&(e.Q6J("ngIf",cn.hasBackdrop),e.xp6(3),e.Q6J("ngIf",!cn._content))},directives:[_n,_.O5],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),Pn})(),di=(()=>{class Pn{}return Pn.\u0275fac=function(wt){return new(wt||Pn)},Pn.\u0275mod=e.oAB({type:Pn}),Pn.\u0275inj=e.cJS({imports:[[_.ez,ee.BQ,d.ZD],d.ZD,ee.BQ]}),Pn})()},7261:(Xn,Vt,A)=>{"use strict";A.d(Vt,{ux:()=>tt,ZX:()=>te});var d=A(9776),_=A(7429),e=A(9808),ee=A(5e3),W=A(508),xe=A(7423),pe=A(7579),ze=A(5698),Ve=A(2722),Q=A(1777),qe=A(925),je=A(5113),at=A(5664);function ke(Ze,Ee){if(1&Ze){const Ye=ee.EpF();ee.TgZ(0,"div",2)(1,"button",3),ee.NdJ("click",function(){return ee.CHM(Ye),ee.oxw().action()}),ee._uU(2),ee.qZA()()}if(2&Ze){const Ye=ee.oxw();ee.xp6(2),ee.Oqu(Ye.data.action)}}function Ke(Ze,Ee){}const dt=new ee.OlP("MatSnackBarData");class it{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const Dt=Math.pow(2,31)-1;class Tt{constructor(Ee,Ye){this._overlayRef=Ye,this._afterDismissed=new pe.x,this._afterOpened=new pe.x,this._onAction=new pe.x,this._dismissedByAction=!1,this.containerInstance=Ee,this.onAction().subscribe(()=>this.dismiss()),Ee._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Ee){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Ee,Dt))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let hn=(()=>{class Ze{constructor(Ye,Xe){this.snackBarRef=Ye,this.data=Xe}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return Ze.\u0275fac=function(Ye){return new(Ye||Ze)(ee.Y36(Tt),ee.Y36(dt))},Ze.\u0275cmp=ee.Xpm({type:Ze,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(Ye,Xe){1&Ye&&(ee.TgZ(0,"span",0),ee._uU(1),ee.qZA(),ee.YNc(2,ke,3,1,"div",1)),2&Ye&&(ee.xp6(1),ee.Oqu(Xe.data.message),ee.xp6(1),ee.Q6J("ngIf",Xe.hasAction))},directives:[xe.lW,e.O5],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),Ze})();const gt={snackBarState:(0,Q.X$)("state",[(0,Q.SB)("void, hidden",(0,Q.oB)({transform:"scale(0.8)",opacity:0})),(0,Q.SB)("visible",(0,Q.oB)({transform:"scale(1)",opacity:1})),(0,Q.eR)("* => visible",(0,Q.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,Q.eR)("* => void, * => hidden",(0,Q.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,Q.oB)({opacity:0})))])};let Pe=(()=>{class Ze extends _.en{constructor(Ye,Xe,st,sn,fn){super(),this._ngZone=Ye,this._elementRef=Xe,this._changeDetectorRef=st,this._platform=sn,this.snackBarConfig=fn,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new pe.x,this._onExit=new pe.x,this._onEnter=new pe.x,this._animationState="void",this.attachDomPortal=wn=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(wn)),this._live="assertive"!==fn.politeness||fn.announcementMessage?"off"===fn.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Ye){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(Ye)}attachTemplatePortal(Ye){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(Ye)}onAnimationEnd(Ye){const{fromState:Xe,toState:st}=Ye;if(("void"===st&&"void"!==Xe||"hidden"===st)&&this._completeExit(),"visible"===st){const sn=this._onEnter;this._ngZone.run(()=>{sn.next(),sn.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,ze.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const Ye=this._elementRef.nativeElement,Xe=this.snackBarConfig.panelClass;Xe&&(Array.isArray(Xe)?Xe.forEach(st=>Ye.classList.add(st)):Ye.classList.add(Xe)),"center"===this.snackBarConfig.horizontalPosition&&Ye.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&Ye.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Ye=this._elementRef.nativeElement.querySelector("[aria-hidden]"),Xe=this._elementRef.nativeElement.querySelector("[aria-live]");if(Ye&&Xe){let st=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Ye.contains(document.activeElement)&&(st=document.activeElement),Ye.removeAttribute("aria-hidden"),Xe.appendChild(Ye),null==st||st.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return Ze.\u0275fac=function(Ye){return new(Ye||Ze)(ee.Y36(ee.R0b),ee.Y36(ee.SBq),ee.Y36(ee.sBO),ee.Y36(qe.t4),ee.Y36(it))},Ze.\u0275cmp=ee.Xpm({type:Ze,selectors:[["snack-bar-container"]],viewQuery:function(Ye,Xe){if(1&Ye&&ee.Gf(_.Pl,7),2&Ye){let st;ee.iGM(st=ee.CRH())&&(Xe._portalOutlet=st.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(Ye,Xe){1&Ye&&ee.WFA("@state.done",function(sn){return Xe.onAnimationEnd(sn)}),2&Ye&&ee.d8E("@state",Xe._animationState)},features:[ee.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(Ye,Xe){1&Ye&&(ee.TgZ(0,"div",0),ee.YNc(1,Ke,0,0,"ng-template",1),ee.qZA(),ee._UZ(2,"div")),2&Ye&&(ee.xp6(2),ee.uIk("aria-live",Xe._live)("role",Xe._role))},directives:[_.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[gt.snackBarState]}}),Ze})(),te=(()=>{class Ze{}return Ze.\u0275fac=function(Ye){return new(Ye||Ze)},Ze.\u0275mod=ee.oAB({type:Ze}),Ze.\u0275inj=ee.cJS({imports:[[d.U8,_.eL,e.ez,xe.ot,W.BQ],W.BQ]}),Ze})();const Qe=new ee.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function Mt(){return new it}});let bt=(()=>{class Ze{constructor(Ye,Xe,st,sn,fn,wn){this._overlay=Ye,this._live=Xe,this._injector=st,this._breakpointObserver=sn,this._parentSnackBar=fn,this._defaultConfig=wn,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const Ye=this._parentSnackBar;return Ye?Ye._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Ye){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Ye:this._snackBarRefAtThisLevel=Ye}openFromComponent(Ye,Xe){return this._attach(Ye,Xe)}openFromTemplate(Ye,Xe){return this._attach(Ye,Xe)}open(Ye,Xe="",st){const sn=Object.assign(Object.assign({},this._defaultConfig),st);return sn.data={message:Ye,action:Xe},sn.announcementMessage===Ye&&(sn.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,sn)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Ye,Xe){const sn=ee.zs3.create({parent:Xe&&Xe.viewContainerRef&&Xe.viewContainerRef.injector||this._injector,providers:[{provide:it,useValue:Xe}]}),fn=new _.C5(this.snackBarContainerComponent,Xe.viewContainerRef,sn),wn=Ye.attach(fn);return wn.instance.snackBarConfig=Xe,wn.instance}_attach(Ye,Xe){const st=Object.assign(Object.assign(Object.assign({},new it),this._defaultConfig),Xe),sn=this._createOverlay(st),fn=this._attachSnackBarContainer(sn,st),wn=new Tt(fn,sn);if(Ye instanceof ee.Rgc){const mn=new _.UE(Ye,null,{$implicit:st.data,snackBarRef:wn});wn.instance=fn.attachTemplatePortal(mn)}else{const mn=this._createInjector(st,wn),bn=new _.C5(Ye,void 0,mn),zt=fn.attachComponentPortal(bn);wn.instance=zt.instance}return this._breakpointObserver.observe(je.u3.HandsetPortrait).pipe((0,Ve.R)(sn.detachments())).subscribe(mn=>{sn.overlayElement.classList.toggle(this.handsetCssClass,mn.matches)}),st.announcementMessage&&fn._onAnnounce.subscribe(()=>{this._live.announce(st.announcementMessage,st.politeness)}),this._animateSnackBar(wn,st),this._openedSnackBarRef=wn,this._openedSnackBarRef}_animateSnackBar(Ye,Xe){Ye.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Ye&&(this._openedSnackBarRef=null),Xe.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Ye.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Ye.containerInstance.enter(),Xe.duration&&Xe.duration>0&&Ye.afterOpened().subscribe(()=>Ye._dismissAfter(Xe.duration))}_createOverlay(Ye){const Xe=new d.X_;Xe.direction=Ye.direction;let st=this._overlay.position().global();const sn="rtl"===Ye.direction,fn="left"===Ye.horizontalPosition||"start"===Ye.horizontalPosition&&!sn||"end"===Ye.horizontalPosition&&sn,wn=!fn&&"center"!==Ye.horizontalPosition;return fn?st.left("0"):wn?st.right("0"):st.centerHorizontally(),"top"===Ye.verticalPosition?st.top("0"):st.bottom("0"),Xe.positionStrategy=st,this._overlay.create(Xe)}_createInjector(Ye,Xe){return ee.zs3.create({parent:Ye&&Ye.viewContainerRef&&Ye.viewContainerRef.injector||this._injector,providers:[{provide:Tt,useValue:Xe},{provide:dt,useValue:Ye.data}]})}}return Ze.\u0275fac=function(Ye){return new(Ye||Ze)(ee.LFG(d.aV),ee.LFG(at.Kd),ee.LFG(ee.zs3),ee.LFG(je.Yg),ee.LFG(Ze,12),ee.LFG(Qe))},Ze.\u0275prov=ee.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})(),tt=(()=>{class Ze extends bt{constructor(Ye,Xe,st,sn,fn,wn){super(Ye,Xe,st,sn,fn,wn),this.simpleSnackBarComponent=hn,this.snackBarContainerComponent=Pe,this.handsetCssClass="mat-snack-bar-handset"}}return Ze.\u0275fac=function(Ye){return new(Ye||Ze)(ee.LFG(d.aV),ee.LFG(at.Kd),ee.LFG(ee.zs3),ee.LFG(je.Yg),ee.LFG(Ze,12),ee.LFG(Qe))},Ze.\u0275prov=ee.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:te}),Ze})()},4847:(Xn,Vt,A)=>{"use strict";A.d(Vt,{YE:()=>Qe,nU:()=>tt,JX:()=>Ze});var d=A(5e3),_=A(3191),e=A(1159),ee=A(508),W=A(7579),xe=A(6451),pe=A(1777),ze=A(5664),Ve=A(9808);const Q=["mat-sort-header",""];function qe(Ee,Ye){if(1&Ee){const Xe=d.EpF();d.TgZ(0,"div",3),d.NdJ("@arrowPosition.start",function(){return d.CHM(Xe),d.oxw()._disableViewStateAnimation=!0})("@arrowPosition.done",function(){return d.CHM(Xe),d.oxw()._disableViewStateAnimation=!1}),d._UZ(1,"div",4),d.TgZ(2,"div",5),d._UZ(3,"div",6)(4,"div",7)(5,"div",8),d.qZA()()}if(2&Ee){const Xe=d.oxw();d.Q6J("@arrowOpacity",Xe._getArrowViewState())("@arrowPosition",Xe._getArrowViewState())("@allowChildren",Xe._getArrowDirectionState()),d.xp6(2),d.Q6J("@indicator",Xe._getArrowDirectionState()),d.xp6(1),d.Q6J("@leftPointer",Xe._getArrowDirectionState()),d.xp6(1),d.Q6J("@rightPointer",Xe._getArrowDirectionState())}}const je=["*"],at=ee.mZ.ENTERING+" "+ee.yN.STANDARD_CURVE,ke={indicator:(0,pe.X$)("indicator",[(0,pe.SB)("active-asc, asc",(0,pe.oB)({transform:"translateY(0px)"})),(0,pe.SB)("active-desc, desc",(0,pe.oB)({transform:"translateY(10px)"})),(0,pe.eR)("active-asc <=> active-desc",(0,pe.jt)(at))]),leftPointer:(0,pe.X$)("leftPointer",[(0,pe.SB)("active-asc, asc",(0,pe.oB)({transform:"rotate(-45deg)"})),(0,pe.SB)("active-desc, desc",(0,pe.oB)({transform:"rotate(45deg)"})),(0,pe.eR)("active-asc <=> active-desc",(0,pe.jt)(at))]),rightPointer:(0,pe.X$)("rightPointer",[(0,pe.SB)("active-asc, asc",(0,pe.oB)({transform:"rotate(45deg)"})),(0,pe.SB)("active-desc, desc",(0,pe.oB)({transform:"rotate(-45deg)"})),(0,pe.eR)("active-asc <=> active-desc",(0,pe.jt)(at))]),arrowOpacity:(0,pe.X$)("arrowOpacity",[(0,pe.SB)("desc-to-active, asc-to-active, active",(0,pe.oB)({opacity:1})),(0,pe.SB)("desc-to-hint, asc-to-hint, hint",(0,pe.oB)({opacity:.54})),(0,pe.SB)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,pe.oB)({opacity:0})),(0,pe.eR)("* => asc, * => desc, * => active, * => hint, * => void",(0,pe.jt)("0ms")),(0,pe.eR)("* <=> *",(0,pe.jt)(at))]),arrowPosition:(0,pe.X$)("arrowPosition",[(0,pe.eR)("* => desc-to-hint, * => desc-to-active",(0,pe.jt)(at,(0,pe.F4)([(0,pe.oB)({transform:"translateY(-25%)"}),(0,pe.oB)({transform:"translateY(0)"})]))),(0,pe.eR)("* => hint-to-desc, * => active-to-desc",(0,pe.jt)(at,(0,pe.F4)([(0,pe.oB)({transform:"translateY(0)"}),(0,pe.oB)({transform:"translateY(25%)"})]))),(0,pe.eR)("* => asc-to-hint, * => asc-to-active",(0,pe.jt)(at,(0,pe.F4)([(0,pe.oB)({transform:"translateY(25%)"}),(0,pe.oB)({transform:"translateY(0)"})]))),(0,pe.eR)("* => hint-to-asc, * => active-to-asc",(0,pe.jt)(at,(0,pe.F4)([(0,pe.oB)({transform:"translateY(0)"}),(0,pe.oB)({transform:"translateY(-25%)"})]))),(0,pe.SB)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,pe.oB)({transform:"translateY(0)"})),(0,pe.SB)("hint-to-desc, active-to-desc, desc",(0,pe.oB)({transform:"translateY(-25%)"})),(0,pe.SB)("hint-to-asc, active-to-asc, asc",(0,pe.oB)({transform:"translateY(25%)"}))]),allowChildren:(0,pe.X$)("allowChildren",[(0,pe.eR)("* <=> *",[(0,pe.IO)("@*",(0,pe.pV)(),{optional:!0})])])};let Tt=(()=>{class Ee{constructor(){this.changes=new W.x}}return Ee.\u0275fac=function(Xe){return new(Xe||Ee)},Ee.\u0275prov=d.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();const gt={provide:Tt,deps:[[new d.FiY,new d.tp0,Tt]],useFactory:function hn(Ee){return Ee||new Tt}},Pe=new d.OlP("MAT_SORT_DEFAULT_OPTIONS"),te=(0,ee.dB)((0,ee.Id)(class{}));let Qe=(()=>{class Ee extends te{constructor(Xe){super(),this._defaultOptions=Xe,this.sortables=new Map,this._stateChanges=new W.x,this.start="asc",this._direction="",this.sortChange=new d.vpe}get direction(){return this._direction}set direction(Xe){this._direction=Xe}get disableClear(){return this._disableClear}set disableClear(Xe){this._disableClear=(0,_.Ig)(Xe)}register(Xe){this.sortables.set(Xe.id,Xe)}deregister(Xe){this.sortables.delete(Xe.id)}sort(Xe){this.active!=Xe.id?(this.active=Xe.id,this.direction=Xe.start?Xe.start:this.start):this.direction=this.getNextSortDirection(Xe),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(Xe){var st,sn,fn;if(!Xe)return"";const wn=null!==(sn=null!==(st=null==Xe?void 0:Xe.disableClear)&&void 0!==st?st:this.disableClear)&&void 0!==sn?sn:!!(null===(fn=this._defaultOptions)||void 0===fn?void 0:fn.disableClear);let mn=function Mt(Ee,Ye){let Xe=["asc","desc"];return"desc"==Ee&&Xe.reverse(),Ye||Xe.push(""),Xe}(Xe.start||this.start,wn),bn=mn.indexOf(this.direction)+1;return bn>=mn.length&&(bn=0),mn[bn]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return Ee.\u0275fac=function(Xe){return new(Xe||Ee)(d.Y36(Pe,8))},Ee.\u0275dir=d.lG2({type:Ee,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[d.qOj,d.TTD]}),Ee})();const bt=(0,ee.Id)(class{});let tt=(()=>{class Ee extends bt{constructor(Xe,st,sn,fn,wn,mn,bn){super(),this._intl=Xe,this._changeDetectorRef=st,this._sort=sn,this._columnDef=fn,this._focusMonitor=wn,this._elementRef=mn,this._ariaDescriber=bn,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(Xe){this._updateSortActionDescription(Xe)}get disableClear(){return this._disableClear}set disableClear(Xe){this._disableClear=(0,_.Ig)(Xe)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(Xe=>{const st=!!Xe;st!==this._showIndicatorHint&&(this._setIndicatorHintVisible(st),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(Xe){this._isDisabled()&&Xe||(this._showIndicatorHint=Xe,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(Xe){this._viewState=Xe||{},this._disableViewStateAnimation&&(this._viewState={toState:Xe.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(Xe){!this._isDisabled()&&(Xe.keyCode===e.L_||Xe.keyCode===e.K5)&&(Xe.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const Xe=this._viewState.fromState;return(Xe?`${Xe}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(Xe){var st,sn;this._sortButton&&(null===(st=this._ariaDescriber)||void 0===st||st.removeDescription(this._sortButton,this._sortActionDescription),null===(sn=this._ariaDescriber)||void 0===sn||sn.describe(this._sortButton,Xe)),this._sortActionDescription=Xe}_handleStateChanges(){this._rerenderSubscription=(0,xe.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return Ee.\u0275fac=function(Xe){return new(Xe||Ee)(d.Y36(Tt),d.Y36(d.sBO),d.Y36(Qe,8),d.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),d.Y36(ze.tE),d.Y36(d.SBq),d.Y36(ze.$s,8))},Ee.\u0275cmp=d.Xpm({type:Ee,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(Xe,st){1&Xe&&d.NdJ("click",function(){return st._handleClick()})("keydown",function(fn){return st._handleKeydown(fn)})("mouseenter",function(){return st._setIndicatorHintVisible(!0)})("mouseleave",function(){return st._setIndicatorHintVisible(!1)}),2&Xe&&(d.uIk("aria-sort",st._getAriaSortAttribute()),d.ekj("mat-sort-header-disabled",st._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[d.qOj],attrs:Q,ngContentSelectors:je,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(Xe,st){1&Xe&&(d.F$t(),d.TgZ(0,"div",0)(1,"div",1),d.Hsn(2),d.qZA(),d.YNc(3,qe,6,6,"div",2),d.qZA()),2&Xe&&(d.ekj("mat-sort-header-sorted",st._isSorted())("mat-sort-header-position-before","before"==st.arrowPosition),d.uIk("tabindex",st._isDisabled()?null:0)("role",st._isDisabled()?null:"button"),d.xp6(3),d.Q6J("ngIf",st._renderArrow()))},directives:[Ve.O5],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[ke.indicator,ke.leftPointer,ke.rightPointer,ke.arrowOpacity,ke.arrowPosition,ke.allowChildren]},changeDetection:0}),Ee})(),Ze=(()=>{class Ee{}return Ee.\u0275fac=function(Xe){return new(Xe||Ee)},Ee.\u0275mod=d.oAB({type:Ee}),Ee.\u0275inj=d.cJS({providers:[gt],imports:[[Ve.ez,ee.BQ]]}),Ee})()},4999:(Xn,Vt,A)=>{"use strict";A.d(Vt,{ev:()=>Zt,Dz:()=>on,w1:()=>rn,ge:()=>Pt,fO:()=>Sn,XQ:()=>ct,as:()=>Ln,Gk:()=>In,nj:()=>Et,BZ:()=>Ct,by:()=>Ot,p0:()=>ht});var d=A(5e3),_=A(3191),e=A(449),ee=A(9808),W=A(7579),xe=A(8996),pe=A(1135),ze=A(8306),Ve=A(576),qe=A(9646),je=A(2722),at=A(5698),ke=A(226),Ke=A(925),dt=A(8962);const it=[[["caption"]],[["colgroup"],["col"]]],Dt=["caption","colgroup, col"];function gt(ae){return class extends ae{constructor(...Ge){super(...Ge),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(Ge){const Oe=this._sticky;this._sticky=(0,_.Ig)(Ge),this._hasStickyChanged=Oe!==this._sticky}hasStickyChanged(){const Ge=this._hasStickyChanged;return this._hasStickyChanged=!1,Ge}resetStickyChanged(){this._hasStickyChanged=!1}}}const Pe=new d.OlP("CDK_TABLE");let Qe=(()=>{class ae{constructor(Oe){this.template=Oe}}return ae.\u0275fac=function(Oe){return new(Oe||ae)(d.Y36(d.Rgc))},ae.\u0275dir=d.lG2({type:ae,selectors:[["","cdkCellDef",""]]}),ae})(),Mt=(()=>{class ae{constructor(Oe){this.template=Oe}}return ae.\u0275fac=function(Oe){return new(Oe||ae)(d.Y36(d.Rgc))},ae.\u0275dir=d.lG2({type:ae,selectors:[["","cdkHeaderCellDef",""]]}),ae})(),bt=(()=>{class ae{constructor(Oe){this.template=Oe}}return ae.\u0275fac=function(Oe){return new(Oe||ae)(d.Y36(d.Rgc))},ae.\u0275dir=d.lG2({type:ae,selectors:[["","cdkFooterCellDef",""]]}),ae})();class tt{}const Ze=gt(tt);let Ee=(()=>{class ae extends Ze{constructor(Oe){super(),this._table=Oe,this._stickyEnd=!1}get name(){return this._name}set name(Oe){this._setNameInput(Oe)}get stickyEnd(){return this._stickyEnd}set stickyEnd(Oe){const mt=this._stickyEnd;this._stickyEnd=(0,_.Ig)(Oe),this._hasStickyChanged=mt!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(Oe){Oe&&(this._name=Oe,this.cssClassFriendlyName=Oe.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return ae.\u0275fac=function(Oe){return new(Oe||ae)(d.Y36(Pe,8))},ae.\u0275dir=d.lG2({type:ae,selectors:[["","cdkColumnDef",""]],contentQueries:function(Oe,mt,Qt){if(1&Oe&&(d.Suo(Qt,Qe,5),d.Suo(Qt,Mt,5),d.Suo(Qt,bt,5)),2&Oe){let Mn;d.iGM(Mn=d.CRH())&&(mt.cell=Mn.first),d.iGM(Mn=d.CRH())&&(mt.headerCell=Mn.first),d.iGM(Mn=d.CRH())&&(mt.footerCell=Mn.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[d._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:ae}]),d.qOj]}),ae})();class Ye{constructor(Ge,Oe){Oe.nativeElement.classList.add(...Ge._columnCssClassName)}}let Xe=(()=>{class ae extends Ye{constructor(Oe,mt){super(Oe,mt)}}return ae.\u0275fac=function(Oe){return new(Oe||ae)(d.Y36(Ee),d.Y36(d.SBq))},ae.\u0275dir=d.lG2({type:ae,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[d.qOj]}),ae})(),sn=(()=>{class ae extends Ye{constructor(Oe,mt){var Qt;if(super(Oe,mt),1===(null===(Qt=Oe._table)||void 0===Qt?void 0:Qt._elementRef.nativeElement.nodeType)){const Mn=Oe._table._elementRef.nativeElement.getAttribute("role");mt.nativeElement.setAttribute("role","grid"===Mn||"treegrid"===Mn?"gridcell":"cell")}}}return ae.\u0275fac=function(Oe){return new(Oe||ae)(d.Y36(Ee),d.Y36(d.SBq))},ae.\u0275dir=d.lG2({type:ae,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[d.qOj]}),ae})();class fn{constructor(){this.tasks=[],this.endTasks=[]}}const wn=new d.OlP("_COALESCED_STYLE_SCHEDULER");let mn=(()=>{class ae{constructor(Oe){this._ngZone=Oe,this._currentSchedule=null,this._destroyed=new W.x}schedule(Oe){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(Oe)}scheduleEnd(Oe){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(Oe)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new fn,this._getScheduleObservable().pipe((0,je.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const Oe=this._currentSchedule;this._currentSchedule=new fn;for(const mt of Oe.tasks)mt();for(const mt of Oe.endTasks)mt()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,xe.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,at.q)(1))}}return ae.\u0275fac=function(Oe){return new(Oe||ae)(d.LFG(d.R0b))},ae.\u0275prov=d.Yz7({token:ae,factory:ae.\u0275fac}),ae})(),zt=(()=>{class ae{constructor(Oe,mt){this.template=Oe,this._differs=mt}ngOnChanges(Oe){if(!this._columnsDiffer){const mt=Oe.columns&&Oe.columns.currentValue||[];this._columnsDiffer=this._differs.find(mt).create(),this._columnsDiffer.diff(mt)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(Oe){return this instanceof Ht?Oe.headerCell.template:this instanceof Vn?Oe.footerCell.template:Oe.cell.template}}return ae.\u0275fac=function(Oe){return new(Oe||ae)(d.Y36(d.Rgc),d.Y36(d.ZZ4))},ae.\u0275dir=d.lG2({type:ae,features:[d.TTD]}),ae})();class qt extends zt{}const Kt=gt(qt);let Ht=(()=>{class ae extends Kt{constructor(Oe,mt,Qt){super(Oe,mt),this._table=Qt}ngOnChanges(Oe){super.ngOnChanges(Oe)}}return ae.\u0275fac=function(Oe){return new(Oe||ae)(d.Y36(d.Rgc),d.Y36(d.ZZ4),d.Y36(Pe,8))},ae.\u0275dir=d.lG2({type:ae,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[d.qOj,d.TTD]}),ae})();class _n extends zt{}const an=gt(_n);let Vn=(()=>{class ae extends an{constructor(Oe,mt,Qt){super(Oe,mt),this._table=Qt}ngOnChanges(Oe){super.ngOnChanges(Oe)}}return ae.\u0275fac=function(Oe){return new(Oe||ae)(d.Y36(d.Rgc),d.Y36(d.ZZ4),d.Y36(Pe,8))},ae.\u0275dir=d.lG2({type:ae,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[d.qOj,d.TTD]}),ae})(),di=(()=>{class ae extends zt{constructor(Oe,mt,Qt){super(Oe,mt),this._table=Qt}}return ae.\u0275fac=function(Oe){return new(Oe||ae)(d.Y36(d.Rgc),d.Y36(d.ZZ4),d.Y36(Pe,8))},ae.\u0275dir=d.lG2({type:ae,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[d.qOj]}),ae})(),Pn=(()=>{class ae{constructor(Oe){this._viewContainer=Oe,ae.mostRecentCellOutlet=this}ngOnDestroy(){ae.mostRecentCellOutlet===this&&(ae.mostRecentCellOutlet=null)}}return ae.mostRecentCellOutlet=null,ae.\u0275fac=function(Oe){return new(Oe||ae)(d.Y36(d.s_b))},ae.\u0275dir=d.lG2({type:ae,selectors:[["","cdkCellOutlet",""]]}),ae})(),jn=(()=>{class ae{}return ae.\u0275fac=function(Oe){return new(Oe||ae)},ae.\u0275cmp=d.Xpm({type:ae,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Oe,mt){1&Oe&&d.GkF(0,0)},directives:[Pn],encapsulation:2}),ae})(),cn=(()=>{class ae{}return ae.\u0275fac=function(Oe){return new(Oe||ae)},ae.\u0275cmp=d.Xpm({type:ae,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Oe,mt){1&Oe&&d.GkF(0,0)},directives:[Pn],encapsulation:2}),ae})(),Gn=(()=>{class ae{constructor(Oe){this.templateRef=Oe,this._contentClassName="cdk-no-data-row"}}return ae.\u0275fac=function(Oe){return new(Oe||ae)(d.Y36(d.Rgc))},ae.\u0275dir=d.lG2({type:ae,selectors:[["ng-template","cdkNoDataRow",""]]}),ae})();const $n=["top","bottom","left","right"];class Vi{constructor(Ge,Oe,mt,Qt,Mn=!0,Bn=!0,Ci){this._isNativeHtmlTable=Ge,this._stickCellCss=Oe,this.direction=mt,this._coalescedStyleScheduler=Qt,this._isBrowser=Mn,this._needsPositionStickyOnElement=Bn,this._positionListener=Ci,this._cachedCellWidths=[],this._borderCellCss={top:`${Oe}-border-elem-top`,bottom:`${Oe}-border-elem-bottom`,left:`${Oe}-border-elem-left`,right:`${Oe}-border-elem-right`}}clearStickyPositioning(Ge,Oe){const mt=[];for(const Qt of Ge)if(Qt.nodeType===Qt.ELEMENT_NODE){mt.push(Qt);for(let Mn=0;Mn<Qt.children.length;Mn++)mt.push(Qt.children[Mn])}this._coalescedStyleScheduler.schedule(()=>{for(const Qt of mt)this._removeStickyStyle(Qt,Oe)})}updateStickyColumns(Ge,Oe,mt,Qt=!0){if(!Ge.length||!this._isBrowser||!Oe.some(mi=>mi)&&!mt.some(mi=>mi))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const Mn=Ge[0],Bn=Mn.children.length,Ci=this._getCellWidths(Mn,Qt),ui=this._getStickyStartColumnPositions(Ci,Oe),Or=this._getStickyEndColumnPositions(Ci,mt),hr=Oe.lastIndexOf(!0),ur=mt.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const mi="rtl"===this.direction,_i=mi?"right":"left",ji=mi?"left":"right";for(const Hi of Ge)for(let qi=0;qi<Bn;qi++){const fr=Hi.children[qi];Oe[qi]&&this._addStickyStyle(fr,_i,ui[qi],qi===hr),mt[qi]&&this._addStickyStyle(fr,ji,Or[qi],qi===ur)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===hr?[]:Ci.slice(0,hr+1).map((Hi,qi)=>Oe[qi]?Hi:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===ur?[]:Ci.slice(ur).map((Hi,qi)=>mt[qi+ur]?Hi:null).reverse()}))})}stickRows(Ge,Oe,mt){if(!this._isBrowser)return;const Qt="bottom"===mt?Ge.slice().reverse():Ge,Mn="bottom"===mt?Oe.slice().reverse():Oe,Bn=[],Ci=[],ui=[];for(let hr=0,ur=0;hr<Qt.length;hr++){if(!Mn[hr])continue;Bn[hr]=ur;const mi=Qt[hr];ui[hr]=this._isNativeHtmlTable?Array.from(mi.children):[mi];const _i=mi.getBoundingClientRect().height;ur+=_i,Ci[hr]=_i}const Or=Mn.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var hr,ur;for(let mi=0;mi<Qt.length;mi++){if(!Mn[mi])continue;const _i=Bn[mi],ji=mi===Or;for(const Hi of ui[mi])this._addStickyStyle(Hi,mt,_i,ji)}"top"===mt?null===(hr=this._positionListener)||void 0===hr||hr.stickyHeaderRowsUpdated({sizes:Ci,offsets:Bn,elements:ui}):null===(ur=this._positionListener)||void 0===ur||ur.stickyFooterRowsUpdated({sizes:Ci,offsets:Bn,elements:ui})})}updateStickyFooterContainer(Ge,Oe){if(!this._isNativeHtmlTable)return;const mt=Ge.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{Oe.some(Qt=>!Qt)?this._removeStickyStyle(mt,["bottom"]):this._addStickyStyle(mt,"bottom",0,!1)})}_removeStickyStyle(Ge,Oe){for(const Qt of Oe)Ge.style[Qt]="",Ge.classList.remove(this._borderCellCss[Qt]);$n.some(Qt=>-1===Oe.indexOf(Qt)&&Ge.style[Qt])?Ge.style.zIndex=this._getCalculatedZIndex(Ge):(Ge.style.zIndex="",this._needsPositionStickyOnElement&&(Ge.style.position=""),Ge.classList.remove(this._stickCellCss))}_addStickyStyle(Ge,Oe,mt,Qt){Ge.classList.add(this._stickCellCss),Qt&&Ge.classList.add(this._borderCellCss[Oe]),Ge.style[Oe]=`${mt}px`,Ge.style.zIndex=this._getCalculatedZIndex(Ge),this._needsPositionStickyOnElement&&(Ge.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(Ge){const Oe={top:100,bottom:10,left:1,right:1};let mt=0;for(const Qt of $n)Ge.style[Qt]&&(mt+=Oe[Qt]);return mt?`${mt}`:""}_getCellWidths(Ge,Oe=!0){if(!Oe&&this._cachedCellWidths.length)return this._cachedCellWidths;const mt=[],Qt=Ge.children;for(let Mn=0;Mn<Qt.length;Mn++)mt.push(Qt[Mn].getBoundingClientRect().width);return this._cachedCellWidths=mt,mt}_getStickyStartColumnPositions(Ge,Oe){const mt=[];let Qt=0;for(let Mn=0;Mn<Ge.length;Mn++)Oe[Mn]&&(mt[Mn]=Qt,Qt+=Ge[Mn]);return mt}_getStickyEndColumnPositions(Ge,Oe){const mt=[];let Qt=0;for(let Mn=Ge.length;Mn>0;Mn--)Oe[Mn]&&(mt[Mn]=Qt,Qt+=Ge[Mn]);return mt}}const pt=new d.OlP("CDK_SPL");let nn=(()=>{class ae{constructor(Oe,mt){this.viewContainer=Oe,this.elementRef=mt}}return ae.\u0275fac=function(Oe){return new(Oe||ae)(d.Y36(d.s_b),d.Y36(d.SBq))},ae.\u0275dir=d.lG2({type:ae,selectors:[["","rowOutlet",""]]}),ae})(),On=(()=>{class ae{constructor(Oe,mt){this.viewContainer=Oe,this.elementRef=mt}}return ae.\u0275fac=function(Oe){return new(Oe||ae)(d.Y36(d.s_b),d.Y36(d.SBq))},ae.\u0275dir=d.lG2({type:ae,selectors:[["","headerRowOutlet",""]]}),ae})(),Wn=(()=>{class ae{constructor(Oe,mt){this.viewContainer=Oe,this.elementRef=mt}}return ae.\u0275fac=function(Oe){return new(Oe||ae)(d.Y36(d.s_b),d.Y36(d.SBq))},ae.\u0275dir=d.lG2({type:ae,selectors:[["","footerRowOutlet",""]]}),ae})(),Yn=(()=>{class ae{constructor(Oe,mt){this.viewContainer=Oe,this.elementRef=mt}}return ae.\u0275fac=function(Oe){return new(Oe||ae)(d.Y36(d.s_b),d.Y36(d.SBq))},ae.\u0275dir=d.lG2({type:ae,selectors:[["","noDataRowOutlet",""]]}),ae})(),Bi=(()=>{class ae{constructor(Oe,mt,Qt,Mn,Bn,Ci,ui,Or,hr,ur,mi,_i){this._differs=Oe,this._changeDetectorRef=mt,this._elementRef=Qt,this._dir=Bn,this._platform=ui,this._viewRepeater=Or,this._coalescedStyleScheduler=hr,this._viewportRuler=ur,this._stickyPositioningListener=mi,this._ngZone=_i,this._onDestroy=new W.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new d.vpe,this.viewChange=new pe.X({start:0,end:Number.MAX_VALUE}),Mn||this._elementRef.nativeElement.setAttribute("role","table"),this._document=Ci,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(Oe){this._trackByFn=Oe}get dataSource(){return this._dataSource}set dataSource(Oe){this._dataSource!==Oe&&this._switchDataSource(Oe)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(Oe){this._multiTemplateDataRows=(0,_.Ig)(Oe),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(Oe){this._fixedLayout=(0,_.Ig)(Oe),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((Oe,mt)=>this.trackBy?this.trackBy(mt.dataIndex,mt.data):mt),this._viewportRuler.change().pipe((0,je.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const mt=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||mt,this._forceRecalculateCellWidths=mt,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(Oe=>{Oe.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,e.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const Oe=this._dataDiffer.diff(this._renderRows);if(!Oe)return this._updateNoDataRow(),void this.contentChanged.next();const mt=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(Oe,mt,(Qt,Mn,Bn)=>this._getEmbeddedViewArgs(Qt.item,Bn),Qt=>Qt.item.data,Qt=>{1===Qt.operation&&Qt.context&&this._renderCellTemplateForItem(Qt.record.item.rowDef,Qt.context)}),this._updateRowIndexContext(),Oe.forEachIdentityChange(Qt=>{mt.get(Qt.currentIndex).context.$implicit=Qt.item.data}),this._updateNoDataRow(),this._ngZone&&d.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,at.q)(1),(0,je.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(Oe){this._customColumnDefs.add(Oe)}removeColumnDef(Oe){this._customColumnDefs.delete(Oe)}addRowDef(Oe){this._customRowDefs.add(Oe)}removeRowDef(Oe){this._customRowDefs.delete(Oe)}addHeaderRowDef(Oe){this._customHeaderRowDefs.add(Oe),this._headerRowDefChanged=!0}removeHeaderRowDef(Oe){this._customHeaderRowDefs.delete(Oe),this._headerRowDefChanged=!0}addFooterRowDef(Oe){this._customFooterRowDefs.add(Oe),this._footerRowDefChanged=!0}removeFooterRowDef(Oe){this._customFooterRowDefs.delete(Oe),this._footerRowDefChanged=!0}setNoDataRow(Oe){this._customNoDataRow=Oe}updateStickyHeaderRowStyles(){const Oe=this._getRenderedRows(this._headerRowOutlet),Qt=this._elementRef.nativeElement.querySelector("thead");Qt&&(Qt.style.display=Oe.length?"":"none");const Mn=this._headerRowDefs.map(Bn=>Bn.sticky);this._stickyStyler.clearStickyPositioning(Oe,["top"]),this._stickyStyler.stickRows(Oe,Mn,"top"),this._headerRowDefs.forEach(Bn=>Bn.resetStickyChanged())}updateStickyFooterRowStyles(){const Oe=this._getRenderedRows(this._footerRowOutlet),Qt=this._elementRef.nativeElement.querySelector("tfoot");Qt&&(Qt.style.display=Oe.length?"":"none");const Mn=this._footerRowDefs.map(Bn=>Bn.sticky);this._stickyStyler.clearStickyPositioning(Oe,["bottom"]),this._stickyStyler.stickRows(Oe,Mn,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,Mn),this._footerRowDefs.forEach(Bn=>Bn.resetStickyChanged())}updateStickyColumnStyles(){const Oe=this._getRenderedRows(this._headerRowOutlet),mt=this._getRenderedRows(this._rowOutlet),Qt=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...Oe,...mt,...Qt],["left","right"]),this._stickyColumnStylesNeedReset=!1),Oe.forEach((Mn,Bn)=>{this._addStickyColumnStyles([Mn],this._headerRowDefs[Bn])}),this._rowDefs.forEach(Mn=>{const Bn=[];for(let Ci=0;Ci<mt.length;Ci++)this._renderRows[Ci].rowDef===Mn&&Bn.push(mt[Ci]);this._addStickyColumnStyles(Bn,Mn)}),Qt.forEach((Mn,Bn)=>{this._addStickyColumnStyles([Mn],this._footerRowDefs[Bn])}),Array.from(this._columnDefsByName.values()).forEach(Mn=>Mn.resetStickyChanged())}_getAllRenderRows(){const Oe=[],mt=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Qt=0;Qt<this._data.length;Qt++){let Mn=this._data[Qt];const Bn=this._getRenderRowsForData(Mn,Qt,mt.get(Mn));this._cachedRenderRowsMap.has(Mn)||this._cachedRenderRowsMap.set(Mn,new WeakMap);for(let Ci=0;Ci<Bn.length;Ci++){let ui=Bn[Ci];const Or=this._cachedRenderRowsMap.get(ui.data);Or.has(ui.rowDef)?Or.get(ui.rowDef).push(ui):Or.set(ui.rowDef,[ui]),Oe.push(ui)}}return Oe}_getRenderRowsForData(Oe,mt,Qt){return this._getRowDefs(Oe,mt).map(Bn=>{const Ci=Qt&&Qt.has(Bn)?Qt.get(Bn):[];if(Ci.length){const ui=Ci.shift();return ui.dataIndex=mt,ui}return{data:Oe,rowDef:Bn,dataIndex:mt}})}_cacheColumnDefs(){this._columnDefsByName.clear(),vi(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(mt=>{this._columnDefsByName.has(mt.name),this._columnDefsByName.set(mt.name,mt)})}_cacheRowDefs(){this._headerRowDefs=vi(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=vi(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=vi(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const Oe=this._rowDefs.filter(mt=>!mt.when);this._defaultRowDef=Oe[0]}_renderUpdatedColumns(){const Oe=(Bn,Ci)=>Bn||!!Ci.getColumnsDiff(),mt=this._rowDefs.reduce(Oe,!1);mt&&this._forceRenderDataRows();const Qt=this._headerRowDefs.reduce(Oe,!1);Qt&&this._forceRenderHeaderRows();const Mn=this._footerRowDefs.reduce(Oe,!1);return Mn&&this._forceRenderFooterRows(),mt||Qt||Mn}_switchDataSource(Oe){this._data=[],(0,e.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),Oe||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=Oe}_observeRenderChanges(){if(!this.dataSource)return;let Oe;(0,e.Z9)(this.dataSource)?Oe=this.dataSource.connect(this):function Q(ae){return!!ae&&(ae instanceof ze.y||(0,Ve.m)(ae.lift)&&(0,Ve.m)(ae.subscribe))}(this.dataSource)?Oe=this.dataSource:Array.isArray(this.dataSource)&&(Oe=(0,qe.of)(this.dataSource)),this._renderChangeSubscription=Oe.pipe((0,je.R)(this._onDestroy)).subscribe(mt=>{this._data=mt||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((Oe,mt)=>this._renderRow(this._headerRowOutlet,Oe,mt)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((Oe,mt)=>this._renderRow(this._footerRowOutlet,Oe,mt)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(Oe,mt){const Qt=Array.from(mt.columns||[]).map(Ci=>this._columnDefsByName.get(Ci)),Mn=Qt.map(Ci=>Ci.sticky),Bn=Qt.map(Ci=>Ci.stickyEnd);this._stickyStyler.updateStickyColumns(Oe,Mn,Bn,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(Oe){const mt=[];for(let Qt=0;Qt<Oe.viewContainer.length;Qt++){const Mn=Oe.viewContainer.get(Qt);mt.push(Mn.rootNodes[0])}return mt}_getRowDefs(Oe,mt){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Qt=[];if(this.multiTemplateDataRows)Qt=this._rowDefs.filter(Mn=>!Mn.when||Mn.when(mt,Oe));else{let Mn=this._rowDefs.find(Bn=>Bn.when&&Bn.when(mt,Oe))||this._defaultRowDef;Mn&&Qt.push(Mn)}return Qt}_getEmbeddedViewArgs(Oe,mt){return{templateRef:Oe.rowDef.template,context:{$implicit:Oe.data},index:mt}}_renderRow(Oe,mt,Qt,Mn={}){const Bn=Oe.viewContainer.createEmbeddedView(mt.template,Mn,Qt);return this._renderCellTemplateForItem(mt,Mn),Bn}_renderCellTemplateForItem(Oe,mt){for(let Qt of this._getCellTemplates(Oe))Pn.mostRecentCellOutlet&&Pn.mostRecentCellOutlet._viewContainer.createEmbeddedView(Qt,mt);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const Oe=this._rowOutlet.viewContainer;for(let mt=0,Qt=Oe.length;mt<Qt;mt++){const Bn=Oe.get(mt).context;Bn.count=Qt,Bn.first=0===mt,Bn.last=mt===Qt-1,Bn.even=mt%2==0,Bn.odd=!Bn.even,this.multiTemplateDataRows?(Bn.dataIndex=this._renderRows[mt].dataIndex,Bn.renderIndex=mt):Bn.index=this._renderRows[mt].dataIndex}}_getCellTemplates(Oe){return Oe&&Oe.columns?Array.from(Oe.columns,mt=>{const Qt=this._columnDefsByName.get(mt);return Oe.extractCellTemplate(Qt)}):[]}_applyNativeTableSections(){const Oe=this._document.createDocumentFragment(),mt=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const Qt of mt){const Mn=this._document.createElement(Qt.tag);Mn.setAttribute("role","rowgroup");for(const Bn of Qt.outlets)Mn.appendChild(Bn.elementRef.nativeElement);Oe.appendChild(Mn)}this._elementRef.nativeElement.appendChild(Oe)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const Oe=(mt,Qt)=>mt||Qt.hasStickyChanged();this._headerRowDefs.reduce(Oe,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(Oe,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(Oe,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Vi(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,qe.of)()).pipe((0,je.R)(this._onDestroy)).subscribe(mt=>{this._stickyStyler.direction=mt,this.updateStickyColumnStyles()})}_getOwnDefs(Oe){return Oe.filter(mt=>!mt._table||mt._table===this)}_updateNoDataRow(){const Oe=this._customNoDataRow||this._noDataRow;if(!Oe)return;const mt=0===this._rowOutlet.viewContainer.length;if(mt===this._isShowingNoDataRow)return;const Qt=this._noDataRowOutlet.viewContainer;if(mt){const Mn=Qt.createEmbeddedView(Oe.templateRef),Bn=Mn.rootNodes[0];1===Mn.rootNodes.length&&(null==Bn?void 0:Bn.nodeType)===this._document.ELEMENT_NODE&&(Bn.setAttribute("role","row"),Bn.classList.add(Oe._contentClassName))}else Qt.clear();this._isShowingNoDataRow=mt}}return ae.\u0275fac=function(Oe){return new(Oe||ae)(d.Y36(d.ZZ4),d.Y36(d.sBO),d.Y36(d.SBq),d.$8M("role"),d.Y36(ke.Is,8),d.Y36(ee.K0),d.Y36(Ke.t4),d.Y36(e.k),d.Y36(wn),d.Y36(dt.rL),d.Y36(pt,12),d.Y36(d.R0b,8))},ae.\u0275cmp=d.Xpm({type:ae,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(Oe,mt,Qt){if(1&Oe&&(d.Suo(Qt,Gn,5),d.Suo(Qt,Ee,5),d.Suo(Qt,di,5),d.Suo(Qt,Ht,5),d.Suo(Qt,Vn,5)),2&Oe){let Mn;d.iGM(Mn=d.CRH())&&(mt._noDataRow=Mn.first),d.iGM(Mn=d.CRH())&&(mt._contentColumnDefs=Mn),d.iGM(Mn=d.CRH())&&(mt._contentRowDefs=Mn),d.iGM(Mn=d.CRH())&&(mt._contentHeaderRowDefs=Mn),d.iGM(Mn=d.CRH())&&(mt._contentFooterRowDefs=Mn)}},viewQuery:function(Oe,mt){if(1&Oe&&(d.Gf(nn,7),d.Gf(On,7),d.Gf(Wn,7),d.Gf(Yn,7)),2&Oe){let Qt;d.iGM(Qt=d.CRH())&&(mt._rowOutlet=Qt.first),d.iGM(Qt=d.CRH())&&(mt._headerRowOutlet=Qt.first),d.iGM(Qt=d.CRH())&&(mt._footerRowOutlet=Qt.first),d.iGM(Qt=d.CRH())&&(mt._noDataRowOutlet=Qt.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(Oe,mt){2&Oe&&d.ekj("cdk-table-fixed-layout",mt.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[d._Bn([{provide:Pe,useExisting:ae},{provide:e.k,useClass:e.yy},{provide:wn,useClass:mn},{provide:pt,useValue:null}])],ngContentSelectors:Dt,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Oe,mt){1&Oe&&(d.F$t(it),d.Hsn(0),d.Hsn(1,1),d.GkF(2,0)(3,1)(4,2)(5,3))},directives:[On,nn,Yn,Wn],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),ae})();function vi(ae,Ge){return ae.concat(Array.from(Ge))}let Nt=(()=>{class ae{}return ae.\u0275fac=function(Oe){return new(Oe||ae)},ae.\u0275mod=d.oAB({type:ae}),ae.\u0275inj=d.cJS({imports:[[dt.Cl]]}),ae})();var Ft=A(508),vn=A(6451),X=A(9841),ie=A(4004);const Z=[[["caption"]],[["colgroup"],["col"]]],Se=["caption","colgroup, col"];let Ct=(()=>{class ae extends Bi{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return ae.\u0275fac=function(){let Ge;return function(mt){return(Ge||(Ge=d.n5z(ae)))(mt||ae)}}(),ae.\u0275cmp=d.Xpm({type:ae,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(Oe,mt){2&Oe&&d.ekj("mat-table-fixed-layout",mt.fixedLayout)},exportAs:["matTable"],features:[d._Bn([{provide:e.k,useClass:e.yy},{provide:Bi,useExisting:ae},{provide:Pe,useExisting:ae},{provide:wn,useClass:mn},{provide:pt,useValue:null}]),d.qOj],ngContentSelectors:Se,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Oe,mt){1&Oe&&(d.F$t(Z),d.Hsn(0),d.Hsn(1,1),d.GkF(2,0)(3,1)(4,2)(5,3))},directives:[On,nn,Yn,Wn],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),ae})(),on=(()=>{class ae extends Qe{}return ae.\u0275fac=function(){let Ge;return function(mt){return(Ge||(Ge=d.n5z(ae)))(mt||ae)}}(),ae.\u0275dir=d.lG2({type:ae,selectors:[["","matCellDef",""]],features:[d._Bn([{provide:Qe,useExisting:ae}]),d.qOj]}),ae})(),Sn=(()=>{class ae extends Mt{}return ae.\u0275fac=function(){let Ge;return function(mt){return(Ge||(Ge=d.n5z(ae)))(mt||ae)}}(),ae.\u0275dir=d.lG2({type:ae,selectors:[["","matHeaderCellDef",""]],features:[d._Bn([{provide:Mt,useExisting:ae}]),d.qOj]}),ae})(),rn=(()=>{class ae extends Ee{get name(){return this._name}set name(Oe){this._setNameInput(Oe)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return ae.\u0275fac=function(){let Ge;return function(mt){return(Ge||(Ge=d.n5z(ae)))(mt||ae)}}(),ae.\u0275dir=d.lG2({type:ae,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[d._Bn([{provide:Ee,useExisting:ae},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:ae}]),d.qOj]}),ae})(),Pt=(()=>{class ae extends Xe{}return ae.\u0275fac=function(){let Ge;return function(mt){return(Ge||(Ge=d.n5z(ae)))(mt||ae)}}(),ae.\u0275dir=d.lG2({type:ae,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[d.qOj]}),ae})(),Zt=(()=>{class ae extends sn{}return ae.\u0275fac=function(){let Ge;return function(mt){return(Ge||(Ge=d.n5z(ae)))(mt||ae)}}(),ae.\u0275dir=d.lG2({type:ae,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[d.qOj]}),ae})(),Ln=(()=>{class ae extends Ht{}return ae.\u0275fac=function(){let Ge;return function(mt){return(Ge||(Ge=d.n5z(ae)))(mt||ae)}}(),ae.\u0275dir=d.lG2({type:ae,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[d._Bn([{provide:Ht,useExisting:ae}]),d.qOj]}),ae})(),Et=(()=>{class ae extends di{}return ae.\u0275fac=function(){let Ge;return function(mt){return(Ge||(Ge=d.n5z(ae)))(mt||ae)}}(),ae.\u0275dir=d.lG2({type:ae,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[d._Bn([{provide:di,useExisting:ae}]),d.qOj]}),ae})(),ct=(()=>{class ae extends jn{}return ae.\u0275fac=function(){let Ge;return function(mt){return(Ge||(Ge=d.n5z(ae)))(mt||ae)}}(),ae.\u0275cmp=d.Xpm({type:ae,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[d._Bn([{provide:jn,useExisting:ae}]),d.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Oe,mt){1&Oe&&d.GkF(0,0)},directives:[Pn],encapsulation:2}),ae})(),In=(()=>{class ae extends cn{}return ae.\u0275fac=function(){let Ge;return function(mt){return(Ge||(Ge=d.n5z(ae)))(mt||ae)}}(),ae.\u0275cmp=d.Xpm({type:ae,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[d._Bn([{provide:cn,useExisting:ae}]),d.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Oe,mt){1&Oe&&d.GkF(0,0)},directives:[Pn],encapsulation:2}),ae})(),ht=(()=>{class ae{}return ae.\u0275fac=function(Oe){return new(Oe||ae)},ae.\u0275mod=d.oAB({type:ae}),ae.\u0275inj=d.cJS({imports:[[Nt,Ft.BQ],Ft.BQ]}),ae})();class Ie extends e.o2{constructor(Ge=[]){super(),this._renderData=new pe.X([]),this._filter=new pe.X(""),this._internalPageChanges=new W.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(Oe,mt)=>{const Qt=Oe[mt];if((0,_.t6)(Qt)){const Mn=Number(Qt);return Mn<9007199254740991?Mn:Qt}return Qt},this.sortData=(Oe,mt)=>{const Qt=mt.active,Mn=mt.direction;return Qt&&""!=Mn?Oe.sort((Bn,Ci)=>{let ui=this.sortingDataAccessor(Bn,Qt),Or=this.sortingDataAccessor(Ci,Qt);const hr=typeof ui,ur=typeof Or;hr!==ur&&("number"===hr&&(ui+=""),"number"===ur&&(Or+=""));let mi=0;return null!=ui&&null!=Or?ui>Or?mi=1:ui<Or&&(mi=-1):null!=ui?mi=1:null!=Or&&(mi=-1),mi*("asc"==Mn?1:-1)}):Oe},this.filterPredicate=(Oe,mt)=>{const Qt=Object.keys(Oe).reduce((Bn,Ci)=>Bn+Oe[Ci]+"\u25ec","").toLowerCase(),Mn=mt.trim().toLowerCase();return-1!=Qt.indexOf(Mn)},this._data=new pe.X(Ge),this._updateChangeSubscription()}get data(){return this._data.value}set data(Ge){Ge=Array.isArray(Ge)?Ge:[],this._data.next(Ge),this._renderChangesSubscription||this._filterData(Ge)}get filter(){return this._filter.value}set filter(Ge){this._filter.next(Ge),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(Ge){this._sort=Ge,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(Ge){this._paginator=Ge,this._updateChangeSubscription()}_updateChangeSubscription(){var Ge;const Oe=this._sort?(0,vn.T)(this._sort.sortChange,this._sort.initialized):(0,qe.of)(null),mt=this._paginator?(0,vn.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,qe.of)(null),Mn=(0,X.a)([this._data,this._filter]).pipe((0,ie.U)(([ui])=>this._filterData(ui))),Bn=(0,X.a)([Mn,Oe]).pipe((0,ie.U)(([ui])=>this._orderData(ui))),Ci=(0,X.a)([Bn,mt]).pipe((0,ie.U)(([ui])=>this._pageData(ui)));null===(Ge=this._renderChangesSubscription)||void 0===Ge||Ge.unsubscribe(),this._renderChangesSubscription=Ci.subscribe(ui=>this._renderData.next(ui))}_filterData(Ge){return this.filteredData=null==this.filter||""===this.filter?Ge:Ge.filter(Oe=>this.filterPredicate(Oe,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(Ge){return this.sort?this.sortData(Ge.slice(),this.sort):Ge}_pageData(Ge){if(!this.paginator)return Ge;const Oe=this.paginator.pageIndex*this.paginator.pageSize;return Ge.slice(Oe,Oe+this.paginator.pageSize)}_updatePaginator(Ge){Promise.resolve().then(()=>{const Oe=this.paginator;if(Oe&&(Oe.length=Ge,Oe.pageIndex>0)){const mt=Math.ceil(Oe.length/Oe.pageSize)-1||0,Qt=Math.min(Oe.pageIndex,mt);Qt!==Oe.pageIndex&&(Oe.pageIndex=Qt,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var Ge;null===(Ge=this._renderChangesSubscription)||void 0===Ge||Ge.unsubscribe(),this._renderChangesSubscription=null}}class Ot extends Ie{}},3251:(Xn,Vt,A)=>{"use strict";A.d(Vt,{uX:()=>Vi,SP:()=>Ei,Nh:()=>Se});var d=A(5664),_=A(7144),e=A(7429),ee=A(9808),W=A(5e3),xe=A(508),pe=A(6360),ze=A(5698),Ve=A(8675),Q=A(1884),qe=A(2722),je=A(7579),at=A(727),ke=A(4968),Ke=A(9646),dt=A(6451),it=A(5963),Dt=A(1777),Tt=A(226),hn=A(3191),gt=A(1159),Pe=A(925),te=A(8962);function Qe(Me,ut){1&Me&&W.Hsn(0)}const Mt=["*"];function bt(Me,ut){}const tt=function(Me){return{animationDuration:Me}},Ze=function(Me,ut){return{value:Me,params:ut}},Ee=["tabListContainer"],Ye=["tabList"],Xe=["tabListInner"],st=["nextPaginator"],sn=["previousPaginator"],fn=["tabBodyWrapper"],wn=["tabHeader"];function mn(Me,ut){}function bn(Me,ut){if(1&Me&&W.YNc(0,mn,0,0,"ng-template",10),2&Me){const Be=W.oxw().$implicit;W.Q6J("cdkPortalOutlet",Be.templateLabel)}}function zt(Me,ut){if(1&Me&&W._uU(0),2&Me){const Be=W.oxw().$implicit;W.Oqu(Be.textLabel)}}function qt(Me,ut){if(1&Me){const Be=W.EpF();W.TgZ(0,"div",6),W.NdJ("click",function(){const on=W.CHM(Be),Sn=on.$implicit,bi=on.index,rn=W.oxw(),Pt=W.MAs(1);return rn._handleClick(Sn,Pt,bi)})("cdkFocusChange",function(on){const bi=W.CHM(Be).index;return W.oxw()._tabFocusChanged(on,bi)}),W.TgZ(1,"div",7),W.YNc(2,bn,1,1,"ng-template",8),W.YNc(3,zt,1,1,"ng-template",null,9,W.W1O),W.qZA()()}if(2&Me){const Be=ut.$implicit,Ct=ut.index,on=W.MAs(4),Sn=W.oxw();W.ekj("mat-tab-label-active",Sn.selectedIndex===Ct),W.Q6J("id",Sn._getTabLabelId(Ct))("ngClass",Be.labelClass)("disabled",Be.disabled)("matRippleDisabled",Be.disabled||Sn.disableRipple),W.uIk("tabIndex",Sn._getTabIndex(Be,Ct))("aria-posinset",Ct+1)("aria-setsize",Sn._tabs.length)("aria-controls",Sn._getTabContentId(Ct))("aria-selected",Sn.selectedIndex===Ct)("aria-label",Be.ariaLabel||null)("aria-labelledby",!Be.ariaLabel&&Be.ariaLabelledby?Be.ariaLabelledby:null),W.xp6(2),W.Q6J("ngIf",Be.templateLabel)("ngIfElse",on)}}function Kt(Me,ut){if(1&Me){const Be=W.EpF();W.TgZ(0,"mat-tab-body",11),W.NdJ("_onCentered",function(){return W.CHM(Be),W.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(on){return W.CHM(Be),W.oxw()._setTabBodyWrapperHeight(on)}),W.qZA()}if(2&Me){const Be=ut.$implicit,Ct=ut.index,on=W.oxw();W.ekj("mat-tab-body-active",on.selectedIndex===Ct),W.Q6J("id",on._getTabContentId(Ct))("ngClass",Be.bodyClass)("content",Be.content)("position",Be.position)("origin",Be.origin)("animationDuration",on.animationDuration),W.uIk("tabindex",null!=on.contentTabIndex&&on.selectedIndex===Ct?on.contentTabIndex:null)("aria-labelledby",on._getTabLabelId(Ct))}}const _n=new W.OlP("MatInkBarPositioner",{providedIn:"root",factory:function an(){return ut=>({left:ut?(ut.offsetLeft||0)+"px":"0",width:ut?(ut.offsetWidth||0)+"px":"0"})}});let Vn=(()=>{class Me{constructor(Be,Ct,on,Sn){this._elementRef=Be,this._ngZone=Ct,this._inkBarPositioner=on,this._animationMode=Sn}alignToElement(Be){this.show(),this._ngZone.onStable.pipe((0,ze.q)(1)).subscribe(()=>{const Ct=this._inkBarPositioner(Be),on=this._elementRef.nativeElement;on.style.left=Ct.left,on.style.width=Ct.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return Me.\u0275fac=function(Be){return new(Be||Me)(W.Y36(W.SBq),W.Y36(W.R0b),W.Y36(_n),W.Y36(pe.Qb,8))},Me.\u0275dir=W.lG2({type:Me,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(Be,Ct){2&Be&&W.ekj("_mat-animation-noopable","NoopAnimations"===Ct._animationMode)}}),Me})();const di=new W.OlP("MatTabContent"),jn=new W.OlP("MatTabLabel"),wt=new W.OlP("MAT_TAB"),Gn=(0,xe.Id)(class{}),$n=new W.OlP("MAT_TAB_GROUP");let Vi=(()=>{class Me extends Gn{constructor(Be,Ct){super(),this._viewContainerRef=Be,this._closestTabGroup=Ct,this.textLabel="",this._contentPortal=null,this._stateChanges=new je.x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(Be){this._setTemplateLabelInput(Be)}get content(){return this._contentPortal}ngOnChanges(Be){(Be.hasOwnProperty("textLabel")||Be.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new e.UE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(Be){Be&&Be._closestTab===this&&(this._templateLabel=Be)}}return Me.\u0275fac=function(Be){return new(Be||Me)(W.Y36(W.s_b),W.Y36($n,8))},Me.\u0275cmp=W.Xpm({type:Me,selectors:[["mat-tab"]],contentQueries:function(Be,Ct,on){if(1&Be&&(W.Suo(on,jn,5),W.Suo(on,di,7,W.Rgc)),2&Be){let Sn;W.iGM(Sn=W.CRH())&&(Ct.templateLabel=Sn.first),W.iGM(Sn=W.CRH())&&(Ct._explicitContent=Sn.first)}},viewQuery:function(Be,Ct){if(1&Be&&W.Gf(W.Rgc,7),2&Be){let on;W.iGM(on=W.CRH())&&(Ct._implicitContent=on.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[W._Bn([{provide:wt,useExisting:Me}]),W.qOj,W.TTD],ngContentSelectors:Mt,decls:1,vars:0,template:function(Be,Ct){1&Be&&(W.F$t(),W.YNc(0,Qe,1,0,"ng-template"))},encapsulation:2}),Me})();const Qn={translateTab:(0,Dt.X$)("translateTab",[(0,Dt.SB)("center, void, left-origin-center, right-origin-center",(0,Dt.oB)({transform:"none"})),(0,Dt.SB)("left",(0,Dt.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),(0,Dt.SB)("right",(0,Dt.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),(0,Dt.eR)("* => left, * => right, left => center, right => center",(0,Dt.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,Dt.eR)("void => left-origin-center",[(0,Dt.oB)({transform:"translate3d(-100%, 0, 0)"}),(0,Dt.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,Dt.eR)("void => right-origin-center",[(0,Dt.oB)({transform:"translate3d(100%, 0, 0)"}),(0,Dt.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let li=(()=>{class Me extends e.Pl{constructor(Be,Ct,on,Sn){super(Be,Ct,Sn),this._host=on,this._centeringSub=at.w0.EMPTY,this._leavingSub=at.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,Ve.O)(this._host._isCenterPosition(this._host._position))).subscribe(Be=>{Be&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return Me.\u0275fac=function(Be){return new(Be||Me)(W.Y36(W._Vd),W.Y36(W.s_b),W.Y36((0,W.Gpc)(()=>Yt)),W.Y36(ee.K0))},Me.\u0275dir=W.lG2({type:Me,selectors:[["","matTabBodyHost",""]],features:[W.qOj]}),Me})(),ni=(()=>{class Me{constructor(Be,Ct,on){this._elementRef=Be,this._dir=Ct,this._dirChangeSubscription=at.w0.EMPTY,this._translateTabComplete=new je.x,this._onCentering=new W.vpe,this._beforeCentering=new W.vpe,this._afterLeavingCenter=new W.vpe,this._onCentered=new W.vpe(!0),this.animationDuration="500ms",Ct&&(this._dirChangeSubscription=Ct.change.subscribe(Sn=>{this._computePositionAnimationState(Sn),on.markForCheck()})),this._translateTabComplete.pipe((0,Q.x)((Sn,bi)=>Sn.fromState===bi.fromState&&Sn.toState===bi.toState)).subscribe(Sn=>{this._isCenterPosition(Sn.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(Sn.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(Be){this._positionIndex=Be,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(Be){const Ct=this._isCenterPosition(Be.toState);this._beforeCentering.emit(Ct),Ct&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(Be){return"center"==Be||"left-origin-center"==Be||"right-origin-center"==Be}_computePositionAnimationState(Be=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==Be?"left":"right":this._positionIndex>0?"ltr"==Be?"right":"left":"center"}_computePositionFromOrigin(Be){const Ct=this._getLayoutDirection();return"ltr"==Ct&&Be<=0||"rtl"==Ct&&Be>0?"left-origin-center":"right-origin-center"}}return Me.\u0275fac=function(Be){return new(Be||Me)(W.Y36(W.SBq),W.Y36(Tt.Is,8),W.Y36(W.sBO))},Me.\u0275dir=W.lG2({type:Me,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),Me})(),Yt=(()=>{class Me extends ni{constructor(Be,Ct,on){super(Be,Ct,on)}}return Me.\u0275fac=function(Be){return new(Be||Me)(W.Y36(W.SBq),W.Y36(Tt.Is,8),W.Y36(W.sBO))},Me.\u0275cmp=W.Xpm({type:Me,selectors:[["mat-tab-body"]],viewQuery:function(Be,Ct){if(1&Be&&W.Gf(e.Pl,5),2&Be){let on;W.iGM(on=W.CRH())&&(Ct._portalHost=on.first)}},hostAttrs:[1,"mat-tab-body"],features:[W.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(Be,Ct){1&Be&&(W.TgZ(0,"div",0,1),W.NdJ("@translateTab.start",function(Sn){return Ct._onTranslateTabStarted(Sn)})("@translateTab.done",function(Sn){return Ct._translateTabComplete.next(Sn)}),W.YNc(2,bt,0,0,"ng-template",2),W.qZA()),2&Be&&W.Q6J("@translateTab",W.WLB(3,Ze,Ct._position,W.VKq(1,tt,Ct.animationDuration)))},directives:[li],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}\n'],encapsulation:2,data:{animation:[Qn.translateTab]}}),Me})();const q=new W.OlP("MAT_TABS_CONFIG"),de=(0,xe.Id)(class{});let ye=(()=>{class Me extends de{constructor(Be){super(),this.elementRef=Be}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return Me.\u0275fac=function(Be){return new(Be||Me)(W.Y36(W.SBq))},Me.\u0275dir=W.lG2({type:Me,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(Be,Ct){2&Be&&(W.uIk("aria-disabled",!!Ct.disabled),W.ekj("mat-tab-disabled",Ct.disabled))},inputs:{disabled:"disabled"},features:[W.qOj]}),Me})();const Ce=(0,Pe.i$)({passive:!0});let On=(()=>{class Me{constructor(Be,Ct,on,Sn,bi,rn,Pt){this._elementRef=Be,this._changeDetectorRef=Ct,this._viewportRuler=on,this._dir=Sn,this._ngZone=bi,this._platform=rn,this._animationMode=Pt,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new je.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new je.x,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new W.vpe,this.indexFocused=new W.vpe,bi.runOutsideAngular(()=>{(0,ke.R)(Be.nativeElement,"mouseleave").pipe((0,qe.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(Be){Be=(0,hn.su)(Be),this._selectedIndex!=Be&&(this._selectedIndexChanged=!0,this._selectedIndex=Be,this._keyManager&&this._keyManager.updateActiveItem(Be))}ngAfterViewInit(){(0,ke.R)(this._previousPaginator.nativeElement,"touchstart",Ce).pipe((0,qe.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,ke.R)(this._nextPaginator.nativeElement,"touchstart",Ce).pipe((0,qe.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const Be=this._dir?this._dir.change:(0,Ke.of)("ltr"),Ct=this._viewportRuler.change(150),on=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new d.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,ze.q)(1)).subscribe(on),(0,dt.T)(Be,Ct,this._items.changes).pipe((0,qe.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(on)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe((0,qe.R)(this._destroyed)).subscribe(Sn=>{this.indexFocused.emit(Sn),this._setTabFocus(Sn)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(Be){if(!(0,gt.Vb)(Be))switch(Be.keyCode){case gt.K5:case gt.L_:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(Be));break;default:this._keyManager.onKeydown(Be)}}_onContentChanges(){const Be=this._elementRef.nativeElement.textContent;Be!==this._currentTextContent&&(this._currentTextContent=Be||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(Be){!this._isValidIndex(Be)||this.focusIndex===Be||!this._keyManager||this._keyManager.setActiveItem(Be)}_isValidIndex(Be){if(!this._items)return!0;const Ct=this._items?this._items.toArray()[Be]:null;return!!Ct&&!Ct.disabled}_setTabFocus(Be){if(this._showPaginationControls&&this._scrollToLabel(Be),this._items&&this._items.length){this._items.toArray()[Be].focus();const Ct=this._tabListContainer.nativeElement;Ct.scrollLeft="ltr"==this._getLayoutDirection()?0:Ct.scrollWidth-Ct.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const Be=this.scrollDistance,Ct="ltr"===this._getLayoutDirection()?-Be:Be;this._tabList.nativeElement.style.transform=`translateX(${Math.round(Ct)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(Be){this._scrollTo(Be)}_scrollHeader(Be){return this._scrollTo(this._scrollDistance+("before"==Be?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(Be){this._stopInterval(),this._scrollHeader(Be)}_scrollToLabel(Be){if(this.disablePagination)return;const Ct=this._items?this._items.toArray()[Be]:null;if(!Ct)return;const on=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:Sn,offsetWidth:bi}=Ct.elementRef.nativeElement;let rn,Pt;"ltr"==this._getLayoutDirection()?(rn=Sn,Pt=rn+bi):(Pt=this._tabListInner.nativeElement.offsetWidth-Sn,rn=Pt-bi);const yt=this.scrollDistance,Zt=this.scrollDistance+on;rn<yt?this.scrollDistance-=yt-rn+60:Pt>Zt&&(this.scrollDistance+=Pt-Zt+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const Be=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;Be||(this.scrollDistance=0),Be!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=Be}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const Be=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,Ct=Be?Be.elementRef.nativeElement:null;Ct?this._inkBar.alignToElement(Ct):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(Be,Ct){Ct&&null!=Ct.button&&0!==Ct.button||(this._stopInterval(),(0,it.H)(650,100).pipe((0,qe.R)((0,dt.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:on,distance:Sn}=this._scrollHeader(Be);(0===Sn||Sn>=on)&&this._stopInterval()}))}_scrollTo(Be){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const Ct=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(Ct,Be)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:Ct,distance:this._scrollDistance}}}return Me.\u0275fac=function(Be){return new(Be||Me)(W.Y36(W.SBq),W.Y36(W.sBO),W.Y36(te.rL),W.Y36(Tt.Is,8),W.Y36(W.R0b),W.Y36(Pe.t4),W.Y36(pe.Qb,8))},Me.\u0275dir=W.lG2({type:Me,inputs:{disablePagination:"disablePagination"}}),Me})(),Wn=(()=>{class Me extends On{constructor(Be,Ct,on,Sn,bi,rn,Pt){super(Be,Ct,on,Sn,bi,rn,Pt),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(Be){this._disableRipple=(0,hn.Ig)(Be)}_itemSelected(Be){Be.preventDefault()}}return Me.\u0275fac=function(Be){return new(Be||Me)(W.Y36(W.SBq),W.Y36(W.sBO),W.Y36(te.rL),W.Y36(Tt.Is,8),W.Y36(W.R0b),W.Y36(Pe.t4),W.Y36(pe.Qb,8))},Me.\u0275dir=W.lG2({type:Me,inputs:{disableRipple:"disableRipple"},features:[W.qOj]}),Me})(),Yn=(()=>{class Me extends Wn{constructor(Be,Ct,on,Sn,bi,rn,Pt){super(Be,Ct,on,Sn,bi,rn,Pt)}}return Me.\u0275fac=function(Be){return new(Be||Me)(W.Y36(W.SBq),W.Y36(W.sBO),W.Y36(te.rL),W.Y36(Tt.Is,8),W.Y36(W.R0b),W.Y36(Pe.t4),W.Y36(pe.Qb,8))},Me.\u0275cmp=W.Xpm({type:Me,selectors:[["mat-tab-header"]],contentQueries:function(Be,Ct,on){if(1&Be&&W.Suo(on,ye,4),2&Be){let Sn;W.iGM(Sn=W.CRH())&&(Ct._items=Sn)}},viewQuery:function(Be,Ct){if(1&Be&&(W.Gf(Vn,7),W.Gf(Ee,7),W.Gf(Ye,7),W.Gf(Xe,7),W.Gf(st,5),W.Gf(sn,5)),2&Be){let on;W.iGM(on=W.CRH())&&(Ct._inkBar=on.first),W.iGM(on=W.CRH())&&(Ct._tabListContainer=on.first),W.iGM(on=W.CRH())&&(Ct._tabList=on.first),W.iGM(on=W.CRH())&&(Ct._tabListInner=on.first),W.iGM(on=W.CRH())&&(Ct._nextPaginator=on.first),W.iGM(on=W.CRH())&&(Ct._previousPaginator=on.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(Be,Ct){2&Be&&W.ekj("mat-tab-header-pagination-controls-enabled",Ct._showPaginationControls)("mat-tab-header-rtl","rtl"==Ct._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[W.qOj],ngContentSelectors:Mt,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(Be,Ct){1&Be&&(W.F$t(),W.TgZ(0,"button",0,1),W.NdJ("click",function(){return Ct._handlePaginatorClick("before")})("mousedown",function(Sn){return Ct._handlePaginatorPress("before",Sn)})("touchend",function(){return Ct._stopInterval()}),W._UZ(2,"div",2),W.qZA(),W.TgZ(3,"div",3,4),W.NdJ("keydown",function(Sn){return Ct._handleKeydown(Sn)}),W.TgZ(5,"div",5,6),W.NdJ("cdkObserveContent",function(){return Ct._onContentChanges()}),W.TgZ(7,"div",7,8),W.Hsn(9),W.qZA(),W._UZ(10,"mat-ink-bar"),W.qZA()(),W.TgZ(11,"button",9,10),W.NdJ("mousedown",function(Sn){return Ct._handlePaginatorPress("after",Sn)})("click",function(){return Ct._handlePaginatorClick("after")})("touchend",function(){return Ct._stopInterval()}),W._UZ(13,"div",2),W.qZA()),2&Be&&(W.ekj("mat-tab-header-pagination-disabled",Ct._disableScrollBefore),W.Q6J("matRippleDisabled",Ct._disableScrollBefore||Ct.disableRipple)("disabled",Ct._disableScrollBefore||null),W.xp6(5),W.ekj("_mat-animation-noopable","NoopAnimations"===Ct._animationMode),W.xp6(6),W.ekj("mat-tab-header-pagination-disabled",Ct._disableScrollAfter),W.Q6J("matRippleDisabled",Ct._disableScrollAfter||Ct.disableRipple)("disabled",Ct._disableScrollAfter||null))},directives:[xe.wG,_.wD,Vn],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n"],encapsulation:2}),Me})(),ei=0;class hi{}const Bi=(0,xe.pj)((0,xe.Kr)(class{constructor(Me){this._elementRef=Me}}),"primary");let vi=(()=>{class Me extends Bi{constructor(Be,Ct,on,Sn){var bi;super(Be),this._changeDetectorRef=Ct,this._animationMode=Sn,this._tabs=new W.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=at.w0.EMPTY,this._tabLabelSubscription=at.w0.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new W.vpe,this.focusChange=new W.vpe,this.animationDone=new W.vpe,this.selectedTabChange=new W.vpe(!0),this._groupId=ei++,this.animationDuration=on&&on.animationDuration?on.animationDuration:"500ms",this.disablePagination=!(!on||null==on.disablePagination)&&on.disablePagination,this.dynamicHeight=!(!on||null==on.dynamicHeight)&&on.dynamicHeight,this.contentTabIndex=null!==(bi=null==on?void 0:on.contentTabIndex)&&void 0!==bi?bi:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(Be){this._dynamicHeight=(0,hn.Ig)(Be)}get selectedIndex(){return this._selectedIndex}set selectedIndex(Be){this._indexToSelect=(0,hn.su)(Be,null)}get animationDuration(){return this._animationDuration}set animationDuration(Be){this._animationDuration=/^\d+$/.test(Be+"")?Be+"ms":Be}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(Be){this._contentTabIndex=(0,hn.su)(Be,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(Be){const Ct=this._elementRef.nativeElement;Ct.classList.remove(`mat-background-${this.backgroundColor}`),Be&&Ct.classList.add(`mat-background-${Be}`),this._backgroundColor=Be}ngAfterContentChecked(){const Be=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=Be){const Ct=null==this._selectedIndex;if(!Ct){this.selectedTabChange.emit(this._createChangeEvent(Be));const on=this._tabBodyWrapper.nativeElement;on.style.minHeight=on.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((on,Sn)=>on.isActive=Sn===Be),Ct||(this.selectedIndexChange.emit(Be),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((Ct,on)=>{Ct.position=on-Be,null!=this._selectedIndex&&0==Ct.position&&!Ct.origin&&(Ct.origin=Be-this._selectedIndex)}),this._selectedIndex!==Be&&(this._selectedIndex=Be,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const Be=this._clampTabIndex(this._indexToSelect);if(Be===this._selectedIndex){const Ct=this._tabs.toArray();let on;for(let Sn=0;Sn<Ct.length;Sn++)if(Ct[Sn].isActive){this._indexToSelect=this._selectedIndex=Sn,this._lastFocusedTabIndex=null,on=Ct[Sn];break}!on&&Ct[Be]&&Promise.resolve().then(()=>{Ct[Be].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(Be))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,Ve.O)(this._allTabs)).subscribe(Be=>{this._tabs.reset(Be.filter(Ct=>Ct._closestTabGroup===this||!Ct._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(Be){const Ct=this._tabHeader;Ct&&(Ct.focusIndex=Be)}_focusChanged(Be){this._lastFocusedTabIndex=Be,this.focusChange.emit(this._createChangeEvent(Be))}_createChangeEvent(Be){const Ct=new hi;return Ct.index=Be,this._tabs&&this._tabs.length&&(Ct.tab=this._tabs.toArray()[Be]),Ct}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,dt.T)(...this._tabs.map(Be=>Be._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(Be){return Math.min(this._tabs.length-1,Math.max(Be||0,0))}_getTabLabelId(Be){return`mat-tab-label-${this._groupId}-${Be}`}_getTabContentId(Be){return`mat-tab-content-${this._groupId}-${Be}`}_setTabBodyWrapperHeight(Be){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const Ct=this._tabBodyWrapper.nativeElement;Ct.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(Ct.style.height=Be+"px")}_removeTabBodyWrapperHeight(){const Be=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=Be.clientHeight,Be.style.height="",this.animationDone.emit()}_handleClick(Be,Ct,on){Be.disabled||(this.selectedIndex=Ct.focusIndex=on)}_getTabIndex(Be,Ct){var on;return Be.disabled?null:Ct===(null!==(on=this._lastFocusedTabIndex)&&void 0!==on?on:this.selectedIndex)?0:-1}_tabFocusChanged(Be,Ct){Be&&"mouse"!==Be&&"touch"!==Be&&(this._tabHeader.focusIndex=Ct)}}return Me.\u0275fac=function(Be){return new(Be||Me)(W.Y36(W.SBq),W.Y36(W.sBO),W.Y36(q,8),W.Y36(pe.Qb,8))},Me.\u0275dir=W.lG2({type:Me,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[W.qOj]}),Me})(),Ei=(()=>{class Me extends vi{constructor(Be,Ct,on,Sn){super(Be,Ct,on,Sn)}}return Me.\u0275fac=function(Be){return new(Be||Me)(W.Y36(W.SBq),W.Y36(W.sBO),W.Y36(q,8),W.Y36(pe.Qb,8))},Me.\u0275cmp=W.Xpm({type:Me,selectors:[["mat-tab-group"]],contentQueries:function(Be,Ct,on){if(1&Be&&W.Suo(on,Vi,5),2&Be){let Sn;W.iGM(Sn=W.CRH())&&(Ct._allTabs=Sn)}},viewQuery:function(Be,Ct){if(1&Be&&(W.Gf(fn,5),W.Gf(wn,5)),2&Be){let on;W.iGM(on=W.CRH())&&(Ct._tabBodyWrapper=on.first),W.iGM(on=W.CRH())&&(Ct._tabHeader=on.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(Be,Ct){2&Be&&W.ekj("mat-tab-group-dynamic-height",Ct.dynamicHeight)("mat-tab-group-inverted-header","below"===Ct.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[W._Bn([{provide:$n,useExisting:Me}]),W.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(Be,Ct){1&Be&&(W.TgZ(0,"mat-tab-header",0,1),W.NdJ("indexFocused",function(Sn){return Ct._focusChanged(Sn)})("selectFocusedIndex",function(Sn){return Ct.selectedIndex=Sn}),W.YNc(2,qt,5,15,"div",2),W.qZA(),W.TgZ(3,"div",3,4),W.YNc(5,Kt,1,10,"mat-tab-body",5),W.qZA()),2&Be&&(W.Q6J("selectedIndex",Ct.selectedIndex||0)("disableRipple",Ct.disableRipple)("disablePagination",Ct.disablePagination),W.xp6(2),W.Q6J("ngForOf",Ct._tabs),W.xp6(1),W.ekj("_mat-animation-noopable","NoopAnimations"===Ct._animationMode),W.xp6(2),W.Q6J("ngForOf",Ct._tabs))},directives:[Yn,Yt,ee.sg,ye,xe.wG,d.kH,ee.mk,ee.O5,e.Pl],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),Me})(),Se=(()=>{class Me{}return Me.\u0275fac=function(Be){return new(Be||Me)},Me.\u0275mod=W.oAB({type:Me}),Me.\u0275inj=W.cJS({imports:[[ee.ez,xe.BQ,e.eL,xe.si,_.Q8,d.rt],xe.BQ]}),Me})()},4594:(Xn,Vt,A)=>{"use strict";A.d(Vt,{Ye:()=>Ve,g0:()=>qe,rD:()=>ze});var d=A(5e3),_=A(508),e=A(9808),ee=A(925);const W=["*",[["mat-toolbar-row"]]],xe=["*","mat-toolbar-row"],pe=(0,_.pj)(class{constructor(je){this._elementRef=je}});let ze=(()=>{class je{}return je.\u0275fac=function(ke){return new(ke||je)},je.\u0275dir=d.lG2({type:je,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),je})(),Ve=(()=>{class je extends pe{constructor(ke,Ke,dt){super(ke),this._platform=Ke,this._document=dt}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return je.\u0275fac=function(ke){return new(ke||je)(d.Y36(d.SBq),d.Y36(ee.t4),d.Y36(e.K0))},je.\u0275cmp=d.Xpm({type:je,selectors:[["mat-toolbar"]],contentQueries:function(ke,Ke,dt){if(1&ke&&d.Suo(dt,ze,5),2&ke){let it;d.iGM(it=d.CRH())&&(Ke._toolbarRows=it)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(ke,Ke){2&ke&&d.ekj("mat-toolbar-multiple-rows",Ke._toolbarRows.length>0)("mat-toolbar-single-row",0===Ke._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[d.qOj],ngContentSelectors:xe,decls:2,vars:0,template:function(ke,Ke){1&ke&&(d.F$t(W),d.Hsn(0),d.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),je})(),qe=(()=>{class je{}return je.\u0275fac=function(ke){return new(ke||je)},je.\u0275mod=d.oAB({type:je}),je.\u0275inj=d.cJS({imports:[[_.BQ],_.BQ]}),je})()},7238:(Xn,Vt,A)=>{"use strict";A.d(Vt,{gM:()=>Xe,AV:()=>fn});var d=A(9776),_=A(5664),e=A(9808),ee=A(5e3),W=A(508),xe=A(8962),pe=A(3191),ze=A(1159),Ve=A(5113),Q=A(925),qe=A(7429),je=A(6360),at=A(7579),ke=A(2722),Ke=A(5698),dt=A(226);A(1777);const Dt=["tooltip"],gt="tooltip-panel",Pe=(0,Q.i$)({passive:!0}),Mt=new ee.OlP("mat-tooltip-scroll-strategy"),tt={provide:Mt,deps:[d.aV],useFactory:function bt(mn){return()=>mn.scrollStrategies.reposition({scrollThrottle:20})}},Ze=new ee.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function Ee(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let Ye=(()=>{class mn{constructor(zt,qt,Kt,Ht,_n,an,Vn,di,Pn,jn,wt,cn){this._overlay=zt,this._elementRef=qt,this._scrollDispatcher=Kt,this._viewContainerRef=Ht,this._ngZone=_n,this._platform=an,this._ariaDescriber=Vn,this._focusMonitor=di,this._dir=jn,this._defaultOptions=wt,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new at.x,this._scrollStrategy=Pn,this._document=cn,wt&&(wt.position&&(this.position=wt.position),wt.touchGestures&&(this.touchGestures=wt.touchGestures)),jn.change.pipe((0,ke.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(zt){var qt;zt!==this._position&&(this._position=zt,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(qt=this._tooltipInstance)||void 0===qt||qt.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(zt){this._disabled=(0,pe.Ig)(zt),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(zt){this._showDelay=(0,pe.su)(zt)}get hideDelay(){return this._hideDelay}set hideDelay(zt){this._hideDelay=(0,pe.su)(zt),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(zt){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=zt?String(zt).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(zt){this._tooltipClass=zt,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,ke.R)(this._destroyed)).subscribe(zt=>{zt?"keyboard"===zt&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const zt=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([qt,Kt])=>{zt.removeEventListener(qt,Kt,Pe)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(zt,this.message,"tooltip"),this._focusMonitor.stopMonitoring(zt)}show(zt=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const qt=this._createOverlay();this._detach(),this._portal=this._portal||new qe.C5(this._tooltipComponent,this._viewContainerRef);const Kt=this._tooltipInstance=qt.attach(this._portal).instance;Kt._triggerElement=this._elementRef.nativeElement,Kt._mouseLeaveHideDelay=this._hideDelay,Kt.afterHidden().pipe((0,ke.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),Kt.show(zt)}hide(zt=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(zt)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){var zt;if(this._overlayRef)return this._overlayRef;const qt=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),Kt=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(qt);return Kt.positionChanges.pipe((0,ke.R)(this._destroyed)).subscribe(Ht=>{this._updateCurrentPositionClass(Ht.connectionPair),this._tooltipInstance&&Ht.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:Kt,panelClass:`${this._cssClassPrefix}-${gt}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,ke.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,ke.R)(this._destroyed)).subscribe(()=>{var Ht;return null===(Ht=this._tooltipInstance)||void 0===Ht?void 0:Ht._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe((0,ke.R)(this._destroyed)).subscribe(Ht=>{this._isTooltipVisible()&&Ht.keyCode===ze.hY&&!(0,ze.Vb)(Ht)&&(Ht.preventDefault(),Ht.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),(null===(zt=this._defaultOptions)||void 0===zt?void 0:zt.disableTooltipInteractivity)&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(zt){const qt=zt.getConfig().positionStrategy,Kt=this._getOrigin(),Ht=this._getOverlayPosition();qt.withPositions([this._addOffset(Object.assign(Object.assign({},Kt.main),Ht.main)),this._addOffset(Object.assign(Object.assign({},Kt.fallback),Ht.fallback))])}_addOffset(zt){return zt}_getOrigin(){const zt=!this._dir||"ltr"==this._dir.value,qt=this.position;let Kt;"above"==qt||"below"==qt?Kt={originX:"center",originY:"above"==qt?"top":"bottom"}:"before"==qt||"left"==qt&&zt||"right"==qt&&!zt?Kt={originX:"start",originY:"center"}:("after"==qt||"right"==qt&&zt||"left"==qt&&!zt)&&(Kt={originX:"end",originY:"center"});const{x:Ht,y:_n}=this._invertPosition(Kt.originX,Kt.originY);return{main:Kt,fallback:{originX:Ht,originY:_n}}}_getOverlayPosition(){const zt=!this._dir||"ltr"==this._dir.value,qt=this.position;let Kt;"above"==qt?Kt={overlayX:"center",overlayY:"bottom"}:"below"==qt?Kt={overlayX:"center",overlayY:"top"}:"before"==qt||"left"==qt&&zt||"right"==qt&&!zt?Kt={overlayX:"end",overlayY:"center"}:("after"==qt||"right"==qt&&zt||"left"==qt&&!zt)&&(Kt={overlayX:"start",overlayY:"center"});const{x:Ht,y:_n}=this._invertPosition(Kt.overlayX,Kt.overlayY);return{main:Kt,fallback:{overlayX:Ht,overlayY:_n}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,Ke.q)(1),(0,ke.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(zt){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=zt,this._tooltipInstance._markForCheck())}_invertPosition(zt,qt){return"above"===this.position||"below"===this.position?"top"===qt?qt="bottom":"bottom"===qt&&(qt="top"):"end"===zt?zt="start":"start"===zt&&(zt="end"),{x:zt,y:qt}}_updateCurrentPositionClass(zt){const{overlayY:qt,originX:Kt,originY:Ht}=zt;let _n;if(_n="center"===qt?this._dir&&"rtl"===this._dir.value?"end"===Kt?"left":"right":"start"===Kt?"left":"right":"bottom"===qt&&"top"===Ht?"above":"below",_n!==this._currentPosition){const an=this._overlayRef;if(an){const Vn=`${this._cssClassPrefix}-${gt}-`;an.removePanelClass(Vn+this._currentPosition),an.addPanelClass(Vn+_n)}this._currentPosition=_n}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const zt=[];if(this._platformSupportsMouseEvents())zt.push(["mouseleave",qt=>{var Kt;const Ht=qt.relatedTarget;(!Ht||!(null===(Kt=this._overlayRef)||void 0===Kt?void 0:Kt.overlayElement.contains(Ht)))&&this.hide()}],["wheel",qt=>this._wheelListener(qt)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const qt=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};zt.push(["touchend",qt],["touchcancel",qt])}this._addListeners(zt),this._passiveListeners.push(...zt)}_addListeners(zt){zt.forEach(([qt,Kt])=>{this._elementRef.nativeElement.addEventListener(qt,Kt,Pe)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(zt){if(this._isTooltipVisible()){const qt=this._document.elementFromPoint(zt.clientX,zt.clientY),Kt=this._elementRef.nativeElement;qt!==Kt&&!Kt.contains(qt)&&this.hide()}}_disableNativeGesturesIfNecessary(){const zt=this.touchGestures;if("off"!==zt){const qt=this._elementRef.nativeElement,Kt=qt.style;("on"===zt||"INPUT"!==qt.nodeName&&"TEXTAREA"!==qt.nodeName)&&(Kt.userSelect=Kt.msUserSelect=Kt.webkitUserSelect=Kt.MozUserSelect="none"),("on"===zt||!qt.draggable)&&(Kt.webkitUserDrag="none"),Kt.touchAction="none",Kt.webkitTapHighlightColor="transparent"}}}return mn.\u0275fac=function(zt){ee.$Z()},mn.\u0275dir=ee.lG2({type:mn,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),mn})(),Xe=(()=>{class mn extends Ye{constructor(zt,qt,Kt,Ht,_n,an,Vn,di,Pn,jn,wt,cn){super(zt,qt,Kt,Ht,_n,an,Vn,di,Pn,jn,wt,cn),this._tooltipComponent=sn}}return mn.\u0275fac=function(zt){return new(zt||mn)(ee.Y36(d.aV),ee.Y36(ee.SBq),ee.Y36(xe.mF),ee.Y36(ee.s_b),ee.Y36(ee.R0b),ee.Y36(Q.t4),ee.Y36(_.$s),ee.Y36(_.tE),ee.Y36(Mt),ee.Y36(dt.Is,8),ee.Y36(Ze,8),ee.Y36(e.K0))},mn.\u0275dir=ee.lG2({type:mn,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[ee.qOj]}),mn})(),st=(()=>{class mn{constructor(zt,qt){this._changeDetectorRef=zt,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new at.x,this._animationsDisabled="NoopAnimations"===qt}show(zt){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},zt)}hide(zt){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},zt)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:zt}){(!zt||!this._triggerElement.contains(zt))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:zt}){(zt===this._showAnimation||zt===this._hideAnimation)&&this._finalizeAnimation(zt===this._showAnimation)}_finalizeAnimation(zt){zt?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(zt){const qt=this._tooltip.nativeElement,Kt=this._showAnimation,Ht=this._hideAnimation;if(qt.classList.remove(zt?Ht:Kt),qt.classList.add(zt?Kt:Ht),this._isVisible=zt,zt&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const _n=getComputedStyle(qt);("0s"===_n.getPropertyValue("animation-duration")||"none"===_n.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}zt&&this._onShow(),this._animationsDisabled&&(qt.classList.add("_mat-animation-noopable"),this._finalizeAnimation(zt))}}return mn.\u0275fac=function(zt){return new(zt||mn)(ee.Y36(ee.sBO),ee.Y36(je.Qb,8))},mn.\u0275dir=ee.lG2({type:mn}),mn})(),sn=(()=>{class mn extends st{constructor(zt,qt,Kt){super(zt,Kt),this._breakpointObserver=qt,this._isHandset=this._breakpointObserver.observe(Ve.u3.Handset),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return mn.\u0275fac=function(zt){return new(zt||mn)(ee.Y36(ee.sBO),ee.Y36(Ve.Yg),ee.Y36(je.Qb,8))},mn.\u0275cmp=ee.Xpm({type:mn,selectors:[["mat-tooltip-component"]],viewQuery:function(zt,qt){if(1&zt&&ee.Gf(Dt,7),2&zt){let Kt;ee.iGM(Kt=ee.CRH())&&(qt._tooltip=Kt.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(zt,qt){1&zt&&ee.NdJ("mouseleave",function(Ht){return qt._handleMouseLeave(Ht)}),2&zt&&ee.Udp("zoom",qt.isVisible()?1:null)},features:[ee.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(zt,qt){if(1&zt&&(ee.TgZ(0,"div",0,1),ee.NdJ("animationend",function(Ht){return qt._handleAnimationEnd(Ht)}),ee.ALo(2,"async"),ee._uU(3),ee.qZA()),2&zt){let Kt;ee.ekj("mat-tooltip-handset",null==(Kt=ee.lcZ(2,4,qt._isHandset))?null:Kt.matches),ee.Q6J("ngClass",qt.tooltipClass),ee.xp6(3),ee.Oqu(qt.message)}},directives:[e.mk],pipes:[e.Ov],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),mn})(),fn=(()=>{class mn{}return mn.\u0275fac=function(zt){return new(zt||mn)},mn.\u0275mod=ee.oAB({type:mn}),mn.\u0275inj=ee.cJS({providers:[tt],imports:[[_.rt,e.ez,d.U8,W.BQ],W.BQ,xe.ZD]}),mn})()},6360:(Xn,Vt,A)=>{"use strict";A.d(Vt,{Qb:()=>Ws,PW:()=>qo});var d=A(5e3),_=A(2313),e=A(1777);const ee=!1;function xe(me){return new d.vHH(3e3,ee)}function _n(){return"undefined"!=typeof window&&void 0!==window.document}function an(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Vn(me){switch(me.length){case 0:return new e.ZN;case 1:return me[0];default:return new e.ZE(me)}}function di(me,N,L,oe,He={},_t={}){const Gt=[],Lt=[];let Dn=-1,qn=null;if(oe.forEach(xi=>{const Ai=xi.offset,cr=Ai==Dn,Rr=cr&&qn||{};Object.keys(xi).forEach(Yi=>{let Gi=Yi,Xr=xi[Yi];if("offset"!==Yi)switch(Gi=N.normalizePropertyName(Gi,Gt),Xr){case e.k1:Xr=He[Yi];break;case e.l3:Xr=_t[Yi];break;default:Xr=N.normalizeStyleValue(Yi,Gi,Xr,Gt)}Rr[Gi]=Xr}),cr||Lt.push(Rr),qn=Rr,Dn=Ai}),Gt.length)throw function Ye(me){return new d.vHH(3502,ee)}();return Lt}function Pn(me,N,L,oe){switch(N){case"start":me.onStart(()=>oe(L&&jn(L,"start",me)));break;case"done":me.onDone(()=>oe(L&&jn(L,"done",me)));break;case"destroy":me.onDestroy(()=>oe(L&&jn(L,"destroy",me)))}}function jn(me,N,L){const oe=L.totalTime,_t=wt(me.element,me.triggerName,me.fromState,me.toState,N||me.phaseName,null==oe?me.totalTime:oe,!!L.disabled),Gt=me._data;return null!=Gt&&(_t._data=Gt),_t}function wt(me,N,L,oe,He="",_t=0,Gt){return{element:me,triggerName:N,fromState:L,toState:oe,phaseName:He,totalTime:_t,disabled:!!Gt}}function cn(me,N,L){let oe;return me instanceof Map?(oe=me.get(N),oe||me.set(N,oe=L)):(oe=me[N],oe||(oe=me[N]=L)),oe}function Gn(me){const N=me.indexOf(":");return[me.substring(1,N),me.substr(N+1)]}let $n=(me,N)=>!1,Vi=(me,N,L)=>[],Qn=null;function li(me){const N=me.parentNode||me.host;return N===Qn?null:N}(an()||"undefined"!=typeof Element)&&(_n()?(Qn=(()=>document.documentElement)(),$n=(me,N)=>{for(;N;){if(N===me)return!0;N=li(N)}return!1}):$n=(me,N)=>me.contains(N),Vi=(me,N,L)=>{if(L)return Array.from(me.querySelectorAll(N));const oe=me.querySelector(N);return oe?[oe]:[]});let q=null,de=!1;function ye(me){q||(q=function Ce(){return"undefined"!=typeof document?document.body:null}()||{},de=!!q.style&&"WebkitAppearance"in q.style);let N=!0;return q.style&&!function Yt(me){return"ebkit"==me.substring(1,6)}(me)&&(N=me in q.style,!N&&de&&(N="Webkit"+me.charAt(0).toUpperCase()+me.substr(1)in q.style)),N}const pt=$n,Rt=Vi;let On=(()=>{class me{validateStyleProperty(L){return ye(L)}matchesElement(L,oe){return!1}containsElement(L,oe){return pt(L,oe)}getParentElement(L){return li(L)}query(L,oe,He){return Rt(L,oe,He)}computeStyle(L,oe,He){return He||""}animate(L,oe,He,_t,Gt,Lt=[],Dn){return new e.ZN(He,_t)}}return me.\u0275fac=function(L){return new(L||me)},me.\u0275prov=d.Yz7({token:me,factory:me.\u0275fac}),me})(),Wn=(()=>{class me{}return me.NOOP=new On,me})();const Bi="ng-enter",vi="ng-leave",Ei="ng-trigger",vt=".ng-trigger",Nt="ng-animating",Ft=".ng-animating";function vn(me){if("number"==typeof me)return me;const N=me.match(/^(-?[\.\d]+)(m?s)/);return!N||N.length<2?0:X(parseFloat(N[1]),N[2])}function X(me,N){return"s"===N?1e3*me:me}function ie(me,N,L){return me.hasOwnProperty("duration")?me:function Z(me,N,L){let He,_t=0,Gt="";if("string"==typeof me){const Lt=me.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Lt)return N.push(xe()),{duration:0,delay:0,easing:""};He=X(parseFloat(Lt[1]),Lt[2]);const Dn=Lt[3];null!=Dn&&(_t=X(parseFloat(Dn),Lt[4]));const qn=Lt[5];qn&&(Gt=qn)}else He=me;if(!L){let Lt=!1,Dn=N.length;He<0&&(N.push(function pe(){return new d.vHH(3100,ee)}()),Lt=!0),_t<0&&(N.push(function ze(){return new d.vHH(3101,ee)}()),Lt=!0),Lt&&N.splice(Dn,0,xe())}return{duration:He,delay:_t,easing:Gt}}(me,N,L)}function Se(me,N={}){return Object.keys(me).forEach(L=>{N[L]=me[L]}),N}function ut(me,N,L={}){if(N)for(let oe in me)L[oe]=me[oe];else Se(me,L);return L}function Be(me,N,L){return L?N+":"+L+";":""}function Ct(me){let N="";for(let L=0;L<me.style.length;L++){const oe=me.style.item(L);N+=Be(0,oe,me.style.getPropertyValue(oe))}for(const L in me.style)me.style.hasOwnProperty(L)&&!L.startsWith("_")&&(N+=Be(0,ct(L),me.style[L]));me.setAttribute("style",N)}function on(me,N,L){me.style&&(Object.keys(N).forEach(oe=>{const He=Et(oe);L&&!L.hasOwnProperty(oe)&&(L[oe]=me.style[He]),me.style[He]=N[oe]}),an()&&Ct(me))}function Sn(me,N){me.style&&(Object.keys(N).forEach(L=>{const oe=Et(L);me.style[oe]=""}),an()&&Ct(me))}function bi(me){return Array.isArray(me)?1==me.length?me[0]:(0,e.vP)(me):me}const Pt=new RegExp("{{\\s*(.+?)\\s*}}","g");function yt(me){let N=[];if("string"==typeof me){let L;for(;L=Pt.exec(me);)N.push(L[1]);Pt.lastIndex=0}return N}function Zt(me,N,L){const oe=me.toString(),He=oe.replace(Pt,(_t,Gt)=>{let Lt=N[Gt];return N.hasOwnProperty(Gt)||(L.push(function Q(me){return new d.vHH(3003,ee)}()),Lt=""),Lt.toString()});return He==oe?me:He}function Ln(me){const N=[];let L=me.next();for(;!L.done;)N.push(L.value),L=me.next();return N}const pn=/-+([a-z0-9])/g;function Et(me){return me.replace(pn,(...N)=>N[1].toUpperCase())}function ct(me){return me.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function kn(me,N,L){switch(N.type){case 7:return me.visitTrigger(N,L);case 0:return me.visitState(N,L);case 1:return me.visitTransition(N,L);case 2:return me.visitSequence(N,L);case 3:return me.visitGroup(N,L);case 4:return me.visitAnimate(N,L);case 5:return me.visitKeyframes(N,L);case 6:return me.visitStyle(N,L);case 8:return me.visitReference(N,L);case 9:return me.visitAnimateChild(N,L);case 10:return me.visitAnimateRef(N,L);case 11:return me.visitQuery(N,L);case 12:return me.visitStagger(N,L);default:throw function qe(me){return new d.vHH(3004,ee)}()}}function si(me,N){return window.getComputedStyle(me)[N]}function mt(me,N){const L=[];return"string"==typeof me?me.split(/\s*,\s*/).forEach(oe=>function Qt(me,N,L){if(":"==me[0]){const Dn=function Mn(me,N){switch(me){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(L,oe)=>parseFloat(oe)>parseFloat(L);case":decrement":return(L,oe)=>parseFloat(oe)<parseFloat(L);default:return N.push(function bt(me){return new d.vHH(3016,ee)}()),"* => *"}}(me,L);if("function"==typeof Dn)return void N.push(Dn);me=Dn}const oe=me.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==oe||oe.length<4)return L.push(function Mt(me){return new d.vHH(3015,ee)}()),N;const He=oe[1],_t=oe[2],Gt=oe[3];N.push(ui(He,Gt));"<"==_t[0]&&!("*"==He&&"*"==Gt)&&N.push(ui(Gt,He))}(oe,L,N)):L.push(me),L}const Bn=new Set(["true","1"]),Ci=new Set(["false","0"]);function ui(me,N){const L=Bn.has(me)||Ci.has(me),oe=Bn.has(N)||Ci.has(N);return(He,_t)=>{let Gt="*"==me||me==He,Lt="*"==N||N==_t;return!Gt&&L&&"boolean"==typeof He&&(Gt=He?Bn.has(me):Ci.has(me)),!Lt&&oe&&"boolean"==typeof _t&&(Lt=_t?Bn.has(N):Ci.has(N)),Gt&&Lt}}const hr=new RegExp("s*:selfs*,?","g");function ur(me,N,L,oe){return new _i(me).build(N,L,oe)}class _i{constructor(N){this._driver=N}build(N,L,oe){const He=new qi(L);this._resetContextStyleTimingState(He);const _t=kn(this,bi(N),He);return He.unsupportedCSSPropertiesFound.size&&He.unsupportedCSSPropertiesFound.keys(),_t}_resetContextStyleTimingState(N){N.currentQuerySelector="",N.collectedStyles={},N.collectedStyles[""]={},N.currentTime=0}visitTrigger(N,L){let oe=L.queryCount=0,He=L.depCount=0;const _t=[],Gt=[];return"@"==N.name.charAt(0)&&L.errors.push(function at(){return new d.vHH(3006,ee)}()),N.definitions.forEach(Lt=>{if(this._resetContextStyleTimingState(L),0==Lt.type){const Dn=Lt,qn=Dn.name;qn.toString().split(/\s*,\s*/).forEach(xi=>{Dn.name=xi,_t.push(this.visitState(Dn,L))}),Dn.name=qn}else if(1==Lt.type){const Dn=this.visitTransition(Lt,L);oe+=Dn.queryCount,He+=Dn.depCount,Gt.push(Dn)}else L.errors.push(function ke(){return new d.vHH(3007,ee)}())}),{type:7,name:N.name,states:_t,transitions:Gt,queryCount:oe,depCount:He,options:null}}visitState(N,L){const oe=this.visitStyle(N.styles,L),He=N.options&&N.options.params||null;if(oe.containsDynamicStyles){const _t=new Set,Gt=He||{};oe.styles.forEach(Lt=>{if(Yo(Lt)){const Dn=Lt;Object.keys(Dn).forEach(qn=>{yt(Dn[qn]).forEach(xi=>{Gt.hasOwnProperty(xi)||_t.add(xi)})})}}),_t.size&&(Ln(_t.values()),L.errors.push(function Ke(me,N){return new d.vHH(3008,ee)}()))}return{type:0,name:N.name,style:oe,options:He?{params:He}:null}}visitTransition(N,L){L.queryCount=0,L.depCount=0;const oe=kn(this,bi(N.animation),L);return{type:1,matchers:mt(N.expr,L.errors),animation:oe,queryCount:L.queryCount,depCount:L.depCount,options:sr(N.options)}}visitSequence(N,L){return{type:2,steps:N.steps.map(oe=>kn(this,oe,L)),options:sr(N.options)}}visitGroup(N,L){const oe=L.currentTime;let He=0;const _t=N.steps.map(Gt=>{L.currentTime=oe;const Lt=kn(this,Gt,L);return He=Math.max(He,L.currentTime),Lt});return L.currentTime=He,{type:3,steps:_t,options:sr(N.options)}}visitAnimate(N,L){const oe=function $o(me,N){let L=null;if(me.hasOwnProperty("duration"))L=me;else if("number"==typeof me)return vr(ie(me,N).duration,0,"");const oe=me;if(oe.split(/\s+/).some(_t=>"{"==_t.charAt(0)&&"{"==_t.charAt(1))){const _t=vr(0,0,"");return _t.dynamic=!0,_t.strValue=oe,_t}return L=L||ie(oe,N),vr(L.duration,L.delay,L.easing)}(N.timings,L.errors);L.currentAnimateTimings=oe;let He,_t=N.styles?N.styles:(0,e.oB)({});if(5==_t.type)He=this.visitKeyframes(_t,L);else{let Gt=N.styles,Lt=!1;if(!Gt){Lt=!0;const qn={};oe.easing&&(qn.easing=oe.easing),Gt=(0,e.oB)(qn)}L.currentTime+=oe.duration+oe.delay;const Dn=this.visitStyle(Gt,L);Dn.isEmptyStep=Lt,He=Dn}return L.currentAnimateTimings=null,{type:4,timings:oe,style:He,options:null}}visitStyle(N,L){const oe=this._makeStyleAst(N,L);return this._validateStyleAst(oe,L),oe}_makeStyleAst(N,L){const oe=[];Array.isArray(N.styles)?N.styles.forEach(Gt=>{"string"==typeof Gt?Gt==e.l3?oe.push(Gt):L.errors.push(function dt(me){return new d.vHH(3002,ee)}()):oe.push(Gt)}):oe.push(N.styles);let He=!1,_t=null;return oe.forEach(Gt=>{if(Yo(Gt)){const Lt=Gt,Dn=Lt.easing;if(Dn&&(_t=Dn,delete Lt.easing),!He)for(let qn in Lt)if(Lt[qn].toString().indexOf("{{")>=0){He=!0;break}}}),{type:6,styles:oe,easing:_t,offset:N.offset,containsDynamicStyles:He,options:null}}_validateStyleAst(N,L){const oe=L.currentAnimateTimings;let He=L.currentTime,_t=L.currentTime;oe&&_t>0&&(_t-=oe.duration+oe.delay),N.styles.forEach(Gt=>{"string"!=typeof Gt&&Object.keys(Gt).forEach(Lt=>{if(!this._driver.validateStyleProperty(Lt))return delete Gt[Lt],void L.unsupportedCSSPropertiesFound.add(Lt);const Dn=L.collectedStyles[L.currentQuerySelector],qn=Dn[Lt];let xi=!0;qn&&(_t!=He&&_t>=qn.startTime&&He<=qn.endTime&&(L.errors.push(function Dt(me,N,L,oe,He){return new d.vHH(3010,ee)}()),xi=!1),_t=qn.startTime),xi&&(Dn[Lt]={startTime:_t,endTime:He}),L.options&&function rn(me,N,L){const oe=N.params||{},He=yt(me);He.length&&He.forEach(_t=>{oe.hasOwnProperty(_t)||L.push(function Ve(me){return new d.vHH(3001,ee)}())})}(Gt[Lt],L.options,L.errors)})})}visitKeyframes(N,L){const oe={type:5,styles:[],options:null};if(!L.currentAnimateTimings)return L.errors.push(function Tt(){return new d.vHH(3011,ee)}()),oe;let _t=0;const Gt=[];let Lt=!1,Dn=!1,qn=0;const xi=N.steps.map(io=>{const Ro=this._makeStyleAst(io,L);let ss=null!=Ro.offset?Ro.offset:function fr(me){if("string"==typeof me)return null;let N=null;if(Array.isArray(me))me.forEach(L=>{if(Yo(L)&&L.hasOwnProperty("offset")){const oe=L;N=parseFloat(oe.offset),delete oe.offset}});else if(Yo(me)&&me.hasOwnProperty("offset")){const L=me;N=parseFloat(L.offset),delete L.offset}return N}(Ro.styles),wr=0;return null!=ss&&(_t++,wr=Ro.offset=ss),Dn=Dn||wr<0||wr>1,Lt=Lt||wr<qn,qn=wr,Gt.push(wr),Ro});Dn&&L.errors.push(function hn(){return new d.vHH(3012,ee)}()),Lt&&L.errors.push(function gt(){return new d.vHH(3200,ee)}());const Ai=N.steps.length;let cr=0;_t>0&&_t<Ai?L.errors.push(function Pe(){return new d.vHH(3202,ee)}()):0==_t&&(cr=1/(Ai-1));const Rr=Ai-1,Yi=L.currentTime,Gi=L.currentAnimateTimings,Xr=Gi.duration;return xi.forEach((io,Ro)=>{const ss=cr>0?Ro==Rr?1:cr*Ro:Gt[Ro],wr=ss*Xr;L.currentTime=Yi+Gi.delay+wr,Gi.duration=wr,this._validateStyleAst(io,L),io.offset=ss,oe.styles.push(io)}),oe}visitReference(N,L){return{type:8,animation:kn(this,bi(N.animation),L),options:sr(N.options)}}visitAnimateChild(N,L){return L.depCount++,{type:9,options:sr(N.options)}}visitAnimateRef(N,L){return{type:10,animation:this.visitReference(N.animation,L),options:sr(N.options)}}visitQuery(N,L){const oe=L.currentQuerySelector,He=N.options||{};L.queryCount++,L.currentQuery=N;const[_t,Gt]=function ji(me){const N=!!me.split(/\s*,\s*/).find(L=>":self"==L);return N&&(me=me.replace(hr,"")),me=me.replace(/@\*/g,vt).replace(/@\w+/g,L=>vt+"-"+L.substr(1)).replace(/:animating/g,Ft),[me,N]}(N.selector);L.currentQuerySelector=oe.length?oe+" "+_t:_t,cn(L.collectedStyles,L.currentQuerySelector,{});const Lt=kn(this,bi(N.animation),L);return L.currentQuery=null,L.currentQuerySelector=oe,{type:11,selector:_t,limit:He.limit||0,optional:!!He.optional,includeSelf:Gt,animation:Lt,originalSelector:N.selector,options:sr(N.options)}}visitStagger(N,L){L.currentQuery||L.errors.push(function te(){return new d.vHH(3013,ee)}());const oe="full"===N.timings?{duration:0,delay:0,easing:"full"}:ie(N.timings,L.errors,!0);return{type:12,animation:kn(this,bi(N.animation),L),timings:oe,options:null}}}class qi{constructor(N){this.errors=N,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Yo(me){return!Array.isArray(me)&&"object"==typeof me}function sr(me){return me?(me=Se(me)).params&&(me.params=function Hi(me){return me?Se(me):null}(me.params)):me={},me}function vr(me,N,L){return{duration:me,delay:N,easing:L}}function Ki(me,N,L,oe,He,_t,Gt=null,Lt=!1){return{type:1,element:me,keyframes:N,preStyleProps:L,postStyleProps:oe,duration:He,delay:_t,totalTime:He+_t,easing:Gt,subTimeline:Lt}}class zr{constructor(){this._map=new Map}get(N){return this._map.get(N)||[]}append(N,L){let oe=this._map.get(N);oe||this._map.set(N,oe=[]),oe.push(...L)}has(N){return this._map.has(N)}clear(){this._map.clear()}}const wo=new RegExp(":enter","g"),_s=new RegExp(":leave","g");function Jr(me,N,L,oe,He,_t={},Gt={},Lt,Dn,qn=[]){return(new js).buildKeyframes(me,N,L,oe,He,_t,Gt,Lt,Dn,qn)}class js{buildKeyframes(N,L,oe,He,_t,Gt,Lt,Dn,qn,xi=[]){qn=qn||new zr;const Ai=new Ds(N,L,qn,He,_t,xi,[]);Ai.options=Dn,Ai.currentTimeline.setStyles([Gt],null,Ai.errors,Dn),kn(this,oe,Ai);const cr=Ai.timelines.filter(Rr=>Rr.containsAnimation());if(Object.keys(Lt).length){let Rr;for(let Yi=cr.length-1;Yi>=0;Yi--){const Gi=cr[Yi];if(Gi.element===L){Rr=Gi;break}}Rr&&!Rr.allowOnlyTimelineStyles()&&Rr.setStyles([Lt],null,Ai.errors,Dn)}return cr.length?cr.map(Rr=>Rr.buildKeyframes()):[Ki(L,[],[],[],0,0,"",!1)]}visitTrigger(N,L){}visitState(N,L){}visitTransition(N,L){}visitAnimateChild(N,L){const oe=L.subInstructions.get(L.element);if(oe){const He=L.createSubContext(N.options),_t=L.currentTimeline.currentTime,Gt=this._visitSubInstructions(oe,He,He.options);_t!=Gt&&L.transformIntoNewTimeline(Gt)}L.previousNode=N}visitAnimateRef(N,L){const oe=L.createSubContext(N.options);oe.transformIntoNewTimeline(),this.visitReference(N.animation,oe),L.transformIntoNewTimeline(oe.currentTimeline.currentTime),L.previousNode=N}_visitSubInstructions(N,L,oe){let _t=L.currentTimeline.currentTime;const Gt=null!=oe.duration?vn(oe.duration):null,Lt=null!=oe.delay?vn(oe.delay):null;return 0!==Gt&&N.forEach(Dn=>{const qn=L.appendInstructionToTimeline(Dn,Gt,Lt);_t=Math.max(_t,qn.duration+qn.delay)}),_t}visitReference(N,L){L.updateOptions(N.options,!0),kn(this,N.animation,L),L.previousNode=N}visitSequence(N,L){const oe=L.subContextCount;let He=L;const _t=N.options;if(_t&&(_t.params||_t.delay)&&(He=L.createSubContext(_t),He.transformIntoNewTimeline(),null!=_t.delay)){6==He.previousNode.type&&(He.currentTimeline.snapshotCurrentStyles(),He.previousNode=Vr);const Gt=vn(_t.delay);He.delayNextStep(Gt)}N.steps.length&&(N.steps.forEach(Gt=>kn(this,Gt,He)),He.currentTimeline.applyStylesToKeyframe(),He.subContextCount>oe&&He.transformIntoNewTimeline()),L.previousNode=N}visitGroup(N,L){const oe=[];let He=L.currentTimeline.currentTime;const _t=N.options&&N.options.delay?vn(N.options.delay):0;N.steps.forEach(Gt=>{const Lt=L.createSubContext(N.options);_t&&Lt.delayNextStep(_t),kn(this,Gt,Lt),He=Math.max(He,Lt.currentTimeline.currentTime),oe.push(Lt.currentTimeline)}),oe.forEach(Gt=>L.currentTimeline.mergeTimelineCollectedStyles(Gt)),L.transformIntoNewTimeline(He),L.previousNode=N}_visitTiming(N,L){if(N.dynamic){const oe=N.strValue;return ie(L.params?Zt(oe,L.params,L.errors):oe,L.errors)}return{duration:N.duration,delay:N.delay,easing:N.easing}}visitAnimate(N,L){const oe=L.currentAnimateTimings=this._visitTiming(N.timings,L),He=L.currentTimeline;oe.delay&&(L.incrementTime(oe.delay),He.snapshotCurrentStyles());const _t=N.style;5==_t.type?this.visitKeyframes(_t,L):(L.incrementTime(oe.duration),this.visitStyle(_t,L),He.applyStylesToKeyframe()),L.currentAnimateTimings=null,L.previousNode=N}visitStyle(N,L){const oe=L.currentTimeline,He=L.currentAnimateTimings;!He&&oe.getCurrentStyleProperties().length&&oe.forwardFrame();const _t=He&&He.easing||N.easing;N.isEmptyStep?oe.applyEmptyStep(_t):oe.setStyles(N.styles,_t,L.errors,L.options),L.previousNode=N}visitKeyframes(N,L){const oe=L.currentAnimateTimings,He=L.currentTimeline.duration,_t=oe.duration,Lt=L.createSubContext().currentTimeline;Lt.easing=oe.easing,N.styles.forEach(Dn=>{Lt.forwardTime((Dn.offset||0)*_t),Lt.setStyles(Dn.styles,Dn.easing,L.errors,L.options),Lt.applyStylesToKeyframe()}),L.currentTimeline.mergeTimelineCollectedStyles(Lt),L.transformIntoNewTimeline(He+_t),L.previousNode=N}visitQuery(N,L){const oe=L.currentTimeline.currentTime,He=N.options||{},_t=He.delay?vn(He.delay):0;_t&&(6===L.previousNode.type||0==oe&&L.currentTimeline.getCurrentStyleProperties().length)&&(L.currentTimeline.snapshotCurrentStyles(),L.previousNode=Vr);let Gt=oe;const Lt=L.invokeQuery(N.selector,N.originalSelector,N.limit,N.includeSelf,!!He.optional,L.errors);L.currentQueryTotal=Lt.length;let Dn=null;Lt.forEach((qn,xi)=>{L.currentQueryIndex=xi;const Ai=L.createSubContext(N.options,qn);_t&&Ai.delayNextStep(_t),qn===L.element&&(Dn=Ai.currentTimeline),kn(this,N.animation,Ai),Ai.currentTimeline.applyStylesToKeyframe(),Gt=Math.max(Gt,Ai.currentTimeline.currentTime)}),L.currentQueryIndex=0,L.currentQueryTotal=0,L.transformIntoNewTimeline(Gt),Dn&&(L.currentTimeline.mergeTimelineCollectedStyles(Dn),L.currentTimeline.snapshotCurrentStyles()),L.previousNode=N}visitStagger(N,L){const oe=L.parentContext,He=L.currentTimeline,_t=N.timings,Gt=Math.abs(_t.duration),Lt=Gt*(L.currentQueryTotal-1);let Dn=Gt*L.currentQueryIndex;switch(_t.duration<0?"reverse":_t.easing){case"reverse":Dn=Lt-Dn;break;case"full":Dn=oe.currentStaggerTime}const xi=L.currentTimeline;Dn&&xi.delayNextStep(Dn);const Ai=xi.currentTime;kn(this,N.animation,L),L.previousNode=N,oe.currentStaggerTime=He.currentTime-Ai+(He.startTime-oe.currentTimeline.startTime)}}const Vr={};class Ds{constructor(N,L,oe,He,_t,Gt,Lt,Dn){this._driver=N,this.element=L,this.subInstructions=oe,this._enterClassName=He,this._leaveClassName=_t,this.errors=Gt,this.timelines=Lt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Dn||new Wo(this._driver,L,0),Lt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(N,L){if(!N)return;const oe=N;let He=this.options;null!=oe.duration&&(He.duration=vn(oe.duration)),null!=oe.delay&&(He.delay=vn(oe.delay));const _t=oe.params;if(_t){let Gt=He.params;Gt||(Gt=this.options.params={}),Object.keys(_t).forEach(Lt=>{(!L||!Gt.hasOwnProperty(Lt))&&(Gt[Lt]=Zt(_t[Lt],Gt,this.errors))})}}_copyOptions(){const N={};if(this.options){const L=this.options.params;if(L){const oe=N.params={};Object.keys(L).forEach(He=>{oe[He]=L[He]})}}return N}createSubContext(N=null,L,oe){const He=L||this.element,_t=new Ds(this._driver,He,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(He,oe||0));return _t.previousNode=this.previousNode,_t.currentAnimateTimings=this.currentAnimateTimings,_t.options=this._copyOptions(),_t.updateOptions(N),_t.currentQueryIndex=this.currentQueryIndex,_t.currentQueryTotal=this.currentQueryTotal,_t.parentContext=this,this.subContextCount++,_t}transformIntoNewTimeline(N){return this.previousNode=Vr,this.currentTimeline=this.currentTimeline.fork(this.element,N),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(N,L,oe){const He={duration:null!=L?L:N.duration,delay:this.currentTimeline.currentTime+(null!=oe?oe:0)+N.delay,easing:""},_t=new fo(this._driver,N.element,N.keyframes,N.preStyleProps,N.postStyleProps,He,N.stretchStartingKeyframe);return this.timelines.push(_t),He}incrementTime(N){this.currentTimeline.forwardTime(this.currentTimeline.duration+N)}delayNextStep(N){N>0&&this.currentTimeline.delayNextStep(N)}invokeQuery(N,L,oe,He,_t,Gt){let Lt=[];if(He&&Lt.push(this.element),N.length>0){N=(N=N.replace(wo,"."+this._enterClassName)).replace(_s,"."+this._leaveClassName);let qn=this._driver.query(this.element,N,1!=oe);0!==oe&&(qn=oe<0?qn.slice(qn.length+oe,qn.length):qn.slice(0,oe)),Lt.push(...qn)}return!_t&&0==Lt.length&&Gt.push(function Qe(me){return new d.vHH(3014,ee)}()),Lt}}class Wo{constructor(N,L,oe,He){this._driver=N,this.element=L,this.startTime=oe,this._elementTimelineStylesLookup=He,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(L),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(L,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(N){const L=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||L?(this.forwardTime(this.currentTime+N),L&&this.snapshotCurrentStyles()):this.startTime+=N}fork(N,L){return this.applyStylesToKeyframe(),new Wo(this._driver,N,L||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(N){this.applyStylesToKeyframe(),this.duration=N,this._loadKeyframe()}_updateStyle(N,L){this._localTimelineStyles[N]=L,this._globalTimelineStyles[N]=L,this._styleSummary[N]={time:this.currentTime,value:L}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(N){N&&(this._previousKeyframe.easing=N),Object.keys(this._globalTimelineStyles).forEach(L=>{this._backFill[L]=this._globalTimelineStyles[L]||e.l3,this._currentKeyframe[L]=e.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(N,L,oe,He){L&&(this._previousKeyframe.easing=L);const _t=He&&He.params||{},Gt=function $s(me,N){const L={};let oe;return me.forEach(He=>{"*"===He?(oe=oe||Object.keys(N),oe.forEach(_t=>{L[_t]=e.l3})):ut(He,!1,L)}),L}(N,this._globalTimelineStyles);Object.keys(Gt).forEach(Lt=>{const Dn=Zt(Gt[Lt],_t,oe);this._pendingStyles[Lt]=Dn,this._localTimelineStyles.hasOwnProperty(Lt)||(this._backFill[Lt]=this._globalTimelineStyles.hasOwnProperty(Lt)?this._globalTimelineStyles[Lt]:e.l3),this._updateStyle(Lt,Dn)})}applyStylesToKeyframe(){const N=this._pendingStyles,L=Object.keys(N);0!=L.length&&(this._pendingStyles={},L.forEach(oe=>{this._currentKeyframe[oe]=N[oe]}),Object.keys(this._localTimelineStyles).forEach(oe=>{this._currentKeyframe.hasOwnProperty(oe)||(this._currentKeyframe[oe]=this._localTimelineStyles[oe])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(N=>{const L=this._localTimelineStyles[N];this._pendingStyles[N]=L,this._updateStyle(N,L)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const N=[];for(let L in this._currentKeyframe)N.push(L);return N}mergeTimelineCollectedStyles(N){Object.keys(N._styleSummary).forEach(L=>{const oe=this._styleSummary[L],He=N._styleSummary[L];(!oe||He.time>oe.time)&&this._updateStyle(L,He.value)})}buildKeyframes(){this.applyStylesToKeyframe();const N=new Set,L=new Set,oe=1===this._keyframes.size&&0===this.duration;let He=[];this._keyframes.forEach((Lt,Dn)=>{const qn=ut(Lt,!0);Object.keys(qn).forEach(xi=>{const Ai=qn[xi];Ai==e.k1?N.add(xi):Ai==e.l3&&L.add(xi)}),oe||(qn.offset=Dn/this.duration),He.push(qn)});const _t=N.size?Ln(N.values()):[],Gt=L.size?Ln(L.values()):[];if(oe){const Lt=He[0],Dn=Se(Lt);Lt.offset=0,Dn.offset=1,He=[Lt,Dn]}return Ki(this.element,He,_t,Gt,this.duration,this.startTime,this.easing,!1)}}class fo extends Wo{constructor(N,L,oe,He,_t,Gt,Lt=!1){super(N,L,Gt.delay),this.keyframes=oe,this.preStyleProps=He,this.postStyleProps=_t,this._stretchStartingKeyframe=Lt,this.timings={duration:Gt.duration,delay:Gt.delay,easing:Gt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let N=this.keyframes,{delay:L,duration:oe,easing:He}=this.timings;if(this._stretchStartingKeyframe&&L){const _t=[],Gt=oe+L,Lt=L/Gt,Dn=ut(N[0],!1);Dn.offset=0,_t.push(Dn);const qn=ut(N[0],!1);qn.offset=vs(Lt),_t.push(qn);const xi=N.length-1;for(let Ai=1;Ai<=xi;Ai++){let cr=ut(N[Ai],!1);cr.offset=vs((L+cr.offset*oe)/Gt),_t.push(cr)}oe=Gt,L=0,He="",N=_t}return Ki(this.element,N,this.preStyleProps,this.postStyleProps,oe,L,He,!0)}}function vs(me,N=3){const L=Math.pow(10,N-1);return Math.round(me*L)/L}class To{}class Io extends To{normalizePropertyName(N,L){return Et(N)}normalizeStyleValue(N,L,oe,He){let _t="";const Gt=oe.toString().trim();if(Uo[L]&&0!==oe&&"0"!==oe)if("number"==typeof oe)_t="px";else{const Lt=oe.match(/^[+-]?[\d\.]+([a-z]*)$/);Lt&&0==Lt[1].length&&He.push(function je(me,N){return new d.vHH(3005,ee)}())}return Gt+_t}}const Uo=(()=>function dr(me){const N={};return me.forEach(L=>N[L]=!0),N}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Dr(me,N,L,oe,He,_t,Gt,Lt,Dn,qn,xi,Ai,cr){return{type:0,element:me,triggerName:N,isRemovalTransition:He,fromState:L,fromStyles:_t,toState:oe,toStyles:Gt,timelines:Lt,queriedElements:Dn,preStyleProps:qn,postStyleProps:xi,totalTime:Ai,errors:cr}}const ki={};class ar{constructor(N,L,oe){this._triggerName=N,this.ast=L,this._stateStyles=oe}match(N,L,oe,He){return function os(me,N,L,oe,He){return me.some(_t=>_t(N,L,oe,He))}(this.ast.matchers,N,L,oe,He)}buildStyles(N,L,oe){const He=this._stateStyles["*"],_t=this._stateStyles[N],Gt=He?He.buildStyles(L,oe):{};return _t?_t.buildStyles(L,oe):Gt}build(N,L,oe,He,_t,Gt,Lt,Dn,qn,xi){const Ai=[],cr=this.ast.options&&this.ast.options.params||ki,Yi=this.buildStyles(oe,Lt&&Lt.params||ki,Ai),Gi=Dn&&Dn.params||ki,Xr=this.buildStyles(He,Gi,Ai),io=new Set,Ro=new Map,ss=new Map,wr="void"===He,Pr={params:Object.assign(Object.assign({},cr),Gi)},Sr=xi?[]:Jr(N,L,this.ast.animation,_t,Gt,Yi,Xr,Pr,qn,Ai);let xo=0;if(Sr.forEach(Vo=>{xo=Math.max(Vo.duration+Vo.delay,xo)}),Ai.length)return Dr(L,this._triggerName,oe,He,wr,Yi,Xr,[],[],Ro,ss,xo,Ai);Sr.forEach(Vo=>{const cs=Vo.element,Pa=cn(Ro,cs,{});Vo.preStyleProps.forEach(eo=>Pa[eo]=!0);const Ho=cn(ss,cs,{});Vo.postStyleProps.forEach(eo=>Ho[eo]=!0),cs!==L&&io.add(cs)});const ro=Ln(io.values());return Dr(L,this._triggerName,oe,He,wr,Yi,Xr,Sr,ro,Ro,ss,xo)}}class Te{constructor(N,L,oe){this.styles=N,this.defaultParams=L,this.normalizer=oe}buildStyles(N,L){const oe={},He=Se(this.defaultParams);return Object.keys(N).forEach(_t=>{const Gt=N[_t];null!=Gt&&(He[_t]=Gt)}),this.styles.styles.forEach(_t=>{if("string"!=typeof _t){const Gt=_t;Object.keys(Gt).forEach(Lt=>{let Dn=Gt[Lt];Dn.length>1&&(Dn=Zt(Dn,He,L));const qn=this.normalizer.normalizePropertyName(Lt,L);Dn=this.normalizer.normalizeStyleValue(Lt,qn,Dn,L),oe[qn]=Dn})}}),oe}}class ft{constructor(N,L,oe){this.name=N,this.ast=L,this._normalizer=oe,this.transitionFactories=[],this.states={},L.states.forEach(He=>{this.states[He.name]=new Te(He.style,He.options&&He.options.params||{},oe)}),un(this.states,"true","1"),un(this.states,"false","0"),L.transitions.forEach(He=>{this.transitionFactories.push(new ar(N,He,this.states))}),this.fallbackTransition=function Ut(me,N,L){return new ar(me,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Gt,Lt)=>!0],options:null,queryCount:0,depCount:0},N)}(N,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(N,L,oe,He){return this.transitionFactories.find(Gt=>Gt.match(N,L,oe,He))||null}matchStyles(N,L,oe){return this.fallbackTransition.buildStyles(N,L,oe)}}function un(me,N,L){me.hasOwnProperty(N)?me.hasOwnProperty(L)||(me[L]=me[N]):me.hasOwnProperty(L)&&(me[N]=me[L])}const En=new zr;class ii{constructor(N,L,oe){this.bodyNode=N,this._driver=L,this._normalizer=oe,this._animations={},this._playersById={},this.players=[]}register(N,L){const oe=[],_t=ur(this._driver,L,oe,[]);if(oe.length)throw function Xe(me){return new d.vHH(3503,ee)}();this._animations[N]=_t}_buildPlayer(N,L,oe){const He=N.element,_t=di(0,this._normalizer,0,N.keyframes,L,oe);return this._driver.animate(He,_t,N.duration,N.delay,N.easing,[],!0)}create(N,L,oe={}){const He=[],_t=this._animations[N];let Gt;const Lt=new Map;if(_t?(Gt=Jr(this._driver,L,_t,Bi,vi,{},{},oe,En,He),Gt.forEach(xi=>{const Ai=cn(Lt,xi.element,{});xi.postStyleProps.forEach(cr=>Ai[cr]=null)})):(He.push(function st(){return new d.vHH(3300,ee)}()),Gt=[]),He.length)throw function sn(me){return new d.vHH(3504,ee)}();Lt.forEach((xi,Ai)=>{Object.keys(xi).forEach(cr=>{xi[cr]=this._driver.computeStyle(Ai,cr,e.l3)})});const qn=Vn(Gt.map(xi=>{const Ai=Lt.get(xi.element);return this._buildPlayer(xi,{},Ai)}));return this._playersById[N]=qn,qn.onDestroy(()=>this.destroy(N)),this.players.push(qn),qn}destroy(N){const L=this._getPlayer(N);L.destroy(),delete this._playersById[N];const oe=this.players.indexOf(L);oe>=0&&this.players.splice(oe,1)}_getPlayer(N){const L=this._playersById[N];if(!L)throw function fn(me){return new d.vHH(3301,ee)}();return L}listen(N,L,oe,He){const _t=wt(L,"","","");return Pn(this._getPlayer(N),oe,_t,He),()=>{}}command(N,L,oe,He){if("register"==oe)return void this.register(N,He[0]);if("create"==oe)return void this.create(N,L,He[0]||{});const _t=this._getPlayer(N);switch(oe){case"play":_t.play();break;case"pause":_t.pause();break;case"reset":_t.reset();break;case"restart":_t.restart();break;case"finish":_t.finish();break;case"init":_t.init();break;case"setPosition":_t.setPosition(parseFloat(He[0]));break;case"destroy":this.destroy(N)}}}const pi="ng-animate-queued",Pi="ng-animate-disabled",Lr=[],rr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_o={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Er="__ng_removed";class Tr{constructor(N,L=""){this.namespaceId=L;const oe=N&&N.hasOwnProperty("value");if(this.value=function le(me){return null!=me?me:null}(oe?N.value:N),oe){const _t=Se(N);delete _t.value,this.options=_t}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(N){const L=N.params;if(L){const oe=this.options.params;Object.keys(L).forEach(He=>{null==oe[He]&&(oe[He]=L[He])})}}}const no="void",vo=new Tr(no);class ao{constructor(N,L,oe){this.id=N,this.hostElement=L,this._engine=oe,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+N,Zn(L,this._hostClassName)}listen(N,L,oe,He){if(!this._triggers.hasOwnProperty(L))throw function wn(me,N){return new d.vHH(3302,ee)}();if(null==oe||0==oe.length)throw function mn(me){return new d.vHH(3303,ee)}();if(!function fe(me){return"start"==me||"done"==me}(oe))throw function bn(me,N){return new d.vHH(3400,ee)}();const _t=cn(this._elementListeners,N,[]),Gt={name:L,phase:oe,callback:He};_t.push(Gt);const Lt=cn(this._engine.statesByElement,N,{});return Lt.hasOwnProperty(L)||(Zn(N,Ei),Zn(N,Ei+"-"+L),Lt[L]=vo),()=>{this._engine.afterFlush(()=>{const Dn=_t.indexOf(Gt);Dn>=0&&_t.splice(Dn,1),this._triggers[L]||delete Lt[L]})}}register(N,L){return!this._triggers[N]&&(this._triggers[N]=L,!0)}_getTrigger(N){const L=this._triggers[N];if(!L)throw function zt(me){return new d.vHH(3401,ee)}();return L}trigger(N,L,oe,He=!0){const _t=this._getTrigger(L),Gt=new ls(this.id,L,N);let Lt=this._engine.statesByElement.get(N);Lt||(Zn(N,Ei),Zn(N,Ei+"-"+L),this._engine.statesByElement.set(N,Lt={}));let Dn=Lt[L];const qn=new Tr(oe,this.id);if(!(oe&&oe.hasOwnProperty("value"))&&Dn&&qn.absorbOptions(Dn.options),Lt[L]=qn,Dn||(Dn=vo),qn.value!==no&&Dn.value===qn.value){if(!function gr(me,N){const L=Object.keys(me),oe=Object.keys(N);if(L.length!=oe.length)return!1;for(let He=0;He<L.length;He++){const _t=L[He];if(!N.hasOwnProperty(_t)||me[_t]!==N[_t])return!1}return!0}(Dn.params,qn.params)){const Gi=[],Xr=_t.matchStyles(Dn.value,Dn.params,Gi),io=_t.matchStyles(qn.value,qn.params,Gi);Gi.length?this._engine.reportError(Gi):this._engine.afterFlush(()=>{Sn(N,Xr),on(N,io)})}return}const cr=cn(this._engine.playersByElement,N,[]);cr.forEach(Gi=>{Gi.namespaceId==this.id&&Gi.triggerName==L&&Gi.queued&&Gi.destroy()});let Rr=_t.matchTransition(Dn.value,qn.value,N,qn.params),Yi=!1;if(!Rr){if(!He)return;Rr=_t.fallbackTransition,Yi=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:N,triggerName:L,transition:Rr,fromState:Dn,toState:qn,player:Gt,isFallbackTransition:Yi}),Yi||(Zn(N,pi),Gt.onStart(()=>{Si(N,pi)})),Gt.onDone(()=>{let Gi=this.players.indexOf(Gt);Gi>=0&&this.players.splice(Gi,1);const Xr=this._engine.playersByElement.get(N);if(Xr){let io=Xr.indexOf(Gt);io>=0&&Xr.splice(io,1)}}),this.players.push(Gt),cr.push(Gt),Gt}deregister(N){delete this._triggers[N],this._engine.statesByElement.forEach((L,oe)=>{delete L[N]}),this._elementListeners.forEach((L,oe)=>{this._elementListeners.set(oe,L.filter(He=>He.name!=N))})}clearElementCache(N){this._engine.statesByElement.delete(N),this._elementListeners.delete(N);const L=this._engine.playersByElement.get(N);L&&(L.forEach(oe=>oe.destroy()),this._engine.playersByElement.delete(N))}_signalRemovalForInnerTriggers(N,L){const oe=this._engine.driver.query(N,vt,!0);oe.forEach(He=>{if(He[Er])return;const _t=this._engine.fetchNamespacesByElement(He);_t.size?_t.forEach(Gt=>Gt.triggerLeaveAnimation(He,L,!1,!0)):this.clearElementCache(He)}),this._engine.afterFlushAnimationsDone(()=>oe.forEach(He=>this.clearElementCache(He)))}triggerLeaveAnimation(N,L,oe,He){const _t=this._engine.statesByElement.get(N),Gt=new Map;if(_t){const Lt=[];if(Object.keys(_t).forEach(Dn=>{if(Gt.set(Dn,_t[Dn].value),this._triggers[Dn]){const qn=this.trigger(N,Dn,no,He);qn&&Lt.push(qn)}}),Lt.length)return this._engine.markElementAsRemoved(this.id,N,!0,L,Gt),oe&&Vn(Lt).onDone(()=>this._engine.processLeaveNode(N)),!0}return!1}prepareLeaveAnimationListeners(N){const L=this._elementListeners.get(N),oe=this._engine.statesByElement.get(N);if(L&&oe){const He=new Set;L.forEach(_t=>{const Gt=_t.name;if(He.has(Gt))return;He.add(Gt);const Dn=this._triggers[Gt].fallbackTransition,qn=oe[Gt]||vo,xi=new Tr(no),Ai=new ls(this.id,Gt,N);this._engine.totalQueuedPlayers++,this._queue.push({element:N,triggerName:Gt,transition:Dn,fromState:qn,toState:xi,player:Ai,isFallbackTransition:!0})})}}removeNode(N,L){const oe=this._engine;if(N.childElementCount&&this._signalRemovalForInnerTriggers(N,L),this.triggerLeaveAnimation(N,L,!0))return;let He=!1;if(oe.totalAnimations){const _t=oe.players.length?oe.playersByQueriedElement.get(N):[];if(_t&&_t.length)He=!0;else{let Gt=N;for(;Gt=Gt.parentNode;)if(oe.statesByElement.get(Gt)){He=!0;break}}}if(this.prepareLeaveAnimationListeners(N),He)oe.markElementAsRemoved(this.id,N,!1,L);else{const _t=N[Er];(!_t||_t===rr)&&(oe.afterFlush(()=>this.clearElementCache(N)),oe.destroyInnerAnimations(N),oe._onRemovalComplete(N,L))}}insertNode(N,L){Zn(N,this._hostClassName)}drainQueuedTransitions(N){const L=[];return this._queue.forEach(oe=>{const He=oe.player;if(He.destroyed)return;const _t=oe.element,Gt=this._elementListeners.get(_t);Gt&&Gt.forEach(Lt=>{if(Lt.name==oe.triggerName){const Dn=wt(_t,oe.triggerName,oe.fromState.value,oe.toState.value);Dn._data=N,Pn(oe.player,Lt.phase,Dn,Lt.callback)}}),He.markedForDestroy?this._engine.afterFlush(()=>{He.destroy()}):L.push(oe)}),this._queue=[],L.sort((oe,He)=>{const _t=oe.transition.ast.depCount,Gt=He.transition.ast.depCount;return 0==_t||0==Gt?_t-Gt:this._engine.driver.containsElement(oe.element,He.element)?1:-1})}destroy(N){this.players.forEach(L=>L.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,N)}elementContainsData(N){let L=!1;return this._elementListeners.has(N)&&(L=!0),L=!!this._queue.find(oe=>oe.element===N)||L,L}}class Jo{constructor(N,L,oe){this.bodyNode=N,this.driver=L,this._normalizer=oe,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(He,_t)=>{}}_onRemovalComplete(N,L){this.onRemovalComplete(N,L)}get queuedPlayers(){const N=[];return this._namespaceList.forEach(L=>{L.players.forEach(oe=>{oe.queued&&N.push(oe)})}),N}createNamespace(N,L){const oe=new ao(N,L,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,L)?this._balanceNamespaceList(oe,L):(this.newHostElements.set(L,oe),this.collectEnterElement(L)),this._namespaceLookup[N]=oe}_balanceNamespaceList(N,L){const oe=this._namespaceList,He=this.namespacesByHostElement,_t=oe.length-1;if(_t>=0){let Gt=!1;if(void 0!==this.driver.getParentElement){let Lt=this.driver.getParentElement(L);for(;Lt;){const Dn=He.get(Lt);if(Dn){const qn=oe.indexOf(Dn);oe.splice(qn+1,0,N),Gt=!0;break}Lt=this.driver.getParentElement(Lt)}}else for(let Lt=_t;Lt>=0;Lt--)if(this.driver.containsElement(oe[Lt].hostElement,L)){oe.splice(Lt+1,0,N),Gt=!0;break}Gt||oe.unshift(N)}else oe.push(N);return He.set(L,N),N}register(N,L){let oe=this._namespaceLookup[N];return oe||(oe=this.createNamespace(N,L)),oe}registerTrigger(N,L,oe){let He=this._namespaceLookup[N];He&&He.register(L,oe)&&this.totalAnimations++}destroy(N,L){if(!N)return;const oe=this._fetchNamespace(N);this.afterFlush(()=>{this.namespacesByHostElement.delete(oe.hostElement),delete this._namespaceLookup[N];const He=this._namespaceList.indexOf(oe);He>=0&&this._namespaceList.splice(He,1)}),this.afterFlushAnimationsDone(()=>oe.destroy(L))}_fetchNamespace(N){return this._namespaceLookup[N]}fetchNamespacesByElement(N){const L=new Set,oe=this.statesByElement.get(N);if(oe){const He=Object.keys(oe);for(let _t=0;_t<He.length;_t++){const Gt=oe[He[_t]].namespaceId;if(Gt){const Lt=this._fetchNamespace(Gt);Lt&&L.add(Lt)}}}return L}trigger(N,L,oe,He){if(Fe(L)){const _t=this._fetchNamespace(N);if(_t)return _t.trigger(L,oe,He),!0}return!1}insertNode(N,L,oe,He){if(!Fe(L))return;const _t=L[Er];if(_t&&_t.setForRemoval){_t.setForRemoval=!1,_t.setForMove=!0;const Gt=this.collectedLeaveElements.indexOf(L);Gt>=0&&this.collectedLeaveElements.splice(Gt,1)}if(N){const Gt=this._fetchNamespace(N);Gt&&Gt.insertNode(L,oe)}He&&this.collectEnterElement(L)}collectEnterElement(N){this.collectedEnterElements.push(N)}markElementAsDisabled(N,L){L?this.disabledNodes.has(N)||(this.disabledNodes.add(N),Zn(N,Pi)):this.disabledNodes.has(N)&&(this.disabledNodes.delete(N),Si(N,Pi))}removeNode(N,L,oe,He){if(Fe(L)){const _t=N?this._fetchNamespace(N):null;if(_t?_t.removeNode(L,He):this.markElementAsRemoved(N,L,!1,He),oe){const Gt=this.namespacesByHostElement.get(L);Gt&&Gt.id!==N&&Gt.removeNode(L,He)}}else this._onRemovalComplete(L,He)}markElementAsRemoved(N,L,oe,He,_t){this.collectedLeaveElements.push(L),L[Er]={namespaceId:N,setForRemoval:He,hasAnimation:oe,removedBeforeQueried:!1,previousTriggersValues:_t}}listen(N,L,oe,He,_t){return Fe(L)?this._fetchNamespace(N).listen(L,oe,He,_t):()=>{}}_buildInstruction(N,L,oe,He,_t){return N.transition.build(this.driver,N.element,N.fromState.value,N.toState.value,oe,He,N.fromState.options,N.toState.options,L,_t)}destroyInnerAnimations(N){let L=this.driver.query(N,vt,!0);L.forEach(oe=>this.destroyActiveAnimationsForElement(oe)),0!=this.playersByQueriedElement.size&&(L=this.driver.query(N,Ft,!0),L.forEach(oe=>this.finishActiveQueriedAnimationOnElement(oe)))}destroyActiveAnimationsForElement(N){const L=this.playersByElement.get(N);L&&L.forEach(oe=>{oe.queued?oe.markedForDestroy=!0:oe.destroy()})}finishActiveQueriedAnimationOnElement(N){const L=this.playersByQueriedElement.get(N);L&&L.forEach(oe=>oe.finish())}whenRenderingDone(){return new Promise(N=>{if(this.players.length)return Vn(this.players).onDone(()=>N());N()})}processLeaveNode(N){var L;const oe=N[Er];if(oe&&oe.setForRemoval){if(N[Er]=rr,oe.namespaceId){this.destroyInnerAnimations(N);const He=this._fetchNamespace(oe.namespaceId);He&&He.clearElementCache(N)}this._onRemovalComplete(N,oe.setForRemoval)}(null===(L=N.classList)||void 0===L?void 0:L.contains(Pi))&&this.markElementAsDisabled(N,!1),this.driver.query(N,".ng-animate-disabled",!0).forEach(He=>{this.markElementAsDisabled(He,!1)})}flush(N=-1){let L=[];if(this.newHostElements.size&&(this.newHostElements.forEach((oe,He)=>this._balanceNamespaceList(oe,He)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let oe=0;oe<this.collectedEnterElements.length;oe++)Zn(this.collectedEnterElements[oe],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const oe=[];try{L=this._flushAnimations(oe,N)}finally{for(let He=0;He<oe.length;He++)oe[He]()}}else for(let oe=0;oe<this.collectedLeaveElements.length;oe++)this.processLeaveNode(this.collectedLeaveElements[oe]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(oe=>oe()),this._flushFns=[],this._whenQuietFns.length){const oe=this._whenQuietFns;this._whenQuietFns=[],L.length?Vn(L).onDone(()=>{oe.forEach(He=>He())}):oe.forEach(He=>He())}}reportError(N){throw function qt(me){return new d.vHH(3402,ee)}()}_flushAnimations(N,L){const oe=new zr,He=[],_t=new Map,Gt=[],Lt=new Map,Dn=new Map,qn=new Map,xi=new Set;this.disabledNodes.forEach(Fi=>{xi.add(Fi);const nr=this.driver.query(Fi,".ng-animate-queued",!0);for(let Li=0;Li<nr.length;Li++)xi.add(nr[Li])});const Ai=this.bodyNode,cr=Array.from(this.statesByElement.keys()),Rr=Tn(cr,this.collectedEnterElements),Yi=new Map;let Gi=0;Rr.forEach((Fi,nr)=>{const Li=Bi+Gi++;Yi.set(nr,Li),Fi.forEach(Ji=>Zn(Ji,Li))});const Xr=[],io=new Set,Ro=new Set;for(let Fi=0;Fi<this.collectedLeaveElements.length;Fi++){const nr=this.collectedLeaveElements[Fi],Li=nr[Er];Li&&Li.setForRemoval&&(Xr.push(nr),io.add(nr),Li.hasAnimation?this.driver.query(nr,".ng-star-inserted",!0).forEach(Ji=>io.add(Ji)):Ro.add(nr))}const ss=new Map,wr=Tn(cr,Array.from(io));wr.forEach((Fi,nr)=>{const Li=vi+Gi++;ss.set(nr,Li),Fi.forEach(Ji=>Zn(Ji,Li))}),N.push(()=>{Rr.forEach((Fi,nr)=>{const Li=Yi.get(nr);Fi.forEach(Ji=>Si(Ji,Li))}),wr.forEach((Fi,nr)=>{const Li=ss.get(nr);Fi.forEach(Ji=>Si(Ji,Li))}),Xr.forEach(Fi=>{this.processLeaveNode(Fi)})});const Pr=[],Sr=[];for(let Fi=this._namespaceList.length-1;Fi>=0;Fi--)this._namespaceList[Fi].drainQueuedTransitions(L).forEach(Li=>{const Ji=Li.player,D=Li.element;if(Pr.push(Ji),this.collectedEnterElements.length){const Ri=D[Er];if(Ri&&Ri.setForMove){if(Ri.previousTriggersValues&&Ri.previousTriggersValues.has(Li.triggerName)){const Cr=Ri.previousTriggersValues.get(Li.triggerName),Br=this.statesByElement.get(Li.element);Br&&Br[Li.triggerName]&&(Br[Li.triggerName].value=Cr)}return void Ji.destroy()}}const $=!Ai||!this.driver.containsElement(Ai,D),we=ss.get(D),et=Yi.get(D),kt=this._buildInstruction(Li,oe,et,we,$);if(kt.errors&&kt.errors.length)return void Sr.push(kt);if($)return Ji.onStart(()=>Sn(D,kt.fromStyles)),Ji.onDestroy(()=>on(D,kt.toStyles)),void He.push(Ji);if(Li.isFallbackTransition)return Ji.onStart(()=>Sn(D,kt.fromStyles)),Ji.onDestroy(()=>on(D,kt.toStyles)),void He.push(Ji);const Cn=[];kt.timelines.forEach(Ri=>{Ri.stretchStartingKeyframe=!0,this.disabledNodes.has(Ri.element)||Cn.push(Ri)}),kt.timelines=Cn,oe.append(D,kt.timelines),Gt.push({instruction:kt,player:Ji,element:D}),kt.queriedElements.forEach(Ri=>cn(Lt,Ri,[]).push(Ji)),kt.preStyleProps.forEach((Ri,Cr)=>{const Br=Object.keys(Ri);if(Br.length){let co=Dn.get(Cr);co||Dn.set(Cr,co=new Set),Br.forEach(Mo=>co.add(Mo))}}),kt.postStyleProps.forEach((Ri,Cr)=>{const Br=Object.keys(Ri);let co=qn.get(Cr);co||qn.set(Cr,co=new Set),Br.forEach(Mo=>co.add(Mo))})});if(Sr.length){const Fi=[];Sr.forEach(nr=>{Fi.push(function Ht(me,N){return new d.vHH(3505,ee)}())}),Pr.forEach(nr=>nr.destroy()),this.reportError(Fi)}const xo=new Map,ro=new Map;Gt.forEach(Fi=>{const nr=Fi.element;oe.has(nr)&&(ro.set(nr,nr),this._beforeAnimationBuild(Fi.player.namespaceId,Fi.instruction,xo))}),He.forEach(Fi=>{const nr=Fi.element;this._getPreviousPlayers(nr,!1,Fi.namespaceId,Fi.triggerName,null).forEach(Ji=>{cn(xo,nr,[]).push(Ji),Ji.destroy()})});const Vo=Xr.filter(Fi=>kr(Fi,Dn,qn)),cs=new Map;Jt(cs,this.driver,Ro,qn,e.l3).forEach(Fi=>{kr(Fi,Dn,qn)&&Vo.push(Fi)});const Ho=new Map;Rr.forEach((Fi,nr)=>{Jt(Ho,this.driver,new Set(Fi),Dn,e.k1)}),Vo.forEach(Fi=>{const nr=cs.get(Fi),Li=Ho.get(Fi);cs.set(Fi,Object.assign(Object.assign({},nr),Li))});const eo=[],Xo=[],ea={};Gt.forEach(Fi=>{const{element:nr,player:Li,instruction:Ji}=Fi;if(oe.has(nr)){if(xi.has(nr))return Li.onDestroy(()=>on(nr,Ji.toStyles)),Li.disabled=!0,Li.overrideTotalTime(Ji.totalTime),void He.push(Li);let D=ea;if(ro.size>1){let we=nr;const et=[];for(;we=we.parentNode;){const kt=ro.get(we);if(kt){D=kt;break}et.push(we)}et.forEach(kt=>ro.set(kt,D))}const $=this._buildAnimation(Li.namespaceId,Ji,xo,_t,Ho,cs);if(Li.setRealPlayer($),D===ea)eo.push(Li);else{const we=this.playersByElement.get(D);we&&we.length&&(Li.parentPlayer=Vn(we)),He.push(Li)}}else Sn(nr,Ji.fromStyles),Li.onDestroy(()=>on(nr,Ji.toStyles)),Xo.push(Li),xi.has(nr)&&He.push(Li)}),Xo.forEach(Fi=>{const nr=_t.get(Fi.element);if(nr&&nr.length){const Li=Vn(nr);Fi.setRealPlayer(Li)}}),He.forEach(Fi=>{Fi.parentPlayer?Fi.syncPlayerEvents(Fi.parentPlayer):Fi.destroy()});for(let Fi=0;Fi<Xr.length;Fi++){const nr=Xr[Fi],Li=nr[Er];if(Si(nr,vi),Li&&Li.hasAnimation)continue;let Ji=[];if(Lt.size){let $=Lt.get(nr);$&&$.length&&Ji.push(...$);let we=this.driver.query(nr,Ft,!0);for(let et=0;et<we.length;et++){let kt=Lt.get(we[et]);kt&&kt.length&&Ji.push(...kt)}}const D=Ji.filter($=>!$.destroyed);D.length?Zr(this,nr,D):this.processLeaveNode(nr)}return Xr.length=0,eo.forEach(Fi=>{this.players.push(Fi),Fi.onDone(()=>{Fi.destroy();const nr=this.players.indexOf(Fi);this.players.splice(nr,1)}),Fi.play()}),eo}elementContainsData(N,L){let oe=!1;const He=L[Er];return He&&He.setForRemoval&&(oe=!0),this.playersByElement.has(L)&&(oe=!0),this.playersByQueriedElement.has(L)&&(oe=!0),this.statesByElement.has(L)&&(oe=!0),this._fetchNamespace(N).elementContainsData(L)||oe}afterFlush(N){this._flushFns.push(N)}afterFlushAnimationsDone(N){this._whenQuietFns.push(N)}_getPreviousPlayers(N,L,oe,He,_t){let Gt=[];if(L){const Lt=this.playersByQueriedElement.get(N);Lt&&(Gt=Lt)}else{const Lt=this.playersByElement.get(N);if(Lt){const Dn=!_t||_t==no;Lt.forEach(qn=>{qn.queued||!Dn&&qn.triggerName!=He||Gt.push(qn)})}}return(oe||He)&&(Gt=Gt.filter(Lt=>!(oe&&oe!=Lt.namespaceId||He&&He!=Lt.triggerName))),Gt}_beforeAnimationBuild(N,L,oe){const _t=L.element,Gt=L.isRemovalTransition?void 0:N,Lt=L.isRemovalTransition?void 0:L.triggerName;for(const Dn of L.timelines){const qn=Dn.element,xi=qn!==_t,Ai=cn(oe,qn,[]);this._getPreviousPlayers(qn,xi,Gt,Lt,L.toState).forEach(Rr=>{const Yi=Rr.getRealPlayer();Yi.beforeDestroy&&Yi.beforeDestroy(),Rr.destroy(),Ai.push(Rr)})}Sn(_t,L.fromStyles)}_buildAnimation(N,L,oe,He,_t,Gt){const Lt=L.triggerName,Dn=L.element,qn=[],xi=new Set,Ai=new Set,cr=L.timelines.map(Yi=>{const Gi=Yi.element;xi.add(Gi);const Xr=Gi[Er];if(Xr&&Xr.removedBeforeQueried)return new e.ZN(Yi.duration,Yi.delay);const io=Gi!==Dn,Ro=function Ir(me){const N=[];return br(me,N),N}((oe.get(Gi)||Lr).map(xo=>xo.getRealPlayer())).filter(xo=>!!xo.element&&xo.element===Gi),ss=_t.get(Gi),wr=Gt.get(Gi),Pr=di(0,this._normalizer,0,Yi.keyframes,ss,wr),Sr=this._buildPlayer(Yi,Pr,Ro);if(Yi.subTimeline&&He&&Ai.add(Gi),io){const xo=new ls(N,Lt,Gi);xo.setRealPlayer(Sr),qn.push(xo)}return Sr});qn.forEach(Yi=>{cn(this.playersByQueriedElement,Yi.element,[]).push(Yi),Yi.onDone(()=>function pr(me,N,L){let oe;if(me instanceof Map){if(oe=me.get(N),oe){if(oe.length){const He=oe.indexOf(L);oe.splice(He,1)}0==oe.length&&me.delete(N)}}else if(oe=me[N],oe){if(oe.length){const He=oe.indexOf(L);oe.splice(He,1)}0==oe.length&&delete me[N]}return oe}(this.playersByQueriedElement,Yi.element,Yi))}),xi.forEach(Yi=>Zn(Yi,Nt));const Rr=Vn(cr);return Rr.onDestroy(()=>{xi.forEach(Yi=>Si(Yi,Nt)),on(Dn,L.toStyles)}),Ai.forEach(Yi=>{cn(He,Yi,[]).push(Rr)}),Rr}_buildPlayer(N,L,oe){return L.length>0?this.driver.animate(N.element,L,N.duration,N.delay,N.easing,oe):new e.ZN(N.duration,N.delay)}}class ls{constructor(N,L,oe){this.namespaceId=N,this.triggerName=L,this.element=oe,this._player=new e.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(N){this._containsRealPlayer||(this._player=N,Object.keys(this._queuedCallbacks).forEach(L=>{this._queuedCallbacks[L].forEach(oe=>Pn(N,L,void 0,oe))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(N.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(N){this.totalTime=N}syncPlayerEvents(N){const L=this._player;L.triggerCallback&&N.onStart(()=>L.triggerCallback("start")),N.onDone(()=>this.finish()),N.onDestroy(()=>this.destroy())}_queueEvent(N,L){cn(this._queuedCallbacks,N,[]).push(L)}onDone(N){this.queued&&this._queueEvent("done",N),this._player.onDone(N)}onStart(N){this.queued&&this._queueEvent("start",N),this._player.onStart(N)}onDestroy(N){this.queued&&this._queueEvent("destroy",N),this._player.onDestroy(N)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(N){this.queued||this._player.setPosition(N)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(N){const L=this._player;L.triggerCallback&&L.triggerCallback(N)}}function Fe(me){return me&&1===me.nodeType}function ot(me,N){const L=me.style.display;return me.style.display=null!=N?N:"none",L}function Jt(me,N,L,oe,He){const _t=[];L.forEach(Dn=>_t.push(ot(Dn)));const Gt=[];oe.forEach((Dn,qn)=>{const xi={};Dn.forEach(Ai=>{const cr=xi[Ai]=N.computeStyle(qn,Ai,He);(!cr||0==cr.length)&&(qn[Er]=_o,Gt.push(qn))}),me.set(qn,xi)});let Lt=0;return L.forEach(Dn=>ot(Dn,_t[Lt++])),Gt}function Tn(me,N){const L=new Map;if(me.forEach(Lt=>L.set(Lt,[])),0==N.length)return L;const He=new Set(N),_t=new Map;function Gt(Lt){if(!Lt)return 1;let Dn=_t.get(Lt);if(Dn)return Dn;const qn=Lt.parentNode;return Dn=L.has(qn)?qn:He.has(qn)?1:Gt(qn),_t.set(Lt,Dn),Dn}return N.forEach(Lt=>{const Dn=Gt(Lt);1!==Dn&&L.get(Dn).push(Lt)}),L}function Zn(me,N){var L;null===(L=me.classList)||void 0===L||L.add(N)}function Si(me,N){var L;null===(L=me.classList)||void 0===L||L.remove(N)}function Zr(me,N,L){Vn(L).onDone(()=>me.processLeaveNode(N))}function br(me,N){for(let L=0;L<me.length;L++){const oe=me[L];oe instanceof e.ZE?br(oe.players,N):N.push(oe)}}function kr(me,N,L){const oe=L.get(me);if(!oe)return!1;let He=N.get(me);return He?oe.forEach(_t=>He.add(_t)):N.set(me,oe),L.delete(me),!0}class lo{constructor(N,L,oe){this.bodyNode=N,this._driver=L,this._normalizer=oe,this._triggerCache={},this.onRemovalComplete=(He,_t)=>{},this._transitionEngine=new Jo(N,L,oe),this._timelineEngine=new ii(N,L,oe),this._transitionEngine.onRemovalComplete=(He,_t)=>this.onRemovalComplete(He,_t)}registerTrigger(N,L,oe,He,_t){const Gt=N+"-"+He;let Lt=this._triggerCache[Gt];if(!Lt){const Dn=[],xi=ur(this._driver,_t,Dn,[]);if(Dn.length)throw function Ee(me,N){return new d.vHH(3404,ee)}();Lt=function se(me,N,L){return new ft(me,N,L)}(He,xi,this._normalizer),this._triggerCache[Gt]=Lt}this._transitionEngine.registerTrigger(L,He,Lt)}register(N,L){this._transitionEngine.register(N,L)}destroy(N,L){this._transitionEngine.destroy(N,L)}onInsert(N,L,oe,He){this._transitionEngine.insertNode(N,L,oe,He)}onRemove(N,L,oe,He){this._transitionEngine.removeNode(N,L,He||!1,oe)}disableAnimations(N,L){this._transitionEngine.markElementAsDisabled(N,L)}process(N,L,oe,He){if("@"==oe.charAt(0)){const[_t,Gt]=Gn(oe);this._timelineEngine.command(_t,L,Gt,He)}else this._transitionEngine.trigger(N,L,oe,He)}listen(N,L,oe,He,_t){if("@"==oe.charAt(0)){const[Gt,Lt]=Gn(oe);return this._timelineEngine.listen(Gt,L,Lt,_t)}return this._transitionEngine.listen(N,L,oe,He,_t)}flush(N=-1){this._transitionEngine.flush(N)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ve=(()=>{class me{constructor(L,oe,He){this._element=L,this._startStyles=oe,this._endStyles=He,this._state=0;let _t=me.initialStylesByElement.get(L);_t||me.initialStylesByElement.set(L,_t={}),this._initialStyles=_t}start(){this._state<1&&(this._startStyles&&on(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(on(this._element,this._initialStyles),this._endStyles&&(on(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(me.initialStylesByElement.delete(this._element),this._startStyles&&(Sn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Sn(this._element,this._endStyles),this._endStyles=null),on(this._element,this._initialStyles),this._state=3)}}return me.initialStylesByElement=new WeakMap,me})();function re(me){let N=null;const L=Object.keys(me);for(let oe=0;oe<L.length;oe++){const He=L[oe];Y(He)&&(N=N||{},N[He]=me[He])}return N}function Y(me){return"display"===me||"position"===me}class We{constructor(N,L,oe,He){this.element=N,this.keyframes=L,this.options=oe,this._specialStyles=He,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=oe.duration,this._delay=oe.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(N=>N()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const N=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,N,this.options),this._finalKeyframe=N.length?N[N.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(N,L,oe){return N.animate(L,oe)}onStart(N){this._onStartFns.push(N)}onDone(N){this._onDoneFns.push(N)}onDestroy(N){this._onDestroyFns.push(N)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(N=>N()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(N=>N()),this._onDestroyFns=[])}setPosition(N){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=N*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const N={};if(this.hasStarted()){const L=this._finalKeyframe;Object.keys(L).forEach(oe=>{"offset"!=oe&&(N[oe]=this._finished?L[oe]:si(this.element,oe))})}this.currentSnapshot=N}triggerCallback(N){const L="start"==N?this._onStartFns:this._onDoneFns;L.forEach(oe=>oe()),L.length=0}}class Un{validateStyleProperty(N){return ye(N)}matchesElement(N,L){return!1}containsElement(N,L){return pt(N,L)}getParentElement(N){return li(N)}query(N,L,oe){return Rt(N,L,oe)}computeStyle(N,L,oe){return window.getComputedStyle(N)[L]}animate(N,L,oe,He,_t,Gt=[]){const Dn={duration:oe,delay:He,fill:0==He?"both":"forwards"};_t&&(Dn.easing=_t);const qn={},xi=Gt.filter(cr=>cr instanceof We);(function jt(me,N){return 0===me||0===N})(oe,He)&&xi.forEach(cr=>{let Rr=cr.currentSnapshot;Object.keys(Rr).forEach(Yi=>qn[Yi]=Rr[Yi])}),L=function In(me,N,L){const oe=Object.keys(L);if(oe.length&&N.length){let _t=N[0],Gt=[];if(oe.forEach(Lt=>{_t.hasOwnProperty(Lt)||Gt.push(Lt),_t[Lt]=L[Lt]}),Gt.length)for(var He=1;He<N.length;He++){let Lt=N[He];Gt.forEach(function(Dn){Lt[Dn]=si(me,Dn)})}}return N}(N,L=L.map(cr=>ut(cr,!1)),qn);const Ai=function No(me,N){let L=null,oe=null;return Array.isArray(N)&&N.length?(L=re(N[0]),N.length>1&&(oe=re(N[N.length-1]))):N&&(L=re(N)),L||oe?new ve(me,L,oe):null}(N,L);return new We(N,L,Dn,Ai)}}var Ti=A(9808);let Yr=(()=>{class me extends e._j{constructor(L,oe){super(),this._nextAnimationId=0,this._renderer=L.createRenderer(oe.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(L){const oe=this._nextAnimationId.toString();this._nextAnimationId++;const He=Array.isArray(L)?(0,e.vP)(L):L;return Ur(this._renderer,null,oe,"register",[He]),new go(oe,this._renderer)}}return me.\u0275fac=function(L){return new(L||me)(d.LFG(d.FYo),d.LFG(Ti.K0))},me.\u0275prov=d.Yz7({token:me,factory:me.\u0275fac}),me})();class go extends e.LC{constructor(N,L){super(),this._id=N,this._renderer=L}create(N,L){return new qr(this._id,N,L||{},this._renderer)}}class qr{constructor(N,L,oe,He){this.id=N,this.element=L,this._renderer=He,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",oe)}_listen(N,L){return this._renderer.listen(this.element,`@@${this.id}:${N}`,L)}_command(N,...L){return Ur(this._renderer,this.element,this.id,N,L)}onDone(N){this._listen("done",N)}onStart(N){this._listen("start",N)}onDestroy(N){this._listen("destroy",N)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(N){this._command("setPosition",N)}getPosition(){var N,L;return null!==(L=null===(N=this._renderer.engine.players[+this.id])||void 0===N?void 0:N.getPosition())&&void 0!==L?L:0}}function Ur(me,N,L,oe,He){return me.setProperty(N,`@@${L}:${oe}`,He)}const Kr="@.disabled";let Ha=(()=>{class me{constructor(L,oe,He){this.delegate=L,this.engine=oe,this._zone=He,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),oe.onRemovalComplete=(_t,Gt)=>{const Lt=null==Gt?void 0:Gt.parentNode(_t);Lt&&Gt.removeChild(Lt,_t)}}createRenderer(L,oe){const _t=this.delegate.createRenderer(L,oe);if(!(L&&oe&&oe.data&&oe.data.animation)){let xi=this._rendererCache.get(_t);return xi||(xi=new Qi("",_t,this.engine),this._rendererCache.set(_t,xi)),xi}const Gt=oe.id,Lt=oe.id+"-"+this._currentId;this._currentId++,this.engine.register(Lt,L);const Dn=xi=>{Array.isArray(xi)?xi.forEach(Dn):this.engine.registerTrigger(Gt,Lt,L,xi.name,xi)};return oe.data.animation.forEach(Dn),new Ts(this,Lt,_t,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(L,oe,He){L>=0&&L<this._microtaskId?this._zone.run(()=>oe(He)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(_t=>{const[Gt,Lt]=_t;Gt(Lt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([oe,He]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return me.\u0275fac=function(L){return new(L||me)(d.LFG(d.FYo),d.LFG(lo),d.LFG(d.R0b))},me.\u0275prov=d.Yz7({token:me,factory:me.\u0275fac}),me})();class Qi{constructor(N,L,oe){this.namespaceId=N,this.delegate=L,this.engine=oe,this.destroyNode=this.delegate.destroyNode?He=>L.destroyNode(He):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(N,L){return this.delegate.createElement(N,L)}createComment(N){return this.delegate.createComment(N)}createText(N){return this.delegate.createText(N)}appendChild(N,L){this.delegate.appendChild(N,L),this.engine.onInsert(this.namespaceId,L,N,!1)}insertBefore(N,L,oe,He=!0){this.delegate.insertBefore(N,L,oe),this.engine.onInsert(this.namespaceId,L,N,He)}removeChild(N,L,oe){this.engine.onRemove(this.namespaceId,L,this.delegate,oe)}selectRootElement(N,L){return this.delegate.selectRootElement(N,L)}parentNode(N){return this.delegate.parentNode(N)}nextSibling(N){return this.delegate.nextSibling(N)}setAttribute(N,L,oe,He){this.delegate.setAttribute(N,L,oe,He)}removeAttribute(N,L,oe){this.delegate.removeAttribute(N,L,oe)}addClass(N,L){this.delegate.addClass(N,L)}removeClass(N,L){this.delegate.removeClass(N,L)}setStyle(N,L,oe,He){this.delegate.setStyle(N,L,oe,He)}removeStyle(N,L,oe){this.delegate.removeStyle(N,L,oe)}setProperty(N,L,oe){"@"==L.charAt(0)&&L==Kr?this.disableAnimations(N,!!oe):this.delegate.setProperty(N,L,oe)}setValue(N,L){this.delegate.setValue(N,L)}listen(N,L,oe){return this.delegate.listen(N,L,oe)}disableAnimations(N,L){this.engine.disableAnimations(N,L)}}class Ts extends Qi{constructor(N,L,oe,He){super(L,oe,He),this.factory=N,this.namespaceId=L}setProperty(N,L,oe){"@"==L.charAt(0)?"."==L.charAt(1)&&L==Kr?this.disableAnimations(N,oe=void 0===oe||!!oe):this.engine.process(this.namespaceId,N,L.substr(1),oe):this.delegate.setProperty(N,L,oe)}listen(N,L,oe){if("@"==L.charAt(0)){const He=function Nr(me){switch(me){case"body":return document.body;case"document":return document;case"window":return window;default:return me}}(N);let _t=L.substr(1),Gt="";return"@"!=_t.charAt(0)&&([_t,Gt]=function $r(me){const N=me.indexOf(".");return[me.substring(0,N),me.substr(N+1)]}(_t)),this.engine.listen(this.namespaceId,He,_t,Gt,Lt=>{this.factory.scheduleListenerCallback(Lt._data||-1,oe,Lt)})}return this.delegate.listen(N,L,oe)}}let Bo=(()=>{class me extends lo{constructor(L,oe,He){super(L.body,oe,He)}ngOnDestroy(){this.flush()}}return me.\u0275fac=function(L){return new(L||me)(d.LFG(Ti.K0),d.LFG(Wn),d.LFG(To))},me.\u0275prov=d.Yz7({token:me,factory:me.\u0275fac}),me})();const Ws=new d.OlP("AnimationModuleType"),hs=[{provide:e._j,useClass:Yr},{provide:To,useFactory:function As(){return new Io}},{provide:lo,useClass:Bo},{provide:d.FYo,useFactory:function Hr(me,N,L){return new Ha(me,N,L)},deps:[_.se,lo,d.R0b]}],Is=[{provide:Wn,useFactory:()=>new Un},{provide:Ws,useValue:"BrowserAnimations"},...hs],mr=[{provide:Wn,useClass:On},{provide:Ws,useValue:"NoopAnimations"},...hs];let qo=(()=>{class me{static withConfig(L){return{ngModule:me,providers:L.disableAnimations?mr:Is}}}return me.\u0275fac=function(L){return new(L||me)},me.\u0275mod=d.oAB({type:me}),me.\u0275inj=d.cJS({providers:Is,imports:[_.b2]}),me})()},2313:(Xn,Vt,A)=>{"use strict";A.d(Vt,{b2:()=>$n,H7:()=>Ct,q6:()=>cn,se:()=>Xe});var d=A(9808),_=A(5e3);class e extends d.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ee extends e{static makeCurrent(){(0,d.HT)(new ee)}onAndCancel(Pt,yt,Zt){return Pt.addEventListener(yt,Zt,!1),()=>{Pt.removeEventListener(yt,Zt,!1)}}dispatchEvent(Pt,yt){Pt.dispatchEvent(yt)}remove(Pt){Pt.parentNode&&Pt.parentNode.removeChild(Pt)}createElement(Pt,yt){return(yt=yt||this.getDefaultDocument()).createElement(Pt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Pt){return Pt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Pt){return Pt instanceof DocumentFragment}getGlobalEventTarget(Pt,yt){return"window"===yt?window:"document"===yt?Pt:"body"===yt?Pt.body:null}getBaseHref(Pt){const yt=function xe(){return W=W||document.querySelector("base"),W?W.getAttribute("href"):null}();return null==yt?null:function ze(rn){pe=pe||document.createElement("a"),pe.setAttribute("href",rn);const Pt=pe.pathname;return"/"===Pt.charAt(0)?Pt:`/${Pt}`}(yt)}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}getCookie(Pt){return(0,d.Mx)(document.cookie,Pt)}}let pe,W=null;const Ve=new _.OlP("TRANSITION_ID"),qe=[{provide:_.ip1,useFactory:function Q(rn,Pt,yt){return()=>{yt.get(_.CZH).donePromise.then(()=>{const Zt=(0,d.q)(),Ln=Pt.querySelectorAll(`style[ng-transition="${rn}"]`);for(let pn=0;pn<Ln.length;pn++)Zt.remove(Ln[pn])})}},deps:[Ve,d.K0,_.zs3],multi:!0}];class je{static init(){(0,_.VLi)(new je)}addToWindow(Pt){_.dqk.getAngularTestability=(Zt,Ln=!0)=>{const pn=Pt.findTestabilityInTree(Zt,Ln);if(null==pn)throw new Error("Could not find testability for element.");return pn},_.dqk.getAllAngularTestabilities=()=>Pt.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>Pt.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(Zt=>{const Ln=_.dqk.getAllAngularTestabilities();let pn=Ln.length,Et=!1;const ct=function(jt){Et=Et||jt,pn--,0==pn&&Zt(Et)};Ln.forEach(function(jt){jt.whenStable(ct)})})}findTestabilityInTree(Pt,yt,Zt){if(null==yt)return null;const Ln=Pt.getTestability(yt);return null!=Ln?Ln:Zt?(0,d.q)().isShadowRoot(yt)?this.findTestabilityInTree(Pt,yt.host,!0):this.findTestabilityInTree(Pt,yt.parentElement,!0):null}}let at=(()=>{class rn{build(){return new XMLHttpRequest}}return rn.\u0275fac=function(yt){return new(yt||rn)},rn.\u0275prov=_.Yz7({token:rn,factory:rn.\u0275fac}),rn})();const ke=new _.OlP("EventManagerPlugins");let Ke=(()=>{class rn{constructor(yt,Zt){this._zone=Zt,this._eventNameToPlugin=new Map,yt.forEach(Ln=>Ln.manager=this),this._plugins=yt.slice().reverse()}addEventListener(yt,Zt,Ln){return this._findPluginFor(Zt).addEventListener(yt,Zt,Ln)}addGlobalEventListener(yt,Zt,Ln){return this._findPluginFor(Zt).addGlobalEventListener(yt,Zt,Ln)}getZone(){return this._zone}_findPluginFor(yt){const Zt=this._eventNameToPlugin.get(yt);if(Zt)return Zt;const Ln=this._plugins;for(let pn=0;pn<Ln.length;pn++){const Et=Ln[pn];if(Et.supports(yt))return this._eventNameToPlugin.set(yt,Et),Et}throw new Error(`No event manager plugin found for event ${yt}`)}}return rn.\u0275fac=function(yt){return new(yt||rn)(_.LFG(ke),_.LFG(_.R0b))},rn.\u0275prov=_.Yz7({token:rn,factory:rn.\u0275fac}),rn})();class dt{constructor(Pt){this._doc=Pt}addGlobalEventListener(Pt,yt,Zt){const Ln=(0,d.q)().getGlobalEventTarget(this._doc,Pt);if(!Ln)throw new Error(`Unsupported event target ${Ln} for event ${yt}`);return this.addEventListener(Ln,yt,Zt)}}let it=(()=>{class rn{constructor(){this._stylesSet=new Set}addStyles(yt){const Zt=new Set;yt.forEach(Ln=>{this._stylesSet.has(Ln)||(this._stylesSet.add(Ln),Zt.add(Ln))}),this.onStylesAdded(Zt)}onStylesAdded(yt){}getAllStyles(){return Array.from(this._stylesSet)}}return rn.\u0275fac=function(yt){return new(yt||rn)},rn.\u0275prov=_.Yz7({token:rn,factory:rn.\u0275fac}),rn})(),Dt=(()=>{class rn extends it{constructor(yt){super(),this._doc=yt,this._hostNodes=new Map,this._hostNodes.set(yt.head,[])}_addStylesToHost(yt,Zt,Ln){yt.forEach(pn=>{const Et=this._doc.createElement("style");Et.textContent=pn,Ln.push(Zt.appendChild(Et))})}addHost(yt){const Zt=[];this._addStylesToHost(this._stylesSet,yt,Zt),this._hostNodes.set(yt,Zt)}removeHost(yt){const Zt=this._hostNodes.get(yt);Zt&&Zt.forEach(Tt),this._hostNodes.delete(yt)}onStylesAdded(yt){this._hostNodes.forEach((Zt,Ln)=>{this._addStylesToHost(yt,Ln,Zt)})}ngOnDestroy(){this._hostNodes.forEach(yt=>yt.forEach(Tt))}}return rn.\u0275fac=function(yt){return new(yt||rn)(_.LFG(d.K0))},rn.\u0275prov=_.Yz7({token:rn,factory:rn.\u0275fac}),rn})();function Tt(rn){(0,d.q)().remove(rn)}const hn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},gt=/%COMP%/g;function Ze(rn,Pt,yt){for(let Zt=0;Zt<Pt.length;Zt++){let Ln=Pt[Zt];Array.isArray(Ln)?Ze(rn,Ln,yt):(Ln=Ln.replace(gt,rn),yt.push(Ln))}return yt}function Ee(rn){return Pt=>{if("__ngUnwrap__"===Pt)return rn;!1===rn(Pt)&&(Pt.preventDefault(),Pt.returnValue=!1)}}let Xe=(()=>{class rn{constructor(yt,Zt,Ln){this.eventManager=yt,this.sharedStylesHost=Zt,this.appId=Ln,this.rendererByCompId=new Map,this.defaultRenderer=new st(yt)}createRenderer(yt,Zt){if(!yt||!Zt)return this.defaultRenderer;switch(Zt.encapsulation){case _.ifc.Emulated:{let Ln=this.rendererByCompId.get(Zt.id);return Ln||(Ln=new wn(this.eventManager,this.sharedStylesHost,Zt,this.appId),this.rendererByCompId.set(Zt.id,Ln)),Ln.applyToHost(yt),Ln}case 1:case _.ifc.ShadowDom:return new mn(this.eventManager,this.sharedStylesHost,yt,Zt);default:if(!this.rendererByCompId.has(Zt.id)){const Ln=Ze(Zt.id,Zt.styles,[]);this.sharedStylesHost.addStyles(Ln),this.rendererByCompId.set(Zt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return rn.\u0275fac=function(yt){return new(yt||rn)(_.LFG(Ke),_.LFG(Dt),_.LFG(_.AFp))},rn.\u0275prov=_.Yz7({token:rn,factory:rn.\u0275fac}),rn})();class st{constructor(Pt){this.eventManager=Pt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Pt,yt){return yt?document.createElementNS(hn[yt]||yt,Pt):document.createElement(Pt)}createComment(Pt){return document.createComment(Pt)}createText(Pt){return document.createTextNode(Pt)}appendChild(Pt,yt){Pt.appendChild(yt)}insertBefore(Pt,yt,Zt){Pt&&Pt.insertBefore(yt,Zt)}removeChild(Pt,yt){Pt&&Pt.removeChild(yt)}selectRootElement(Pt,yt){let Zt="string"==typeof Pt?document.querySelector(Pt):Pt;if(!Zt)throw new Error(`The selector "${Pt}" did not match any elements`);return yt||(Zt.textContent=""),Zt}parentNode(Pt){return Pt.parentNode}nextSibling(Pt){return Pt.nextSibling}setAttribute(Pt,yt,Zt,Ln){if(Ln){yt=Ln+":"+yt;const pn=hn[Ln];pn?Pt.setAttributeNS(pn,yt,Zt):Pt.setAttribute(yt,Zt)}else Pt.setAttribute(yt,Zt)}removeAttribute(Pt,yt,Zt){if(Zt){const Ln=hn[Zt];Ln?Pt.removeAttributeNS(Ln,yt):Pt.removeAttribute(`${Zt}:${yt}`)}else Pt.removeAttribute(yt)}addClass(Pt,yt){Pt.classList.add(yt)}removeClass(Pt,yt){Pt.classList.remove(yt)}setStyle(Pt,yt,Zt,Ln){Ln&(_.JOm.DashCase|_.JOm.Important)?Pt.style.setProperty(yt,Zt,Ln&_.JOm.Important?"important":""):Pt.style[yt]=Zt}removeStyle(Pt,yt,Zt){Zt&_.JOm.DashCase?Pt.style.removeProperty(yt):Pt.style[yt]=""}setProperty(Pt,yt,Zt){Pt[yt]=Zt}setValue(Pt,yt){Pt.nodeValue=yt}listen(Pt,yt,Zt){return"string"==typeof Pt?this.eventManager.addGlobalEventListener(Pt,yt,Ee(Zt)):this.eventManager.addEventListener(Pt,yt,Ee(Zt))}}class wn extends st{constructor(Pt,yt,Zt,Ln){super(Pt),this.component=Zt;const pn=Ze(Ln+"-"+Zt.id,Zt.styles,[]);yt.addStyles(pn),this.contentAttr=function bt(rn){return"_ngcontent-%COMP%".replace(gt,rn)}(Ln+"-"+Zt.id),this.hostAttr=function tt(rn){return"_nghost-%COMP%".replace(gt,rn)}(Ln+"-"+Zt.id)}applyToHost(Pt){super.setAttribute(Pt,this.hostAttr,"")}createElement(Pt,yt){const Zt=super.createElement(Pt,yt);return super.setAttribute(Zt,this.contentAttr,""),Zt}}class mn extends st{constructor(Pt,yt,Zt,Ln){super(Pt),this.sharedStylesHost=yt,this.hostEl=Zt,this.shadowRoot=Zt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const pn=Ze(Ln.id,Ln.styles,[]);for(let Et=0;Et<pn.length;Et++){const ct=document.createElement("style");ct.textContent=pn[Et],this.shadowRoot.appendChild(ct)}}nodeOrShadowRoot(Pt){return Pt===this.hostEl?this.shadowRoot:Pt}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Pt,yt){return super.appendChild(this.nodeOrShadowRoot(Pt),yt)}insertBefore(Pt,yt,Zt){return super.insertBefore(this.nodeOrShadowRoot(Pt),yt,Zt)}removeChild(Pt,yt){return super.removeChild(this.nodeOrShadowRoot(Pt),yt)}parentNode(Pt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Pt)))}}let bn=(()=>{class rn extends dt{constructor(yt){super(yt)}supports(yt){return!0}addEventListener(yt,Zt,Ln){return yt.addEventListener(Zt,Ln,!1),()=>this.removeEventListener(yt,Zt,Ln)}removeEventListener(yt,Zt,Ln){return yt.removeEventListener(Zt,Ln)}}return rn.\u0275fac=function(yt){return new(yt||rn)(_.LFG(d.K0))},rn.\u0275prov=_.Yz7({token:rn,factory:rn.\u0275fac}),rn})();const zt=["alt","control","meta","shift"],Kt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ht={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},_n={alt:rn=>rn.altKey,control:rn=>rn.ctrlKey,meta:rn=>rn.metaKey,shift:rn=>rn.shiftKey};let an=(()=>{class rn extends dt{constructor(yt){super(yt)}supports(yt){return null!=rn.parseEventName(yt)}addEventListener(yt,Zt,Ln){const pn=rn.parseEventName(Zt),Et=rn.eventCallback(pn.fullKey,Ln,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.q)().onAndCancel(yt,pn.domEventName,Et))}static parseEventName(yt){const Zt=yt.toLowerCase().split("."),Ln=Zt.shift();if(0===Zt.length||"keydown"!==Ln&&"keyup"!==Ln)return null;const pn=rn._normalizeKey(Zt.pop());let Et="";if(zt.forEach(jt=>{const In=Zt.indexOf(jt);In>-1&&(Zt.splice(In,1),Et+=jt+".")}),Et+=pn,0!=Zt.length||0===pn.length)return null;const ct={};return ct.domEventName=Ln,ct.fullKey=Et,ct}static getEventFullKey(yt){let Zt="",Ln=function Vn(rn){let Pt=rn.key;if(null==Pt){if(Pt=rn.keyIdentifier,null==Pt)return"Unidentified";Pt.startsWith("U+")&&(Pt=String.fromCharCode(parseInt(Pt.substring(2),16)),3===rn.location&&Ht.hasOwnProperty(Pt)&&(Pt=Ht[Pt]))}return Kt[Pt]||Pt}(yt);return Ln=Ln.toLowerCase()," "===Ln?Ln="space":"."===Ln&&(Ln="dot"),zt.forEach(pn=>{pn!=Ln&&_n[pn](yt)&&(Zt+=pn+".")}),Zt+=Ln,Zt}static eventCallback(yt,Zt,Ln){return pn=>{rn.getEventFullKey(pn)===yt&&Ln.runGuarded(()=>Zt(pn))}}static _normalizeKey(yt){return"esc"===yt?"escape":yt}}return rn.\u0275fac=function(yt){return new(yt||rn)(_.LFG(d.K0))},rn.\u0275prov=_.Yz7({token:rn,factory:rn.\u0275fac}),rn})();const cn=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:d.bD},{provide:_.g9A,useValue:function di(){ee.makeCurrent(),je.init()},multi:!0},{provide:d.K0,useFactory:function jn(){return(0,_.RDi)(document),document},deps:[]}]),Gn=[{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function Pn(){return new _.qLn},deps:[]},{provide:ke,useClass:bn,multi:!0,deps:[d.K0,_.R0b,_.Lbi]},{provide:ke,useClass:an,multi:!0,deps:[d.K0]},{provide:Xe,useClass:Xe,deps:[Ke,Dt,_.AFp]},{provide:_.FYo,useExisting:Xe},{provide:it,useExisting:Dt},{provide:Dt,useClass:Dt,deps:[d.K0]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b]},{provide:Ke,useClass:Ke,deps:[ke,_.R0b]},{provide:d.JF,useClass:at,deps:[]}];let $n=(()=>{class rn{constructor(yt){if(yt)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(yt){return{ngModule:rn,providers:[{provide:_.AFp,useValue:yt.appId},{provide:Ve,useExisting:_.AFp},qe]}}}return rn.\u0275fac=function(yt){return new(yt||rn)(_.LFG(rn,12))},rn.\u0275mod=_.oAB({type:rn}),rn.\u0275inj=_.cJS({providers:Gn,imports:[d.ez,_.hGG]}),rn})();"undefined"!=typeof window&&window;let Ct=(()=>{class rn{}return rn.\u0275fac=function(yt){return new(yt||rn)},rn.\u0275prov=_.Yz7({token:rn,factory:function(yt){let Zt=null;return Zt=yt?new(yt||rn):_.LFG(Sn),Zt},providedIn:"root"}),rn})(),Sn=(()=>{class rn extends Ct{constructor(yt){super(),this._doc=yt}sanitize(yt,Zt){if(null==Zt)return null;switch(yt){case _.q3G.NONE:return Zt;case _.q3G.HTML:return(0,_.qzn)(Zt,"HTML")?(0,_.z3N)(Zt):(0,_.EiD)(this._doc,String(Zt)).toString();case _.q3G.STYLE:return(0,_.qzn)(Zt,"Style")?(0,_.z3N)(Zt):Zt;case _.q3G.SCRIPT:if((0,_.qzn)(Zt,"Script"))return(0,_.z3N)(Zt);throw new Error("unsafe value used in a script context");case _.q3G.URL:return(0,_.yhl)(Zt),(0,_.qzn)(Zt,"URL")?(0,_.z3N)(Zt):(0,_.mCW)(String(Zt));case _.q3G.RESOURCE_URL:if((0,_.qzn)(Zt,"ResourceURL"))return(0,_.z3N)(Zt);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${yt} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(yt){return(0,_.JVY)(yt)}bypassSecurityTrustStyle(yt){return(0,_.L6k)(yt)}bypassSecurityTrustScript(yt){return(0,_.eBb)(yt)}bypassSecurityTrustUrl(yt){return(0,_.LAX)(yt)}bypassSecurityTrustResourceUrl(yt){return(0,_.pB0)(yt)}}return rn.\u0275fac=function(yt){return new(yt||rn)(_.LFG(d.K0))},rn.\u0275prov=_.Yz7({token:rn,factory:function(yt){let Zt=null;return Zt=yt?new yt:function on(rn){return new Sn(rn.get(d.K0))}(_.LFG(_.zs3)),Zt},providedIn:"root"}),rn})()},1402:(Xn,Vt,A)=>{"use strict";A.d(Vt,{Od:()=>Xo,yS:()=>Ho,Bz:()=>ai,lC:()=>Pi});var d=A(5e3),_=A(8306),e=A(727),ee=A(4482),W=A(5403);function xe(){return(0,ee.e)((K,H)=>{let B=null;K._refCount++;const ue=(0,W.x)(H,void 0,void 0,void 0,()=>{if(!K||K._refCount<=0||0<--K._refCount)return void(B=null);const Ae=K._connection,Je=B;B=null,Ae&&(!Je||Ae===Je)&&Ae.unsubscribe(),H.unsubscribe()});K.subscribe(ue),ue.closed||(B=K.connect())})}class pe extends _.y{constructor(H,B){super(),this.source=H,this.subjectFactory=B,this._subject=null,this._refCount=0,this._connection=null,(0,ee.A)(H)&&(this.lift=H.lift)}_subscribe(H){return this.getSubject().subscribe(H)}getSubject(){const H=this._subject;return(!H||H.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:H}=this;this._subject=this._connection=null,null==H||H.unsubscribe()}connect(){let H=this._connection;if(!H){H=this._connection=new e.w0;const B=this.getSubject();H.add(this.source.subscribe((0,W.x)(B,void 0,()=>{this._teardown(),B.complete()},ue=>{this._teardown(),B.error(ue)},()=>this._teardown()))),H.closed&&(this._connection=null,H=e.w0.EMPTY)}return H}refCount(){return xe()(this)}}var ze=A(8996),Ve=A(9646),Q=A(1135),qe=A(9841),je=A(2843),at=A(6805),ke=A(7272),Ke=A(9770),dt=A(515),it=A(7579),Dt=A(9300);function Tt(K){return K<=0?()=>dt.E:(0,ee.e)((H,B)=>{let ue=[];H.subscribe((0,W.x)(B,Ae=>{ue.push(Ae),K<ue.length&&ue.shift()},()=>{for(const Ae of ue)B.next(Ae);B.complete()},void 0,()=>{ue=null}))})}var hn=A(8068),gt=A(6590),Pe=A(4671),Qe=A(4004),Mt=A(3900),bt=A(5698),tt=A(8675),Ze=A(5026),Ee=A(262),Ye=A(4351),Xe=A(590),st=A(5577),sn=A(8505),fn=A(8746),wn=A(8189),mn=A(9808);class bn{constructor(H,B){this.id=H,this.url=B}}class zt extends bn{constructor(H,B,ue="imperative",Ae=null){super(H,B),this.navigationTrigger=ue,this.restoredState=Ae}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qt extends bn{constructor(H,B,ue){super(H,B),this.urlAfterRedirects=ue}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kt extends bn{constructor(H,B,ue){super(H,B),this.reason=ue}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ht extends bn{constructor(H,B,ue){super(H,B),this.error=ue}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _n extends bn{constructor(H,B,ue,Ae){super(H,B),this.urlAfterRedirects=ue,this.state=Ae}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class an extends bn{constructor(H,B,ue,Ae){super(H,B),this.urlAfterRedirects=ue,this.state=Ae}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vn extends bn{constructor(H,B,ue,Ae,Je){super(H,B),this.urlAfterRedirects=ue,this.state=Ae,this.shouldActivate=Je}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class di extends bn{constructor(H,B,ue,Ae){super(H,B),this.urlAfterRedirects=ue,this.state=Ae}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pn extends bn{constructor(H,B,ue,Ae){super(H,B),this.urlAfterRedirects=ue,this.state=Ae}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jn{constructor(H){this.route=H}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wt{constructor(H){this.route=H}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cn{constructor(H){this.snapshot=H}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gn{constructor(H){this.snapshot=H}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $n{constructor(H){this.snapshot=H}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vi{constructor(H){this.snapshot=H}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qn{constructor(H,B,ue){this.routerEvent=H,this.position=B,this.anchor=ue}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const li="primary";class ni{constructor(H){this.params=H||{}}has(H){return Object.prototype.hasOwnProperty.call(this.params,H)}get(H){if(this.has(H)){const B=this.params[H];return Array.isArray(B)?B[0]:B}return null}getAll(H){if(this.has(H)){const B=this.params[H];return Array.isArray(B)?B:[B]}return[]}get keys(){return Object.keys(this.params)}}function Yt(K){return new ni(K)}const q="ngNavigationCancelingError";function de(K){const H=Error("NavigationCancelingError: "+K);return H[q]=!0,H}function Ce(K,H,B){const ue=B.path.split("/");if(ue.length>K.length||"full"===B.pathMatch&&(H.hasChildren()||ue.length<K.length))return null;const Ae={};for(let Je=0;Je<ue.length;Je++){const It=ue[Je],en=K[Je];if(It.startsWith(":"))Ae[It.substring(1)]=en;else if(It!==en.path)return null}return{consumed:K.slice(0,ue.length),posParams:Ae}}function Rt(K,H){const B=K?Object.keys(K):void 0,ue=H?Object.keys(H):void 0;if(!B||!ue||B.length!=ue.length)return!1;let Ae;for(let Je=0;Je<B.length;Je++)if(Ae=B[Je],!nn(K[Ae],H[Ae]))return!1;return!0}function nn(K,H){if(Array.isArray(K)&&Array.isArray(H)){if(K.length!==H.length)return!1;const B=[...K].sort(),ue=[...H].sort();return B.every((Ae,Je)=>ue[Je]===Ae)}return K===H}function On(K){return Array.prototype.concat.apply([],K)}function Wn(K){return K.length>0?K[K.length-1]:null}function ei(K,H){for(const B in K)K.hasOwnProperty(B)&&H(K[B],B)}function hi(K){return(0,d.CqO)(K)?K:(0,d.QGY)(K)?(0,ze.D)(Promise.resolve(K)):(0,Ve.of)(K)}const vi={exact:function Ft(K,H,B){if(!Ct(K.segments,H.segments)||!Z(K.segments,H.segments,B)||K.numberOfChildren!==H.numberOfChildren)return!1;for(const ue in H.children)if(!K.children[ue]||!Ft(K.children[ue],H.children[ue],B))return!1;return!0},subset:X},Ei={exact:function Nt(K,H){return Rt(K,H)},subset:function vn(K,H){return Object.keys(H).length<=Object.keys(K).length&&Object.keys(H).every(B=>nn(K[B],H[B]))},ignored:()=>!0};function vt(K,H,B){return vi[B.paths](K.root,H.root,B.matrixParams)&&Ei[B.queryParams](K.queryParams,H.queryParams)&&!("exact"===B.fragment&&K.fragment!==H.fragment)}function X(K,H,B){return ie(K,H,H.segments,B)}function ie(K,H,B,ue){if(K.segments.length>B.length){const Ae=K.segments.slice(0,B.length);return!(!Ct(Ae,B)||H.hasChildren()||!Z(Ae,B,ue))}if(K.segments.length===B.length){if(!Ct(K.segments,B)||!Z(K.segments,B,ue))return!1;for(const Ae in H.children)if(!K.children[Ae]||!X(K.children[Ae],H.children[Ae],ue))return!1;return!0}{const Ae=B.slice(0,K.segments.length),Je=B.slice(K.segments.length);return!!(Ct(K.segments,Ae)&&Z(K.segments,Ae,ue)&&K.children[li])&&ie(K.children[li],H,Je,ue)}}function Z(K,H,B){return H.every((ue,Ae)=>Ei[B](K[Ae].parameters,ue.parameters))}class Se{constructor(H,B,ue){this.root=H,this.queryParams=B,this.fragment=ue}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yt(this.queryParams)),this._queryParamMap}toString(){return rn.serialize(this)}}class Me{constructor(H,B){this.segments=H,this.children=B,this.parent=null,ei(B,(ue,Ae)=>ue.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pt(this)}}class ut{constructor(H,B){this.path=H,this.parameters=B}get parameterMap(){return this._parameterMap||(this._parameterMap=Yt(this.parameters)),this._parameterMap}toString(){return In(this)}}function Ct(K,H){return K.length===H.length&&K.every((B,ue)=>B.path===H[ue].path)}class Sn{}class bi{parse(H){const B=new Ge(H);return new Se(B.parseRootSegment(),B.parseQueryParams(),B.parseFragment())}serialize(H){const B=`/${yt(H.root,!0)}`,ue=function si(K){const H=Object.keys(K).map(B=>{const ue=K[B];return Array.isArray(ue)?ue.map(Ae=>`${Ln(B)}=${Ln(Ae)}`).join("&"):`${Ln(B)}=${Ln(ue)}`}).filter(B=>!!B);return H.length?`?${H.join("&")}`:""}(H.queryParams);return`${B}${ue}${"string"==typeof H.fragment?`#${function pn(K){return encodeURI(K)}(H.fragment)}`:""}`}}const rn=new bi;function Pt(K){return K.segments.map(H=>In(H)).join("/")}function yt(K,H){if(!K.hasChildren())return Pt(K);if(H){const B=K.children[li]?yt(K.children[li],!1):"",ue=[];return ei(K.children,(Ae,Je)=>{Je!==li&&ue.push(`${Je}:${yt(Ae,!1)}`)}),ue.length>0?`${B}(${ue.join("//")})`:B}{const B=function on(K,H){let B=[];return ei(K.children,(ue,Ae)=>{Ae===li&&(B=B.concat(H(ue,Ae)))}),ei(K.children,(ue,Ae)=>{Ae!==li&&(B=B.concat(H(ue,Ae)))}),B}(K,(ue,Ae)=>Ae===li?[yt(K.children[li],!1)]:[`${Ae}:${yt(ue,!1)}`]);return 1===Object.keys(K.children).length&&null!=K.children[li]?`${Pt(K)}/${B[0]}`:`${Pt(K)}/(${B.join("//")})`}}function Zt(K){return encodeURIComponent(K).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ln(K){return Zt(K).replace(/%3B/gi,";")}function Et(K){return Zt(K).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ct(K){return decodeURIComponent(K)}function jt(K){return ct(K.replace(/\+/g,"%20"))}function In(K){return`${Et(K.path)}${function kn(K){return Object.keys(K).map(H=>`;${Et(H)}=${Et(K[H])}`).join("")}(K.parameters)}`}const Mi=/^[^\/()?;=#]+/;function ht(K){const H=K.match(Mi);return H?H[0]:""}const An=/^[^=?&#]+/,Ot=/^[^&#]+/;class Ge{constructor(H){this.url=H,this.remaining=H}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Me([],{}):new Me([],this.parseChildren())}parseQueryParams(){const H={};if(this.consumeOptional("?"))do{this.parseQueryParam(H)}while(this.consumeOptional("&"));return H}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const H=[];for(this.peekStartsWith("(")||H.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),H.push(this.parseSegment());let B={};this.peekStartsWith("/(")&&(this.capture("/"),B=this.parseParens(!0));let ue={};return this.peekStartsWith("(")&&(ue=this.parseParens(!1)),(H.length>0||Object.keys(B).length>0)&&(ue[li]=new Me(H,B)),ue}parseSegment(){const H=ht(this.remaining);if(""===H&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(H),new ut(ct(H),this.parseMatrixParams())}parseMatrixParams(){const H={};for(;this.consumeOptional(";");)this.parseParam(H);return H}parseParam(H){const B=ht(this.remaining);if(!B)return;this.capture(B);let ue="";if(this.consumeOptional("=")){const Ae=ht(this.remaining);Ae&&(ue=Ae,this.capture(ue))}H[ct(B)]=ct(ue)}parseQueryParam(H){const B=function Ie(K){const H=K.match(An);return H?H[0]:""}(this.remaining);if(!B)return;this.capture(B);let ue="";if(this.consumeOptional("=")){const It=function ae(K){const H=K.match(Ot);return H?H[0]:""}(this.remaining);It&&(ue=It,this.capture(ue))}const Ae=jt(B),Je=jt(ue);if(H.hasOwnProperty(Ae)){let It=H[Ae];Array.isArray(It)||(It=[It],H[Ae]=It),It.push(Je)}else H[Ae]=Je}parseParens(H){const B={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const ue=ht(this.remaining),Ae=this.remaining[ue.length];if("/"!==Ae&&")"!==Ae&&";"!==Ae)throw new Error(`Cannot parse url '${this.url}'`);let Je;ue.indexOf(":")>-1?(Je=ue.substr(0,ue.indexOf(":")),this.capture(Je),this.capture(":")):H&&(Je=li);const It=this.parseChildren();B[Je]=1===Object.keys(It).length?It[li]:new Me([],It),this.consumeOptional("//")}return B}peekStartsWith(H){return this.remaining.startsWith(H)}consumeOptional(H){return!!this.peekStartsWith(H)&&(this.remaining=this.remaining.substring(H.length),!0)}capture(H){if(!this.consumeOptional(H))throw new Error(`Expected "${H}".`)}}class Oe{constructor(H){this._root=H}get root(){return this._root.value}parent(H){const B=this.pathFromRoot(H);return B.length>1?B[B.length-2]:null}children(H){const B=mt(H,this._root);return B?B.children.map(ue=>ue.value):[]}firstChild(H){const B=mt(H,this._root);return B&&B.children.length>0?B.children[0].value:null}siblings(H){const B=Qt(H,this._root);return B.length<2?[]:B[B.length-2].children.map(Ae=>Ae.value).filter(Ae=>Ae!==H)}pathFromRoot(H){return Qt(H,this._root).map(B=>B.value)}}function mt(K,H){if(K===H.value)return H;for(const B of H.children){const ue=mt(K,B);if(ue)return ue}return null}function Qt(K,H){if(K===H.value)return[H];for(const B of H.children){const ue=Qt(K,B);if(ue.length)return ue.unshift(H),ue}return[]}class Mn{constructor(H,B){this.value=H,this.children=B}toString(){return`TreeNode(${this.value})`}}function Bn(K){const H={};return K&&K.children.forEach(B=>H[B.value.outlet]=B),H}class Ci extends Oe{constructor(H,B){super(H),this.snapshot=B,Hi(this,H)}toString(){return this.snapshot.toString()}}function ui(K,H){const B=function Or(K,H){const It=new _i([],{},{},"",{},li,H,null,K.root,-1,{});return new ji("",new Mn(It,[]))}(K,H),ue=new Q.X([new ut("",{})]),Ae=new Q.X({}),Je=new Q.X({}),It=new Q.X({}),en=new Q.X(""),Kn=new hr(ue,Ae,It,en,Je,li,H,B.root);return Kn.snapshot=B.root,new Ci(new Mn(Kn,[]),B)}class hr{constructor(H,B,ue,Ae,Je,It,en,Kn){this.url=H,this.params=B,this.queryParams=ue,this.fragment=Ae,this.data=Je,this.outlet=It,this.component=en,this._futureSnapshot=Kn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qe.U)(H=>Yt(H)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qe.U)(H=>Yt(H)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ur(K,H="emptyOnly"){const B=K.pathFromRoot;let ue=0;if("always"!==H)for(ue=B.length-1;ue>=1;){const Ae=B[ue],Je=B[ue-1];if(Ae.routeConfig&&""===Ae.routeConfig.path)ue--;else{if(Je.component)break;ue--}}return function mi(K){return K.reduce((H,B)=>({params:Object.assign(Object.assign({},H.params),B.params),data:Object.assign(Object.assign({},H.data),B.data),resolve:Object.assign(Object.assign({},H.resolve),B._resolvedData)}),{params:{},data:{},resolve:{}})}(B.slice(ue))}class _i{constructor(H,B,ue,Ae,Je,It,en,Kn,Oi,Mr,$i){this.url=H,this.params=B,this.queryParams=ue,this.fragment=Ae,this.data=Je,this.outlet=It,this.component=en,this.routeConfig=Kn,this._urlSegment=Oi,this._lastPathIndex=Mr,this._resolve=$i}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(ue=>ue.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ji extends Oe{constructor(H,B){super(B),this.url=H,Hi(this,B)}toString(){return qi(this._root)}}function Hi(K,H){H.value._routerState=K,H.children.forEach(B=>Hi(K,B))}function qi(K){const H=K.children.length>0?` { ${K.children.map(qi).join(", ")} } `:"";return`${K.value}${H}`}function fr(K){if(K.snapshot){const H=K.snapshot,B=K._futureSnapshot;K.snapshot=B,Rt(H.queryParams,B.queryParams)||K.queryParams.next(B.queryParams),H.fragment!==B.fragment&&K.fragment.next(B.fragment),Rt(H.params,B.params)||K.params.next(B.params),function pt(K,H){if(K.length!==H.length)return!1;for(let B=0;B<K.length;++B)if(!Rt(K[B],H[B]))return!1;return!0}(H.url,B.url)||K.url.next(B.url),Rt(H.data,B.data)||K.data.next(B.data)}else K.snapshot=K._futureSnapshot,K.data.next(K._futureSnapshot.data)}function Yo(K,H){const B=Rt(K.params,H.params)&&function Be(K,H){return Ct(K,H)&&K.every((B,ue)=>Rt(B.parameters,H[ue].parameters))}(K.url,H.url);return B&&!(!K.parent!=!H.parent)&&(!K.parent||Yo(K.parent,H.parent))}function sr(K,H,B){if(B&&K.shouldReuseRoute(H.value,B.value.snapshot)){const ue=B.value;ue._futureSnapshot=H.value;const Ae=function vr(K,H,B){return H.children.map(ue=>{for(const Ae of B.children)if(K.shouldReuseRoute(ue.value,Ae.value.snapshot))return sr(K,ue,Ae);return sr(K,ue)})}(K,H,B);return new Mn(ue,Ae)}{if(K.shouldAttach(H.value)){const Je=K.retrieve(H.value);if(null!==Je){const It=Je.route;return It.value._futureSnapshot=H.value,It.children=H.children.map(en=>sr(K,en)),It}}const ue=function Ki(K){return new hr(new Q.X(K.url),new Q.X(K.params),new Q.X(K.queryParams),new Q.X(K.fragment),new Q.X(K.data),K.outlet,K.component,K)}(H.value),Ae=H.children.map(Je=>sr(K,Je));return new Mn(ue,Ae)}}function Fr(K){return"object"==typeof K&&null!=K&&!K.outlets&&!K.segmentPath}function Xi(K){return"object"==typeof K&&null!=K&&K.outlets}function wo(K,H,B,ue,Ae){let Je={};if(ue&&ei(ue,(en,Kn)=>{Je[Kn]=Array.isArray(en)?en.map(Oi=>`${Oi}`):`${en}`}),K===H)return new Se(B,Je,Ae);const It=ms(K,H,B);return new Se(It,Je,Ae)}function ms(K,H,B){const ue={};return ei(K.children,(Ae,Je)=>{ue[Je]=Ae===H?B:ms(Ae,H,B)}),new Me(K.segments,ue)}class _s{constructor(H,B,ue){if(this.isAbsolute=H,this.numberOfDoubleDots=B,this.commands=ue,H&&ue.length>0&&Fr(ue[0]))throw new Error("Root segment cannot have matrix parameters");const Ae=ue.find(Xi);if(Ae&&Ae!==Wn(ue))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class js{constructor(H,B,ue){this.segmentGroup=H,this.processChildren=B,this.index=ue}}function fo(K,H,B){if(K||(K=new Me([],{})),0===K.segments.length&&K.hasChildren())return vs(K,H,B);const ue=function $s(K,H,B){let ue=0,Ae=H;const Je={match:!1,pathIndex:0,commandIndex:0};for(;Ae<K.segments.length;){if(ue>=B.length)return Je;const It=K.segments[Ae],en=B[ue];if(Xi(en))break;const Kn=`${en}`,Oi=ue<B.length-1?B[ue+1]:null;if(Ae>0&&void 0===Kn)break;if(Kn&&Oi&&"object"==typeof Oi&&void 0===Oi.outlets){if(!Io(Kn,Oi,It))return Je;ue+=2}else{if(!Io(Kn,{},It))return Je;ue++}Ae++}return{match:!0,pathIndex:Ae,commandIndex:ue}}(K,H,B),Ae=B.slice(ue.commandIndex);if(ue.match&&ue.pathIndex<K.segments.length){const Je=new Me(K.segments.slice(0,ue.pathIndex),{});return Je.children[li]=new Me(K.segments.slice(ue.pathIndex),K.children),vs(Je,0,Ae)}return ue.match&&0===Ae.length?new Me(K.segments,{}):ue.match&&!K.hasChildren()?er(K,H,B):ue.match?vs(K,0,Ae):er(K,H,B)}function vs(K,H,B){if(0===B.length)return new Me(K.segments,{});{const ue=function Wo(K){return Xi(K[0])?K[0].outlets:{[li]:K}}(B),Ae={};return ei(ue,(Je,It)=>{"string"==typeof Je&&(Je=[Je]),null!==Je&&(Ae[It]=fo(K.children[It],H,Je))}),ei(K.children,(Je,It)=>{void 0===ue[It]&&(Ae[It]=Je)}),new Me(K.segments,Ae)}}function er(K,H,B){const ue=K.segments.slice(0,H);let Ae=0;for(;Ae<B.length;){const Je=B[Ae];if(Xi(Je)){const Kn=To(Je.outlets);return new Me(ue,Kn)}if(0===Ae&&Fr(B[0])){ue.push(new ut(K.segments[H].path,is(B[0]))),Ae++;continue}const It=Xi(Je)?Je.outlets[li]:`${Je}`,en=Ae<B.length-1?B[Ae+1]:null;It&&en&&Fr(en)?(ue.push(new ut(It,is(en))),Ae+=2):(ue.push(new ut(It,{})),Ae++)}return new Me(ue,{})}function To(K){const H={};return ei(K,(B,ue)=>{"string"==typeof B&&(B=[B]),null!==B&&(H[ue]=er(new Me([],{}),0,B))}),H}function is(K){const H={};return ei(K,(B,ue)=>H[ue]=`${B}`),H}function Io(K,H,B){return K==B.path&&Rt(H,B.parameters)}class dr{constructor(H,B,ue,Ae){this.routeReuseStrategy=H,this.futureState=B,this.currState=ue,this.forwardEvent=Ae}activate(H){const B=this.futureState._root,ue=this.currState?this.currState._root:null;this.deactivateChildRoutes(B,ue,H),fr(this.futureState.root),this.activateChildRoutes(B,ue,H)}deactivateChildRoutes(H,B,ue){const Ae=Bn(B);H.children.forEach(Je=>{const It=Je.value.outlet;this.deactivateRoutes(Je,Ae[It],ue),delete Ae[It]}),ei(Ae,(Je,It)=>{this.deactivateRouteAndItsChildren(Je,ue)})}deactivateRoutes(H,B,ue){const Ae=H.value,Je=B?B.value:null;if(Ae===Je)if(Ae.component){const It=ue.getContext(Ae.outlet);It&&this.deactivateChildRoutes(H,B,It.children)}else this.deactivateChildRoutes(H,B,ue);else Je&&this.deactivateRouteAndItsChildren(B,ue)}deactivateRouteAndItsChildren(H,B){H.value.component&&this.routeReuseStrategy.shouldDetach(H.value.snapshot)?this.detachAndStoreRouteSubtree(H,B):this.deactivateRouteAndOutlet(H,B)}detachAndStoreRouteSubtree(H,B){const ue=B.getContext(H.value.outlet),Ae=ue&&H.value.component?ue.children:B,Je=Bn(H);for(const It of Object.keys(Je))this.deactivateRouteAndItsChildren(Je[It],Ae);if(ue&&ue.outlet){const It=ue.outlet.detach(),en=ue.children.onOutletDeactivated();this.routeReuseStrategy.store(H.value.snapshot,{componentRef:It,route:H,contexts:en})}}deactivateRouteAndOutlet(H,B){const ue=B.getContext(H.value.outlet),Ae=ue&&H.value.component?ue.children:B,Je=Bn(H);for(const It of Object.keys(Je))this.deactivateRouteAndItsChildren(Je[It],Ae);ue&&ue.outlet&&(ue.outlet.deactivate(),ue.children.onOutletDeactivated(),ue.attachRef=null,ue.resolver=null,ue.route=null)}activateChildRoutes(H,B,ue){const Ae=Bn(B);H.children.forEach(Je=>{this.activateRoutes(Je,Ae[Je.value.outlet],ue),this.forwardEvent(new Vi(Je.value.snapshot))}),H.children.length&&this.forwardEvent(new Gn(H.value.snapshot))}activateRoutes(H,B,ue){const Ae=H.value,Je=B?B.value:null;if(fr(Ae),Ae===Je)if(Ae.component){const It=ue.getOrCreateContext(Ae.outlet);this.activateChildRoutes(H,B,It.children)}else this.activateChildRoutes(H,B,ue);else if(Ae.component){const It=ue.getOrCreateContext(Ae.outlet);if(this.routeReuseStrategy.shouldAttach(Ae.snapshot)){const en=this.routeReuseStrategy.retrieve(Ae.snapshot);this.routeReuseStrategy.store(Ae.snapshot,null),It.children.onOutletReAttached(en.contexts),It.attachRef=en.componentRef,It.route=en.route.value,It.outlet&&It.outlet.attach(en.componentRef,en.route.value),fr(en.route.value),this.activateChildRoutes(H,null,It.children)}else{const en=function Dr(K){for(let H=K.parent;H;H=H.parent){const B=H.routeConfig;if(B&&B._loadedConfig)return B._loadedConfig;if(B&&B.component)return null}return null}(Ae.snapshot),Kn=en?en.module.componentFactoryResolver:null;It.attachRef=null,It.route=Ae,It.resolver=Kn,It.outlet&&It.outlet.activateWith(Ae,Kn),this.activateChildRoutes(H,null,It.children)}}else this.activateChildRoutes(H,null,ue)}}class ki{constructor(H,B){this.routes=H,this.module=B}}function ar(K){return"function"==typeof K}function Te(K){return K instanceof Se}const En=Symbol("INITIAL_VALUE");function ii(){return(0,Mt.w)(K=>(0,qe.a)(K.map(H=>H.pipe((0,bt.q)(1),(0,tt.O)(En)))).pipe((0,Ze.R)((H,B)=>{let ue=!1;return B.reduce((Ae,Je,It)=>Ae!==En?Ae:(Je===En&&(ue=!0),ue||!1!==Je&&It!==B.length-1&&!Te(Je)?Ae:Je),H)},En),(0,Dt.h)(H=>H!==En),(0,Qe.U)(H=>Te(H)?H:!0===H),(0,bt.q)(1)))}class pi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new fi,this.attachRef=null}}class fi{constructor(){this.contexts=new Map}onChildOutletCreated(H,B){const ue=this.getOrCreateContext(H);ue.outlet=B,this.contexts.set(H,ue)}onChildOutletDestroyed(H){const B=this.getContext(H);B&&(B.outlet=null,B.attachRef=null)}onOutletDeactivated(){const H=this.contexts;return this.contexts=new Map,H}onOutletReAttached(H){this.contexts=H}getOrCreateContext(H){let B=this.getContext(H);return B||(B=new pi,this.contexts.set(H,B)),B}getContext(H){return this.contexts.get(H)||null}}let Pi=(()=>{class K{constructor(B,ue,Ae,Je,It){this.parentContexts=B,this.location=ue,this.resolver=Ae,this.changeDetector=It,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=Je||li,B.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const B=this.parentContexts.getContext(this.name);B&&B.route&&(B.attachRef?this.attach(B.attachRef,B.route):this.activateWith(B.route,B.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const B=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(B.instance),B}attach(B,ue){this.activated=B,this._activatedRoute=ue,this.location.insert(B.hostView),this.attachEvents.emit(B.instance)}deactivate(){if(this.activated){const B=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(B)}}activateWith(B,ue){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=B;const It=(ue=ue||this.resolver).resolveComponentFactory(B._futureSnapshot.routeConfig.component),en=this.parentContexts.getOrCreateContext(this.name).children,Kn=new or(B,en,this.location.injector);this.activated=this.location.createComponent(It,this.location.length,Kn),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return K.\u0275fac=function(B){return new(B||K)(d.Y36(fi),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},K.\u0275dir=d.lG2({type:K,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),K})();class or{constructor(H,B,ue){this.route=H,this.childContexts=B,this.parent=ue}get(H,B){return H===hr?this.route:H===fi?this.childContexts:this.parent.get(H,B)}}let yr=(()=>{class K{}return K.\u0275fac=function(B){return new(B||K)},K.\u0275cmp=d.Xpm({type:K,selectors:[["ng-component"]],decls:1,vars:0,template:function(B,ue){1&B&&d._UZ(0,"router-outlet")},directives:[Pi],encapsulation:2}),K})();function po(K,H=""){for(let B=0;B<K.length;B++){const ue=K[B];Lr(ue,rr(H,ue))}}function Lr(K,H){K.children&&po(K.children,H)}function rr(K,H){return H?K||H.path?K&&!H.path?`${K}/`:!K&&H.path?H.path:`${K}/${H.path}`:"":K}function _o(K){const H=K.children&&K.children.map(_o),B=H?Object.assign(Object.assign({},K),{children:H}):Object.assign({},K);return!B.component&&(H||B.loadChildren)&&B.outlet&&B.outlet!==li&&(B.component=yr),B}function Er(K){return K.outlet||li}function Tr(K,H){const B=K.filter(ue=>Er(ue)===H);return B.push(...K.filter(ue=>Er(ue)!==H)),B}const no={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vo(K,H,B){var ue;if(""===H.path)return"full"===H.pathMatch&&(K.hasChildren()||B.length>0)?Object.assign({},no):{matched:!0,consumedSegments:[],remainingSegments:B,parameters:{},positionalParamSegments:{}};const Je=(H.matcher||Ce)(B,K,H);if(!Je)return Object.assign({},no);const It={};ei(Je.posParams,(Kn,Oi)=>{It[Oi]=Kn.path});const en=Je.consumed.length>0?Object.assign(Object.assign({},It),Je.consumed[Je.consumed.length-1].parameters):It;return{matched:!0,consumedSegments:Je.consumed,remainingSegments:B.slice(Je.consumed.length),parameters:en,positionalParamSegments:null!==(ue=Je.posParams)&&void 0!==ue?ue:{}}}function ao(K,H,B,ue,Ae="corrected"){if(B.length>0&&function pr(K,H,B){return B.some(ue=>Fe(K,H,ue)&&Er(ue)!==li)}(K,B,ue)){const It=new Me(H,function ls(K,H,B,ue){const Ae={};Ae[li]=ue,ue._sourceSegment=K,ue._segmentIndexShift=H.length;for(const Je of B)if(""===Je.path&&Er(Je)!==li){const It=new Me([],{});It._sourceSegment=K,It._segmentIndexShift=H.length,Ae[Er(Je)]=It}return Ae}(K,H,ue,new Me(B,K.children)));return It._sourceSegment=K,It._segmentIndexShift=H.length,{segmentGroup:It,slicedSegments:[]}}if(0===B.length&&function le(K,H,B){return B.some(ue=>Fe(K,H,ue))}(K,B,ue)){const It=new Me(K.segments,function Jo(K,H,B,ue,Ae,Je){const It={};for(const en of ue)if(Fe(K,B,en)&&!Ae[Er(en)]){const Kn=new Me([],{});Kn._sourceSegment=K,Kn._segmentIndexShift="legacy"===Je?K.segments.length:H.length,It[Er(en)]=Kn}return Object.assign(Object.assign({},Ae),It)}(K,H,B,ue,K.children,Ae));return It._sourceSegment=K,It._segmentIndexShift=H.length,{segmentGroup:It,slicedSegments:B}}const Je=new Me(K.segments,K.children);return Je._sourceSegment=K,Je._segmentIndexShift=H.length,{segmentGroup:Je,slicedSegments:B}}function Fe(K,H,B){return(!(K.hasChildren()||H.length>0)||"full"!==B.pathMatch)&&""===B.path}function fe(K,H,B,ue){return!!(Er(K)===ue||ue!==li&&Fe(H,B,K))&&("**"===K.path||vo(H,K,B).matched)}function ot(K,H,B){return 0===H.length&&!K.children[B]}class Jt{constructor(H){this.segmentGroup=H||null}}class Tn{constructor(H){this.urlTree=H}}function Zn(K){return(0,je._)(new Jt(K))}function Si(K){return(0,je._)(new Tn(K))}class gr{constructor(H,B,ue,Ae,Je){this.configLoader=B,this.urlSerializer=ue,this.urlTree=Ae,this.config=Je,this.allowRedirects=!0,this.ngModule=H.get(d.h0i)}apply(){const H=ao(this.urlTree.root,[],[],this.config).segmentGroup,B=new Me(H.segments,H.children);return this.expandSegmentGroup(this.ngModule,this.config,B,li).pipe((0,Qe.U)(Je=>this.createUrlTree(lo(Je),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ee.K)(Je=>{if(Je instanceof Tn)return this.allowRedirects=!1,this.match(Je.urlTree);throw Je instanceof Jt?this.noMatchError(Je):Je}))}match(H){return this.expandSegmentGroup(this.ngModule,this.config,H.root,li).pipe((0,Qe.U)(Ae=>this.createUrlTree(lo(Ae),H.queryParams,H.fragment))).pipe((0,Ee.K)(Ae=>{throw Ae instanceof Jt?this.noMatchError(Ae):Ae}))}noMatchError(H){return new Error(`Cannot match any routes. URL Segment: '${H.segmentGroup}'`)}createUrlTree(H,B,ue){const Ae=H.segments.length>0?new Me([],{[li]:H}):H;return new Se(Ae,B,ue)}expandSegmentGroup(H,B,ue,Ae){return 0===ue.segments.length&&ue.hasChildren()?this.expandChildren(H,B,ue).pipe((0,Qe.U)(Je=>new Me([],Je))):this.expandSegment(H,ue,B,ue.segments,Ae,!0)}expandChildren(H,B,ue){const Ae=[];for(const Je of Object.keys(ue.children))"primary"===Je?Ae.unshift(Je):Ae.push(Je);return(0,ze.D)(Ae).pipe((0,Ye.b)(Je=>{const It=ue.children[Je],en=Tr(B,Je);return this.expandSegmentGroup(H,en,It,Je).pipe((0,Qe.U)(Kn=>({segment:Kn,outlet:Je})))}),(0,Ze.R)((Je,It)=>(Je[It.outlet]=It.segment,Je),{}),function te(K,H){const B=arguments.length>=2;return ue=>ue.pipe(K?(0,Dt.h)((Ae,Je)=>K(Ae,Je,ue)):Pe.y,Tt(1),B?(0,gt.d)(H):(0,hn.T)(()=>new at.K))}())}expandSegment(H,B,ue,Ae,Je,It){return(0,ze.D)(ue).pipe((0,Ye.b)(en=>this.expandSegmentAgainstRoute(H,B,ue,en,Ae,Je,It).pipe((0,Ee.K)(Oi=>{if(Oi instanceof Jt)return(0,Ve.of)(null);throw Oi}))),(0,Xe.P)(en=>!!en),(0,Ee.K)((en,Kn)=>{if(en instanceof at.K||"EmptyError"===en.name)return ot(B,Ae,Je)?(0,Ve.of)(new Me([],{})):Zn(B);throw en}))}expandSegmentAgainstRoute(H,B,ue,Ae,Je,It,en){return fe(Ae,B,Je,It)?void 0===Ae.redirectTo?this.matchSegmentAgainstRoute(H,B,Ae,Je,It):en&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(H,B,ue,Ae,Je,It):Zn(B):Zn(B)}expandSegmentAgainstRouteUsingRedirect(H,B,ue,Ae,Je,It){return"**"===Ae.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(H,ue,Ae,It):this.expandRegularSegmentAgainstRouteUsingRedirect(H,B,ue,Ae,Je,It)}expandWildCardWithParamsAgainstRouteUsingRedirect(H,B,ue,Ae){const Je=this.applyRedirectCommands([],ue.redirectTo,{});return ue.redirectTo.startsWith("/")?Si(Je):this.lineralizeSegments(ue,Je).pipe((0,st.z)(It=>{const en=new Me(It,{});return this.expandSegment(H,en,B,It,Ae,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(H,B,ue,Ae,Je,It){const{matched:en,consumedSegments:Kn,remainingSegments:Oi,positionalParamSegments:Mr}=vo(B,Ae,Je);if(!en)return Zn(B);const $i=this.applyRedirectCommands(Kn,Ae.redirectTo,Mr);return Ae.redirectTo.startsWith("/")?Si($i):this.lineralizeSegments(Ae,$i).pipe((0,st.z)(Oo=>this.expandSegment(H,B,ue,Oo.concat(Oi),It,!1)))}matchSegmentAgainstRoute(H,B,ue,Ae,Je){if("**"===ue.path)return ue.loadChildren?(ue._loadedConfig?(0,Ve.of)(ue._loadedConfig):this.configLoader.load(H.injector,ue)).pipe((0,Qe.U)($i=>(ue._loadedConfig=$i,new Me(Ae,{})))):(0,Ve.of)(new Me(Ae,{}));const{matched:It,consumedSegments:en,remainingSegments:Kn}=vo(B,ue,Ae);return It?this.getChildConfig(H,ue,Ae).pipe((0,st.z)(Mr=>{const $i=Mr.module,Oo=Mr.routes,{segmentGroup:Qr,slicedSegments:Es}=ao(B,en,Kn,Oo),el=new Me(Qr.segments,Qr.children);if(0===Es.length&&el.hasChildren())return this.expandChildren($i,Oo,el).pipe((0,Qe.U)(Lo=>new Me(en,Lo)));if(0===Oo.length&&0===Es.length)return(0,Ve.of)(new Me(en,{}));const xl=Er(ue)===Je;return this.expandSegment($i,el,Oo,Es,xl?li:Je,!0).pipe((0,Qe.U)(Fo=>new Me(en.concat(Fo.segments),Fo.children)))})):Zn(B)}getChildConfig(H,B,ue){return B.children?(0,Ve.of)(new ki(B.children,H)):B.loadChildren?void 0!==B._loadedConfig?(0,Ve.of)(B._loadedConfig):this.runCanLoadGuards(H.injector,B,ue).pipe((0,st.z)(Ae=>Ae?this.configLoader.load(H.injector,B).pipe((0,Qe.U)(Je=>(B._loadedConfig=Je,Je))):function Ir(K){return(0,je._)(de(`Cannot load children because the guard of the route "path: '${K.path}'" returned false`))}(B))):(0,Ve.of)(new ki([],H))}runCanLoadGuards(H,B,ue){const Ae=B.canLoad;if(!Ae||0===Ae.length)return(0,Ve.of)(!0);const Je=Ae.map(It=>{const en=H.get(It);let Kn;if(function se(K){return K&&ar(K.canLoad)}(en))Kn=en.canLoad(B,ue);else{if(!ar(en))throw new Error("Invalid CanLoad guard");Kn=en(B,ue)}return hi(Kn)});return(0,Ve.of)(Je).pipe(ii(),(0,sn.b)(It=>{if(!Te(It))return;const en=de(`Redirecting to "${this.urlSerializer.serialize(It)}"`);throw en.url=It,en}),(0,Qe.U)(It=>!0===It))}lineralizeSegments(H,B){let ue=[],Ae=B.root;for(;;){if(ue=ue.concat(Ae.segments),0===Ae.numberOfChildren)return(0,Ve.of)(ue);if(Ae.numberOfChildren>1||!Ae.children[li])return(0,je._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${H.redirectTo}'`));Ae=Ae.children[li]}}applyRedirectCommands(H,B,ue){return this.applyRedirectCreatreUrlTree(B,this.urlSerializer.parse(B),H,ue)}applyRedirectCreatreUrlTree(H,B,ue,Ae){const Je=this.createSegmentGroup(H,B.root,ue,Ae);return new Se(Je,this.createQueryParams(B.queryParams,this.urlTree.queryParams),B.fragment)}createQueryParams(H,B){const ue={};return ei(H,(Ae,Je)=>{if("string"==typeof Ae&&Ae.startsWith(":")){const en=Ae.substring(1);ue[Je]=B[en]}else ue[Je]=Ae}),ue}createSegmentGroup(H,B,ue,Ae){const Je=this.createSegments(H,B.segments,ue,Ae);let It={};return ei(B.children,(en,Kn)=>{It[Kn]=this.createSegmentGroup(H,en,ue,Ae)}),new Me(Je,It)}createSegments(H,B,ue,Ae){return B.map(Je=>Je.path.startsWith(":")?this.findPosParam(H,Je,Ae):this.findOrReturn(Je,ue))}findPosParam(H,B,ue){const Ae=ue[B.path.substring(1)];if(!Ae)throw new Error(`Cannot redirect to '${H}'. Cannot find '${B.path}'.`);return Ae}findOrReturn(H,B){let ue=0;for(const Ae of B){if(Ae.path===H.path)return B.splice(ue),Ae;ue++}return H}}function lo(K){const H={};for(const ue of Object.keys(K.children)){const Je=lo(K.children[ue]);(Je.segments.length>0||Je.hasChildren())&&(H[ue]=Je)}return function kr(K){if(1===K.numberOfChildren&&K.children[li]){const H=K.children[li];return new Me(K.segments.concat(H.segments),H.children)}return K}(new Me(K.segments,H))}class ve{constructor(H){this.path=H,this.route=this.path[this.path.length-1]}}class re{constructor(H,B){this.component=H,this.route=B}}function Y(K,H,B){const ue=K._root;return Yr(ue,H?H._root:null,B,[ue.value])}function Un(K,H,B){const ue=function Ti(K){if(!K)return null;for(let H=K.parent;H;H=H.parent){const B=H.routeConfig;if(B&&B._loadedConfig)return B._loadedConfig}return null}(H);return(ue?ue.module.injector:B).get(K)}function Yr(K,H,B,ue,Ae={canDeactivateChecks:[],canActivateChecks:[]}){const Je=Bn(H);return K.children.forEach(It=>{(function go(K,H,B,ue,Ae={canDeactivateChecks:[],canActivateChecks:[]}){const Je=K.value,It=H?H.value:null,en=B?B.getContext(K.value.outlet):null;if(It&&Je.routeConfig===It.routeConfig){const Kn=function qr(K,H,B){if("function"==typeof B)return B(K,H);switch(B){case"pathParamsChange":return!Ct(K.url,H.url);case"pathParamsOrQueryParamsChange":return!Ct(K.url,H.url)||!Rt(K.queryParams,H.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yo(K,H)||!Rt(K.queryParams,H.queryParams);default:return!Yo(K,H)}}(It,Je,Je.routeConfig.runGuardsAndResolvers);Kn?Ae.canActivateChecks.push(new ve(ue)):(Je.data=It.data,Je._resolvedData=It._resolvedData),Yr(K,H,Je.component?en?en.children:null:B,ue,Ae),Kn&&en&&en.outlet&&en.outlet.isActivated&&Ae.canDeactivateChecks.push(new re(en.outlet.component,It))}else It&&Ur(H,en,Ae),Ae.canActivateChecks.push(new ve(ue)),Yr(K,null,Je.component?en?en.children:null:B,ue,Ae)})(It,Je[It.value.outlet],B,ue.concat([It.value]),Ae),delete Je[It.value.outlet]}),ei(Je,(It,en)=>Ur(It,B.getContext(en),Ae)),Ae}function Ur(K,H,B){const ue=Bn(K),Ae=K.value;ei(ue,(Je,It)=>{Ur(Je,Ae.component?H?H.children.getContext(It):null:H,B)}),B.canDeactivateChecks.push(new re(Ae.component&&H&&H.outlet&&H.outlet.isActivated?H.outlet.component:null,Ae))}class As{}function Hr(K){return new _.y(H=>H.error(K))}class hs{constructor(H,B,ue,Ae,Je,It){this.rootComponentType=H,this.config=B,this.urlTree=ue,this.url=Ae,this.paramsInheritanceStrategy=Je,this.relativeLinkResolution=It}recognize(){const H=ao(this.urlTree.root,[],[],this.config.filter(It=>void 0===It.redirectTo),this.relativeLinkResolution).segmentGroup,B=this.processSegmentGroup(this.config,H,li);if(null===B)return null;const ue=new _i([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},li,this.rootComponentType,null,this.urlTree.root,-1,{}),Ae=new Mn(ue,B),Je=new ji(this.url,Ae);return this.inheritParamsAndData(Je._root),Je}inheritParamsAndData(H){const B=H.value,ue=ur(B,this.paramsInheritanceStrategy);B.params=Object.freeze(ue.params),B.data=Object.freeze(ue.data),H.children.forEach(Ae=>this.inheritParamsAndData(Ae))}processSegmentGroup(H,B,ue){return 0===B.segments.length&&B.hasChildren()?this.processChildren(H,B):this.processSegment(H,B,B.segments,ue)}processChildren(H,B){const ue=[];for(const Je of Object.keys(B.children)){const It=B.children[Je],en=Tr(H,Je),Kn=this.processSegmentGroup(en,It,Je);if(null===Kn)return null;ue.push(...Kn)}const Ae=Po(ue);return function Is(K){K.sort((H,B)=>H.value.outlet===li?-1:B.value.outlet===li?1:H.value.outlet.localeCompare(B.value.outlet))}(Ae),Ae}processSegment(H,B,ue,Ae){for(const Je of H){const It=this.processSegmentAgainstRoute(Je,B,ue,Ae);if(null!==It)return It}return ot(B,ue,Ae)?[]:null}processSegmentAgainstRoute(H,B,ue,Ae){if(H.redirectTo||!fe(H,B,ue,Ae))return null;let Je,It=[],en=[];if("**"===H.path){const Qr=ue.length>0?Wn(ue).parameters:{};Je=new _i(ue,Qr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,oe(H),Er(H),H.component,H,N(B),L(B)+ue.length,He(H))}else{const Qr=vo(B,H,ue);if(!Qr.matched)return null;It=Qr.consumedSegments,en=Qr.remainingSegments,Je=new _i(It,Qr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,oe(H),Er(H),H.component,H,N(B),L(B)+It.length,He(H))}const Kn=function mr(K){return K.children?K.children:K.loadChildren?K._loadedConfig.routes:[]}(H),{segmentGroup:Oi,slicedSegments:Mr}=ao(B,It,en,Kn.filter(Qr=>void 0===Qr.redirectTo),this.relativeLinkResolution);if(0===Mr.length&&Oi.hasChildren()){const Qr=this.processChildren(Kn,Oi);return null===Qr?null:[new Mn(Je,Qr)]}if(0===Kn.length&&0===Mr.length)return[new Mn(Je,[])];const $i=Er(H)===Ae,Oo=this.processSegment(Kn,Oi,Mr,$i?li:Ae);return null===Oo?null:[new Mn(Je,Oo)]}}function qo(K){const H=K.value.routeConfig;return H&&""===H.path&&void 0===H.redirectTo}function Po(K){const H=[],B=new Set;for(const ue of K){if(!qo(ue)){H.push(ue);continue}const Ae=H.find(Je=>ue.value.routeConfig===Je.value.routeConfig);void 0!==Ae?(Ae.children.push(...ue.children),B.add(Ae)):H.push(ue)}for(const ue of B){const Ae=Po(ue.children);H.push(new Mn(ue.value,Ae))}return H.filter(ue=>!B.has(ue))}function N(K){let H=K;for(;H._sourceSegment;)H=H._sourceSegment;return H}function L(K){let H=K,B=H._segmentIndexShift?H._segmentIndexShift:0;for(;H._sourceSegment;)H=H._sourceSegment,B+=H._segmentIndexShift?H._segmentIndexShift:0;return B-1}function oe(K){return K.data||{}}function He(K){return K.resolve||{}}function qn(K){return[...Object.keys(K),...Object.getOwnPropertySymbols(K)]}function Ai(K){return(0,Mt.w)(H=>{const B=K(H);return B?(0,ze.D)(B).pipe((0,Qe.U)(()=>H)):(0,Ve.of)(H)})}class Yi extends class Rr{shouldDetach(H){return!1}store(H,B){}shouldAttach(H){return!1}retrieve(H){return null}shouldReuseRoute(H,B){return H.routeConfig===B.routeConfig}}{}const Gi=new d.OlP("ROUTES");class Xr{constructor(H,B,ue,Ae){this.injector=H,this.compiler=B,this.onLoadStartListener=ue,this.onLoadEndListener=Ae}load(H,B){if(B._loader$)return B._loader$;this.onLoadStartListener&&this.onLoadStartListener(B);const Ae=this.loadModuleFactory(B.loadChildren).pipe((0,Qe.U)(Je=>{this.onLoadEndListener&&this.onLoadEndListener(B);const It=Je.create(H);return new ki(On(It.injector.get(Gi,void 0,d.XFs.Self|d.XFs.Optional)).map(_o),It)}),(0,Ee.K)(Je=>{throw B._loader$=void 0,Je}));return B._loader$=new pe(Ae,()=>new it.x).pipe(xe()),B._loader$}loadModuleFactory(H){return hi(H()).pipe((0,st.z)(B=>B instanceof d.YKP?(0,Ve.of)(B):(0,ze.D)(this.compiler.compileModuleAsync(B))))}}class Ro{shouldProcessUrl(H){return!0}extract(H){return H}merge(H,B){return H}}function ss(K){throw K}function wr(K,H,B){return H.parse("/")}function Pr(K,H){return(0,Ve.of)(null)}const Sr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ro=(()=>{class K{constructor(B,ue,Ae,Je,It,en,Kn){this.rootComponentType=B,this.urlSerializer=ue,this.rootContexts=Ae,this.location=Je,this.config=Kn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new it.x,this.errorHandler=ss,this.malformedUriErrorHandler=wr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Pr,afterPreactivation:Pr},this.urlHandlingStrategy=new Ro,this.routeReuseStrategy=new Yi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=It.get(d.h0i),this.console=It.get(d.c2e);const $i=It.get(d.R0b);this.isNgZoneEnabled=$i instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(Kn),this.currentUrlTree=function Bi(){return new Se(new Me([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Xr(It,en,Oo=>this.triggerEvent(new jn(Oo)),Oo=>this.triggerEvent(new wt(Oo))),this.routerState=ui(this.currentUrlTree,this.rootComponentType),this.transitions=new Q.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var B;return null===(B=this.location.getState())||void 0===B?void 0:B.\u0275routerPageId}setupNavigations(B){const ue=this.events;return B.pipe((0,Dt.h)(Ae=>0!==Ae.id),(0,Qe.U)(Ae=>Object.assign(Object.assign({},Ae),{extractedUrl:this.urlHandlingStrategy.extract(Ae.rawUrl)})),(0,Mt.w)(Ae=>{let Je=!1,It=!1;return(0,Ve.of)(Ae).pipe((0,sn.b)(en=>{this.currentNavigation={id:en.id,initialUrl:en.currentRawUrl,extractedUrl:en.extractedUrl,trigger:en.source,extras:en.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Mt.w)(en=>{const Kn=this.browserUrlTree.toString(),Oi=!this.navigated||en.extractedUrl.toString()!==Kn||Kn!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Oi)&&this.urlHandlingStrategy.shouldProcessUrl(en.rawUrl))return cs(en.source)&&(this.browserUrlTree=en.extractedUrl),(0,Ve.of)(en).pipe((0,Mt.w)($i=>{const Oo=this.transitions.getValue();return ue.next(new zt($i.id,this.serializeUrl($i.extractedUrl),$i.source,$i.restoredState)),Oo!==this.transitions.getValue()?dt.E:Promise.resolve($i)}),function No(K,H,B,ue){return(0,Mt.w)(Ae=>function br(K,H,B,ue,Ae){return new gr(K,H,B,ue,Ae).apply()}(K,H,B,Ae.extractedUrl,ue).pipe((0,Qe.U)(Je=>Object.assign(Object.assign({},Ae),{urlAfterRedirects:Je}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,sn.b)($i=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:$i.urlAfterRedirects})}),function _t(K,H,B,ue,Ae){return(0,st.z)(Je=>function Ws(K,H,B,ue,Ae="emptyOnly",Je="legacy"){try{const It=new hs(K,H,B,ue,Ae,Je).recognize();return null===It?Hr(new As):(0,Ve.of)(It)}catch(It){return Hr(It)}}(K,H,Je.urlAfterRedirects,B(Je.urlAfterRedirects),ue,Ae).pipe((0,Qe.U)(It=>Object.assign(Object.assign({},Je),{targetSnapshot:It}))))}(this.rootComponentType,this.config,$i=>this.serializeUrl($i),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,sn.b)($i=>{if("eager"===this.urlUpdateStrategy){if(!$i.extras.skipLocationChange){const Qr=this.urlHandlingStrategy.merge($i.urlAfterRedirects,$i.rawUrl);this.setBrowserUrl(Qr,$i)}this.browserUrlTree=$i.urlAfterRedirects}const Oo=new _n($i.id,this.serializeUrl($i.extractedUrl),this.serializeUrl($i.urlAfterRedirects),$i.targetSnapshot);ue.next(Oo)}));if(Oi&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Oo,extractedUrl:Qr,source:Es,restoredState:el,extras:xl}=en,Ea=new zt(Oo,this.serializeUrl(Qr),Es,el);ue.next(Ea);const Fo=ui(Qr,this.rootComponentType).snapshot;return(0,Ve.of)(Object.assign(Object.assign({},en),{targetSnapshot:Fo,urlAfterRedirects:Qr,extras:Object.assign(Object.assign({},xl),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=en.rawUrl,en.resolve(null),dt.E}),Ai(en=>{const{targetSnapshot:Kn,id:Oi,extractedUrl:Mr,rawUrl:$i,extras:{skipLocationChange:Oo,replaceUrl:Qr}}=en;return this.hooks.beforePreactivation(Kn,{navigationId:Oi,appliedUrlTree:Mr,rawUrlTree:$i,skipLocationChange:!!Oo,replaceUrl:!!Qr})}),(0,sn.b)(en=>{const Kn=new an(en.id,this.serializeUrl(en.extractedUrl),this.serializeUrl(en.urlAfterRedirects),en.targetSnapshot);this.triggerEvent(Kn)}),(0,Qe.U)(en=>Object.assign(Object.assign({},en),{guards:Y(en.targetSnapshot,en.currentSnapshot,this.rootContexts)})),function zn(K,H){return(0,st.z)(B=>{const{targetSnapshot:ue,currentSnapshot:Ae,guards:{canActivateChecks:Je,canDeactivateChecks:It}}=B;return 0===It.length&&0===Je.length?(0,Ve.of)(Object.assign(Object.assign({},B),{guardsResult:!0})):function Kr(K,H,B,ue){return(0,ze.D)(K).pipe((0,st.z)(Ae=>function Bo(K,H,B,ue,Ae){const Je=H&&H.routeConfig?H.routeConfig.canDeactivate:null;if(!Je||0===Je.length)return(0,Ve.of)(!0);const It=Je.map(en=>{const Kn=Un(en,H,Ae);let Oi;if(function un(K){return K&&ar(K.canDeactivate)}(Kn))Oi=hi(Kn.canDeactivate(K,H,B,ue));else{if(!ar(Kn))throw new Error("Invalid CanDeactivate guard");Oi=hi(Kn(K,H,B,ue))}return Oi.pipe((0,Xe.P)())});return(0,Ve.of)(It).pipe(ii())}(Ae.component,Ae.route,B,H,ue)),(0,Xe.P)(Ae=>!0!==Ae,!0))}(It,ue,Ae,K).pipe((0,st.z)(en=>en&&function os(K){return"boolean"==typeof K}(en)?function Ha(K,H,B,ue){return(0,ze.D)(H).pipe((0,Ye.b)(Ae=>(0,ke.z)(function Ts(K,H){return null!==K&&H&&H(new cn(K)),(0,Ve.of)(!0)}(Ae.route.parent,ue),function Qi(K,H){return null!==K&&H&&H(new $n(K)),(0,Ve.of)(!0)}(Ae.route,ue),function $r(K,H,B){const ue=H[H.length-1],Je=H.slice(0,H.length-1).reverse().map(It=>function We(K){const H=K.routeConfig?K.routeConfig.canActivateChild:null;return H&&0!==H.length?{node:K,guards:H}:null}(It)).filter(It=>null!==It).map(It=>(0,Ke.P)(()=>{const en=It.guards.map(Kn=>{const Oi=Un(Kn,It.node,B);let Mr;if(function Ut(K){return K&&ar(K.canActivateChild)}(Oi))Mr=hi(Oi.canActivateChild(ue,K));else{if(!ar(Oi))throw new Error("Invalid CanActivateChild guard");Mr=hi(Oi(ue,K))}return Mr.pipe((0,Xe.P)())});return(0,Ve.of)(en).pipe(ii())}));return(0,Ve.of)(Je).pipe(ii())}(K,Ae.path,B),function Nr(K,H,B){const ue=H.routeConfig?H.routeConfig.canActivate:null;if(!ue||0===ue.length)return(0,Ve.of)(!0);const Ae=ue.map(Je=>(0,Ke.P)(()=>{const It=Un(Je,H,B);let en;if(function ft(K){return K&&ar(K.canActivate)}(It))en=hi(It.canActivate(H,K));else{if(!ar(It))throw new Error("Invalid CanActivate guard");en=hi(It(H,K))}return en.pipe((0,Xe.P)())}));return(0,Ve.of)(Ae).pipe(ii())}(K,Ae.route,B))),(0,Xe.P)(Ae=>!0!==Ae,!0))}(ue,Je,K,H):(0,Ve.of)(en)),(0,Qe.U)(en=>Object.assign(Object.assign({},B),{guardsResult:en})))})}(this.ngModule.injector,en=>this.triggerEvent(en)),(0,sn.b)(en=>{if(Te(en.guardsResult)){const Oi=de(`Redirecting to "${this.serializeUrl(en.guardsResult)}"`);throw Oi.url=en.guardsResult,Oi}const Kn=new Vn(en.id,this.serializeUrl(en.extractedUrl),this.serializeUrl(en.urlAfterRedirects),en.targetSnapshot,!!en.guardsResult);this.triggerEvent(Kn)}),(0,Dt.h)(en=>!!en.guardsResult||(this.restoreHistory(en),this.cancelNavigationTransition(en,""),!1)),Ai(en=>{if(en.guards.canActivateChecks.length)return(0,Ve.of)(en).pipe((0,sn.b)(Kn=>{const Oi=new di(Kn.id,this.serializeUrl(Kn.extractedUrl),this.serializeUrl(Kn.urlAfterRedirects),Kn.targetSnapshot);this.triggerEvent(Oi)}),(0,Mt.w)(Kn=>{let Oi=!1;return(0,Ve.of)(Kn).pipe(function Gt(K,H){return(0,st.z)(B=>{const{targetSnapshot:ue,guards:{canActivateChecks:Ae}}=B;if(!Ae.length)return(0,Ve.of)(B);let Je=0;return(0,ze.D)(Ae).pipe((0,Ye.b)(It=>function Lt(K,H,B,ue){return function Dn(K,H,B,ue){const Ae=qn(K);if(0===Ae.length)return(0,Ve.of)({});const Je={};return(0,ze.D)(Ae).pipe((0,st.z)(It=>function xi(K,H,B,ue){const Ae=Un(K,H,ue);return hi(Ae.resolve?Ae.resolve(H,B):Ae(H,B))}(K[It],H,B,ue).pipe((0,sn.b)(en=>{Je[It]=en}))),Tt(1),(0,st.z)(()=>qn(Je).length===Ae.length?(0,Ve.of)(Je):dt.E))}(K._resolve,K,H,ue).pipe((0,Qe.U)(Je=>(K._resolvedData=Je,K.data=Object.assign(Object.assign({},K.data),ur(K,B).resolve),null)))}(It.route,ue,K,H)),(0,sn.b)(()=>Je++),Tt(1),(0,st.z)(It=>Je===Ae.length?(0,Ve.of)(B):dt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,sn.b)({next:()=>Oi=!0,complete:()=>{Oi||(this.restoreHistory(Kn),this.cancelNavigationTransition(Kn,"At least one route resolver didn't emit any value."))}}))}),(0,sn.b)(Kn=>{const Oi=new Pn(Kn.id,this.serializeUrl(Kn.extractedUrl),this.serializeUrl(Kn.urlAfterRedirects),Kn.targetSnapshot);this.triggerEvent(Oi)}))}),Ai(en=>{const{targetSnapshot:Kn,id:Oi,extractedUrl:Mr,rawUrl:$i,extras:{skipLocationChange:Oo,replaceUrl:Qr}}=en;return this.hooks.afterPreactivation(Kn,{navigationId:Oi,appliedUrlTree:Mr,rawUrlTree:$i,skipLocationChange:!!Oo,replaceUrl:!!Qr})}),(0,Qe.U)(en=>{const Kn=function $o(K,H,B){const ue=sr(K,H._root,B?B._root:void 0);return new Ci(ue,H)}(this.routeReuseStrategy,en.targetSnapshot,en.currentRouterState);return Object.assign(Object.assign({},en),{targetRouterState:Kn})}),(0,sn.b)(en=>{this.currentUrlTree=en.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(en.urlAfterRedirects,en.rawUrl),this.routerState=en.targetRouterState,"deferred"===this.urlUpdateStrategy&&(en.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,en),this.browserUrlTree=en.urlAfterRedirects)}),((K,H,B)=>(0,Qe.U)(ue=>(new dr(H,ue.targetRouterState,ue.currentRouterState,B).activate(K),ue)))(this.rootContexts,this.routeReuseStrategy,en=>this.triggerEvent(en)),(0,sn.b)({next(){Je=!0},complete(){Je=!0}}),(0,fn.x)(()=>{var en;Je||It||this.cancelNavigationTransition(Ae,`Navigation ID ${Ae.id} is not equal to the current navigation id ${this.navigationId}`),(null===(en=this.currentNavigation)||void 0===en?void 0:en.id)===Ae.id&&(this.currentNavigation=null)}),(0,Ee.K)(en=>{if(It=!0,function ye(K){return K&&K[q]}(en)){const Kn=Te(en.url);Kn||(this.navigated=!0,this.restoreHistory(Ae,!0));const Oi=new Kt(Ae.id,this.serializeUrl(Ae.extractedUrl),en.message);ue.next(Oi),Kn?setTimeout(()=>{const Mr=this.urlHandlingStrategy.merge(en.url,this.rawUrlTree),$i={skipLocationChange:Ae.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||cs(Ae.source)};this.scheduleNavigation(Mr,"imperative",null,$i,{resolve:Ae.resolve,reject:Ae.reject,promise:Ae.promise})},0):Ae.resolve(!1)}else{this.restoreHistory(Ae,!0);const Kn=new Ht(Ae.id,this.serializeUrl(Ae.extractedUrl),en);ue.next(Kn);try{Ae.resolve(this.errorHandler(en))}catch(Oi){Ae.reject(Oi)}}return dt.E}))}))}resetRootComponentType(B){this.rootComponentType=B,this.routerState.root.component=this.rootComponentType}setTransition(B){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),B))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(B=>{const ue="popstate"===B.type?"popstate":"hashchange";"popstate"===ue&&setTimeout(()=>{var Ae;const Je={replaceUrl:!0},It=(null===(Ae=B.state)||void 0===Ae?void 0:Ae.navigationId)?B.state:null;if(It){const Kn=Object.assign({},It);delete Kn.navigationId,delete Kn.\u0275routerPageId,0!==Object.keys(Kn).length&&(Je.state=Kn)}const en=this.parseUrl(B.url);this.scheduleNavigation(en,ue,It,Je)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(B){this.events.next(B)}resetConfig(B){po(B),this.config=B.map(_o),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(B,ue={}){const{relativeTo:Ae,queryParams:Je,fragment:It,queryParamsHandling:en,preserveFragment:Kn}=ue,Oi=Ae||this.routerState.root,Mr=Kn?this.currentUrlTree.fragment:It;let $i=null;switch(en){case"merge":$i=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Je);break;case"preserve":$i=this.currentUrlTree.queryParams;break;default:$i=Je||null}return null!==$i&&($i=this.removeEmptyProps($i)),function zr(K,H,B,ue,Ae){if(0===B.length)return wo(H.root,H.root,H.root,ue,Ae);const Je=function Jr(K){if("string"==typeof K[0]&&1===K.length&&"/"===K[0])return new _s(!0,0,K);let H=0,B=!1;const ue=K.reduce((Ae,Je,It)=>{if("object"==typeof Je&&null!=Je){if(Je.outlets){const en={};return ei(Je.outlets,(Kn,Oi)=>{en[Oi]="string"==typeof Kn?Kn.split("/"):Kn}),[...Ae,{outlets:en}]}if(Je.segmentPath)return[...Ae,Je.segmentPath]}return"string"!=typeof Je?[...Ae,Je]:0===It?(Je.split("/").forEach((en,Kn)=>{0==Kn&&"."===en||(0==Kn&&""===en?B=!0:".."===en?H++:""!=en&&Ae.push(en))}),Ae):[...Ae,Je]},[]);return new _s(B,H,ue)}(B);if(Je.toRoot())return wo(H.root,H.root,new Me([],{}),ue,Ae);const It=function Vr(K,H,B){if(K.isAbsolute)return new js(H.root,!0,0);if(-1===B.snapshot._lastPathIndex){const Je=B.snapshot._urlSegment;return new js(Je,Je===H.root,0)}const ue=Fr(K.commands[0])?0:1;return function Ds(K,H,B){let ue=K,Ae=H,Je=B;for(;Je>Ae;){if(Je-=Ae,ue=ue.parent,!ue)throw new Error("Invalid number of '../'");Ae=ue.segments.length}return new js(ue,!1,Ae-Je)}(B.snapshot._urlSegment,B.snapshot._lastPathIndex+ue,K.numberOfDoubleDots)}(Je,H,K),en=It.processChildren?vs(It.segmentGroup,It.index,Je.commands):fo(It.segmentGroup,It.index,Je.commands);return wo(H.root,It.segmentGroup,en,ue,Ae)}(Oi,this.currentUrlTree,B,$i,null!=Mr?Mr:null)}navigateByUrl(B,ue={skipLocationChange:!1}){const Ae=Te(B)?B:this.parseUrl(B),Je=this.urlHandlingStrategy.merge(Ae,this.rawUrlTree);return this.scheduleNavigation(Je,"imperative",null,ue)}navigate(B,ue={skipLocationChange:!1}){return function Vo(K){for(let H=0;H<K.length;H++){const B=K[H];if(null==B)throw new Error(`The requested path contains ${B} segment at index ${H}`)}}(B),this.navigateByUrl(this.createUrlTree(B,ue),ue)}serializeUrl(B){return this.urlSerializer.serialize(B)}parseUrl(B){let ue;try{ue=this.urlSerializer.parse(B)}catch(Ae){ue=this.malformedUriErrorHandler(Ae,this.urlSerializer,B)}return ue}isActive(B,ue){let Ae;if(Ae=!0===ue?Object.assign({},Sr):!1===ue?Object.assign({},xo):ue,Te(B))return vt(this.currentUrlTree,B,Ae);const Je=this.parseUrl(B);return vt(this.currentUrlTree,Je,Ae)}removeEmptyProps(B){return Object.keys(B).reduce((ue,Ae)=>{const Je=B[Ae];return null!=Je&&(ue[Ae]=Je),ue},{})}processNavigations(){this.navigations.subscribe(B=>{this.navigated=!0,this.lastSuccessfulId=B.id,this.currentPageId=B.targetPageId,this.events.next(new qt(B.id,this.serializeUrl(B.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,B.resolve(!0)},B=>{this.console.warn(`Unhandled Navigation Error: ${B}`)})}scheduleNavigation(B,ue,Ae,Je,It){var en,Kn;if(this.disposed)return Promise.resolve(!1);let Oi,Mr,$i;It?(Oi=It.resolve,Mr=It.reject,$i=It.promise):$i=new Promise((Es,el)=>{Oi=Es,Mr=el});const Oo=++this.navigationId;let Qr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Ae=this.location.getState()),Qr=Ae&&Ae.\u0275routerPageId?Ae.\u0275routerPageId:Je.replaceUrl||Je.skipLocationChange?null!==(en=this.browserPageId)&&void 0!==en?en:0:(null!==(Kn=this.browserPageId)&&void 0!==Kn?Kn:0)+1):Qr=0,this.setTransition({id:Oo,targetPageId:Qr,source:ue,restoredState:Ae,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:B,extras:Je,resolve:Oi,reject:Mr,promise:$i,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$i.catch(Es=>Promise.reject(Es))}setBrowserUrl(B,ue){const Ae=this.urlSerializer.serialize(B),Je=Object.assign(Object.assign({},ue.extras.state),this.generateNgRouterState(ue.id,ue.targetPageId));this.location.isCurrentPathEqualTo(Ae)||ue.extras.replaceUrl?this.location.replaceState(Ae,"",Je):this.location.go(Ae,"",Je)}restoreHistory(B,ue=!1){var Ae,Je;if("computed"===this.canceledNavigationResolution){const It=this.currentPageId-B.targetPageId;"popstate"!==B.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(Ae=this.currentNavigation)||void 0===Ae?void 0:Ae.finalUrl)||0===It?this.currentUrlTree===(null===(Je=this.currentNavigation)||void 0===Je?void 0:Je.finalUrl)&&0===It&&(this.resetState(B),this.browserUrlTree=B.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(It)}else"replace"===this.canceledNavigationResolution&&(ue&&this.resetState(B),this.resetUrlToCurrentUrlTree())}resetState(B){this.routerState=B.currentRouterState,this.currentUrlTree=B.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,B.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(B,ue){const Ae=new Kt(B.id,this.serializeUrl(B.extractedUrl),ue);this.triggerEvent(Ae),B.resolve(!1)}generateNgRouterState(B,ue){return"computed"===this.canceledNavigationResolution?{navigationId:B,\u0275routerPageId:ue}:{navigationId:B}}}return K.\u0275fac=function(B){d.$Z()},K.\u0275prov=d.Yz7({token:K,factory:K.\u0275fac}),K})();function cs(K){return"imperative"!==K}let Pa=(()=>{class K{constructor(B,ue,Ae,Je,It){this.router=B,this.route=ue,this.tabIndexAttribute=Ae,this.renderer=Je,this.el=It,this.commands=null,this.onChanges=new it.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(B){if(null!=this.tabIndexAttribute)return;const ue=this.renderer,Ae=this.el.nativeElement;null!==B?ue.setAttribute(Ae,"tabindex",B):ue.removeAttribute(Ae,"tabindex")}ngOnChanges(B){this.onChanges.next(this)}set routerLink(B){null!=B?(this.commands=Array.isArray(B)?B:[B],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const B={skipLocationChange:eo(this.skipLocationChange),replaceUrl:eo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,B),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:eo(this.preserveFragment)})}}return K.\u0275fac=function(B){return new(B||K)(d.Y36(ro),d.Y36(hr),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq))},K.\u0275dir=d.lG2({type:K,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(B,ue){1&B&&d.NdJ("click",function(){return ue.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[d.TTD]}),K})(),Ho=(()=>{class K{constructor(B,ue,Ae){this.router=B,this.route=ue,this.locationStrategy=Ae,this.commands=null,this.href=null,this.onChanges=new it.x,this.subscription=B.events.subscribe(Je=>{Je instanceof qt&&this.updateTargetUrlAndHref()})}set routerLink(B){this.commands=null!=B?Array.isArray(B)?B:[B]:null}ngOnChanges(B){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(B,ue,Ae,Je,It){if(0!==B||ue||Ae||Je||It||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const en={skipLocationChange:eo(this.skipLocationChange),replaceUrl:eo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,en),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:eo(this.preserveFragment)})}}return K.\u0275fac=function(B){return new(B||K)(d.Y36(ro),d.Y36(hr),d.Y36(mn.S$))},K.\u0275dir=d.lG2({type:K,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(B,ue){1&B&&d.NdJ("click",function(Je){return ue.onClick(Je.button,Je.ctrlKey,Je.shiftKey,Je.altKey,Je.metaKey)}),2&B&&d.uIk("target",ue.target)("href",ue.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[d.TTD]}),K})();function eo(K){return""===K||!!K}let Xo=(()=>{class K{constructor(B,ue,Ae,Je,It,en){this.router=B,this.element=ue,this.renderer=Ae,this.cdr=Je,this.link=It,this.linkWithHref=en,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new d.vpe,this.routerEventsSubscription=B.events.subscribe(Kn=>{Kn instanceof qt&&this.update()})}ngAfterContentInit(){(0,Ve.of)(this.links.changes,this.linksWithHrefs.changes,(0,Ve.of)(null)).pipe((0,wn.J)()).subscribe(B=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var B;null===(B=this.linkInputChangesSubscription)||void 0===B||B.unsubscribe();const ue=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(Ae=>!!Ae).map(Ae=>Ae.onChanges);this.linkInputChangesSubscription=(0,ze.D)(ue).pipe((0,wn.J)()).subscribe(Ae=>{this.isActive!==this.isLinkActive(this.router)(Ae)&&this.update()})}set routerLinkActive(B){const ue=Array.isArray(B)?B:B.split(" ");this.classes=ue.filter(Ae=>!!Ae)}ngOnChanges(B){this.update()}ngOnDestroy(){var B;this.routerEventsSubscription.unsubscribe(),null===(B=this.linkInputChangesSubscription)||void 0===B||B.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const B=this.hasActiveLinks();this.isActive!==B&&(this.isActive=B,this.cdr.markForCheck(),this.classes.forEach(ue=>{B?this.renderer.addClass(this.element.nativeElement,ue):this.renderer.removeClass(this.element.nativeElement,ue)}),this.isActiveChange.emit(B))})}isLinkActive(B){const ue=function ea(K){return!!K.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Ae=>!!Ae.urlTree&&B.isActive(Ae.urlTree,ue)}hasActiveLinks(){const B=this.isLinkActive(this.router);return this.link&&B(this.link)||this.linkWithHref&&B(this.linkWithHref)||this.links.some(B)||this.linksWithHrefs.some(B)}}return K.\u0275fac=function(B){return new(B||K)(d.Y36(ro),d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(Pa,8),d.Y36(Ho,8))},K.\u0275dir=d.lG2({type:K,selectors:[["","routerLinkActive",""]],contentQueries:function(B,ue,Ae){if(1&B&&(d.Suo(Ae,Pa,5),d.Suo(Ae,Ho,5)),2&B){let Je;d.iGM(Je=d.CRH())&&(ue.links=Je),d.iGM(Je=d.CRH())&&(ue.linksWithHrefs=Je)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[d.TTD]}),K})();class Fi{}class Li{preload(H,B){return(0,Ve.of)(null)}}let Ji=(()=>{class K{constructor(B,ue,Ae,Je){this.router=B,this.injector=Ae,this.preloadingStrategy=Je,this.loader=new Xr(Ae,ue,Kn=>B.triggerEvent(new jn(Kn)),Kn=>B.triggerEvent(new wt(Kn)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Dt.h)(B=>B instanceof qt),(0,Ye.b)(()=>this.preload())).subscribe(()=>{})}preload(){const B=this.injector.get(d.h0i);return this.processRoutes(B,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(B,ue){const Ae=[];for(const Je of ue)if(Je.loadChildren&&!Je.canLoad&&Je._loadedConfig){const It=Je._loadedConfig;Ae.push(this.processRoutes(It.module,It.routes))}else Je.loadChildren&&!Je.canLoad?Ae.push(this.preloadConfig(B,Je)):Je.children&&Ae.push(this.processRoutes(B,Je.children));return(0,ze.D)(Ae).pipe((0,wn.J)(),(0,Qe.U)(Je=>{}))}preloadConfig(B,ue){return this.preloadingStrategy.preload(ue,()=>(ue._loadedConfig?(0,Ve.of)(ue._loadedConfig):this.loader.load(B.injector,ue)).pipe((0,st.z)(Je=>(ue._loadedConfig=Je,this.processRoutes(Je.module,Je.routes)))))}}return K.\u0275fac=function(B){return new(B||K)(d.LFG(ro),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(Fi))},K.\u0275prov=d.Yz7({token:K,factory:K.\u0275fac}),K})(),D=(()=>{class K{constructor(B,ue,Ae={}){this.router=B,this.viewportScroller=ue,this.options=Ae,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ae.scrollPositionRestoration=Ae.scrollPositionRestoration||"disabled",Ae.anchorScrolling=Ae.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(B=>{B instanceof zt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=B.navigationTrigger,this.restoredId=B.restoredState?B.restoredState.navigationId:0):B instanceof qt&&(this.lastId=B.id,this.scheduleScrollEvent(B,this.router.parseUrl(B.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(B=>{B instanceof Qn&&(B.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(B.position):B.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(B.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(B,ue){this.router.triggerEvent(new Qn(B,"popstate"===this.lastSource?this.store[this.restoredId]:null,ue))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return K.\u0275fac=function(B){d.$Z()},K.\u0275prov=d.Yz7({token:K,factory:K.\u0275fac}),K})();const we=new d.OlP("ROUTER_CONFIGURATION"),et=new d.OlP("ROUTER_FORROOT_GUARD"),kt=[mn.Ye,{provide:Sn,useClass:bi},{provide:ro,useFactory:function Mo(K,H,B,ue,Ae,Je,It={},en,Kn){const Oi=new ro(null,K,H,B,ue,Ae,On(Je));return en&&(Oi.urlHandlingStrategy=en),Kn&&(Oi.routeReuseStrategy=Kn),function xs(K,H){K.errorHandler&&(H.errorHandler=K.errorHandler),K.malformedUriErrorHandler&&(H.malformedUriErrorHandler=K.malformedUriErrorHandler),K.onSameUrlNavigation&&(H.onSameUrlNavigation=K.onSameUrlNavigation),K.paramsInheritanceStrategy&&(H.paramsInheritanceStrategy=K.paramsInheritanceStrategy),K.relativeLinkResolution&&(H.relativeLinkResolution=K.relativeLinkResolution),K.urlUpdateStrategy&&(H.urlUpdateStrategy=K.urlUpdateStrategy),K.canceledNavigationResolution&&(H.canceledNavigationResolution=K.canceledNavigationResolution)}(It,Oi),It.enableTracing&&Oi.events.subscribe(Mr=>{var $i,Oo;null===($i=console.group)||void 0===$i||$i.call(console,`Router Event: ${Mr.constructor.name}`),console.log(Mr.toString()),console.log(Mr),null===(Oo=console.groupEnd)||void 0===Oo||Oo.call(console)}),Oi},deps:[Sn,fi,mn.Ye,d.zs3,d.Sil,Gi,we,[class io{},new d.FiY],[class cr{},new d.FiY]]},fi,{provide:hr,useFactory:function Zs(K){return K.routerState.root},deps:[ro]},Ji,Li,class nr{preload(H,B){return B().pipe((0,Ee.K)(()=>(0,Ve.of)(null)))}},{provide:we,useValue:{enableTracing:!1}}];function Cn(){return new d.PXZ("Router",ro)}let ai=(()=>{class K{constructor(B,ue){}static forRoot(B,ue){return{ngModule:K,providers:[kt,co(B),{provide:et,useFactory:Br,deps:[[ro,new d.FiY,new d.tp0]]},{provide:we,useValue:ue||{}},{provide:mn.S$,useFactory:Cr,deps:[mn.lw,[new d.tBr(mn.mr),new d.FiY],we]},{provide:D,useFactory:Ri,deps:[ro,mn.EM,we]},{provide:Fi,useExisting:ue&&ue.preloadingStrategy?ue.preloadingStrategy:Li},{provide:d.PXZ,multi:!0,useFactory:Cn},[Rs,{provide:d.ip1,multi:!0,useFactory:Ca,deps:[Rs]},{provide:jo,useFactory:Da,deps:[Rs]},{provide:d.tb,multi:!0,useExisting:jo}]]}}static forChild(B){return{ngModule:K,providers:[co(B)]}}}return K.\u0275fac=function(B){return new(B||K)(d.LFG(et,8),d.LFG(ro,8))},K.\u0275mod=d.oAB({type:K}),K.\u0275inj=d.cJS({}),K})();function Ri(K,H,B){return B.scrollOffset&&H.setOffset(B.scrollOffset),new D(K,H,B)}function Cr(K,H,B={}){return B.useHash?new mn.Do(K,H):new mn.b0(K,H)}function Br(K){return"guarded"}function co(K){return[{provide:d.deG,multi:!0,useValue:K},{provide:Gi,multi:!0,useValue:K}]}let Rs=(()=>{class K{constructor(B){this.injector=B,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new it.x}appInitializer(){return this.injector.get(mn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let ue=null;const Ae=new Promise(en=>ue=en),Je=this.injector.get(ro),It=this.injector.get(we);return"disabled"===It.initialNavigation?(Je.setUpLocationChangeListener(),ue(!0)):"enabled"===It.initialNavigation||"enabledBlocking"===It.initialNavigation?(Je.hooks.afterPreactivation=()=>this.initNavigation?(0,Ve.of)(null):(this.initNavigation=!0,ue(!0),this.resultOfPreactivationDone),Je.initialNavigation()):ue(!0),Ae})}bootstrapListener(B){const ue=this.injector.get(we),Ae=this.injector.get(Ji),Je=this.injector.get(D),It=this.injector.get(ro),en=this.injector.get(d.z2F);B===en.components[0]&&(("enabledNonBlocking"===ue.initialNavigation||void 0===ue.initialNavigation)&&It.initialNavigation(),Ae.setUpPreloading(),Je.init(),It.resetRootComponentType(en.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return K.\u0275fac=function(B){return new(B||K)(d.LFG(d.zs3))},K.\u0275prov=d.Yz7({token:K,factory:K.\u0275fac}),K})();function Ca(K){return K.appInitializer.bind(K)}function Da(K){return K.bootstrapListener.bind(K)}const jo=new d.OlP("Router Initializer")},9182:(Xn,Vt,A)=>{"use strict";A.d(Vt,{IJ:()=>ku,M2:()=>jl});var d=A(5e3),_=A(9808),e=A(8306),ee=A(8421);const{isArray:W}=Array;function xe(i){return 1===i.length&&W(i[0])?i[0]:i}var pe=A(5403);var Q=A(5032);new e.y(Q.Z);var at=A(515),ke=A(3269);function Ke(...i){const a=(0,ke.jO)(i),r=xe(i);return r.length?new e.y(h=>{let y=r.map(()=>[]),M=r.map(()=>!1);h.add(()=>{y=M=null});for(let V=0;!h.closed&&V<r.length;V++)(0,ee.Xf)(r[V]).subscribe((0,pe.x)(h,ge=>{if(y[V].push(ge),y.every(be=>be.length)){const be=y.map(Ue=>Ue.shift());h.next(a?a(...be):be),y.some((Ue,rt)=>!Ue.length&&M[rt])&&h.complete()}},()=>{M[V]=!0,!y[V].length&&h.complete()}));return()=>{y=M=null}}):at.E}var dt=A(9646),it=A(7579),Dt=A(4968),Tt=A(5963),Pe=(A(1135),A(9841),A(7272)),Qe=A(4482),Mt=A(4671);function bt(...i){const a=(0,ke.jO)(i);return(0,Qe.e)((r,h)=>{const y=i.length,M=new Array(y);let V=i.map(()=>!1),ge=!1;for(let be=0;be<y;be++)(0,ee.Xf)(i[be]).subscribe((0,pe.x)(h,Ue=>{M[be]=Ue,!ge&&!V[be]&&(V[be]=!0,(ge=V.every(Mt.y))&&(V=null))},Q.Z));r.subscribe((0,pe.x)(h,be=>{if(ge){const Ue=[be,...M];h.next(a?a(...Ue):Ue)}}))})}var tt=A(2722),Ze=A(9300),Ee=A(5698),Ye=A(4004),sn=(A(8675),A(1884),A(3900)),fn=A(8505),bn=(A(1005),A(5684),A(3075));Math,Math,Math;const ii=["*"],re=["dialog"];function Ri(i){return null!=i}function Zs(i){return(i||document.body).getBoundingClientRect()}const jo={animation:!0,transitionTimerDelayMs:5},So=()=>{},{transitionTimerDelayMs:Xa}=jo,K=new Map,H=(i,a,r,h)=>{let y=h.context||{};const M=K.get(a);if(M)switch(h.runningTransition){case"continue":return at.E;case"stop":i.run(()=>M.transition$.complete()),y=Object.assign(M.context,y),K.delete(a)}const V=r(a,h.animation,y)||So;if(!h.animation||"none"===window.getComputedStyle(a).transitionProperty)return i.run(()=>V()),(0,dt.of)(void 0).pipe(function Rs(i){return a=>new e.y(r=>a.subscribe({next:V=>i.run(()=>r.next(V)),error:V=>i.run(()=>r.error(V)),complete:()=>i.run(()=>r.complete())}))}(i));const ge=new it.x,be=new it.x,Ue=ge.pipe(function te(...i){return a=>(0,Pe.z)(a,(0,dt.of)(...i))}(!0));K.set(a,{transition$:ge,complete:()=>{be.next(),be.complete()},context:y});const rt=function Da(i){const{transitionDelay:a,transitionDuration:r}=window.getComputedStyle(i);return 1e3*(parseFloat(a)+parseFloat(r))}(a);return i.runOutsideAngular(()=>{const tn=(0,Dt.R)(a,"transitionend").pipe((0,tt.R)(Ue),(0,Ze.h)(({target:Rn})=>Rn===a));(function ze(...i){return 1===(i=xe(i)).length?(0,ee.Xf)(i[0]):new e.y(function Ve(i){return a=>{let r=[];for(let h=0;r&&!a.closed&&h<i.length;h++)r.push((0,ee.Xf)(i[h]).subscribe((0,pe.x)(a,y=>{if(r){for(let M=0;M<r.length;M++)M!==h&&r[M].unsubscribe();r=null}a.next(y)})))}}(i))})((0,Tt.H)(rt+Xa).pipe((0,tt.R)(Ue)),tn,be).pipe((0,tt.R)(Ue)).subscribe(()=>{K.delete(a),i.run(()=>{V(),ge.next(),ge.complete()})})}),ge.asObservable()};let Je=(()=>{class i{constructor(){this.animation=jo.animation}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),xl=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[_.ez]]}),i})(),Ml=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[_.ez]]}),i})(),nl=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})(),Lu=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[_.ez]]}),i})(),Uc=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();var es=(()=>{return(i=es||(es={}))[i.Tab=9]="Tab",i[i.Enter=13]="Enter",i[i.Escape=27]="Escape",i[i.Space=32]="Space",i[i.PageUp=33]="PageUp",i[i.PageDown=34]="PageDown",i[i.End=35]="End",i[i.Home=36]="Home",i[i.ArrowLeft=37]="ArrowLeft",i[i.ArrowUp=38]="ArrowUp",i[i.ArrowRight=39]="ArrowRight",i[i.ArrowDown=40]="ArrowDown",es;var i})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Ko=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function wc(i){const a=Array.from(i.querySelectorAll(Ko)).filter(r=>-1!==r.tabIndex);return[a[0],a[a.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let cc=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[_.ez,bn.u5]]}),i})(),jl=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=d.lG2({type:i,selectors:[["",8,"navbar"]]}),i})(),ba=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();class Oa{constructor(a,r,h){this.nodes=a,this.viewRef=r,this.componentRef=h}}let Gl=(()=>{class i{constructor(r,h){this._el=r,this._zone=h}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Ee.q)(1)).subscribe(()=>{H(this._zone,this._el.nativeElement,(r,h)=>{h&&Zs(r),r.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return H(this._zone,this._el.nativeElement,({classList:r})=>r.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return i.\u0275fac=function(r){return new(r||i)(d.Y36(d.SBq),d.Y36(d.R0b))},i.\u0275cmp=d.Xpm({type:i,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,h){2&r&&(d.Tol("modal-backdrop"+(h.backdropClass?" "+h.backdropClass:"")),d.ekj("show",!h.animation)("fade",h.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(r,h){},encapsulation:2}),i})();class da{close(a){}dismiss(a){}}class Ar{constructor(a,r,h,y){this._windowCmptRef=a,this._contentRef=r,this._backdropCmptRef=h,this._beforeDismiss=y,this._closed=new it.x,this._dismissed=new it.x,this._hidden=new it.x,a.instance.dismissEvent.subscribe(M=>{this.dismiss(M)}),this.result=new Promise((M,V)=>{this._resolve=M,this._reject=V}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,tt.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,tt.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(a){this._windowCmptRef&&(this._closed.next(a),this._resolve(a),this._removeModalElements())}_dismiss(a){this._dismissed.next(a),this._reject(a),this._removeModalElements()}dismiss(a){if(this._windowCmptRef)if(this._beforeDismiss){const r=this._beforeDismiss();!function Cr(i){return i&&i.then}(r)?!1!==r&&this._dismiss(a):r.then(h=>{!1!==h&&this._dismiss(a)},()=>{})}else this._dismiss(a)}_removeModalElements(){const a=this._windowCmptRef.instance.hide(),r=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,dt.of)(void 0);a.subscribe(()=>{const{nativeElement:h}=this._windowCmptRef.location;h.parentNode.removeChild(h),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),r.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:h}=this._backdropCmptRef.location;h.parentNode.removeChild(h),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ke(a,r).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Js=(()=>{return(i=Js||(Js={}))[i.BACKDROP_CLICK=0]="BACKDROP_CLICK",i[i.ESC=1]="ESC",Js;var i})();let kc=(()=>{class i{constructor(r,h,y){this._document=r,this._elRef=h,this._zone=y,this._closed$=new it.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new d.vpe,this.shown=new it.x,this.hidden=new it.x}dismiss(r){this.dismissEvent.emit(r)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Ee.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:r}=this._elRef,h={animation:this.animation,runningTransition:"stop"},V=Ke(H(this._zone,r,()=>r.classList.remove("show"),h),H(this._zone,this._dialogEl.nativeElement,()=>{},h));return V.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),V}_show(){const r={animation:this.animation,runningTransition:"continue"};Ke(H(this._zone,this._elRef.nativeElement,(M,V)=>{V&&Zs(M),M.classList.add("show")},r),H(this._zone,this._dialogEl.nativeElement,()=>{},r)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:r}=this._elRef;this._zone.runOutsideAngular(()=>{(0,Dt.R)(r,"keydown").pipe((0,tt.R)(this._closed$),(0,Ze.h)(y=>y.which===es.Escape)).subscribe(y=>{this.keyboard?requestAnimationFrame(()=>{y.defaultPrevented||this._zone.run(()=>this.dismiss(Js.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let h=!1;(0,Dt.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,tt.R)(this._closed$),(0,fn.b)(()=>h=!1),(0,sn.w)(()=>(0,Dt.R)(r,"mouseup").pipe((0,tt.R)(this._closed$),(0,Ee.q)(1))),(0,Ze.h)(({target:y})=>r===y)).subscribe(()=>{h=!0}),(0,Dt.R)(r,"click").pipe((0,tt.R)(this._closed$)).subscribe(({target:y})=>{r===y&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!h&&this._zone.run(()=>this.dismiss(Js.BACKDROP_CLICK))),h=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:r}=this._elRef;if(!r.contains(document.activeElement)){const h=r.querySelector("[ngbAutofocus]"),y=wc(r)[0];(h||y||r).focus()}}_restoreFocus(){const r=this._document.body,h=this._elWithFocus;let y;y=h&&h.focus&&r.contains(h)?h:r,this._zone.runOutsideAngular(()=>{setTimeout(()=>y.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&H(this._zone,this._elRef.nativeElement,({classList:r})=>(r.add("modal-static"),()=>r.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return i.\u0275fac=function(r){return new(r||i)(d.Y36(_.K0),d.Y36(d.SBq),d.Y36(d.R0b))},i.\u0275cmp=d.Xpm({type:i,selectors:[["ngb-modal-window"]],viewQuery:function(r,h){if(1&r&&d.Gf(re,7),2&r){let y;d.iGM(y=d.CRH())&&(h._dialogEl=y.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,h){2&r&&(d.uIk("aria-modal",!0)("aria-labelledby",h.ariaLabelledBy)("aria-describedby",h.ariaDescribedBy),d.Tol("modal d-block"+(h.windowClass?" "+h.windowClass:"")),d.ekj("fade",h.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:ii,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,h){1&r&&(d.F$t(),d.TgZ(0,"div",0,1)(2,"div",2),d.Hsn(3),d.qZA()()),2&r&&d.Tol("modal-dialog"+(h.size?" modal-"+h.size:"")+(h.centered?" modal-dialog-centered":"")+(h.scrollable?" modal-dialog-scrollable":"")+(h.modalDialogClass?" "+h.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),i})(),uc=(()=>{class i{constructor(r){this._document=r}hide(){const r=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),h=this._document.body,y=h.style,{overflow:M,paddingRight:V}=y;if(r>0){const ge=parseFloat(window.getComputedStyle(h).paddingRight);y.paddingRight=`${ge+r}px`}return y.overflow="hidden",()=>{r>0&&(y.paddingRight=V),y.overflow=M}}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(_.K0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),so=(()=>{class i{constructor(r,h,y,M,V,ge){this._applicationRef=r,this._injector=h,this._document=y,this._scrollBar=M,this._rendererFactory=V,this._ngZone=ge,this._activeWindowCmptHasChanged=new it.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new d.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const be=this._windowCmpts[this._windowCmpts.length-1];((i,a,r,h=!1)=>{this._ngZone.runOutsideAngular(()=>{const y=(0,Dt.R)(a,"focusin").pipe((0,tt.R)(r),(0,Ye.U)(M=>M.target));(0,Dt.R)(a,"keydown").pipe((0,tt.R)(r),(0,Ze.h)(M=>M.which===es.Tab),bt(y)).subscribe(([M,V])=>{const[ge,be]=wc(a);(V===ge||V===a)&&M.shiftKey&&(be.focus(),M.preventDefault()),V===be&&!M.shiftKey&&(ge.focus(),M.preventDefault())}),h&&(0,Dt.R)(a,"click").pipe((0,tt.R)(r),bt(y),(0,Ye.U)(M=>M[1])).subscribe(M=>M.focus())})})(0,be.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(be.location.nativeElement)}})}_restoreScrollBar(){const r=this._scrollBarRestoreFn;r&&(this._scrollBarRestoreFn=null,r())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(r,h,y,M){const V=M.container instanceof HTMLElement?M.container:Ri(M.container)?this._document.querySelector(M.container):this._document.body,ge=this._rendererFactory.createRenderer(null,null);if(!V)throw new Error(`The specified modal container "${M.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const be=new da,Ue=this._getContentRef(r,M.injector||h,y,be,M);let rt=!1!==M.backdrop?this._attachBackdrop(r,V):void 0,tn=this._attachWindowComponent(r,V,Ue),dn=new Ar(tn,Ue,rt,M.beforeDismiss);return this._registerModalRef(dn),this._registerWindowCmpt(tn),dn.hidden.pipe((0,Ee.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(ge.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),be.close=Rn=>{dn.close(Rn)},be.dismiss=Rn=>{dn.dismiss(Rn)},this._applyWindowOptions(tn.instance,M),1===this._modalRefs.length&&ge.addClass(this._document.body,"modal-open"),rt&&rt.instance&&(this._applyBackdropOptions(rt.instance,M),rt.changeDetectorRef.detectChanges()),tn.changeDetectorRef.detectChanges(),dn}get activeInstances(){return this._activeInstances}dismissAll(r){this._modalRefs.forEach(h=>h.dismiss(r))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(r,h){let M=r.resolveComponentFactory(Gl).create(this._injector);return this._applicationRef.attachView(M.hostView),h.appendChild(M.location.nativeElement),M}_attachWindowComponent(r,h,y){let V=r.resolveComponentFactory(kc).create(this._injector,y.nodes);return this._applicationRef.attachView(V.hostView),h.appendChild(V.location.nativeElement),V}_applyWindowOptions(r,h){this._windowAttributes.forEach(y=>{Ri(h[y])&&(r[y]=h[y])})}_applyBackdropOptions(r,h){this._backdropAttributes.forEach(y=>{Ri(h[y])&&(r[y]=h[y])})}_getContentRef(r,h,y,M,V){return y?y instanceof d.Rgc?this._createFromTemplateRef(y,M):function kt(i){return"string"==typeof i}(y)?this._createFromString(y):this._createFromComponent(r,h,y,M,V):new Oa([])}_createFromTemplateRef(r,h){const M=r.createEmbeddedView({$implicit:h,close(V){h.close(V)},dismiss(V){h.dismiss(V)}});return this._applicationRef.attachView(M),new Oa([M.rootNodes],M)}_createFromString(r){const h=this._document.createTextNode(`${r}`);return new Oa([[h]])}_createFromComponent(r,h,y,M,V){const ge=r.resolveComponentFactory(y),be=d.zs3.create({providers:[{provide:da,useValue:M}],parent:h}),Ue=ge.create(be),rt=Ue.location.nativeElement;return V.scrollable&&rt.classList.add("component-host-scrollable"),this._applicationRef.attachView(Ue.hostView),new Oa([[rt]],Ue.hostView,Ue)}_setAriaHidden(r){const h=r.parentElement;h&&r!==this._document.body&&(Array.from(h.children).forEach(y=>{y!==r&&"SCRIPT"!==y.nodeName&&(this._ariaHiddenValues.set(y,y.getAttribute("aria-hidden")),y.setAttribute("aria-hidden","true"))}),this._setAriaHidden(h))}_revertAriaHidden(){this._ariaHiddenValues.forEach((r,h)=>{r?h.setAttribute("aria-hidden",r):h.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(r){const h=()=>{const y=this._modalRefs.indexOf(r);y>-1&&(this._modalRefs.splice(y,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(r),this._activeInstances.emit(this._modalRefs),r.result.then(h,h)}_registerWindowCmpt(r){this._windowCmpts.push(r),this._activeWindowCmptHasChanged.next(),r.onDestroy(()=>{const h=this._windowCmpts.indexOf(r);h>-1&&(this._windowCmpts.splice(h,1),this._activeWindowCmptHasChanged.next())})}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(d.z2F),d.LFG(d.zs3),d.LFG(_.K0),d.LFG(uc),d.LFG(d.FYo),d.LFG(d.R0b))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),bs=(()=>{class i{constructor(r){this._ngbConfig=r,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(r){this._animation=r}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(Je))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),qa=(()=>{class i{constructor(r,h,y,M){this._moduleCFR=r,this._injector=h,this._modalStack=y,this._config=M}open(r,h={}){const y=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),h);return this._modalStack.open(this._moduleCFR,this._injector,r,y)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(r){this._modalStack.dismissAll(r)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(d._Vd),d.LFG(d.zs3),d.LFG(so),d.LFG(bs))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),au=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[qa]}),i})(),Wi=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[_.ez]]}),i})(),as=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[_.ez]]}),i})(),wa=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[_.ez]]}),i})(),Mu=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[_.ez]]}),i})(),du=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[_.ez]]}),i})(),fu=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[_.ez]]}),i})(),pu=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[_.ez]]}),i})(),gu=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();new d.OlP("live announcer delay",{providedIn:"root",factory:function Yl(){return 100}});let _u=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[_.ez]]}),i})();const Ou=[xl,Ml,nl,Lu,Uc,cc,ba,au,Wi,as,wa,Mu,du,fu,pu,gu,_u];let ku=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[Ou,xl,Ml,nl,Lu,Uc,cc,ba,au,Wi,as,wa,Mu,du,fu,pu,gu,_u]}),i})()}},Xn=>{Xn(Xn.s=3490)}]);